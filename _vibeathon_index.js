function Gle(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var nr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Qh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Pz={exports:{}},I6={},Rz={exports:{}},Ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B2=Symbol.for("react.element"),Kle=Symbol.for("react.portal"),Yle=Symbol.for("react.fragment"),Zle=Symbol.for("react.strict_mode"),Jle=Symbol.for("react.profiler"),Qle=Symbol.for("react.provider"),Xle=Symbol.for("react.context"),ece=Symbol.for("react.forward_ref"),tce=Symbol.for("react.suspense"),rce=Symbol.for("react.memo"),nce=Symbol.for("react.lazy"),AP=Symbol.iterator;function ice(t){return t===null||typeof t!="object"?null:(t=AP&&t[AP]||t["@@iterator"],typeof t=="function"?t:null)}var Oz={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jz=Object.assign,Mz={};function F1(t,e,r){this.props=t,this.context=e,this.refs=Mz,this.updater=r||Oz}F1.prototype.isReactComponent={};F1.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};F1.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Dz(){}Dz.prototype=F1.prototype;function H$(t,e,r){this.props=t,this.context=e,this.refs=Mz,this.updater=r||Oz}var q$=H$.prototype=new Dz;q$.constructor=H$;jz(q$,F1.prototype);q$.isPureReactComponent=!0;var SP=Array.isArray,Lz=Object.prototype.hasOwnProperty,V$={current:null},Fz={key:!0,ref:!0,__self:!0,__source:!0};function Bz(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Lz.call(e,n)&&!Fz.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:B2,type:t,key:s,ref:o,props:i,_owner:V$.current}}function sce(t,e){return{$$typeof:B2,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function G$(t){return typeof t=="object"&&t!==null&&t.$$typeof===B2}function oce(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var $P=/\/+/g;function $x(t,e){return typeof t=="object"&&t!==null&&t.key!=null?oce(""+t.key):e.toString(36)}function Nv(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case B2:case Kle:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+$x(o,0):n,SP(i)?(r="",t!=null&&(r=t.replace($P,"$&/")+"/"),Nv(i,e,r,"",function(c){return c})):i!=null&&(G$(i)&&(i=sce(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace($P,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",SP(t))for(var a=0;a<t.length;a++){s=t[a];var l=n+$x(s,a);o+=Nv(s,e,r,l,i)}else if(l=ice(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=n+$x(s,a++),o+=Nv(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ab(t,e,r){if(t==null)return t;var n=[],i=0;return Nv(t,n,"","",function(s){return e.call(r,s,i++)}),n}function ace(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var gs={current:null},Pv={transition:null},lce={ReactCurrentDispatcher:gs,ReactCurrentBatchConfig:Pv,ReactCurrentOwner:V$};function Uz(){throw Error("act(...) is not supported in production builds of React.")}Ht.Children={map:ab,forEach:function(t,e,r){ab(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ab(t,function(){e++}),e},toArray:function(t){return ab(t,function(e){return e})||[]},only:function(t){if(!G$(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ht.Component=F1;Ht.Fragment=Yle;Ht.Profiler=Jle;Ht.PureComponent=H$;Ht.StrictMode=Zle;Ht.Suspense=tce;Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lce;Ht.act=Uz;Ht.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=jz({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=V$.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Lz.call(e,l)&&!Fz.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:B2,type:t.type,key:i,ref:s,props:n,_owner:o}};Ht.createContext=function(t){return t={$$typeof:Xle,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Qle,_context:t},t.Consumer=t};Ht.createElement=Bz;Ht.createFactory=function(t){var e=Bz.bind(null,t);return e.type=t,e};Ht.createRef=function(){return{current:null}};Ht.forwardRef=function(t){return{$$typeof:ece,render:t}};Ht.isValidElement=G$;Ht.lazy=function(t){return{$$typeof:nce,_payload:{_status:-1,_result:t},_init:ace}};Ht.memo=function(t,e){return{$$typeof:rce,type:t,compare:e===void 0?null:e}};Ht.startTransition=function(t){var e=Pv.transition;Pv.transition={};try{t()}finally{Pv.transition=e}};Ht.unstable_act=Uz;Ht.useCallback=function(t,e){return gs.current.useCallback(t,e)};Ht.useContext=function(t){return gs.current.useContext(t)};Ht.useDebugValue=function(){};Ht.useDeferredValue=function(t){return gs.current.useDeferredValue(t)};Ht.useEffect=function(t,e){return gs.current.useEffect(t,e)};Ht.useId=function(){return gs.current.useId()};Ht.useImperativeHandle=function(t,e,r){return gs.current.useImperativeHandle(t,e,r)};Ht.useInsertionEffect=function(t,e){return gs.current.useInsertionEffect(t,e)};Ht.useLayoutEffect=function(t,e){return gs.current.useLayoutEffect(t,e)};Ht.useMemo=function(t,e){return gs.current.useMemo(t,e)};Ht.useReducer=function(t,e,r){return gs.current.useReducer(t,e,r)};Ht.useRef=function(t){return gs.current.useRef(t)};Ht.useState=function(t){return gs.current.useState(t)};Ht.useSyncExternalStore=function(t,e,r){return gs.current.useSyncExternalStore(t,e,r)};Ht.useTransition=function(){return gs.current.useTransition()};Ht.version="18.3.1";Rz.exports=Ht;var C=Rz.exports;const Je=wc(C),A_=Gle({__proto__:null,default:Je},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cce=C,uce=Symbol.for("react.element"),dce=Symbol.for("react.fragment"),fce=Object.prototype.hasOwnProperty,hce=cce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pce={key:!0,ref:!0,__self:!0,__source:!0};function Wz(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)fce.call(e,n)&&!pce.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:uce,type:t,key:s,ref:o,props:i,_owner:hce.current}}I6.Fragment=dce;I6.jsx=Wz;I6.jsxs=Wz;Pz.exports=I6;var d=Pz.exports,zz={exports:{}},To={},Hz={exports:{}},qz={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,N){var M=I.length;I.push(N);e:for(;0<M;){var U=M-1>>>1,S=I[U];if(0<i(S,N))I[U]=N,I[M]=S,M=U;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var N=I[0],M=I.pop();if(M!==N){I[0]=M;e:for(var U=0,S=I.length,F=S>>>1;U<F;){var Q=2*(U+1)-1,k=I[Q],W=Q+1,V=I[W];if(0>i(k,M))W<S&&0>i(V,k)?(I[U]=V,I[W]=M,U=W):(I[U]=k,I[Q]=M,U=Q);else if(W<S&&0>i(V,M))I[U]=V,I[W]=M,U=W;else break e}}return N}function i(I,N){var M=I.sortIndex-N.sortIndex;return M!==0?M:I.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,h=3,p=!1,g=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(I){for(var N=r(c);N!==null;){if(N.callback===null)n(c);else if(N.startTime<=I)n(c),N.sortIndex=N.expirationTime,e(l,N);else break;N=r(c)}}function b(I){if(m=!1,v(I),!g)if(r(l)!==null)g=!0,A($);else{var N=r(c);N!==null&&T(b,N.startTime-I)}}function $(I,N){g=!1,m&&(m=!1,y(D),D=-1),p=!0;var M=h;try{for(v(N),f=r(l);f!==null&&(!(f.expirationTime>N)||I&&!q());){var U=f.callback;if(typeof U=="function"){f.callback=null,h=f.priorityLevel;var S=U(f.expirationTime<=N);N=t.unstable_now(),typeof S=="function"?f.callback=S:f===r(l)&&n(l),v(N)}else n(l);f=r(l)}if(f!==null)var F=!0;else{var Q=r(c);Q!==null&&T(b,Q.startTime-N),F=!1}return F}finally{f=null,h=M,p=!1}}var P=!1,O=null,D=-1,B=5,H=-1;function q(){return!(t.unstable_now()-H<B)}function Y(){if(O!==null){var I=t.unstable_now();H=I;var N=!0;try{N=O(!0,I)}finally{N?R():(P=!1,O=null)}}else P=!1}var R;if(typeof E=="function")R=function(){E(Y)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,x=_.port2;_.port1.onmessage=Y,R=function(){x.postMessage(null)}}else R=function(){w(Y,0)};function A(I){O=I,P||(P=!0,R())}function T(I,N){D=w(function(){I(t.unstable_now())},N)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,A($))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(I){switch(h){case 1:case 2:case 3:var N=3;break;default:N=h}var M=h;h=N;try{return I()}finally{h=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,N){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var M=h;h=I;try{return N()}finally{h=M}},t.unstable_scheduleCallback=function(I,N,M){var U=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?U+M:U):M=U,I){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=M+S,I={id:u++,callback:N,priorityLevel:I,startTime:M,expirationTime:S,sortIndex:-1},M>U?(I.sortIndex=M,e(c,I),r(l)===null&&I===r(c)&&(m?(y(D),D=-1):m=!0,T(b,M-U))):(I.sortIndex=S,e(l,I),g||p||(g=!0,A($))),I},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(I){var N=h;return function(){var M=h;h=N;try{return I.apply(this,arguments)}finally{h=M}}}})(qz);Hz.exports=qz;var gce=Hz.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mce=C,Ao=gce;function Le(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vz=new Set,oy={};function Xh(t,e){Q0(t,e),Q0(t+"Capture",e)}function Q0(t,e){for(oy[t]=e,t=0;t<e.length;t++)Vz.add(e[t])}var vu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),S_=Object.prototype.hasOwnProperty,yce=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,IP={},kP={};function wce(t){return S_.call(kP,t)?!0:S_.call(IP,t)?!1:yce.test(t)?kP[t]=!0:(IP[t]=!0,!1)}function bce(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function vce(t,e,r,n){if(e===null||typeof e>"u"||bce(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ms(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ei={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ei[t]=new ms(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ei[e]=new ms(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ei[t]=new ms(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ei[t]=new ms(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ei[t]=new ms(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ei[t]=new ms(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ei[t]=new ms(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ei[t]=new ms(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ei[t]=new ms(t,5,!1,t.toLowerCase(),null,!1,!1)});var K$=/[\-:]([a-z])/g;function Y$(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(K$,Y$);Ei[e]=new ms(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(K$,Y$);Ei[e]=new ms(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(K$,Y$);Ei[e]=new ms(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ei[t]=new ms(t,1,!1,t.toLowerCase(),null,!1,!1)});Ei.xlinkHref=new ms("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ei[t]=new ms(t,1,!1,t.toLowerCase(),null,!0,!0)});function Z$(t,e,r,n){var i=Ei.hasOwnProperty(e)?Ei[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vce(e,r,i,n)&&(r=null),n||i===null?wce(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Wu=mce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lb=Symbol.for("react.element"),Zp=Symbol.for("react.portal"),Jp=Symbol.for("react.fragment"),J$=Symbol.for("react.strict_mode"),$_=Symbol.for("react.profiler"),Gz=Symbol.for("react.provider"),Kz=Symbol.for("react.context"),Q$=Symbol.for("react.forward_ref"),I_=Symbol.for("react.suspense"),k_=Symbol.for("react.suspense_list"),X$=Symbol.for("react.memo"),yd=Symbol.for("react.lazy"),Yz=Symbol.for("react.offscreen"),TP=Symbol.iterator;function $g(t){return t===null||typeof t!="object"?null:(t=TP&&t[TP]||t["@@iterator"],typeof t=="function"?t:null)}var sn=Object.assign,Ix;function dm(t){if(Ix===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Ix=e&&e[1]||""}return`
`+Ix+t}var kx=!1;function Tx(t,e){if(!t||kx)return"";kx=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{kx=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?dm(t):""}function xce(t){switch(t.tag){case 5:return dm(t.type);case 16:return dm("Lazy");case 13:return dm("Suspense");case 19:return dm("SuspenseList");case 0:case 2:case 15:return t=Tx(t.type,!1),t;case 11:return t=Tx(t.type.render,!1),t;case 1:return t=Tx(t.type,!0),t;default:return""}}function T_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Jp:return"Fragment";case Zp:return"Portal";case $_:return"Profiler";case J$:return"StrictMode";case I_:return"Suspense";case k_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Kz:return(t.displayName||"Context")+".Consumer";case Gz:return(t._context.displayName||"Context")+".Provider";case Q$:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case X$:return e=t.displayName||null,e!==null?e:T_(t.type)||"Memo";case yd:e=t._payload,t=t._init;try{return T_(t(e))}catch{}}return null}function Ece(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return T_(e);case 8:return e===J$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Jd(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Zz(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _ce(t){var e=Zz(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function cb(t){t._valueTracker||(t._valueTracker=_ce(t))}function Jz(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Zz(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function I3(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function N_(t,e){var r=e.checked;return sn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function NP(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Jd(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Qz(t,e){e=e.checked,e!=null&&Z$(t,"checked",e,!1)}function P_(t,e){Qz(t,e);var r=Jd(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?R_(t,e.type,r):e.hasOwnProperty("defaultValue")&&R_(t,e.type,Jd(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function PP(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function R_(t,e,r){(e!=="number"||I3(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var fm=Array.isArray;function _0(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Jd(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function O_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Le(91));return sn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function RP(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Le(92));if(fm(r)){if(1<r.length)throw Error(Le(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Jd(r)}}function Xz(t,e){var r=Jd(e.value),n=Jd(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function OP(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function eH(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function j_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?eH(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ub,tH=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ub=ub||document.createElement("div"),ub.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ub.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ay(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var km={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cce=["Webkit","ms","Moz","O"];Object.keys(km).forEach(function(t){Cce.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),km[e]=km[t]})});function rH(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||km.hasOwnProperty(t)&&km[t]?(""+e).trim():e+"px"}function nH(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=rH(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var Ace=sn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function M_(t,e){if(e){if(Ace[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Le(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Le(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Le(62))}}function D_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var L_=null;function eI(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var F_=null,C0=null,A0=null;function jP(t){if(t=z2(t)){if(typeof F_!="function")throw Error(Le(280));var e=t.stateNode;e&&(e=R6(e),F_(t.stateNode,t.type,e))}}function iH(t){C0?A0?A0.push(t):A0=[t]:C0=t}function sH(){if(C0){var t=C0,e=A0;if(A0=C0=null,jP(t),e)for(t=0;t<e.length;t++)jP(e[t])}}function oH(t,e){return t(e)}function aH(){}var Nx=!1;function lH(t,e,r){if(Nx)return t(e,r);Nx=!0;try{return oH(t,e,r)}finally{Nx=!1,(C0!==null||A0!==null)&&(aH(),sH())}}function ly(t,e){var r=t.stateNode;if(r===null)return null;var n=R6(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Le(231,e,typeof r));return r}var B_=!1;if(vu)try{var Ig={};Object.defineProperty(Ig,"passive",{get:function(){B_=!0}}),window.addEventListener("test",Ig,Ig),window.removeEventListener("test",Ig,Ig)}catch{B_=!1}function Sce(t,e,r,n,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var Tm=!1,k3=null,T3=!1,U_=null,$ce={onError:function(t){Tm=!0,k3=t}};function Ice(t,e,r,n,i,s,o,a,l){Tm=!1,k3=null,Sce.apply($ce,arguments)}function kce(t,e,r,n,i,s,o,a,l){if(Ice.apply(this,arguments),Tm){if(Tm){var c=k3;Tm=!1,k3=null}else throw Error(Le(198));T3||(T3=!0,U_=c)}}function ep(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function cH(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function MP(t){if(ep(t)!==t)throw Error(Le(188))}function Tce(t){var e=t.alternate;if(!e){if(e=ep(t),e===null)throw Error(Le(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return MP(i),t;if(s===n)return MP(i),e;s=s.sibling}throw Error(Le(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(Le(189))}}if(r.alternate!==n)throw Error(Le(190))}if(r.tag!==3)throw Error(Le(188));return r.stateNode.current===r?t:e}function uH(t){return t=Tce(t),t!==null?dH(t):null}function dH(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=dH(t);if(e!==null)return e;t=t.sibling}return null}var fH=Ao.unstable_scheduleCallback,DP=Ao.unstable_cancelCallback,Nce=Ao.unstable_shouldYield,Pce=Ao.unstable_requestPaint,pn=Ao.unstable_now,Rce=Ao.unstable_getCurrentPriorityLevel,tI=Ao.unstable_ImmediatePriority,hH=Ao.unstable_UserBlockingPriority,N3=Ao.unstable_NormalPriority,Oce=Ao.unstable_LowPriority,pH=Ao.unstable_IdlePriority,k6=null,Kl=null;function jce(t){if(Kl&&typeof Kl.onCommitFiberRoot=="function")try{Kl.onCommitFiberRoot(k6,t,void 0,(t.current.flags&128)===128)}catch{}}var qa=Math.clz32?Math.clz32:Lce,Mce=Math.log,Dce=Math.LN2;function Lce(t){return t>>>=0,t===0?32:31-(Mce(t)/Dce|0)|0}var db=64,fb=4194304;function hm(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function P3(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=hm(a):(s&=o,s!==0&&(n=hm(s)))}else o=r&~i,o!==0?n=hm(o):s!==0&&(n=hm(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-qa(e),i=1<<r,n|=t[r],e&=~i;return n}function Fce(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bce(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-qa(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=Fce(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function W_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function gH(){var t=db;return db<<=1,!(db&4194240)&&(db=64),t}function Px(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function U2(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-qa(e),t[e]=r}function Uce(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-qa(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function rI(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-qa(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Cr=0;function mH(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var yH,nI,wH,bH,vH,z_=!1,hb=[],Dd=null,Ld=null,Fd=null,cy=new Map,uy=new Map,_d=[],Wce="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function LP(t,e){switch(t){case"focusin":case"focusout":Dd=null;break;case"dragenter":case"dragleave":Ld=null;break;case"mouseover":case"mouseout":Fd=null;break;case"pointerover":case"pointerout":cy.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":uy.delete(e.pointerId)}}function kg(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=z2(e),e!==null&&nI(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function zce(t,e,r,n,i){switch(e){case"focusin":return Dd=kg(Dd,t,e,r,n,i),!0;case"dragenter":return Ld=kg(Ld,t,e,r,n,i),!0;case"mouseover":return Fd=kg(Fd,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return cy.set(s,kg(cy.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,uy.set(s,kg(uy.get(s)||null,t,e,r,n,i)),!0}return!1}function xH(t){var e=Kf(t.target);if(e!==null){var r=ep(e);if(r!==null){if(e=r.tag,e===13){if(e=cH(r),e!==null){t.blockedOn=e,vH(t.priority,function(){wH(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rv(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=H_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);L_=n,r.target.dispatchEvent(n),L_=null}else return e=z2(r),e!==null&&nI(e),t.blockedOn=r,!1;e.shift()}return!0}function FP(t,e,r){Rv(t)&&r.delete(e)}function Hce(){z_=!1,Dd!==null&&Rv(Dd)&&(Dd=null),Ld!==null&&Rv(Ld)&&(Ld=null),Fd!==null&&Rv(Fd)&&(Fd=null),cy.forEach(FP),uy.forEach(FP)}function Tg(t,e){t.blockedOn===e&&(t.blockedOn=null,z_||(z_=!0,Ao.unstable_scheduleCallback(Ao.unstable_NormalPriority,Hce)))}function dy(t){function e(i){return Tg(i,t)}if(0<hb.length){Tg(hb[0],t);for(var r=1;r<hb.length;r++){var n=hb[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Dd!==null&&Tg(Dd,t),Ld!==null&&Tg(Ld,t),Fd!==null&&Tg(Fd,t),cy.forEach(e),uy.forEach(e),r=0;r<_d.length;r++)n=_d[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<_d.length&&(r=_d[0],r.blockedOn===null);)xH(r),r.blockedOn===null&&_d.shift()}var S0=Wu.ReactCurrentBatchConfig,R3=!0;function qce(t,e,r,n){var i=Cr,s=S0.transition;S0.transition=null;try{Cr=1,iI(t,e,r,n)}finally{Cr=i,S0.transition=s}}function Vce(t,e,r,n){var i=Cr,s=S0.transition;S0.transition=null;try{Cr=4,iI(t,e,r,n)}finally{Cr=i,S0.transition=s}}function iI(t,e,r,n){if(R3){var i=H_(t,e,r,n);if(i===null)Wx(t,e,n,O3,r),LP(t,n);else if(zce(i,t,e,r,n))n.stopPropagation();else if(LP(t,n),e&4&&-1<Wce.indexOf(t)){for(;i!==null;){var s=z2(i);if(s!==null&&yH(s),s=H_(t,e,r,n),s===null&&Wx(t,e,n,O3,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Wx(t,e,n,null,r)}}var O3=null;function H_(t,e,r,n){if(O3=null,t=eI(n),t=Kf(t),t!==null)if(e=ep(t),e===null)t=null;else if(r=e.tag,r===13){if(t=cH(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return O3=t,null}function EH(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rce()){case tI:return 1;case hH:return 4;case N3:case Oce:return 16;case pH:return 536870912;default:return 16}default:return 16}}var Nd=null,sI=null,Ov=null;function _H(){if(Ov)return Ov;var t,e=sI,r=e.length,n,i="value"in Nd?Nd.value:Nd.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return Ov=i.slice(t,1<n?1-n:void 0)}function jv(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function pb(){return!0}function BP(){return!1}function No(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?pb:BP,this.isPropagationStopped=BP,this}return sn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=pb)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=pb)},persist:function(){},isPersistent:pb}),e}var B1={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oI=No(B1),W2=sn({},B1,{view:0,detail:0}),Gce=No(W2),Rx,Ox,Ng,T6=sn({},W2,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aI,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ng&&(Ng&&t.type==="mousemove"?(Rx=t.screenX-Ng.screenX,Ox=t.screenY-Ng.screenY):Ox=Rx=0,Ng=t),Rx)},movementY:function(t){return"movementY"in t?t.movementY:Ox}}),UP=No(T6),Kce=sn({},T6,{dataTransfer:0}),Yce=No(Kce),Zce=sn({},W2,{relatedTarget:0}),jx=No(Zce),Jce=sn({},B1,{animationName:0,elapsedTime:0,pseudoElement:0}),Qce=No(Jce),Xce=sn({},B1,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),eue=No(Xce),tue=sn({},B1,{data:0}),WP=No(tue),rue={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nue={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iue={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sue(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=iue[t])?!!e[t]:!1}function aI(){return sue}var oue=sn({},W2,{key:function(t){if(t.key){var e=rue[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=jv(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nue[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aI,charCode:function(t){return t.type==="keypress"?jv(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jv(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aue=No(oue),lue=sn({},T6,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zP=No(lue),cue=sn({},W2,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aI}),uue=No(cue),due=sn({},B1,{propertyName:0,elapsedTime:0,pseudoElement:0}),fue=No(due),hue=sn({},T6,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pue=No(hue),gue=[9,13,27,32],lI=vu&&"CompositionEvent"in window,Nm=null;vu&&"documentMode"in document&&(Nm=document.documentMode);var mue=vu&&"TextEvent"in window&&!Nm,CH=vu&&(!lI||Nm&&8<Nm&&11>=Nm),HP=" ",qP=!1;function AH(t,e){switch(t){case"keyup":return gue.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function SH(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qp=!1;function yue(t,e){switch(t){case"compositionend":return SH(e);case"keypress":return e.which!==32?null:(qP=!0,HP);case"textInput":return t=e.data,t===HP&&qP?null:t;default:return null}}function wue(t,e){if(Qp)return t==="compositionend"||!lI&&AH(t,e)?(t=_H(),Ov=sI=Nd=null,Qp=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return CH&&e.locale!=="ko"?null:e.data;default:return null}}var bue={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function VP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!bue[t.type]:e==="textarea"}function $H(t,e,r,n){iH(n),e=j3(e,"onChange"),0<e.length&&(r=new oI("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Pm=null,fy=null;function vue(t){LH(t,0)}function N6(t){var e=t0(t);if(Jz(e))return t}function xue(t,e){if(t==="change")return e}var IH=!1;if(vu){var Mx;if(vu){var Dx="oninput"in document;if(!Dx){var GP=document.createElement("div");GP.setAttribute("oninput","return;"),Dx=typeof GP.oninput=="function"}Mx=Dx}else Mx=!1;IH=Mx&&(!document.documentMode||9<document.documentMode)}function KP(){Pm&&(Pm.detachEvent("onpropertychange",kH),fy=Pm=null)}function kH(t){if(t.propertyName==="value"&&N6(fy)){var e=[];$H(e,fy,t,eI(t)),lH(vue,e)}}function Eue(t,e,r){t==="focusin"?(KP(),Pm=e,fy=r,Pm.attachEvent("onpropertychange",kH)):t==="focusout"&&KP()}function _ue(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return N6(fy)}function Cue(t,e){if(t==="click")return N6(e)}function Aue(t,e){if(t==="input"||t==="change")return N6(e)}function Sue(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ja=typeof Object.is=="function"?Object.is:Sue;function hy(t,e){if(Ja(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!S_.call(e,i)||!Ja(t[i],e[i]))return!1}return!0}function YP(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ZP(t,e){var r=YP(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=YP(r)}}function TH(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?TH(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function NH(){for(var t=window,e=I3();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=I3(t.document)}return e}function cI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function $ue(t){var e=NH(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&TH(r.ownerDocument.documentElement,r)){if(n!==null&&cI(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=ZP(r,s);var o=ZP(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Iue=vu&&"documentMode"in document&&11>=document.documentMode,Xp=null,q_=null,Rm=null,V_=!1;function JP(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;V_||Xp==null||Xp!==I3(n)||(n=Xp,"selectionStart"in n&&cI(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Rm&&hy(Rm,n)||(Rm=n,n=j3(q_,"onSelect"),0<n.length&&(e=new oI("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Xp)))}function gb(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var e0={animationend:gb("Animation","AnimationEnd"),animationiteration:gb("Animation","AnimationIteration"),animationstart:gb("Animation","AnimationStart"),transitionend:gb("Transition","TransitionEnd")},Lx={},PH={};vu&&(PH=document.createElement("div").style,"AnimationEvent"in window||(delete e0.animationend.animation,delete e0.animationiteration.animation,delete e0.animationstart.animation),"TransitionEvent"in window||delete e0.transitionend.transition);function P6(t){if(Lx[t])return Lx[t];if(!e0[t])return t;var e=e0[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in PH)return Lx[t]=e[r];return t}var RH=P6("animationend"),OH=P6("animationiteration"),jH=P6("animationstart"),MH=P6("transitionend"),DH=new Map,QP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cf(t,e){DH.set(t,e),Xh(e,[t])}for(var Fx=0;Fx<QP.length;Fx++){var Bx=QP[Fx],kue=Bx.toLowerCase(),Tue=Bx[0].toUpperCase()+Bx.slice(1);cf(kue,"on"+Tue)}cf(RH,"onAnimationEnd");cf(OH,"onAnimationIteration");cf(jH,"onAnimationStart");cf("dblclick","onDoubleClick");cf("focusin","onFocus");cf("focusout","onBlur");cf(MH,"onTransitionEnd");Q0("onMouseEnter",["mouseout","mouseover"]);Q0("onMouseLeave",["mouseout","mouseover"]);Q0("onPointerEnter",["pointerout","pointerover"]);Q0("onPointerLeave",["pointerout","pointerover"]);Xh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nue=new Set("cancel close invalid load scroll toggle".split(" ").concat(pm));function XP(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,kce(n,e,void 0,t),t.currentTarget=null}function LH(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;XP(i,a,c),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;XP(i,a,c),s=l}}}if(T3)throw t=U_,T3=!1,U_=null,t}function Dr(t,e){var r=e[J_];r===void 0&&(r=e[J_]=new Set);var n=t+"__bubble";r.has(n)||(FH(e,t,2,!1),r.add(n))}function Ux(t,e,r){var n=0;e&&(n|=4),FH(r,t,n,e)}var mb="_reactListening"+Math.random().toString(36).slice(2);function py(t){if(!t[mb]){t[mb]=!0,Vz.forEach(function(r){r!=="selectionchange"&&(Nue.has(r)||Ux(r,!1,t),Ux(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[mb]||(e[mb]=!0,Ux("selectionchange",!1,e))}}function FH(t,e,r,n){switch(EH(e)){case 1:var i=qce;break;case 4:i=Vce;break;default:i=iI}r=i.bind(null,e,r,t),i=void 0,!B_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Wx(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Kf(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}lH(function(){var c=s,u=eI(r),f=[];e:{var h=DH.get(t);if(h!==void 0){var p=oI,g=t;switch(t){case"keypress":if(jv(r)===0)break e;case"keydown":case"keyup":p=aue;break;case"focusin":g="focus",p=jx;break;case"focusout":g="blur",p=jx;break;case"beforeblur":case"afterblur":p=jx;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=UP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Yce;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=uue;break;case RH:case OH:case jH:p=Qce;break;case MH:p=fue;break;case"scroll":p=Gce;break;case"wheel":p=pue;break;case"copy":case"cut":case"paste":p=eue;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=zP}var m=(e&4)!==0,w=!m&&t==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var E=c,v;E!==null;){v=E;var b=v.stateNode;if(v.tag===5&&b!==null&&(v=b,y!==null&&(b=ly(E,y),b!=null&&m.push(gy(E,b,v)))),w)break;E=E.return}0<m.length&&(h=new p(h,g,null,r,u),f.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==L_&&(g=r.relatedTarget||r.fromElement)&&(Kf(g)||g[xu]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=c,g=g?Kf(g):null,g!==null&&(w=ep(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(m=UP,b="onMouseLeave",y="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(m=zP,b="onPointerLeave",y="onPointerEnter",E="pointer"),w=p==null?h:t0(p),v=g==null?h:t0(g),h=new m(b,E+"leave",p,r,u),h.target=w,h.relatedTarget=v,b=null,Kf(u)===c&&(m=new m(y,E+"enter",g,r,u),m.target=v,m.relatedTarget=w,b=m),w=b,p&&g)t:{for(m=p,y=g,E=0,v=m;v;v=_p(v))E++;for(v=0,b=y;b;b=_p(b))v++;for(;0<E-v;)m=_p(m),E--;for(;0<v-E;)y=_p(y),v--;for(;E--;){if(m===y||y!==null&&m===y.alternate)break t;m=_p(m),y=_p(y)}m=null}else m=null;p!==null&&eR(f,h,p,m,!1),g!==null&&w!==null&&eR(f,w,g,m,!0)}}e:{if(h=c?t0(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var $=xue;else if(VP(h))if(IH)$=Aue;else{$=_ue;var P=Eue}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&($=Cue);if($&&($=$(t,c))){$H(f,$,r,u);break e}P&&P(t,h,c),t==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&R_(h,"number",h.value)}switch(P=c?t0(c):window,t){case"focusin":(VP(P)||P.contentEditable==="true")&&(Xp=P,q_=c,Rm=null);break;case"focusout":Rm=q_=Xp=null;break;case"mousedown":V_=!0;break;case"contextmenu":case"mouseup":case"dragend":V_=!1,JP(f,r,u);break;case"selectionchange":if(Iue)break;case"keydown":case"keyup":JP(f,r,u)}var O;if(lI)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Qp?AH(t,r)&&(D="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(D="onCompositionStart");D&&(CH&&r.locale!=="ko"&&(Qp||D!=="onCompositionStart"?D==="onCompositionEnd"&&Qp&&(O=_H()):(Nd=u,sI="value"in Nd?Nd.value:Nd.textContent,Qp=!0)),P=j3(c,D),0<P.length&&(D=new WP(D,t,null,r,u),f.push({event:D,listeners:P}),O?D.data=O:(O=SH(r),O!==null&&(D.data=O)))),(O=mue?yue(t,r):wue(t,r))&&(c=j3(c,"onBeforeInput"),0<c.length&&(u=new WP("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=O))}LH(f,e)})}function gy(t,e,r){return{instance:t,listener:e,currentTarget:r}}function j3(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ly(t,r),s!=null&&n.unshift(gy(t,s,i)),s=ly(t,e),s!=null&&n.push(gy(t,s,i))),t=t.return}return n}function _p(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function eR(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,i?(l=ly(r,s),l!=null&&o.unshift(gy(r,l,a))):i||(l=ly(r,s),l!=null&&o.push(gy(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var Pue=/\r\n?/g,Rue=/\u0000|\uFFFD/g;function tR(t){return(typeof t=="string"?t:""+t).replace(Pue,`
`).replace(Rue,"")}function yb(t,e,r){if(e=tR(e),tR(t)!==e&&r)throw Error(Le(425))}function M3(){}var G_=null,K_=null;function Y_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Z_=typeof setTimeout=="function"?setTimeout:void 0,Oue=typeof clearTimeout=="function"?clearTimeout:void 0,rR=typeof Promise=="function"?Promise:void 0,jue=typeof queueMicrotask=="function"?queueMicrotask:typeof rR<"u"?function(t){return rR.resolve(null).then(t).catch(Mue)}:Z_;function Mue(t){setTimeout(function(){throw t})}function zx(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),dy(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);dy(e)}function Bd(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function nR(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var U1=Math.random().toString(36).slice(2),Ml="__reactFiber$"+U1,my="__reactProps$"+U1,xu="__reactContainer$"+U1,J_="__reactEvents$"+U1,Due="__reactListeners$"+U1,Lue="__reactHandles$"+U1;function Kf(t){var e=t[Ml];if(e)return e;for(var r=t.parentNode;r;){if(e=r[xu]||r[Ml]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=nR(t);t!==null;){if(r=t[Ml])return r;t=nR(t)}return e}t=r,r=t.parentNode}return null}function z2(t){return t=t[Ml]||t[xu],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function t0(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Le(33))}function R6(t){return t[my]||null}var Q_=[],r0=-1;function uf(t){return{current:t}}function Wr(t){0>r0||(t.current=Q_[r0],Q_[r0]=null,r0--)}function Or(t,e){r0++,Q_[r0]=t.current,t.current=e}var Qd={},Ji=uf(Qd),Bs=uf(!1),xh=Qd;function X0(t,e){var r=t.type.contextTypes;if(!r)return Qd;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Us(t){return t=t.childContextTypes,t!=null}function D3(){Wr(Bs),Wr(Ji)}function iR(t,e,r){if(Ji.current!==Qd)throw Error(Le(168));Or(Ji,e),Or(Bs,r)}function BH(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Le(108,Ece(t)||"Unknown",i));return sn({},r,n)}function L3(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qd,xh=Ji.current,Or(Ji,t),Or(Bs,Bs.current),!0}function sR(t,e,r){var n=t.stateNode;if(!n)throw Error(Le(169));r?(t=BH(t,e,xh),n.__reactInternalMemoizedMergedChildContext=t,Wr(Bs),Wr(Ji),Or(Ji,t)):Wr(Bs),Or(Bs,r)}var Yc=null,O6=!1,Hx=!1;function UH(t){Yc===null?Yc=[t]:Yc.push(t)}function Fue(t){O6=!0,UH(t)}function df(){if(!Hx&&Yc!==null){Hx=!0;var t=0,e=Cr;try{var r=Yc;for(Cr=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Yc=null,O6=!1}catch(i){throw Yc!==null&&(Yc=Yc.slice(t+1)),fH(tI,df),i}finally{Cr=e,Hx=!1}}return null}var n0=[],i0=0,F3=null,B3=0,Xo=[],ea=0,Eh=null,su=1,ou="";function Mf(t,e){n0[i0++]=B3,n0[i0++]=F3,F3=t,B3=e}function WH(t,e,r){Xo[ea++]=su,Xo[ea++]=ou,Xo[ea++]=Eh,Eh=t;var n=su;t=ou;var i=32-qa(n)-1;n&=~(1<<i),r+=1;var s=32-qa(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,su=1<<32-qa(e)+i|r<<i|n,ou=s+t}else su=1<<s|r<<i|n,ou=t}function uI(t){t.return!==null&&(Mf(t,1),WH(t,1,0))}function dI(t){for(;t===F3;)F3=n0[--i0],n0[i0]=null,B3=n0[--i0],n0[i0]=null;for(;t===Eh;)Eh=Xo[--ea],Xo[ea]=null,ou=Xo[--ea],Xo[ea]=null,su=Xo[--ea],Xo[ea]=null}var _o=null,bo=null,Vr=!1,Fa=null;function zH(t,e){var r=na(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function oR(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,_o=t,bo=Bd(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,_o=t,bo=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Eh!==null?{id:su,overflow:ou}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=na(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,_o=t,bo=null,!0):!1;default:return!1}}function X_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function eC(t){if(Vr){var e=bo;if(e){var r=e;if(!oR(t,e)){if(X_(t))throw Error(Le(418));e=Bd(r.nextSibling);var n=_o;e&&oR(t,e)?zH(n,r):(t.flags=t.flags&-4097|2,Vr=!1,_o=t)}}else{if(X_(t))throw Error(Le(418));t.flags=t.flags&-4097|2,Vr=!1,_o=t}}}function aR(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;_o=t}function wb(t){if(t!==_o)return!1;if(!Vr)return aR(t),Vr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Y_(t.type,t.memoizedProps)),e&&(e=bo)){if(X_(t))throw HH(),Error(Le(418));for(;e;)zH(t,e),e=Bd(e.nextSibling)}if(aR(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Le(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){bo=Bd(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}bo=null}}else bo=_o?Bd(t.stateNode.nextSibling):null;return!0}function HH(){for(var t=bo;t;)t=Bd(t.nextSibling)}function e1(){bo=_o=null,Vr=!1}function fI(t){Fa===null?Fa=[t]:Fa.push(t)}var Bue=Wu.ReactCurrentBatchConfig;function Pg(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Le(309));var n=r.stateNode}if(!n)throw Error(Le(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Le(284));if(!r._owner)throw Error(Le(290,t))}return t}function bb(t,e){throw t=Object.prototype.toString.call(e),Error(Le(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function lR(t){var e=t._init;return e(t._payload)}function qH(t){function e(y,E){if(t){var v=y.deletions;v===null?(y.deletions=[E],y.flags|=16):v.push(E)}}function r(y,E){if(!t)return null;for(;E!==null;)e(y,E),E=E.sibling;return null}function n(y,E){for(y=new Map;E!==null;)E.key!==null?y.set(E.key,E):y.set(E.index,E),E=E.sibling;return y}function i(y,E){return y=Hd(y,E),y.index=0,y.sibling=null,y}function s(y,E,v){return y.index=v,t?(v=y.alternate,v!==null?(v=v.index,v<E?(y.flags|=2,E):v):(y.flags|=2,E)):(y.flags|=1048576,E)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,E,v,b){return E===null||E.tag!==6?(E=Jx(v,y.mode,b),E.return=y,E):(E=i(E,v),E.return=y,E)}function l(y,E,v,b){var $=v.type;return $===Jp?u(y,E,v.props.children,b,v.key):E!==null&&(E.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===yd&&lR($)===E.type)?(b=i(E,v.props),b.ref=Pg(y,E,v),b.return=y,b):(b=Wv(v.type,v.key,v.props,null,y.mode,b),b.ref=Pg(y,E,v),b.return=y,b)}function c(y,E,v,b){return E===null||E.tag!==4||E.stateNode.containerInfo!==v.containerInfo||E.stateNode.implementation!==v.implementation?(E=Qx(v,y.mode,b),E.return=y,E):(E=i(E,v.children||[]),E.return=y,E)}function u(y,E,v,b,$){return E===null||E.tag!==7?(E=ch(v,y.mode,b,$),E.return=y,E):(E=i(E,v),E.return=y,E)}function f(y,E,v){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Jx(""+E,y.mode,v),E.return=y,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case lb:return v=Wv(E.type,E.key,E.props,null,y.mode,v),v.ref=Pg(y,null,E),v.return=y,v;case Zp:return E=Qx(E,y.mode,v),E.return=y,E;case yd:var b=E._init;return f(y,b(E._payload),v)}if(fm(E)||$g(E))return E=ch(E,y.mode,v,null),E.return=y,E;bb(y,E)}return null}function h(y,E,v,b){var $=E!==null?E.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return $!==null?null:a(y,E,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case lb:return v.key===$?l(y,E,v,b):null;case Zp:return v.key===$?c(y,E,v,b):null;case yd:return $=v._init,h(y,E,$(v._payload),b)}if(fm(v)||$g(v))return $!==null?null:u(y,E,v,b,null);bb(y,v)}return null}function p(y,E,v,b,$){if(typeof b=="string"&&b!==""||typeof b=="number")return y=y.get(v)||null,a(E,y,""+b,$);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case lb:return y=y.get(b.key===null?v:b.key)||null,l(E,y,b,$);case Zp:return y=y.get(b.key===null?v:b.key)||null,c(E,y,b,$);case yd:var P=b._init;return p(y,E,v,P(b._payload),$)}if(fm(b)||$g(b))return y=y.get(v)||null,u(E,y,b,$,null);bb(E,b)}return null}function g(y,E,v,b){for(var $=null,P=null,O=E,D=E=0,B=null;O!==null&&D<v.length;D++){O.index>D?(B=O,O=null):B=O.sibling;var H=h(y,O,v[D],b);if(H===null){O===null&&(O=B);break}t&&O&&H.alternate===null&&e(y,O),E=s(H,E,D),P===null?$=H:P.sibling=H,P=H,O=B}if(D===v.length)return r(y,O),Vr&&Mf(y,D),$;if(O===null){for(;D<v.length;D++)O=f(y,v[D],b),O!==null&&(E=s(O,E,D),P===null?$=O:P.sibling=O,P=O);return Vr&&Mf(y,D),$}for(O=n(y,O);D<v.length;D++)B=p(O,y,D,v[D],b),B!==null&&(t&&B.alternate!==null&&O.delete(B.key===null?D:B.key),E=s(B,E,D),P===null?$=B:P.sibling=B,P=B);return t&&O.forEach(function(q){return e(y,q)}),Vr&&Mf(y,D),$}function m(y,E,v,b){var $=$g(v);if(typeof $!="function")throw Error(Le(150));if(v=$.call(v),v==null)throw Error(Le(151));for(var P=$=null,O=E,D=E=0,B=null,H=v.next();O!==null&&!H.done;D++,H=v.next()){O.index>D?(B=O,O=null):B=O.sibling;var q=h(y,O,H.value,b);if(q===null){O===null&&(O=B);break}t&&O&&q.alternate===null&&e(y,O),E=s(q,E,D),P===null?$=q:P.sibling=q,P=q,O=B}if(H.done)return r(y,O),Vr&&Mf(y,D),$;if(O===null){for(;!H.done;D++,H=v.next())H=f(y,H.value,b),H!==null&&(E=s(H,E,D),P===null?$=H:P.sibling=H,P=H);return Vr&&Mf(y,D),$}for(O=n(y,O);!H.done;D++,H=v.next())H=p(O,y,D,H.value,b),H!==null&&(t&&H.alternate!==null&&O.delete(H.key===null?D:H.key),E=s(H,E,D),P===null?$=H:P.sibling=H,P=H);return t&&O.forEach(function(Y){return e(y,Y)}),Vr&&Mf(y,D),$}function w(y,E,v,b){if(typeof v=="object"&&v!==null&&v.type===Jp&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case lb:e:{for(var $=v.key,P=E;P!==null;){if(P.key===$){if($=v.type,$===Jp){if(P.tag===7){r(y,P.sibling),E=i(P,v.props.children),E.return=y,y=E;break e}}else if(P.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===yd&&lR($)===P.type){r(y,P.sibling),E=i(P,v.props),E.ref=Pg(y,P,v),E.return=y,y=E;break e}r(y,P);break}else e(y,P);P=P.sibling}v.type===Jp?(E=ch(v.props.children,y.mode,b,v.key),E.return=y,y=E):(b=Wv(v.type,v.key,v.props,null,y.mode,b),b.ref=Pg(y,E,v),b.return=y,y=b)}return o(y);case Zp:e:{for(P=v.key;E!==null;){if(E.key===P)if(E.tag===4&&E.stateNode.containerInfo===v.containerInfo&&E.stateNode.implementation===v.implementation){r(y,E.sibling),E=i(E,v.children||[]),E.return=y,y=E;break e}else{r(y,E);break}else e(y,E);E=E.sibling}E=Qx(v,y.mode,b),E.return=y,y=E}return o(y);case yd:return P=v._init,w(y,E,P(v._payload),b)}if(fm(v))return g(y,E,v,b);if($g(v))return m(y,E,v,b);bb(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,E!==null&&E.tag===6?(r(y,E.sibling),E=i(E,v),E.return=y,y=E):(r(y,E),E=Jx(v,y.mode,b),E.return=y,y=E),o(y)):r(y,E)}return w}var t1=qH(!0),VH=qH(!1),U3=uf(null),W3=null,s0=null,hI=null;function pI(){hI=s0=W3=null}function gI(t){var e=U3.current;Wr(U3),t._currentValue=e}function tC(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function $0(t,e){W3=t,hI=s0=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ms=!0),t.firstContext=null)}function ua(t){var e=t._currentValue;if(hI!==t)if(t={context:t,memoizedValue:e,next:null},s0===null){if(W3===null)throw Error(Le(308));s0=t,W3.dependencies={lanes:0,firstContext:t}}else s0=s0.next=t;return e}var Yf=null;function mI(t){Yf===null?Yf=[t]:Yf.push(t)}function GH(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,mI(e)):(r.next=i.next,i.next=r),e.interleaved=r,Eu(t,n)}function Eu(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var wd=!1;function yI(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function KH(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fu(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ud(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,or&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Eu(t,r)}return i=n.interleaved,i===null?(e.next=e,mI(n)):(e.next=i.next,i.next=e),n.interleaved=e,Eu(t,r)}function Mv(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,rI(t,r)}}function cR(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function z3(t,e,r,n){var i=t.updateQueue;wd=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,p=a.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,m=a;switch(h=e,p=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=sn({},f,h);break e;case 2:wd=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ch|=o,t.lanes=o,t.memoizedState=f}}function uR(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Le(191,i));i.call(n)}}}var H2={},Yl=uf(H2),yy=uf(H2),wy=uf(H2);function Zf(t){if(t===H2)throw Error(Le(174));return t}function wI(t,e){switch(Or(wy,e),Or(yy,t),Or(Yl,H2),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:j_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=j_(e,t)}Wr(Yl),Or(Yl,e)}function r1(){Wr(Yl),Wr(yy),Wr(wy)}function YH(t){Zf(wy.current);var e=Zf(Yl.current),r=j_(e,t.type);e!==r&&(Or(yy,t),Or(Yl,r))}function bI(t){yy.current===t&&(Wr(Yl),Wr(yy))}var tn=uf(0);function H3(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qx=[];function vI(){for(var t=0;t<qx.length;t++)qx[t]._workInProgressVersionPrimary=null;qx.length=0}var Dv=Wu.ReactCurrentDispatcher,Vx=Wu.ReactCurrentBatchConfig,_h=0,nn=null,Nn=null,Xn=null,q3=!1,Om=!1,by=0,Uue=0;function Ii(){throw Error(Le(321))}function xI(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ja(t[r],e[r]))return!1;return!0}function EI(t,e,r,n,i,s){if(_h=s,nn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Dv.current=t===null||t.memoizedState===null?que:Vue,t=r(n,i),Om){s=0;do{if(Om=!1,by=0,25<=s)throw Error(Le(301));s+=1,Xn=Nn=null,e.updateQueue=null,Dv.current=Gue,t=r(n,i)}while(Om)}if(Dv.current=V3,e=Nn!==null&&Nn.next!==null,_h=0,Xn=Nn=nn=null,q3=!1,e)throw Error(Le(300));return t}function _I(){var t=by!==0;return by=0,t}function Al(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xn===null?nn.memoizedState=Xn=t:Xn=Xn.next=t,Xn}function da(){if(Nn===null){var t=nn.alternate;t=t!==null?t.memoizedState:null}else t=Nn.next;var e=Xn===null?nn.memoizedState:Xn.next;if(e!==null)Xn=e,Nn=t;else{if(t===null)throw Error(Le(310));Nn=t,t={memoizedState:Nn.memoizedState,baseState:Nn.baseState,baseQueue:Nn.baseQueue,queue:Nn.queue,next:null},Xn===null?nn.memoizedState=Xn=t:Xn=Xn.next=t}return Xn}function vy(t,e){return typeof e=="function"?e(t):e}function Gx(t){var e=da(),r=e.queue;if(r===null)throw Error(Le(311));r.lastRenderedReducer=t;var n=Nn,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((_h&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=n):l=l.next=f,nn.lanes|=u,Ch|=u}c=c.next}while(c!==null&&c!==s);l===null?o=n:l.next=a,Ja(n,e.memoizedState)||(Ms=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,nn.lanes|=s,Ch|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Kx(t){var e=da(),r=e.queue;if(r===null)throw Error(Le(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ja(s,e.memoizedState)||(Ms=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function ZH(){}function JH(t,e){var r=nn,n=da(),i=e(),s=!Ja(n.memoizedState,i);if(s&&(n.memoizedState=i,Ms=!0),n=n.queue,CI(eq.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Xn!==null&&Xn.memoizedState.tag&1){if(r.flags|=2048,xy(9,XH.bind(null,r,n,i,e),void 0,null),oi===null)throw Error(Le(349));_h&30||QH(r,e,i)}return i}function QH(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=nn.updateQueue,e===null?(e={lastEffect:null,stores:null},nn.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function XH(t,e,r,n){e.value=r,e.getSnapshot=n,tq(e)&&rq(t)}function eq(t,e,r){return r(function(){tq(e)&&rq(t)})}function tq(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ja(t,r)}catch{return!0}}function rq(t){var e=Eu(t,1);e!==null&&Va(e,t,1,-1)}function dR(t){var e=Al();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vy,lastRenderedState:t},e.queue=t,t=t.dispatch=Hue.bind(null,nn,t),[e.memoizedState,t]}function xy(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=nn.updateQueue,e===null?(e={lastEffect:null,stores:null},nn.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function nq(){return da().memoizedState}function Lv(t,e,r,n){var i=Al();nn.flags|=t,i.memoizedState=xy(1|e,r,void 0,n===void 0?null:n)}function j6(t,e,r,n){var i=da();n=n===void 0?null:n;var s=void 0;if(Nn!==null){var o=Nn.memoizedState;if(s=o.destroy,n!==null&&xI(n,o.deps)){i.memoizedState=xy(e,r,s,n);return}}nn.flags|=t,i.memoizedState=xy(1|e,r,s,n)}function fR(t,e){return Lv(8390656,8,t,e)}function CI(t,e){return j6(2048,8,t,e)}function iq(t,e){return j6(4,2,t,e)}function sq(t,e){return j6(4,4,t,e)}function oq(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function aq(t,e,r){return r=r!=null?r.concat([t]):null,j6(4,4,oq.bind(null,e,t),r)}function AI(){}function lq(t,e){var r=da();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&xI(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function cq(t,e){var r=da();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&xI(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function uq(t,e,r){return _h&21?(Ja(r,e)||(r=gH(),nn.lanes|=r,Ch|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ms=!0),t.memoizedState=r)}function Wue(t,e){var r=Cr;Cr=r!==0&&4>r?r:4,t(!0);var n=Vx.transition;Vx.transition={};try{t(!1),e()}finally{Cr=r,Vx.transition=n}}function dq(){return da().memoizedState}function zue(t,e,r){var n=zd(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},fq(t))hq(e,r);else if(r=GH(t,e,r,n),r!==null){var i=cs();Va(r,t,n,i),pq(r,e,n)}}function Hue(t,e,r){var n=zd(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(fq(t))hq(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Ja(a,o)){var l=e.interleaved;l===null?(i.next=i,mI(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=GH(t,e,i,n),r!==null&&(i=cs(),Va(r,t,n,i),pq(r,e,n))}}function fq(t){var e=t.alternate;return t===nn||e!==null&&e===nn}function hq(t,e){Om=q3=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function pq(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,rI(t,r)}}var V3={readContext:ua,useCallback:Ii,useContext:Ii,useEffect:Ii,useImperativeHandle:Ii,useInsertionEffect:Ii,useLayoutEffect:Ii,useMemo:Ii,useReducer:Ii,useRef:Ii,useState:Ii,useDebugValue:Ii,useDeferredValue:Ii,useTransition:Ii,useMutableSource:Ii,useSyncExternalStore:Ii,useId:Ii,unstable_isNewReconciler:!1},que={readContext:ua,useCallback:function(t,e){return Al().memoizedState=[t,e===void 0?null:e],t},useContext:ua,useEffect:fR,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Lv(4194308,4,oq.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Lv(4194308,4,t,e)},useInsertionEffect:function(t,e){return Lv(4,2,t,e)},useMemo:function(t,e){var r=Al();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Al();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=zue.bind(null,nn,t),[n.memoizedState,t]},useRef:function(t){var e=Al();return t={current:t},e.memoizedState=t},useState:dR,useDebugValue:AI,useDeferredValue:function(t){return Al().memoizedState=t},useTransition:function(){var t=dR(!1),e=t[0];return t=Wue.bind(null,t[1]),Al().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=nn,i=Al();if(Vr){if(r===void 0)throw Error(Le(407));r=r()}else{if(r=e(),oi===null)throw Error(Le(349));_h&30||QH(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,fR(eq.bind(null,n,s,t),[t]),n.flags|=2048,xy(9,XH.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Al(),e=oi.identifierPrefix;if(Vr){var r=ou,n=su;r=(n&~(1<<32-qa(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=by++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Uue++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Vue={readContext:ua,useCallback:lq,useContext:ua,useEffect:CI,useImperativeHandle:aq,useInsertionEffect:iq,useLayoutEffect:sq,useMemo:cq,useReducer:Gx,useRef:nq,useState:function(){return Gx(vy)},useDebugValue:AI,useDeferredValue:function(t){var e=da();return uq(e,Nn.memoizedState,t)},useTransition:function(){var t=Gx(vy)[0],e=da().memoizedState;return[t,e]},useMutableSource:ZH,useSyncExternalStore:JH,useId:dq,unstable_isNewReconciler:!1},Gue={readContext:ua,useCallback:lq,useContext:ua,useEffect:CI,useImperativeHandle:aq,useInsertionEffect:iq,useLayoutEffect:sq,useMemo:cq,useReducer:Kx,useRef:nq,useState:function(){return Kx(vy)},useDebugValue:AI,useDeferredValue:function(t){var e=da();return Nn===null?e.memoizedState=t:uq(e,Nn.memoizedState,t)},useTransition:function(){var t=Kx(vy)[0],e=da().memoizedState;return[t,e]},useMutableSource:ZH,useSyncExternalStore:JH,useId:dq,unstable_isNewReconciler:!1};function Ma(t,e){if(t&&t.defaultProps){e=sn({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function rC(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:sn({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var M6={isMounted:function(t){return(t=t._reactInternals)?ep(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=cs(),i=zd(t),s=fu(n,i);s.payload=e,r!=null&&(s.callback=r),e=Ud(t,s,i),e!==null&&(Va(e,t,i,n),Mv(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=cs(),i=zd(t),s=fu(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Ud(t,s,i),e!==null&&(Va(e,t,i,n),Mv(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=cs(),n=zd(t),i=fu(r,n);i.tag=2,e!=null&&(i.callback=e),e=Ud(t,i,n),e!==null&&(Va(e,t,n,r),Mv(e,t,n))}};function hR(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!hy(r,n)||!hy(i,s):!0}function gq(t,e,r){var n=!1,i=Qd,s=e.contextType;return typeof s=="object"&&s!==null?s=ua(s):(i=Us(e)?xh:Ji.current,n=e.contextTypes,s=(n=n!=null)?X0(t,i):Qd),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=M6,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function pR(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&M6.enqueueReplaceState(e,e.state,null)}function nC(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},yI(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ua(s):(s=Us(e)?xh:Ji.current,i.context=X0(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(rC(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&M6.enqueueReplaceState(i,i.state,null),z3(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function n1(t,e){try{var r="",n=e;do r+=xce(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Yx(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function iC(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Kue=typeof WeakMap=="function"?WeakMap:Map;function mq(t,e,r){r=fu(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){K3||(K3=!0,pC=n),iC(t,e)},r}function yq(t,e,r){r=fu(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){iC(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){iC(t,e),typeof n!="function"&&(Wd===null?Wd=new Set([this]):Wd.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function gR(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Kue;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=lde.bind(null,t,e,r),e.then(t,t))}function mR(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function yR(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=fu(-1,1),e.tag=2,Ud(r,e,1))),r.lanes|=1),t)}var Yue=Wu.ReactCurrentOwner,Ms=!1;function es(t,e,r,n){e.child=t===null?VH(e,null,r,n):t1(e,t.child,r,n)}function wR(t,e,r,n,i){r=r.render;var s=e.ref;return $0(e,i),n=EI(t,e,r,n,s,i),r=_I(),t!==null&&!Ms?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_u(t,e,i)):(Vr&&r&&uI(e),e.flags|=1,es(t,e,n,i),e.child)}function bR(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!RI(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,wq(t,e,s,n,i)):(t=Wv(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:hy,r(o,n)&&t.ref===e.ref)return _u(t,e,i)}return e.flags|=1,t=Hd(s,n),t.ref=e.ref,t.return=e,e.child=t}function wq(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(hy(s,n)&&t.ref===e.ref)if(Ms=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Ms=!0);else return e.lanes=t.lanes,_u(t,e,i)}return sC(t,e,r,n,i)}function bq(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Or(a0,ho),ho|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Or(a0,ho),ho|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Or(a0,ho),ho|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Or(a0,ho),ho|=n;return es(t,e,i,r),e.child}function vq(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function sC(t,e,r,n,i){var s=Us(r)?xh:Ji.current;return s=X0(e,s),$0(e,i),r=EI(t,e,r,n,s,i),n=_I(),t!==null&&!Ms?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_u(t,e,i)):(Vr&&n&&uI(e),e.flags|=1,es(t,e,r,i),e.child)}function vR(t,e,r,n,i){if(Us(r)){var s=!0;L3(e)}else s=!1;if($0(e,i),e.stateNode===null)Fv(t,e),gq(e,r,n),nC(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=ua(c):(c=Us(r)?xh:Ji.current,c=X0(e,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&pR(e,o,n,c),wd=!1;var h=e.memoizedState;o.state=h,z3(e,n,o,i),l=e.memoizedState,a!==n||h!==l||Bs.current||wd?(typeof u=="function"&&(rC(e,r,u,n),l=e.memoizedState),(a=wd||hR(e,r,a,n,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,KH(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ma(e.type,a),o.props=c,f=e.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=ua(l):(l=Us(r)?xh:Ji.current,l=X0(e,l));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&pR(e,o,n,l),wd=!1,h=e.memoizedState,o.state=h,z3(e,n,o,i);var g=e.memoizedState;a!==f||h!==g||Bs.current||wd?(typeof p=="function"&&(rC(e,r,p,n),g=e.memoizedState),(c=wd||hR(e,r,c,n,h,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),o.props=n,o.state=g,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return oC(t,e,r,n,s,i)}function oC(t,e,r,n,i,s){vq(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&sR(e,r,!1),_u(t,e,s);n=e.stateNode,Yue.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=t1(e,t.child,null,s),e.child=t1(e,null,a,s)):es(t,e,a,s),e.memoizedState=n.state,i&&sR(e,r,!0),e.child}function xq(t){var e=t.stateNode;e.pendingContext?iR(t,e.pendingContext,e.pendingContext!==e.context):e.context&&iR(t,e.context,!1),wI(t,e.containerInfo)}function xR(t,e,r,n,i){return e1(),fI(i),e.flags|=256,es(t,e,r,n),e.child}var aC={dehydrated:null,treeContext:null,retryLane:0};function lC(t){return{baseLanes:t,cachePool:null,transitions:null}}function Eq(t,e,r){var n=e.pendingProps,i=tn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Or(tn,i&1),t===null)return eC(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=F6(o,n,0,null),t=ch(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=lC(r),e.memoizedState=aC,t):SI(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Zue(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Hd(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Hd(a,s):(s=ch(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?lC(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=aC,n}return s=t.child,t=s.sibling,n=Hd(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function SI(t,e){return e=F6({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function vb(t,e,r,n){return n!==null&&fI(n),t1(e,t.child,null,r),t=SI(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Zue(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=Yx(Error(Le(422))),vb(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=F6({mode:"visible",children:n.children},i,0,null),s=ch(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&t1(e,t.child,null,o),e.child.memoizedState=lC(o),e.memoizedState=aC,s);if(!(e.mode&1))return vb(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(Le(419)),n=Yx(s,n,void 0),vb(t,e,o,n)}if(a=(o&t.childLanes)!==0,Ms||a){if(n=oi,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Eu(t,i),Va(n,t,i,-1))}return PI(),n=Yx(Error(Le(421))),vb(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=cde.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,bo=Bd(i.nextSibling),_o=e,Vr=!0,Fa=null,t!==null&&(Xo[ea++]=su,Xo[ea++]=ou,Xo[ea++]=Eh,su=t.id,ou=t.overflow,Eh=e),e=SI(e,n.children),e.flags|=4096,e)}function ER(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),tC(t.return,e,r)}function Zx(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function _q(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(es(t,e,n.children,r),n=tn.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ER(t,r,e);else if(t.tag===19)ER(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Or(tn,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&H3(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Zx(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&H3(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Zx(e,!0,r,null,s);break;case"together":Zx(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fv(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _u(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ch|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Le(153));if(e.child!==null){for(t=e.child,r=Hd(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Hd(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Jue(t,e,r){switch(e.tag){case 3:xq(e),e1();break;case 5:YH(e);break;case 1:Us(e.type)&&L3(e);break;case 4:wI(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Or(U3,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Or(tn,tn.current&1),e.flags|=128,null):r&e.child.childLanes?Eq(t,e,r):(Or(tn,tn.current&1),t=_u(t,e,r),t!==null?t.sibling:null);Or(tn,tn.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return _q(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Or(tn,tn.current),n)break;return null;case 22:case 23:return e.lanes=0,bq(t,e,r)}return _u(t,e,r)}var Cq,cC,Aq,Sq;Cq=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};cC=function(){};Aq=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Zf(Yl.current);var s=null;switch(r){case"input":i=N_(t,i),n=N_(t,n),s=[];break;case"select":i=sn({},i,{value:void 0}),n=sn({},n,{value:void 0}),s=[];break;case"textarea":i=O_(t,i),n=O_(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=M3)}M_(r,n);var o;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(oy.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(a=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(oy.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Dr("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Sq=function(t,e,r,n){r!==n&&(e.flags|=4)};function Rg(t,e){if(!Vr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ki(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Que(t,e,r){var n=e.pendingProps;switch(dI(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ki(e),null;case 1:return Us(e.type)&&D3(),ki(e),null;case 3:return n=e.stateNode,r1(),Wr(Bs),Wr(Ji),vI(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(wb(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Fa!==null&&(yC(Fa),Fa=null))),cC(t,e),ki(e),null;case 5:bI(e);var i=Zf(wy.current);if(r=e.type,t!==null&&e.stateNode!=null)Aq(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Le(166));return ki(e),null}if(t=Zf(Yl.current),wb(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Ml]=e,n[my]=s,t=(e.mode&1)!==0,r){case"dialog":Dr("cancel",n),Dr("close",n);break;case"iframe":case"object":case"embed":Dr("load",n);break;case"video":case"audio":for(i=0;i<pm.length;i++)Dr(pm[i],n);break;case"source":Dr("error",n);break;case"img":case"image":case"link":Dr("error",n),Dr("load",n);break;case"details":Dr("toggle",n);break;case"input":NP(n,s),Dr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Dr("invalid",n);break;case"textarea":RP(n,s),Dr("invalid",n)}M_(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&yb(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&yb(n.textContent,a,t),i=["children",""+a]):oy.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Dr("scroll",n)}switch(r){case"input":cb(n),PP(n,s,!0);break;case"textarea":cb(n),OP(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=M3)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=eH(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Ml]=e,t[my]=n,Cq(t,e,!1,!1),e.stateNode=t;e:{switch(o=D_(r,n),r){case"dialog":Dr("cancel",t),Dr("close",t),i=n;break;case"iframe":case"object":case"embed":Dr("load",t),i=n;break;case"video":case"audio":for(i=0;i<pm.length;i++)Dr(pm[i],t);i=n;break;case"source":Dr("error",t),i=n;break;case"img":case"image":case"link":Dr("error",t),Dr("load",t),i=n;break;case"details":Dr("toggle",t),i=n;break;case"input":NP(t,n),i=N_(t,n),Dr("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=sn({},n,{value:void 0}),Dr("invalid",t);break;case"textarea":RP(t,n),i=O_(t,n),Dr("invalid",t);break;default:i=n}M_(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?nH(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&tH(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ay(t,l):typeof l=="number"&&ay(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(oy.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Dr("scroll",t):l!=null&&Z$(t,s,l,o))}switch(r){case"input":cb(t),PP(t,n,!1);break;case"textarea":cb(t),OP(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Jd(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?_0(t,!!n.multiple,s,!1):n.defaultValue!=null&&_0(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=M3)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ki(e),null;case 6:if(t&&e.stateNode!=null)Sq(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Le(166));if(r=Zf(wy.current),Zf(Yl.current),wb(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ml]=e,(s=n.nodeValue!==r)&&(t=_o,t!==null))switch(t.tag){case 3:yb(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&yb(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ml]=e,e.stateNode=n}return ki(e),null;case 13:if(Wr(tn),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Vr&&bo!==null&&e.mode&1&&!(e.flags&128))HH(),e1(),e.flags|=98560,s=!1;else if(s=wb(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(Le(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Le(317));s[Ml]=e}else e1(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ki(e),s=!1}else Fa!==null&&(yC(Fa),Fa=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||tn.current&1?jn===0&&(jn=3):PI())),e.updateQueue!==null&&(e.flags|=4),ki(e),null);case 4:return r1(),cC(t,e),t===null&&py(e.stateNode.containerInfo),ki(e),null;case 10:return gI(e.type._context),ki(e),null;case 17:return Us(e.type)&&D3(),ki(e),null;case 19:if(Wr(tn),s=e.memoizedState,s===null)return ki(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)Rg(s,!1);else{if(jn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=H3(t),o!==null){for(e.flags|=128,Rg(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Or(tn,tn.current&1|2),e.child}t=t.sibling}s.tail!==null&&pn()>i1&&(e.flags|=128,n=!0,Rg(s,!1),e.lanes=4194304)}else{if(!n)if(t=H3(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Rg(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Vr)return ki(e),null}else 2*pn()-s.renderingStartTime>i1&&r!==1073741824&&(e.flags|=128,n=!0,Rg(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=pn(),e.sibling=null,r=tn.current,Or(tn,n?r&1|2:r&1),e):(ki(e),null);case 22:case 23:return NI(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ho&1073741824&&(ki(e),e.subtreeFlags&6&&(e.flags|=8192)):ki(e),null;case 24:return null;case 25:return null}throw Error(Le(156,e.tag))}function Xue(t,e){switch(dI(e),e.tag){case 1:return Us(e.type)&&D3(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return r1(),Wr(Bs),Wr(Ji),vI(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return bI(e),null;case 13:if(Wr(tn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Le(340));e1()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Wr(tn),null;case 4:return r1(),null;case 10:return gI(e.type._context),null;case 22:case 23:return NI(),null;case 24:return null;default:return null}}var xb=!1,Wi=!1,ede=typeof WeakSet=="function"?WeakSet:Set,et=null;function o0(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ln(t,e,n)}else r.current=null}function uC(t,e,r){try{r()}catch(n){ln(t,e,n)}}var _R=!1;function tde(t,e){if(G_=R3,t=NH(),cI(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,u=0,f=t,h=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(a=o+i),f!==s||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===r&&++c===i&&(a=o),h===s&&++u===n&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(K_={focusedElem:t,selectionRange:r},R3=!1,et=e;et!==null;)if(e=et,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,et=t;else for(;et!==null;){e=et;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,w=g.memoizedState,y=e.stateNode,E=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:Ma(e.type,m),w);y.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Le(163))}}catch(b){ln(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,et=t;break}et=e.return}return g=_R,_R=!1,g}function jm(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&uC(e,r,s)}i=i.next}while(i!==n)}}function D6(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function dC(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function $q(t){var e=t.alternate;e!==null&&(t.alternate=null,$q(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ml],delete e[my],delete e[J_],delete e[Due],delete e[Lue])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Iq(t){return t.tag===5||t.tag===3||t.tag===4}function CR(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Iq(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fC(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=M3));else if(n!==4&&(t=t.child,t!==null))for(fC(t,e,r),t=t.sibling;t!==null;)fC(t,e,r),t=t.sibling}function hC(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(hC(t,e,r),t=t.sibling;t!==null;)hC(t,e,r),t=t.sibling}var wi=null,La=!1;function Xu(t,e,r){for(r=r.child;r!==null;)kq(t,e,r),r=r.sibling}function kq(t,e,r){if(Kl&&typeof Kl.onCommitFiberUnmount=="function")try{Kl.onCommitFiberUnmount(k6,r)}catch{}switch(r.tag){case 5:Wi||o0(r,e);case 6:var n=wi,i=La;wi=null,Xu(t,e,r),wi=n,La=i,wi!==null&&(La?(t=wi,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):wi.removeChild(r.stateNode));break;case 18:wi!==null&&(La?(t=wi,r=r.stateNode,t.nodeType===8?zx(t.parentNode,r):t.nodeType===1&&zx(t,r),dy(t)):zx(wi,r.stateNode));break;case 4:n=wi,i=La,wi=r.stateNode.containerInfo,La=!0,Xu(t,e,r),wi=n,La=i;break;case 0:case 11:case 14:case 15:if(!Wi&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&uC(r,e,o),i=i.next}while(i!==n)}Xu(t,e,r);break;case 1:if(!Wi&&(o0(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){ln(r,e,a)}Xu(t,e,r);break;case 21:Xu(t,e,r);break;case 22:r.mode&1?(Wi=(n=Wi)||r.memoizedState!==null,Xu(t,e,r),Wi=n):Xu(t,e,r);break;default:Xu(t,e,r)}}function AR(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new ede),e.forEach(function(n){var i=ude.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Ea(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:wi=a.stateNode,La=!1;break e;case 3:wi=a.stateNode.containerInfo,La=!0;break e;case 4:wi=a.stateNode.containerInfo,La=!0;break e}a=a.return}if(wi===null)throw Error(Le(160));kq(s,o,i),wi=null,La=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){ln(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Tq(e,t),e=e.sibling}function Tq(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ea(e,t),pl(t),n&4){try{jm(3,t,t.return),D6(3,t)}catch(m){ln(t,t.return,m)}try{jm(5,t,t.return)}catch(m){ln(t,t.return,m)}}break;case 1:Ea(e,t),pl(t),n&512&&r!==null&&o0(r,r.return);break;case 5:if(Ea(e,t),pl(t),n&512&&r!==null&&o0(r,r.return),t.flags&32){var i=t.stateNode;try{ay(i,"")}catch(m){ln(t,t.return,m)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Qz(i,s),D_(a,o);var c=D_(a,s);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?nH(i,f):u==="dangerouslySetInnerHTML"?tH(i,f):u==="children"?ay(i,f):Z$(i,u,f,c)}switch(a){case"input":P_(i,s);break;case"textarea":Xz(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?_0(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?_0(i,!!s.multiple,s.defaultValue,!0):_0(i,!!s.multiple,s.multiple?[]:"",!1))}i[my]=s}catch(m){ln(t,t.return,m)}}break;case 6:if(Ea(e,t),pl(t),n&4){if(t.stateNode===null)throw Error(Le(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){ln(t,t.return,m)}}break;case 3:if(Ea(e,t),pl(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{dy(e.containerInfo)}catch(m){ln(t,t.return,m)}break;case 4:Ea(e,t),pl(t);break;case 13:Ea(e,t),pl(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(kI=pn())),n&4&&AR(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Wi=(c=Wi)||u,Ea(e,t),Wi=c):Ea(e,t),pl(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(et=t,u=t.child;u!==null;){for(f=et=u;et!==null;){switch(h=et,p=h.child,h.tag){case 0:case 11:case 14:case 15:jm(4,h,h.return);break;case 1:o0(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){ln(n,r,m)}}break;case 5:o0(h,h.return);break;case 22:if(h.memoizedState!==null){$R(f);continue}}p!==null?(p.return=h,et=p):$R(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=rH("display",o))}catch(m){ln(t,t.return,m)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){ln(t,t.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ea(e,t),pl(t),n&4&&AR(t);break;case 21:break;default:Ea(e,t),pl(t)}}function pl(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Iq(r)){var n=r;break e}r=r.return}throw Error(Le(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(ay(i,""),n.flags&=-33);var s=CR(t);hC(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=CR(t);fC(t,a,o);break;default:throw Error(Le(161))}}catch(l){ln(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function rde(t,e,r){et=t,Nq(t)}function Nq(t,e,r){for(var n=(t.mode&1)!==0;et!==null;){var i=et,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||xb;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Wi;a=xb;var c=Wi;if(xb=o,(Wi=l)&&!c)for(et=i;et!==null;)o=et,l=o.child,o.tag===22&&o.memoizedState!==null?IR(i):l!==null?(l.return=o,et=l):IR(i);for(;s!==null;)et=s,Nq(s),s=s.sibling;et=i,xb=a,Wi=c}SR(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,et=s):SR(t)}}function SR(t){for(;et!==null;){var e=et;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wi||D6(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Wi)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Ma(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&uR(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}uR(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&dy(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Le(163))}Wi||e.flags&512&&dC(e)}catch(h){ln(e,e.return,h)}}if(e===t){et=null;break}if(r=e.sibling,r!==null){r.return=e.return,et=r;break}et=e.return}}function $R(t){for(;et!==null;){var e=et;if(e===t){et=null;break}var r=e.sibling;if(r!==null){r.return=e.return,et=r;break}et=e.return}}function IR(t){for(;et!==null;){var e=et;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{D6(4,e)}catch(l){ln(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){ln(e,i,l)}}var s=e.return;try{dC(e)}catch(l){ln(e,s,l)}break;case 5:var o=e.return;try{dC(e)}catch(l){ln(e,o,l)}}}catch(l){ln(e,e.return,l)}if(e===t){et=null;break}var a=e.sibling;if(a!==null){a.return=e.return,et=a;break}et=e.return}}var nde=Math.ceil,G3=Wu.ReactCurrentDispatcher,$I=Wu.ReactCurrentOwner,oa=Wu.ReactCurrentBatchConfig,or=0,oi=null,Sn=null,xi=0,ho=0,a0=uf(0),jn=0,Ey=null,Ch=0,L6=0,II=0,Mm=null,Os=null,kI=0,i1=1/0,Hc=null,K3=!1,pC=null,Wd=null,Eb=!1,Pd=null,Y3=0,Dm=0,gC=null,Bv=-1,Uv=0;function cs(){return or&6?pn():Bv!==-1?Bv:Bv=pn()}function zd(t){return t.mode&1?or&2&&xi!==0?xi&-xi:Bue.transition!==null?(Uv===0&&(Uv=gH()),Uv):(t=Cr,t!==0||(t=window.event,t=t===void 0?16:EH(t.type)),t):1}function Va(t,e,r,n){if(50<Dm)throw Dm=0,gC=null,Error(Le(185));U2(t,r,n),(!(or&2)||t!==oi)&&(t===oi&&(!(or&2)&&(L6|=r),jn===4&&Cd(t,xi)),Ws(t,n),r===1&&or===0&&!(e.mode&1)&&(i1=pn()+500,O6&&df()))}function Ws(t,e){var r=t.callbackNode;Bce(t,e);var n=P3(t,t===oi?xi:0);if(n===0)r!==null&&DP(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&DP(r),e===1)t.tag===0?Fue(kR.bind(null,t)):UH(kR.bind(null,t)),jue(function(){!(or&6)&&df()}),r=null;else{switch(mH(n)){case 1:r=tI;break;case 4:r=hH;break;case 16:r=N3;break;case 536870912:r=pH;break;default:r=N3}r=Fq(r,Pq.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Pq(t,e){if(Bv=-1,Uv=0,or&6)throw Error(Le(327));var r=t.callbackNode;if(I0()&&t.callbackNode!==r)return null;var n=P3(t,t===oi?xi:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Z3(t,n);else{e=n;var i=or;or|=2;var s=Oq();(oi!==t||xi!==e)&&(Hc=null,i1=pn()+500,lh(t,e));do try{ode();break}catch(a){Rq(t,a)}while(!0);pI(),G3.current=s,or=i,Sn!==null?e=0:(oi=null,xi=0,e=jn)}if(e!==0){if(e===2&&(i=W_(t),i!==0&&(n=i,e=mC(t,i))),e===1)throw r=Ey,lh(t,0),Cd(t,n),Ws(t,pn()),r;if(e===6)Cd(t,n);else{if(i=t.current.alternate,!(n&30)&&!ide(i)&&(e=Z3(t,n),e===2&&(s=W_(t),s!==0&&(n=s,e=mC(t,s))),e===1))throw r=Ey,lh(t,0),Cd(t,n),Ws(t,pn()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Le(345));case 2:Df(t,Os,Hc);break;case 3:if(Cd(t,n),(n&130023424)===n&&(e=kI+500-pn(),10<e)){if(P3(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){cs(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Z_(Df.bind(null,t,Os,Hc),e);break}Df(t,Os,Hc);break;case 4:if(Cd(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-qa(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=pn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*nde(n/1960))-n,10<n){t.timeoutHandle=Z_(Df.bind(null,t,Os,Hc),n);break}Df(t,Os,Hc);break;case 5:Df(t,Os,Hc);break;default:throw Error(Le(329))}}}return Ws(t,pn()),t.callbackNode===r?Pq.bind(null,t):null}function mC(t,e){var r=Mm;return t.current.memoizedState.isDehydrated&&(lh(t,e).flags|=256),t=Z3(t,e),t!==2&&(e=Os,Os=r,e!==null&&yC(e)),t}function yC(t){Os===null?Os=t:Os.push.apply(Os,t)}function ide(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Ja(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Cd(t,e){for(e&=~II,e&=~L6,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-qa(e),n=1<<r;t[r]=-1,e&=~n}}function kR(t){if(or&6)throw Error(Le(327));I0();var e=P3(t,0);if(!(e&1))return Ws(t,pn()),null;var r=Z3(t,e);if(t.tag!==0&&r===2){var n=W_(t);n!==0&&(e=n,r=mC(t,n))}if(r===1)throw r=Ey,lh(t,0),Cd(t,e),Ws(t,pn()),r;if(r===6)throw Error(Le(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Df(t,Os,Hc),Ws(t,pn()),null}function TI(t,e){var r=or;or|=1;try{return t(e)}finally{or=r,or===0&&(i1=pn()+500,O6&&df())}}function Ah(t){Pd!==null&&Pd.tag===0&&!(or&6)&&I0();var e=or;or|=1;var r=oa.transition,n=Cr;try{if(oa.transition=null,Cr=1,t)return t()}finally{Cr=n,oa.transition=r,or=e,!(or&6)&&df()}}function NI(){ho=a0.current,Wr(a0)}function lh(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Oue(r)),Sn!==null)for(r=Sn.return;r!==null;){var n=r;switch(dI(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&D3();break;case 3:r1(),Wr(Bs),Wr(Ji),vI();break;case 5:bI(n);break;case 4:r1();break;case 13:Wr(tn);break;case 19:Wr(tn);break;case 10:gI(n.type._context);break;case 22:case 23:NI()}r=r.return}if(oi=t,Sn=t=Hd(t.current,null),xi=ho=e,jn=0,Ey=null,II=L6=Ch=0,Os=Mm=null,Yf!==null){for(e=0;e<Yf.length;e++)if(r=Yf[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Yf=null}return t}function Rq(t,e){do{var r=Sn;try{if(pI(),Dv.current=V3,q3){for(var n=nn.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}q3=!1}if(_h=0,Xn=Nn=nn=null,Om=!1,by=0,$I.current=null,r===null||r.return===null){jn=1,Ey=e,Sn=null;break}e:{var s=t,o=r.return,a=r,l=e;if(e=xi,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=mR(o);if(p!==null){p.flags&=-257,yR(p,o,a,s,e),p.mode&1&&gR(s,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var m=new Set;m.add(l),e.updateQueue=m}else g.add(l);break e}else{if(!(e&1)){gR(s,c,e),PI();break e}l=Error(Le(426))}}else if(Vr&&a.mode&1){var w=mR(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),yR(w,o,a,s,e),fI(n1(l,a));break e}}s=l=n1(l,a),jn!==4&&(jn=2),Mm===null?Mm=[s]:Mm.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=mq(s,l,e);cR(s,y);break e;case 1:a=l;var E=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Wd===null||!Wd.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=yq(s,a,e);cR(s,b);break e}}s=s.return}while(s!==null)}Mq(r)}catch($){e=$,Sn===r&&r!==null&&(Sn=r=r.return);continue}break}while(!0)}function Oq(){var t=G3.current;return G3.current=V3,t===null?V3:t}function PI(){(jn===0||jn===3||jn===2)&&(jn=4),oi===null||!(Ch&268435455)&&!(L6&268435455)||Cd(oi,xi)}function Z3(t,e){var r=or;or|=2;var n=Oq();(oi!==t||xi!==e)&&(Hc=null,lh(t,e));do try{sde();break}catch(i){Rq(t,i)}while(!0);if(pI(),or=r,G3.current=n,Sn!==null)throw Error(Le(261));return oi=null,xi=0,jn}function sde(){for(;Sn!==null;)jq(Sn)}function ode(){for(;Sn!==null&&!Nce();)jq(Sn)}function jq(t){var e=Lq(t.alternate,t,ho);t.memoizedProps=t.pendingProps,e===null?Mq(t):Sn=e,$I.current=null}function Mq(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Xue(r,e),r!==null){r.flags&=32767,Sn=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{jn=6,Sn=null;return}}else if(r=Que(r,e,ho),r!==null){Sn=r;return}if(e=e.sibling,e!==null){Sn=e;return}Sn=e=t}while(e!==null);jn===0&&(jn=5)}function Df(t,e,r){var n=Cr,i=oa.transition;try{oa.transition=null,Cr=1,ade(t,e,r,n)}finally{oa.transition=i,Cr=n}return null}function ade(t,e,r,n){do I0();while(Pd!==null);if(or&6)throw Error(Le(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Le(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(Uce(t,s),t===oi&&(Sn=oi=null,xi=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Eb||(Eb=!0,Fq(N3,function(){return I0(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=oa.transition,oa.transition=null;var o=Cr;Cr=1;var a=or;or|=4,$I.current=null,tde(t,r),Tq(r,t),$ue(K_),R3=!!G_,K_=G_=null,t.current=r,rde(r),Pce(),or=a,Cr=o,oa.transition=s}else t.current=r;if(Eb&&(Eb=!1,Pd=t,Y3=i),s=t.pendingLanes,s===0&&(Wd=null),jce(r.stateNode),Ws(t,pn()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(K3)throw K3=!1,t=pC,pC=null,t;return Y3&1&&t.tag!==0&&I0(),s=t.pendingLanes,s&1?t===gC?Dm++:(Dm=0,gC=t):Dm=0,df(),null}function I0(){if(Pd!==null){var t=mH(Y3),e=oa.transition,r=Cr;try{if(oa.transition=null,Cr=16>t?16:t,Pd===null)var n=!1;else{if(t=Pd,Pd=null,Y3=0,or&6)throw Error(Le(331));var i=or;for(or|=4,et=t.current;et!==null;){var s=et,o=s.child;if(et.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(et=c;et!==null;){var u=et;switch(u.tag){case 0:case 11:case 15:jm(8,u,s)}var f=u.child;if(f!==null)f.return=u,et=f;else for(;et!==null;){u=et;var h=u.sibling,p=u.return;if($q(u),u===c){et=null;break}if(h!==null){h.return=p,et=h;break}et=p}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}et=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,et=o;else e:for(;et!==null;){if(s=et,s.flags&2048)switch(s.tag){case 0:case 11:case 15:jm(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,et=y;break e}et=s.return}}var E=t.current;for(et=E;et!==null;){o=et;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,et=v;else e:for(o=E;et!==null;){if(a=et,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:D6(9,a)}}catch($){ln(a,a.return,$)}if(a===o){et=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,et=b;break e}et=a.return}}if(or=i,df(),Kl&&typeof Kl.onPostCommitFiberRoot=="function")try{Kl.onPostCommitFiberRoot(k6,t)}catch{}n=!0}return n}finally{Cr=r,oa.transition=e}}return!1}function TR(t,e,r){e=n1(r,e),e=mq(t,e,1),t=Ud(t,e,1),e=cs(),t!==null&&(U2(t,1,e),Ws(t,e))}function ln(t,e,r){if(t.tag===3)TR(t,t,r);else for(;e!==null;){if(e.tag===3){TR(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Wd===null||!Wd.has(n))){t=n1(r,t),t=yq(e,t,1),e=Ud(e,t,1),t=cs(),e!==null&&(U2(e,1,t),Ws(e,t));break}}e=e.return}}function lde(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=cs(),t.pingedLanes|=t.suspendedLanes&r,oi===t&&(xi&r)===r&&(jn===4||jn===3&&(xi&130023424)===xi&&500>pn()-kI?lh(t,0):II|=r),Ws(t,e)}function Dq(t,e){e===0&&(t.mode&1?(e=fb,fb<<=1,!(fb&130023424)&&(fb=4194304)):e=1);var r=cs();t=Eu(t,e),t!==null&&(U2(t,e,r),Ws(t,r))}function cde(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Dq(t,r)}function ude(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Le(314))}n!==null&&n.delete(e),Dq(t,r)}var Lq;Lq=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Bs.current)Ms=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ms=!1,Jue(t,e,r);Ms=!!(t.flags&131072)}else Ms=!1,Vr&&e.flags&1048576&&WH(e,B3,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Fv(t,e),t=e.pendingProps;var i=X0(e,Ji.current);$0(e,r),i=EI(null,e,n,t,i,r);var s=_I();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Us(n)?(s=!0,L3(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,yI(e),i.updater=M6,e.stateNode=i,i._reactInternals=e,nC(e,n,t,r),e=oC(null,e,n,!0,s,r)):(e.tag=0,Vr&&s&&uI(e),es(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Fv(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=fde(n),t=Ma(n,t),i){case 0:e=sC(null,e,n,t,r);break e;case 1:e=vR(null,e,n,t,r);break e;case 11:e=wR(null,e,n,t,r);break e;case 14:e=bR(null,e,n,Ma(n.type,t),r);break e}throw Error(Le(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ma(n,i),sC(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ma(n,i),vR(t,e,n,i,r);case 3:e:{if(xq(e),t===null)throw Error(Le(387));n=e.pendingProps,s=e.memoizedState,i=s.element,KH(t,e),z3(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=n1(Error(Le(423)),e),e=xR(t,e,n,r,i);break e}else if(n!==i){i=n1(Error(Le(424)),e),e=xR(t,e,n,r,i);break e}else for(bo=Bd(e.stateNode.containerInfo.firstChild),_o=e,Vr=!0,Fa=null,r=VH(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(e1(),n===i){e=_u(t,e,r);break e}es(t,e,n,r)}e=e.child}return e;case 5:return YH(e),t===null&&eC(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Y_(n,i)?o=null:s!==null&&Y_(n,s)&&(e.flags|=32),vq(t,e),es(t,e,o,r),e.child;case 6:return t===null&&eC(e),null;case 13:return Eq(t,e,r);case 4:return wI(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=t1(e,null,n,r):es(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ma(n,i),wR(t,e,n,i,r);case 7:return es(t,e,e.pendingProps,r),e.child;case 8:return es(t,e,e.pendingProps.children,r),e.child;case 12:return es(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Or(U3,n._currentValue),n._currentValue=o,s!==null)if(Ja(s.value,o)){if(s.children===i.children&&!Bs.current){e=_u(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=fu(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),tC(s.return,r,e),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Le(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),tC(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}es(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,$0(e,r),i=ua(i),n=n(i),e.flags|=1,es(t,e,n,r),e.child;case 14:return n=e.type,i=Ma(n,e.pendingProps),i=Ma(n.type,i),bR(t,e,n,i,r);case 15:return wq(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ma(n,i),Fv(t,e),e.tag=1,Us(n)?(t=!0,L3(e)):t=!1,$0(e,r),gq(e,n,i),nC(e,n,i,r),oC(null,e,n,!0,t,r);case 19:return _q(t,e,r);case 22:return bq(t,e,r)}throw Error(Le(156,e.tag))};function Fq(t,e){return fH(t,e)}function dde(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function na(t,e,r,n){return new dde(t,e,r,n)}function RI(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fde(t){if(typeof t=="function")return RI(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Q$)return 11;if(t===X$)return 14}return 2}function Hd(t,e){var r=t.alternate;return r===null?(r=na(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Wv(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")RI(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Jp:return ch(r.children,i,s,e);case J$:o=8,i|=8;break;case $_:return t=na(12,r,e,i|2),t.elementType=$_,t.lanes=s,t;case I_:return t=na(13,r,e,i),t.elementType=I_,t.lanes=s,t;case k_:return t=na(19,r,e,i),t.elementType=k_,t.lanes=s,t;case Yz:return F6(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Gz:o=10;break e;case Kz:o=9;break e;case Q$:o=11;break e;case X$:o=14;break e;case yd:o=16,n=null;break e}throw Error(Le(130,t==null?t:typeof t,""))}return e=na(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function ch(t,e,r,n){return t=na(7,t,n,e),t.lanes=r,t}function F6(t,e,r,n){return t=na(22,t,n,e),t.elementType=Yz,t.lanes=r,t.stateNode={isHidden:!1},t}function Jx(t,e,r){return t=na(6,t,null,e),t.lanes=r,t}function Qx(t,e,r){return e=na(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function hde(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Px(0),this.expirationTimes=Px(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Px(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function OI(t,e,r,n,i,s,o,a,l){return t=new hde(t,e,r,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=na(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},yI(s),t}function pde(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zp,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Bq(t){if(!t)return Qd;t=t._reactInternals;e:{if(ep(t)!==t||t.tag!==1)throw Error(Le(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Us(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Le(171))}if(t.tag===1){var r=t.type;if(Us(r))return BH(t,r,e)}return e}function Uq(t,e,r,n,i,s,o,a,l){return t=OI(r,n,!0,t,i,s,o,a,l),t.context=Bq(null),r=t.current,n=cs(),i=zd(r),s=fu(n,i),s.callback=e??null,Ud(r,s,i),t.current.lanes=i,U2(t,i,n),Ws(t,n),t}function B6(t,e,r,n){var i=e.current,s=cs(),o=zd(i);return r=Bq(r),e.context===null?e.context=r:e.pendingContext=r,e=fu(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ud(i,e,o),t!==null&&(Va(t,i,o,s),Mv(t,i,o)),o}function J3(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function NR(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function jI(t,e){NR(t,e),(t=t.alternate)&&NR(t,e)}function gde(){return null}var Wq=typeof reportError=="function"?reportError:function(t){console.error(t)};function MI(t){this._internalRoot=t}U6.prototype.render=MI.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Le(409));B6(t,e,null,null)};U6.prototype.unmount=MI.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ah(function(){B6(null,t,null,null)}),e[xu]=null}};function U6(t){this._internalRoot=t}U6.prototype.unstable_scheduleHydration=function(t){if(t){var e=bH();t={blockedOn:null,target:t,priority:e};for(var r=0;r<_d.length&&e!==0&&e<_d[r].priority;r++);_d.splice(r,0,t),r===0&&xH(t)}};function DI(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function W6(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function PR(){}function mde(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=J3(o);s.call(c)}}var o=Uq(e,n,t,0,null,!1,!1,"",PR);return t._reactRootContainer=o,t[xu]=o.current,py(t.nodeType===8?t.parentNode:t),Ah(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var c=J3(l);a.call(c)}}var l=OI(t,0,!1,null,null,!1,!1,"",PR);return t._reactRootContainer=l,t[xu]=l.current,py(t.nodeType===8?t.parentNode:t),Ah(function(){B6(e,l,r,n)}),l}function z6(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=J3(o);a.call(l)}}B6(e,o,t,i)}else o=mde(r,e,t,i,n);return J3(o)}yH=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=hm(e.pendingLanes);r!==0&&(rI(e,r|1),Ws(e,pn()),!(or&6)&&(i1=pn()+500,df()))}break;case 13:Ah(function(){var n=Eu(t,1);if(n!==null){var i=cs();Va(n,t,1,i)}}),jI(t,1)}};nI=function(t){if(t.tag===13){var e=Eu(t,134217728);if(e!==null){var r=cs();Va(e,t,134217728,r)}jI(t,134217728)}};wH=function(t){if(t.tag===13){var e=zd(t),r=Eu(t,e);if(r!==null){var n=cs();Va(r,t,e,n)}jI(t,e)}};bH=function(){return Cr};vH=function(t,e){var r=Cr;try{return Cr=t,e()}finally{Cr=r}};F_=function(t,e,r){switch(e){case"input":if(P_(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=R6(n);if(!i)throw Error(Le(90));Jz(n),P_(n,i)}}}break;case"textarea":Xz(t,r);break;case"select":e=r.value,e!=null&&_0(t,!!r.multiple,e,!1)}};oH=TI;aH=Ah;var yde={usingClientEntryPoint:!1,Events:[z2,t0,R6,iH,sH,TI]},Og={findFiberByHostInstance:Kf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wde={bundleType:Og.bundleType,version:Og.version,rendererPackageName:Og.rendererPackageName,rendererConfig:Og.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wu.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=uH(t),t===null?null:t.stateNode},findFiberByHostInstance:Og.findFiberByHostInstance||gde,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _b=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_b.isDisabled&&_b.supportsFiber)try{k6=_b.inject(wde),Kl=_b}catch{}}To.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yde;To.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!DI(e))throw Error(Le(200));return pde(t,e,null,r)};To.createRoot=function(t,e){if(!DI(t))throw Error(Le(299));var r=!1,n="",i=Wq;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=OI(t,1,!1,null,null,r,!1,n,i),t[xu]=e.current,py(t.nodeType===8?t.parentNode:t),new MI(e)};To.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Le(188)):(t=Object.keys(t).join(","),Error(Le(268,t)));return t=uH(e),t=t===null?null:t.stateNode,t};To.flushSync=function(t){return Ah(t)};To.hydrate=function(t,e,r){if(!W6(e))throw Error(Le(200));return z6(null,t,e,!0,r)};To.hydrateRoot=function(t,e,r){if(!DI(t))throw Error(Le(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=Wq;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Uq(e,null,t,1,r??null,i,!1,s,o),t[xu]=e.current,py(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new U6(e)};To.render=function(t,e,r){if(!W6(e))throw Error(Le(200));return z6(null,t,e,!1,r)};To.unmountComponentAtNode=function(t){if(!W6(t))throw Error(Le(40));return t._reactRootContainer?(Ah(function(){z6(null,null,t,!1,function(){t._reactRootContainer=null,t[xu]=null})}),!0):!1};To.unstable_batchedUpdates=TI;To.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!W6(r))throw Error(Le(200));if(t==null||t._reactInternals===void 0)throw Error(Le(38));return z6(t,e,r,!1,n)};To.version="18.3.1-next-f1338f8080-20240426";function zq(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zq)}catch(t){console.error(t)}}zq(),zz.exports=To;var Cu=zz.exports,Hq,RR=Cu;Hq=RR.createRoot,RR.hydrateRoot;const bde="modulepreload",vde=function(t){return"/"+t},OR={},hu=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=vde(l),l in OR)return;OR[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":bde,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};var Bn={},H6={};H6.byteLength=_de;H6.toByteArray=Ade;H6.fromByteArray=Ide;var Dl=[],Go=[],xde=typeof Uint8Array<"u"?Uint8Array:Array,Xx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Cp=0,Ede=Xx.length;Cp<Ede;++Cp)Dl[Cp]=Xx[Cp],Go[Xx.charCodeAt(Cp)]=Cp;Go[45]=62;Go[95]=63;function qq(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function _de(t){var e=qq(t),r=e[0],n=e[1];return(r+n)*3/4-n}function Cde(t,e,r){return(e+r)*3/4-r}function Ade(t){var e,r=qq(t),n=r[0],i=r[1],s=new xde(Cde(t,n,i)),o=0,a=i>0?n-4:n,l;for(l=0;l<a;l+=4)e=Go[t.charCodeAt(l)]<<18|Go[t.charCodeAt(l+1)]<<12|Go[t.charCodeAt(l+2)]<<6|Go[t.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=Go[t.charCodeAt(l)]<<2|Go[t.charCodeAt(l+1)]>>4,s[o++]=e&255),i===1&&(e=Go[t.charCodeAt(l)]<<10|Go[t.charCodeAt(l+1)]<<4|Go[t.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function Sde(t){return Dl[t>>18&63]+Dl[t>>12&63]+Dl[t>>6&63]+Dl[t&63]}function $de(t,e,r){for(var n,i=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(Sde(n));return i.join("")}function Ide(t){for(var e,r=t.length,n=r%3,i=[],s=16383,o=0,a=r-n;o<a;o+=s)i.push($de(t,o,o+s>a?a:o+s));return n===1?(e=t[r-1],i.push(Dl[e>>2]+Dl[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(Dl[e>>10]+Dl[e>>4&63]+Dl[e<<2&63]+"=")),i.join("")}var LI={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */LI.read=function(t,e,r,n,i){var s,o,a=i*8-n-1,l=(1<<a)-1,c=l>>1,u=-7,f=r?i-1:0,h=r?-1:1,p=t[e+f];for(f+=h,s=p&(1<<-u)-1,p>>=-u,u+=a;u>0;s=s*256+t[e+f],f+=h,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=n;u>0;o=o*256+t[e+f],f+=h,u-=8);if(s===0)s=1-c;else{if(s===l)return o?NaN:(p?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-c}return(p?-1:1)*o*Math.pow(2,s-n)};LI.write=function(t,e,r,n,i,s){var o,a,l,c=s*8-i-1,u=(1<<c)-1,f=u>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:s-1,g=n?1:-1,m=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+f>=1?e+=h/l:e+=h*Math.pow(2,1-f),e*l>=2&&(o++,l/=2),o+f>=u?(a=0,o=u):o+f>=1?(a=(e*l-1)*Math.pow(2,i),o=o+f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;t[r+p]=a&255,p+=g,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;t[r+p]=o&255,p+=g,o/=256,c-=8);t[r+p-g]|=m*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=H6,r=LI,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=$,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i;const{Uint8Array:s,ArrayBuffer:o,SharedArrayBuffer:a}=globalThis;u.TYPED_ARRAY_SUPPORT=l(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{const Z=new s(1),j={foo:function(){return 42}};return Object.setPrototypeOf(j,s.prototype),Object.setPrototypeOf(Z,j),Z.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function c(Z){if(Z>i)throw new RangeError('The value "'+Z+'" is invalid for option "size"');const j=new s(Z);return Object.setPrototypeOf(j,u.prototype),j}function u(Z,j,L){if(typeof Z=="number"){if(typeof j=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(Z)}return f(Z,j,L)}u.poolSize=8192;function f(Z,j,L){if(typeof Z=="string")return m(Z,j);if(o.isView(Z))return y(Z);if(Z==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Z);if(Me(Z,o)||Z&&Me(Z.buffer,o)||typeof a<"u"&&(Me(Z,a)||Z&&Me(Z.buffer,a)))return E(Z,j,L);if(typeof Z=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const X=Z.valueOf&&Z.valueOf();if(X!=null&&X!==Z)return u.from(X,j,L);const ae=v(Z);if(ae)return ae;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Z[Symbol.toPrimitive]=="function")return u.from(Z[Symbol.toPrimitive]("string"),j,L);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Z)}u.from=function(Z,j,L){return f(Z,j,L)},Object.setPrototypeOf(u.prototype,s.prototype),Object.setPrototypeOf(u,s);function h(Z){if(typeof Z!="number")throw new TypeError('"size" argument must be of type number');if(Z<0)throw new RangeError('The value "'+Z+'" is invalid for option "size"')}function p(Z,j,L){return h(Z),Z<=0?c(Z):j!==void 0?typeof L=="string"?c(Z).fill(j,L):c(Z).fill(j):c(Z)}u.alloc=function(Z,j,L){return p(Z,j,L)};function g(Z){return h(Z),c(Z<0?0:b(Z)|0)}u.allocUnsafe=function(Z){return g(Z)},u.allocUnsafeSlow=function(Z){return g(Z)};function m(Z,j){if((typeof j!="string"||j==="")&&(j="utf8"),!u.isEncoding(j))throw new TypeError("Unknown encoding: "+j);const L=P(Z,j)|0;let X=c(L);const ae=X.write(Z,j);return ae!==L&&(X=X.slice(0,ae)),X}function w(Z){const j=Z.length<0?0:b(Z.length)|0,L=c(j);for(let X=0;X<j;X+=1)L[X]=Z[X]&255;return L}function y(Z){if(Me(Z,s)){const j=new s(Z);return E(j.buffer,j.byteOffset,j.byteLength)}return w(Z)}function E(Z,j,L){if(j<0||Z.byteLength<j)throw new RangeError('"offset" is outside of buffer bounds');if(Z.byteLength<j+(L||0))throw new RangeError('"length" is outside of buffer bounds');let X;return j===void 0&&L===void 0?X=new s(Z):L===void 0?X=new s(Z,j):X=new s(Z,j,L),Object.setPrototypeOf(X,u.prototype),X}function v(Z){if(u.isBuffer(Z)){const j=b(Z.length)|0,L=c(j);return L.length===0||Z.copy(L,0,0,j),L}if(Z.length!==void 0)return typeof Z.length!="number"||ke(Z.length)?c(0):w(Z);if(Z.type==="Buffer"&&Array.isArray(Z.data))return w(Z.data)}function b(Z){if(Z>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return Z|0}function $(Z){return+Z!=Z&&(Z=0),u.alloc(+Z)}u.isBuffer=function(j){return j!=null&&j._isBuffer===!0&&j!==u.prototype},u.compare=function(j,L){if(Me(j,s)&&(j=u.from(j,j.offset,j.byteLength)),Me(L,s)&&(L=u.from(L,L.offset,L.byteLength)),!u.isBuffer(j)||!u.isBuffer(L))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(j===L)return 0;let X=j.length,ae=L.length;for(let fe=0,ge=Math.min(X,ae);fe<ge;++fe)if(j[fe]!==L[fe]){X=j[fe],ae=L[fe];break}return X<ae?-1:ae<X?1:0},u.isEncoding=function(j){switch(String(j).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(j,L){if(!Array.isArray(j))throw new TypeError('"list" argument must be an Array of Buffers');if(j.length===0)return u.alloc(0);let X;if(L===void 0)for(L=0,X=0;X<j.length;++X)L+=j[X].length;const ae=u.allocUnsafe(L);let fe=0;for(X=0;X<j.length;++X){let ge=j[X];if(Me(ge,s))fe+ge.length>ae.length?(u.isBuffer(ge)||(ge=u.from(ge)),ge.copy(ae,fe)):s.prototype.set.call(ae,ge,fe);else if(u.isBuffer(ge))ge.copy(ae,fe);else throw new TypeError('"list" argument must be an Array of Buffers');fe+=ge.length}return ae};function P(Z,j){if(u.isBuffer(Z))return Z.length;if(o.isView(Z)||Me(Z,o))return Z.byteLength;if(typeof Z!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Z);const L=Z.length,X=arguments.length>2&&arguments[2]===!0;if(!X&&L===0)return 0;let ae=!1;for(;;)switch(j){case"ascii":case"latin1":case"binary":return L;case"utf8":case"utf-8":return he(Z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L*2;case"hex":return L>>>1;case"base64":return we(Z).length;default:if(ae)return X?-1:he(Z).length;j=(""+j).toLowerCase(),ae=!0}}u.byteLength=P;function O(Z,j,L){let X=!1;if((j===void 0||j<0)&&(j=0),j>this.length||((L===void 0||L>this.length)&&(L=this.length),L<=0)||(L>>>=0,j>>>=0,L<=j))return"";for(Z||(Z="utf8");;)switch(Z){case"hex":return S(this,j,L);case"utf8":case"utf-8":return T(this,j,L);case"ascii":return M(this,j,L);case"latin1":case"binary":return U(this,j,L);case"base64":return A(this,j,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,j,L);default:if(X)throw new TypeError("Unknown encoding: "+Z);Z=(Z+"").toLowerCase(),X=!0}}u.prototype._isBuffer=!0;function D(Z,j,L){const X=Z[j];Z[j]=Z[L],Z[L]=X}u.prototype.swap16=function(){const j=this.length;if(j%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let L=0;L<j;L+=2)D(this,L,L+1);return this},u.prototype.swap32=function(){const j=this.length;if(j%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let L=0;L<j;L+=4)D(this,L,L+3),D(this,L+1,L+2);return this},u.prototype.swap64=function(){const j=this.length;if(j%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let L=0;L<j;L+=8)D(this,L,L+7),D(this,L+1,L+6),D(this,L+2,L+5),D(this,L+3,L+4);return this},u.prototype.toString=function(){const j=this.length;return j===0?"":arguments.length===0?T(this,0,j):O.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(j){if(!u.isBuffer(j))throw new TypeError("Argument must be a Buffer");return this===j?!0:u.compare(this,j)===0},u.prototype.inspect=function(){let j="";const L=t.INSPECT_MAX_BYTES;return j=this.toString("hex",0,L).replace(/(.{2})/g,"$1 ").trim(),this.length>L&&(j+=" ... "),"<Buffer "+j+">"},n&&(u.prototype[n]=u.prototype.inspect),u.prototype.compare=function(j,L,X,ae,fe){if(Me(j,s)&&(j=u.from(j,j.offset,j.byteLength)),!u.isBuffer(j))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof j);if(L===void 0&&(L=0),X===void 0&&(X=j?j.length:0),ae===void 0&&(ae=0),fe===void 0&&(fe=this.length),L<0||X>j.length||ae<0||fe>this.length)throw new RangeError("out of range index");if(ae>=fe&&L>=X)return 0;if(ae>=fe)return-1;if(L>=X)return 1;if(L>>>=0,X>>>=0,ae>>>=0,fe>>>=0,this===j)return 0;let ge=fe-ae,Ie=X-L;const Se=Math.min(ge,Ie),Ve=this.slice(ae,fe),_t=j.slice(L,X);for(let Ge=0;Ge<Se;++Ge)if(Ve[Ge]!==_t[Ge]){ge=Ve[Ge],Ie=_t[Ge];break}return ge<Ie?-1:Ie<ge?1:0};function B(Z,j,L,X,ae){if(Z.length===0)return-1;if(typeof L=="string"?(X=L,L=0):L>2147483647?L=2147483647:L<-2147483648&&(L=-2147483648),L=+L,ke(L)&&(L=ae?0:Z.length-1),L<0&&(L=Z.length+L),L>=Z.length){if(ae)return-1;L=Z.length-1}else if(L<0)if(ae)L=0;else return-1;if(typeof j=="string"&&(j=u.from(j,X)),u.isBuffer(j))return j.length===0?-1:H(Z,j,L,X,ae);if(typeof j=="number")return j=j&255,typeof s.prototype.indexOf=="function"?ae?s.prototype.indexOf.call(Z,j,L):s.prototype.lastIndexOf.call(Z,j,L):H(Z,[j],L,X,ae);throw new TypeError("val must be string, number or Buffer")}function H(Z,j,L,X,ae){let fe=1,ge=Z.length,Ie=j.length;if(X!==void 0&&(X=String(X).toLowerCase(),X==="ucs2"||X==="ucs-2"||X==="utf16le"||X==="utf-16le")){if(Z.length<2||j.length<2)return-1;fe=2,ge/=2,Ie/=2,L/=2}function Se(_t,Ge){return fe===1?_t[Ge]:_t.readUInt16BE(Ge*fe)}let Ve;if(ae){let _t=-1;for(Ve=L;Ve<ge;Ve++)if(Se(Z,Ve)===Se(j,_t===-1?0:Ve-_t)){if(_t===-1&&(_t=Ve),Ve-_t+1===Ie)return _t*fe}else _t!==-1&&(Ve-=Ve-_t),_t=-1}else for(L+Ie>ge&&(L=ge-Ie),Ve=L;Ve>=0;Ve--){let _t=!0;for(let Ge=0;Ge<Ie;Ge++)if(Se(Z,Ve+Ge)!==Se(j,Ge)){_t=!1;break}if(_t)return Ve}return-1}u.prototype.includes=function(j,L,X){return this.indexOf(j,L,X)!==-1},u.prototype.indexOf=function(j,L,X){return B(this,j,L,X,!0)},u.prototype.lastIndexOf=function(j,L,X){return B(this,j,L,X,!1)};function q(Z,j,L,X){L=Number(L)||0;const ae=Z.length-L;X?(X=Number(X),X>ae&&(X=ae)):X=ae;const fe=j.length;X>fe/2&&(X=fe/2);let ge;for(ge=0;ge<X;++ge){const Ie=parseInt(j.substr(ge*2,2),16);if(ke(Ie))return ge;Z[L+ge]=Ie}return ge}function Y(Z,j,L,X){return _e(he(j,Z.length-L),Z,L,X)}function R(Z,j,L,X){return _e(ht(j),Z,L,X)}function _(Z,j,L,X){return _e(we(j),Z,L,X)}function x(Z,j,L,X){return _e(De(j,Z.length-L),Z,L,X)}u.prototype.write=function(j,L,X,ae){if(L===void 0)ae="utf8",X=this.length,L=0;else if(X===void 0&&typeof L=="string")ae=L,X=this.length,L=0;else if(isFinite(L))L=L>>>0,isFinite(X)?(X=X>>>0,ae===void 0&&(ae="utf8")):(ae=X,X=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const fe=this.length-L;if((X===void 0||X>fe)&&(X=fe),j.length>0&&(X<0||L<0)||L>this.length)throw new RangeError("Attempt to write outside buffer bounds");ae||(ae="utf8");let ge=!1;for(;;)switch(ae){case"hex":return q(this,j,L,X);case"utf8":case"utf-8":return Y(this,j,L,X);case"ascii":case"latin1":case"binary":return R(this,j,L,X);case"base64":return _(this,j,L,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,j,L,X);default:if(ge)throw new TypeError("Unknown encoding: "+ae);ae=(""+ae).toLowerCase(),ge=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function A(Z,j,L){return j===0&&L===Z.length?e.fromByteArray(Z):e.fromByteArray(Z.slice(j,L))}function T(Z,j,L){L=Math.min(Z.length,L);const X=[];let ae=j;for(;ae<L;){const fe=Z[ae];let ge=null,Ie=fe>239?4:fe>223?3:fe>191?2:1;if(ae+Ie<=L){let Se,Ve,_t,Ge;switch(Ie){case 1:fe<128&&(ge=fe);break;case 2:Se=Z[ae+1],(Se&192)===128&&(Ge=(fe&31)<<6|Se&63,Ge>127&&(ge=Ge));break;case 3:Se=Z[ae+1],Ve=Z[ae+2],(Se&192)===128&&(Ve&192)===128&&(Ge=(fe&15)<<12|(Se&63)<<6|Ve&63,Ge>2047&&(Ge<55296||Ge>57343)&&(ge=Ge));break;case 4:Se=Z[ae+1],Ve=Z[ae+2],_t=Z[ae+3],(Se&192)===128&&(Ve&192)===128&&(_t&192)===128&&(Ge=(fe&15)<<18|(Se&63)<<12|(Ve&63)<<6|_t&63,Ge>65535&&Ge<1114112&&(ge=Ge))}}ge===null?(ge=65533,Ie=1):ge>65535&&(ge-=65536,X.push(ge>>>10&1023|55296),ge=56320|ge&1023),X.push(ge),ae+=Ie}return N(X)}const I=4096;function N(Z){const j=Z.length;if(j<=I)return String.fromCharCode.apply(String,Z);let L="",X=0;for(;X<j;)L+=String.fromCharCode.apply(String,Z.slice(X,X+=I));return L}function M(Z,j,L){let X="";L=Math.min(Z.length,L);for(let ae=j;ae<L;++ae)X+=String.fromCharCode(Z[ae]&127);return X}function U(Z,j,L){let X="";L=Math.min(Z.length,L);for(let ae=j;ae<L;++ae)X+=String.fromCharCode(Z[ae]);return X}function S(Z,j,L){const X=Z.length;(!j||j<0)&&(j=0),(!L||L<0||L>X)&&(L=X);let ae="";for(let fe=j;fe<L;++fe)ae+=Te[Z[fe]];return ae}function F(Z,j,L){const X=Z.slice(j,L);let ae="";for(let fe=0;fe<X.length-1;fe+=2)ae+=String.fromCharCode(X[fe]+X[fe+1]*256);return ae}u.prototype.slice=function(j,L){const X=this.length;j=~~j,L=L===void 0?X:~~L,j<0?(j+=X,j<0&&(j=0)):j>X&&(j=X),L<0?(L+=X,L<0&&(L=0)):L>X&&(L=X),L<j&&(L=j);const ae=this.subarray(j,L);return Object.setPrototypeOf(ae,u.prototype),ae};function Q(Z,j,L){if(Z%1!==0||Z<0)throw new RangeError("offset is not uint");if(Z+j>L)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(j,L,X){j=j>>>0,L=L>>>0,X||Q(j,L,this.length);let ae=this[j],fe=1,ge=0;for(;++ge<L&&(fe*=256);)ae+=this[j+ge]*fe;return ae},u.prototype.readUintBE=u.prototype.readUIntBE=function(j,L,X){j=j>>>0,L=L>>>0,X||Q(j,L,this.length);let ae=this[j+--L],fe=1;for(;L>0&&(fe*=256);)ae+=this[j+--L]*fe;return ae},u.prototype.readUint8=u.prototype.readUInt8=function(j,L){return j=j>>>0,L||Q(j,1,this.length),this[j]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(j,L){return j=j>>>0,L||Q(j,2,this.length),this[j]|this[j+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(j,L){return j=j>>>0,L||Q(j,2,this.length),this[j]<<8|this[j+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(j,L){return j=j>>>0,L||Q(j,4,this.length),(this[j]|this[j+1]<<8|this[j+2]<<16)+this[j+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(j,L){return j=j>>>0,L||Q(j,4,this.length),this[j]*16777216+(this[j+1]<<16|this[j+2]<<8|this[j+3])},u.prototype.readBigUInt64LE=Ue(function(j){j=j>>>0,Ne(j,"offset");const L=this[j],X=this[j+7];(L===void 0||X===void 0)&&je(j,this.length-8);const ae=L+this[++j]*2**8+this[++j]*2**16+this[++j]*2**24,fe=this[++j]+this[++j]*2**8+this[++j]*2**16+X*2**24;return BigInt(ae)+(BigInt(fe)<<BigInt(32))}),u.prototype.readBigUInt64BE=Ue(function(j){j=j>>>0,Ne(j,"offset");const L=this[j],X=this[j+7];(L===void 0||X===void 0)&&je(j,this.length-8);const ae=L*2**24+this[++j]*2**16+this[++j]*2**8+this[++j],fe=this[++j]*2**24+this[++j]*2**16+this[++j]*2**8+X;return(BigInt(ae)<<BigInt(32))+BigInt(fe)}),u.prototype.readIntLE=function(j,L,X){j=j>>>0,L=L>>>0,X||Q(j,L,this.length);let ae=this[j],fe=1,ge=0;for(;++ge<L&&(fe*=256);)ae+=this[j+ge]*fe;return fe*=128,ae>=fe&&(ae-=Math.pow(2,8*L)),ae},u.prototype.readIntBE=function(j,L,X){j=j>>>0,L=L>>>0,X||Q(j,L,this.length);let ae=L,fe=1,ge=this[j+--ae];for(;ae>0&&(fe*=256);)ge+=this[j+--ae]*fe;return fe*=128,ge>=fe&&(ge-=Math.pow(2,8*L)),ge},u.prototype.readInt8=function(j,L){return j=j>>>0,L||Q(j,1,this.length),this[j]&128?(255-this[j]+1)*-1:this[j]},u.prototype.readInt16LE=function(j,L){j=j>>>0,L||Q(j,2,this.length);const X=this[j]|this[j+1]<<8;return X&32768?X|4294901760:X},u.prototype.readInt16BE=function(j,L){j=j>>>0,L||Q(j,2,this.length);const X=this[j+1]|this[j]<<8;return X&32768?X|4294901760:X},u.prototype.readInt32LE=function(j,L){return j=j>>>0,L||Q(j,4,this.length),this[j]|this[j+1]<<8|this[j+2]<<16|this[j+3]<<24},u.prototype.readInt32BE=function(j,L){return j=j>>>0,L||Q(j,4,this.length),this[j]<<24|this[j+1]<<16|this[j+2]<<8|this[j+3]},u.prototype.readBigInt64LE=Ue(function(j){j=j>>>0,Ne(j,"offset");const L=this[j],X=this[j+7];(L===void 0||X===void 0)&&je(j,this.length-8);const ae=this[j+4]+this[j+5]*2**8+this[j+6]*2**16+(X<<24);return(BigInt(ae)<<BigInt(32))+BigInt(L+this[++j]*2**8+this[++j]*2**16+this[++j]*2**24)}),u.prototype.readBigInt64BE=Ue(function(j){j=j>>>0,Ne(j,"offset");const L=this[j],X=this[j+7];(L===void 0||X===void 0)&&je(j,this.length-8);const ae=(L<<24)+this[++j]*2**16+this[++j]*2**8+this[++j];return(BigInt(ae)<<BigInt(32))+BigInt(this[++j]*2**24+this[++j]*2**16+this[++j]*2**8+X)}),u.prototype.readFloatLE=function(j,L){return j=j>>>0,L||Q(j,4,this.length),r.read(this,j,!0,23,4)},u.prototype.readFloatBE=function(j,L){return j=j>>>0,L||Q(j,4,this.length),r.read(this,j,!1,23,4)},u.prototype.readDoubleLE=function(j,L){return j=j>>>0,L||Q(j,8,this.length),r.read(this,j,!0,52,8)},u.prototype.readDoubleBE=function(j,L){return j=j>>>0,L||Q(j,8,this.length),r.read(this,j,!1,52,8)};function k(Z,j,L,X,ae,fe){if(!u.isBuffer(Z))throw new TypeError('"buffer" argument must be a Buffer instance');if(j>ae||j<fe)throw new RangeError('"value" argument is out of bounds');if(L+X>Z.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(j,L,X,ae){if(j=+j,L=L>>>0,X=X>>>0,!ae){const Ie=Math.pow(2,8*X)-1;k(this,j,L,X,Ie,0)}let fe=1,ge=0;for(this[L]=j&255;++ge<X&&(fe*=256);)this[L+ge]=j/fe&255;return L+X},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(j,L,X,ae){if(j=+j,L=L>>>0,X=X>>>0,!ae){const Ie=Math.pow(2,8*X)-1;k(this,j,L,X,Ie,0)}let fe=X-1,ge=1;for(this[L+fe]=j&255;--fe>=0&&(ge*=256);)this[L+fe]=j/ge&255;return L+X},u.prototype.writeUint8=u.prototype.writeUInt8=function(j,L,X){return j=+j,L=L>>>0,X||k(this,j,L,1,255,0),this[L]=j&255,L+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(j,L,X){return j=+j,L=L>>>0,X||k(this,j,L,2,65535,0),this[L]=j&255,this[L+1]=j>>>8,L+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(j,L,X){return j=+j,L=L>>>0,X||k(this,j,L,2,65535,0),this[L]=j>>>8,this[L+1]=j&255,L+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(j,L,X){return j=+j,L=L>>>0,X||k(this,j,L,4,4294967295,0),this[L+3]=j>>>24,this[L+2]=j>>>16,this[L+1]=j>>>8,this[L]=j&255,L+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(j,L,X){return j=+j,L=L>>>0,X||k(this,j,L,4,4294967295,0),this[L]=j>>>24,this[L+1]=j>>>16,this[L+2]=j>>>8,this[L+3]=j&255,L+4};function W(Z,j,L,X,ae){ye(j,X,ae,Z,L,7);let fe=Number(j&BigInt(4294967295));Z[L++]=fe,fe=fe>>8,Z[L++]=fe,fe=fe>>8,Z[L++]=fe,fe=fe>>8,Z[L++]=fe;let ge=Number(j>>BigInt(32)&BigInt(4294967295));return Z[L++]=ge,ge=ge>>8,Z[L++]=ge,ge=ge>>8,Z[L++]=ge,ge=ge>>8,Z[L++]=ge,L}function V(Z,j,L,X,ae){ye(j,X,ae,Z,L,7);let fe=Number(j&BigInt(4294967295));Z[L+7]=fe,fe=fe>>8,Z[L+6]=fe,fe=fe>>8,Z[L+5]=fe,fe=fe>>8,Z[L+4]=fe;let ge=Number(j>>BigInt(32)&BigInt(4294967295));return Z[L+3]=ge,ge=ge>>8,Z[L+2]=ge,ge=ge>>8,Z[L+1]=ge,ge=ge>>8,Z[L]=ge,L+8}u.prototype.writeBigUInt64LE=Ue(function(j,L=0){return W(this,j,L,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=Ue(function(j,L=0){return V(this,j,L,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(j,L,X,ae){if(j=+j,L=L>>>0,!ae){const Se=Math.pow(2,8*X-1);k(this,j,L,X,Se-1,-Se)}let fe=0,ge=1,Ie=0;for(this[L]=j&255;++fe<X&&(ge*=256);)j<0&&Ie===0&&this[L+fe-1]!==0&&(Ie=1),this[L+fe]=(j/ge>>0)-Ie&255;return L+X},u.prototype.writeIntBE=function(j,L,X,ae){if(j=+j,L=L>>>0,!ae){const Se=Math.pow(2,8*X-1);k(this,j,L,X,Se-1,-Se)}let fe=X-1,ge=1,Ie=0;for(this[L+fe]=j&255;--fe>=0&&(ge*=256);)j<0&&Ie===0&&this[L+fe+1]!==0&&(Ie=1),this[L+fe]=(j/ge>>0)-Ie&255;return L+X},u.prototype.writeInt8=function(j,L,X){return j=+j,L=L>>>0,X||k(this,j,L,1,127,-128),j<0&&(j=255+j+1),this[L]=j&255,L+1},u.prototype.writeInt16LE=function(j,L,X){return j=+j,L=L>>>0,X||k(this,j,L,2,32767,-32768),this[L]=j&255,this[L+1]=j>>>8,L+2},u.prototype.writeInt16BE=function(j,L,X){return j=+j,L=L>>>0,X||k(this,j,L,2,32767,-32768),this[L]=j>>>8,this[L+1]=j&255,L+2},u.prototype.writeInt32LE=function(j,L,X){return j=+j,L=L>>>0,X||k(this,j,L,4,2147483647,-2147483648),this[L]=j&255,this[L+1]=j>>>8,this[L+2]=j>>>16,this[L+3]=j>>>24,L+4},u.prototype.writeInt32BE=function(j,L,X){return j=+j,L=L>>>0,X||k(this,j,L,4,2147483647,-2147483648),j<0&&(j=4294967295+j+1),this[L]=j>>>24,this[L+1]=j>>>16,this[L+2]=j>>>8,this[L+3]=j&255,L+4},u.prototype.writeBigInt64LE=Ue(function(j,L=0){return W(this,j,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=Ue(function(j,L=0){return V(this,j,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ee(Z,j,L,X,ae,fe){if(L+X>Z.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("Index out of range")}function te(Z,j,L,X,ae){return j=+j,L=L>>>0,ae||ee(Z,j,L,4),r.write(Z,j,L,X,23,4),L+4}u.prototype.writeFloatLE=function(j,L,X){return te(this,j,L,!0,X)},u.prototype.writeFloatBE=function(j,L,X){return te(this,j,L,!1,X)};function ce(Z,j,L,X,ae){return j=+j,L=L>>>0,ae||ee(Z,j,L,8),r.write(Z,j,L,X,52,8),L+8}u.prototype.writeDoubleLE=function(j,L,X){return ce(this,j,L,!0,X)},u.prototype.writeDoubleBE=function(j,L,X){return ce(this,j,L,!1,X)},u.prototype.copy=function(j,L,X,ae){if(!u.isBuffer(j))throw new TypeError("argument should be a Buffer");if(X||(X=0),!ae&&ae!==0&&(ae=this.length),L>=j.length&&(L=j.length),L||(L=0),ae>0&&ae<X&&(ae=X),ae===X||j.length===0||this.length===0)return 0;if(L<0)throw new RangeError("targetStart out of bounds");if(X<0||X>=this.length)throw new RangeError("Index out of range");if(ae<0)throw new RangeError("sourceEnd out of bounds");ae>this.length&&(ae=this.length),j.length-L<ae-X&&(ae=j.length-L+X);const fe=ae-X;return this===j&&typeof s.prototype.copyWithin=="function"?this.copyWithin(L,X,ae):s.prototype.set.call(j,this.subarray(X,ae),L),fe},u.prototype.fill=function(j,L,X,ae){if(typeof j=="string"){if(typeof L=="string"?(ae=L,L=0,X=this.length):typeof X=="string"&&(ae=X,X=this.length),ae!==void 0&&typeof ae!="string")throw new TypeError("encoding must be a string");if(typeof ae=="string"&&!u.isEncoding(ae))throw new TypeError("Unknown encoding: "+ae);if(j.length===1){const ge=j.charCodeAt(0);(ae==="utf8"&&ge<128||ae==="latin1")&&(j=ge)}}else typeof j=="number"?j=j&255:typeof j=="boolean"&&(j=Number(j));if(L<0||this.length<L||this.length<X)throw new RangeError("Out of range index");if(X<=L)return this;L=L>>>0,X=X===void 0?this.length:X>>>0,j||(j=0);let fe;if(typeof j=="number")for(fe=L;fe<X;++fe)this[fe]=j;else{const ge=u.isBuffer(j)?j:u.from(j,ae),Ie=ge.length;if(Ie===0)throw new TypeError('The value "'+j+'" is invalid for argument "value"');for(fe=0;fe<X-L;++fe)this[fe+L]=ge[fe%Ie]}return this};const K={};function G(Z,j,L){K[Z]=class extends L{constructor(){super(),Object.defineProperty(this,"message",{value:j.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Z}]`,this.stack,delete this.name}get code(){return Z}set code(ae){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ae,writable:!0})}toString(){return`${this.name} [${Z}]: ${this.message}`}}}G("ERR_BUFFER_OUT_OF_BOUNDS",function(Z){return Z?`${Z} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),G("ERR_INVALID_ARG_TYPE",function(Z,j){return`The "${Z}" argument must be of type number. Received type ${typeof j}`},TypeError),G("ERR_OUT_OF_RANGE",function(Z,j,L){let X=`The value of "${Z}" is out of range.`,ae=L;return Number.isInteger(L)&&Math.abs(L)>2**32?ae=pe(String(L)):typeof L=="bigint"&&(ae=String(L),(L>BigInt(2)**BigInt(32)||L<-(BigInt(2)**BigInt(32)))&&(ae=pe(ae)),ae+="n"),X+=` It must be ${j}. Received ${ae}`,X},RangeError);function pe(Z){let j="",L=Z.length;const X=Z[0]==="-"?1:0;for(;L>=X+4;L-=3)j=`_${Z.slice(L-3,L)}${j}`;return`${Z.slice(0,L)}${j}`}function de(Z,j,L){Ne(j,"offset"),(Z[j]===void 0||Z[j+L]===void 0)&&je(j,Z.length-(L+1))}function ye(Z,j,L,X,ae,fe){if(Z>L||Z<j){const ge=typeof j=="bigint"?"n":"";let Ie;throw j===0||j===BigInt(0)?Ie=`>= 0${ge} and < 2${ge} ** ${(fe+1)*8}${ge}`:Ie=`>= -(2${ge} ** ${(fe+1)*8-1}${ge}) and < 2 ** ${(fe+1)*8-1}${ge}`,new K.ERR_OUT_OF_RANGE("value",Ie,Z)}de(X,ae,fe)}function Ne(Z,j){if(typeof Z!="number")throw new K.ERR_INVALID_ARG_TYPE(j,"number",Z)}function je(Z,j,L){throw Math.floor(Z)!==Z?(Ne(Z,L),new K.ERR_OUT_OF_RANGE("offset","an integer",Z)):j<0?new K.ERR_BUFFER_OUT_OF_BOUNDS:new K.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${j}`,Z)}const Qe=/[^+/0-9A-Za-z-_]/g;function xe(Z){if(Z=Z.split("=")[0],Z=Z.trim().replace(Qe,""),Z.length<2)return"";for(;Z.length%4!==0;)Z=Z+"=";return Z}function he(Z,j){j=j||1/0;let L;const X=Z.length;let ae=null;const fe=[];for(let ge=0;ge<X;++ge){if(L=Z.charCodeAt(ge),L>55295&&L<57344){if(!ae){if(L>56319){(j-=3)>-1&&fe.push(239,191,189);continue}else if(ge+1===X){(j-=3)>-1&&fe.push(239,191,189);continue}ae=L;continue}if(L<56320){(j-=3)>-1&&fe.push(239,191,189),ae=L;continue}L=(ae-55296<<10|L-56320)+65536}else ae&&(j-=3)>-1&&fe.push(239,191,189);if(ae=null,L<128){if((j-=1)<0)break;fe.push(L)}else if(L<2048){if((j-=2)<0)break;fe.push(L>>6|192,L&63|128)}else if(L<65536){if((j-=3)<0)break;fe.push(L>>12|224,L>>6&63|128,L&63|128)}else if(L<1114112){if((j-=4)<0)break;fe.push(L>>18|240,L>>12&63|128,L>>6&63|128,L&63|128)}else throw new Error("Invalid code point")}return fe}function ht(Z){const j=[];for(let L=0;L<Z.length;++L)j.push(Z.charCodeAt(L)&255);return j}function De(Z,j){let L,X,ae;const fe=[];for(let ge=0;ge<Z.length&&!((j-=2)<0);++ge)L=Z.charCodeAt(ge),X=L>>8,ae=L%256,fe.push(ae),fe.push(X);return fe}function we(Z){return e.toByteArray(xe(Z))}function _e(Z,j,L,X){let ae;for(ae=0;ae<X&&!(ae+L>=j.length||ae>=Z.length);++ae)j[ae+L]=Z[ae];return ae}function Me(Z,j){return Z instanceof j||Z!=null&&Z.constructor!=null&&Z.constructor.name!=null&&Z.constructor.name===j.name}function ke(Z){return Z!==Z}const Te=function(){const Z="0123456789abcdef",j=new Array(256);for(let L=0;L<16;++L){const X=L*16;for(let ae=0;ae<16;++ae)j[X+ae]=Z[L]+Z[ae]}return j}();function Ue(Z){return typeof BigInt>"u"?Be:Z}function Be(){throw new Error("BigInt not supported")}})(Bn);const Ke=Bn.Buffer,kde=Bn.Blob,Tde=Bn.BlobOptions,Nde=Bn.Buffer,Pde=Bn.File,Rde=Bn.FileOptions,Ode=Bn.INSPECT_MAX_BYTES,jde=Bn.SlowBuffer,Mde=Bn.TranscodeEncoding,Dde=Bn.atob,Lde=Bn.btoa,Fde=Bn.constants,Bde=Bn.isAscii,Ude=Bn.isUtf8,Wde=Bn.kMaxLength,zde=Bn.kStringMaxLength,Hde=Bn.resolveObjectURL,qde=Bn.transcode,Vde=Object.freeze(Object.defineProperty({__proto__:null,Blob:kde,BlobOptions:Tde,Buffer:Nde,File:Pde,FileOptions:Rde,INSPECT_MAX_BYTES:Ode,SlowBuffer:jde,TranscodeEncoding:Mde,atob:Dde,btoa:Lde,constants:Fde,default:Ke,isAscii:Bde,isUtf8:Ude,kMaxLength:Wde,kStringMaxLength:zde,resolveObjectURL:Hde,transcode:qde},Symbol.toStringTag,{value:"Module"})),Gde="logger/5.8.0";let jR=!1,MR=!1;const zv={debug:1,default:2,info:2,warning:3,error:4,off:5};let DR=zv.default,eE=null;function Kde(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const LR=Kde();var wC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(wC||(wC={}));var Li;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Li||(Li={}));const FR="0123456789abcdef";class me{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();zv[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(DR>zv[n])&&console.log.apply(console,r)}debug(...e){this._log(me.levels.DEBUG,e)}info(...e){this._log(me.levels.INFO,e)}warn(...e){this._log(me.levels.WARNING,e)}makeError(e,r,n){if(MR)return this.makeError("censored error",r,{});r||(r=me.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(l=>{const c=n[l];try{if(c instanceof Uint8Array){let u="";for(let f=0;f<c.length;f++)u+=FR[c[f]>>4],u+=FR[c[f]&15];i.push(l+"=Uint8Array(0x"+u+")")}else i.push(l+"="+JSON.stringify(c))}catch{i.push(l+"="+JSON.stringify(n[l].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Li.NUMERIC_FAULT:{o="NUMERIC_FAULT";const l=e;switch(l){case"overflow":case"underflow":case"division-by-zero":o+="-"+l;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Li.CALL_EXCEPTION:case Li.INSUFFICIENT_FUNDS:case Li.MISSING_NEW:case Li.NONCE_EXPIRED:case Li.REPLACEMENT_UNDERPRICED:case Li.TRANSACTION_REPLACED:case Li.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(l){a[l]=n[l]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,me.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){LR&&this.throwError("platform missing String.prototype.normalize",me.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:LR})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,me.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,me.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,me.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,me.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",me.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",me.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",me.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return eE||(eE=new me(Gde)),eE}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",me.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),jR){if(!e)return;this.globalLogger().throwError("error censorship permanent",me.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}MR=!!e,jR=!!r}static setLogLevel(e){const r=zv[e.toLowerCase()];if(r==null){me.globalLogger().warn("invalid log level - "+e);return}DR=r}static from(e){return new me(e)}}me.errors=Li;me.levels=wC;const Yde="bytes/5.8.0",an=new me(Yde);function Vq(t){return!!t.toHexString}function k0(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return k0(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function FI(t){return sr(t)&&!(t.length%2)||W1(t)}function BR(t){return typeof t=="number"&&t==t&&t%1===0}function W1(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!BR(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!BR(r)||r<0||r>=256)return!1}return!0}function vt(t,e){if(e||(e={}),typeof t=="number"){an.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),k0(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Vq(t)&&(t=t.toHexString()),sr(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":an.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return k0(new Uint8Array(n))}return W1(t)?k0(new Uint8Array(t)):an.throwArgumentError("invalid arrayify value","value",t)}function vo(t){const e=t.map(i=>vt(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),k0(n)}function Sh(t){let e=vt(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function Zde(t,e){t=vt(t),t.length>e&&an.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),k0(r)}function sr(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const tE="0123456789abcdef";function dt(t,e){if(e||(e={}),typeof t=="number"){an.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=tE[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Vq(t))return t.toHexString();if(sr(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":an.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(W1(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=tE[(i&240)>>4]+tE[i&15]}return r}return an.throwArgumentError("invalid hexlify value","value",t)}function $h(t){if(typeof t!="string")t=dt(t);else if(!sr(t)||t.length%2)return null;return(t.length-2)/2}function Fi(t,e,r){return typeof t!="string"?t=dt(t):(!sr(t)||t.length%2)&&an.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function js(t){let e="0x";return t.forEach(r=>{e+=dt(r).substring(2)}),e}function BI(t){const e=Jde(dt(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function Jde(t){typeof t!="string"&&(t=dt(t)),sr(t)||an.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function Gr(t,e){for(typeof t!="string"?t=dt(t):sr(t)||an.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&an.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function q6(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(FI(t)){let r=vt(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=dt(r.slice(0,32)),e.s=dt(r.slice(32,64))):r.length===65?(e.r=dt(r.slice(0,32)),e.s=dt(r.slice(32,64)),e.v=r[64]):an.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:an.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=dt(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=Zde(vt(e._vs),32);e._vs=dt(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&an.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=dt(i);e.s==null?e.s=o:e.s!==o&&an.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?an.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&an.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!sr(e.r)?an.throwArgumentError("signature missing or invalid r","signature",t):e.r=Gr(e.r,32),e.s==null||!sr(e.s)?an.throwArgumentError("signature missing or invalid s","signature",t):e.s=Gr(e.s,32);const r=vt(e.s);r[0]>=128&&an.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=dt(r);e._vs&&(sr(e._vs)||an.throwArgumentError("signature invalid _vs","signature",t),e._vs=Gr(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&an.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}var UI={exports:{}};const q2=Qh(Vde);UI.exports;(function(t){(function(e,r){function n(R,_){if(!R)throw new Error(_||"Assertion failed")}function i(R,_){R.super_=_;var x=function(){};x.prototype=_.prototype,R.prototype=new x,R.prototype.constructor=R}function s(R,_,x){if(s.isBN(R))return R;this.negative=0,this.words=null,this.length=0,this.red=null,R!==null&&((_==="le"||_==="be")&&(x=_,_=10),this._init(R||0,_||10,x||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=q2.Buffer}catch{}s.isBN=function(_){return _ instanceof s?!0:_!==null&&typeof _=="object"&&_.constructor.wordSize===s.wordSize&&Array.isArray(_.words)},s.max=function(_,x){return _.cmp(x)>0?_:x},s.min=function(_,x){return _.cmp(x)<0?_:x},s.prototype._init=function(_,x,A){if(typeof _=="number")return this._initNumber(_,x,A);if(typeof _=="object")return this._initArray(_,x,A);x==="hex"&&(x=16),n(x===(x|0)&&x>=2&&x<=36),_=_.toString().replace(/\s+/g,"");var T=0;_[0]==="-"&&(T++,this.negative=1),T<_.length&&(x===16?this._parseHex(_,T,A):(this._parseBase(_,x,T),A==="le"&&this._initArray(this.toArray(),x,A)))},s.prototype._initNumber=function(_,x,A){_<0&&(this.negative=1,_=-_),_<67108864?(this.words=[_&67108863],this.length=1):_<4503599627370496?(this.words=[_&67108863,_/67108864&67108863],this.length=2):(n(_<9007199254740992),this.words=[_&67108863,_/67108864&67108863,1],this.length=3),A==="le"&&this._initArray(this.toArray(),x,A)},s.prototype._initArray=function(_,x,A){if(n(typeof _.length=="number"),_.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(_.length/3),this.words=new Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var I,N,M=0;if(A==="be")for(T=_.length-1,I=0;T>=0;T-=3)N=_[T]|_[T-1]<<8|_[T-2]<<16,this.words[I]|=N<<M&67108863,this.words[I+1]=N>>>26-M&67108863,M+=24,M>=26&&(M-=26,I++);else if(A==="le")for(T=0,I=0;T<_.length;T+=3)N=_[T]|_[T+1]<<8|_[T+2]<<16,this.words[I]|=N<<M&67108863,this.words[I+1]=N>>>26-M&67108863,M+=24,M>=26&&(M-=26,I++);return this._strip()};function a(R,_){var x=R.charCodeAt(_);if(x>=48&&x<=57)return x-48;if(x>=65&&x<=70)return x-55;if(x>=97&&x<=102)return x-87;n(!1,"Invalid character in "+R)}function l(R,_,x){var A=a(R,x);return x-1>=_&&(A|=a(R,x-1)<<4),A}s.prototype._parseHex=function(_,x,A){this.length=Math.ceil((_.length-x)/6),this.words=new Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var I=0,N=0,M;if(A==="be")for(T=_.length-1;T>=x;T-=2)M=l(_,x,T)<<I,this.words[N]|=M&67108863,I>=18?(I-=18,N+=1,this.words[N]|=M>>>26):I+=8;else{var U=_.length-x;for(T=U%2===0?x+1:x;T<_.length;T+=2)M=l(_,x,T)<<I,this.words[N]|=M&67108863,I>=18?(I-=18,N+=1,this.words[N]|=M>>>26):I+=8}this._strip()};function c(R,_,x,A){for(var T=0,I=0,N=Math.min(R.length,x),M=_;M<N;M++){var U=R.charCodeAt(M)-48;T*=A,U>=49?I=U-49+10:U>=17?I=U-17+10:I=U,n(U>=0&&I<A,"Invalid character"),T+=I}return T}s.prototype._parseBase=function(_,x,A){this.words=[0],this.length=1;for(var T=0,I=1;I<=67108863;I*=x)T++;T--,I=I/x|0;for(var N=_.length-A,M=N%T,U=Math.min(N,N-M)+A,S=0,F=A;F<U;F+=T)S=c(_,F,F+T,x),this.imuln(I),this.words[0]+S<67108864?this.words[0]+=S:this._iaddn(S);if(M!==0){var Q=1;for(S=c(_,F,_.length,x),F=0;F<M;F++)Q*=x;this.imuln(Q),this.words[0]+S<67108864?this.words[0]+=S:this._iaddn(S)}this._strip()},s.prototype.copy=function(_){_.words=new Array(this.length);for(var x=0;x<this.length;x++)_.words[x]=this.words[x];_.length=this.length,_.negative=this.negative,_.red=this.red};function u(R,_){R.words=_.words,R.length=_.length,R.negative=_.negative,R.red=_.red}if(s.prototype._move=function(_){u(_,this)},s.prototype.clone=function(){var _=new s(null);return this.copy(_),_},s.prototype._expand=function(_){for(;this.length<_;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{s.prototype.inspect=f}else s.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(_,x){_=_||10,x=x|0||1;var A;if(_===16||_==="hex"){A="";for(var T=0,I=0,N=0;N<this.length;N++){var M=this.words[N],U=((M<<T|I)&16777215).toString(16);I=M>>>24-T&16777215,T+=2,T>=26&&(T-=26,N--),I!==0||N!==this.length-1?A=h[6-U.length]+U+A:A=U+A}for(I!==0&&(A=I.toString(16)+A);A.length%x!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}if(_===(_|0)&&_>=2&&_<=36){var S=p[_],F=g[_];A="";var Q=this.clone();for(Q.negative=0;!Q.isZero();){var k=Q.modrn(F).toString(_);Q=Q.idivn(F),Q.isZero()?A=k+A:A=h[S-k.length]+k+A}for(this.isZero()&&(A="0"+A);A.length%x!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var _=this.words[0];return this.length===2?_+=this.words[1]*67108864:this.length===3&&this.words[2]===1?_+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-_:_},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(_,x){return this.toArrayLike(o,_,x)}),s.prototype.toArray=function(_,x){return this.toArrayLike(Array,_,x)};var m=function(_,x){return _.allocUnsafe?_.allocUnsafe(x):new _(x)};s.prototype.toArrayLike=function(_,x,A){this._strip();var T=this.byteLength(),I=A||Math.max(1,T);n(T<=I,"byte array longer than desired length"),n(I>0,"Requested array length <= 0");var N=m(_,I),M=x==="le"?"LE":"BE";return this["_toArrayLike"+M](N,T),N},s.prototype._toArrayLikeLE=function(_,x){for(var A=0,T=0,I=0,N=0;I<this.length;I++){var M=this.words[I]<<N|T;_[A++]=M&255,A<_.length&&(_[A++]=M>>8&255),A<_.length&&(_[A++]=M>>16&255),N===6?(A<_.length&&(_[A++]=M>>24&255),T=0,N=0):(T=M>>>24,N+=2)}if(A<_.length)for(_[A++]=T;A<_.length;)_[A++]=0},s.prototype._toArrayLikeBE=function(_,x){for(var A=_.length-1,T=0,I=0,N=0;I<this.length;I++){var M=this.words[I]<<N|T;_[A--]=M&255,A>=0&&(_[A--]=M>>8&255),A>=0&&(_[A--]=M>>16&255),N===6?(A>=0&&(_[A--]=M>>24&255),T=0,N=0):(T=M>>>24,N+=2)}if(A>=0)for(_[A--]=T;A>=0;)_[A--]=0},Math.clz32?s.prototype._countBits=function(_){return 32-Math.clz32(_)}:s.prototype._countBits=function(_){var x=_,A=0;return x>=4096&&(A+=13,x>>>=13),x>=64&&(A+=7,x>>>=7),x>=8&&(A+=4,x>>>=4),x>=2&&(A+=2,x>>>=2),A+x},s.prototype._zeroBits=function(_){if(_===0)return 26;var x=_,A=0;return x&8191||(A+=13,x>>>=13),x&127||(A+=7,x>>>=7),x&15||(A+=4,x>>>=4),x&3||(A+=2,x>>>=2),x&1||A++,A},s.prototype.bitLength=function(){var _=this.words[this.length-1],x=this._countBits(_);return(this.length-1)*26+x};function w(R){for(var _=new Array(R.bitLength()),x=0;x<_.length;x++){var A=x/26|0,T=x%26;_[x]=R.words[A]>>>T&1}return _}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var _=0,x=0;x<this.length;x++){var A=this._zeroBits(this.words[x]);if(_+=A,A!==26)break}return _},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(_){return this.negative!==0?this.abs().inotn(_).iaddn(1):this.clone()},s.prototype.fromTwos=function(_){return this.testn(_-1)?this.notn(_).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(_){for(;this.length<_.length;)this.words[this.length++]=0;for(var x=0;x<_.length;x++)this.words[x]=this.words[x]|_.words[x];return this._strip()},s.prototype.ior=function(_){return n((this.negative|_.negative)===0),this.iuor(_)},s.prototype.or=function(_){return this.length>_.length?this.clone().ior(_):_.clone().ior(this)},s.prototype.uor=function(_){return this.length>_.length?this.clone().iuor(_):_.clone().iuor(this)},s.prototype.iuand=function(_){var x;this.length>_.length?x=_:x=this;for(var A=0;A<x.length;A++)this.words[A]=this.words[A]&_.words[A];return this.length=x.length,this._strip()},s.prototype.iand=function(_){return n((this.negative|_.negative)===0),this.iuand(_)},s.prototype.and=function(_){return this.length>_.length?this.clone().iand(_):_.clone().iand(this)},s.prototype.uand=function(_){return this.length>_.length?this.clone().iuand(_):_.clone().iuand(this)},s.prototype.iuxor=function(_){var x,A;this.length>_.length?(x=this,A=_):(x=_,A=this);for(var T=0;T<A.length;T++)this.words[T]=x.words[T]^A.words[T];if(this!==x)for(;T<x.length;T++)this.words[T]=x.words[T];return this.length=x.length,this._strip()},s.prototype.ixor=function(_){return n((this.negative|_.negative)===0),this.iuxor(_)},s.prototype.xor=function(_){return this.length>_.length?this.clone().ixor(_):_.clone().ixor(this)},s.prototype.uxor=function(_){return this.length>_.length?this.clone().iuxor(_):_.clone().iuxor(this)},s.prototype.inotn=function(_){n(typeof _=="number"&&_>=0);var x=Math.ceil(_/26)|0,A=_%26;this._expand(x),A>0&&x--;for(var T=0;T<x;T++)this.words[T]=~this.words[T]&67108863;return A>0&&(this.words[T]=~this.words[T]&67108863>>26-A),this._strip()},s.prototype.notn=function(_){return this.clone().inotn(_)},s.prototype.setn=function(_,x){n(typeof _=="number"&&_>=0);var A=_/26|0,T=_%26;return this._expand(A+1),x?this.words[A]=this.words[A]|1<<T:this.words[A]=this.words[A]&~(1<<T),this._strip()},s.prototype.iadd=function(_){var x;if(this.negative!==0&&_.negative===0)return this.negative=0,x=this.isub(_),this.negative^=1,this._normSign();if(this.negative===0&&_.negative!==0)return _.negative=0,x=this.isub(_),_.negative=1,x._normSign();var A,T;this.length>_.length?(A=this,T=_):(A=_,T=this);for(var I=0,N=0;N<T.length;N++)x=(A.words[N]|0)+(T.words[N]|0)+I,this.words[N]=x&67108863,I=x>>>26;for(;I!==0&&N<A.length;N++)x=(A.words[N]|0)+I,this.words[N]=x&67108863,I=x>>>26;if(this.length=A.length,I!==0)this.words[this.length]=I,this.length++;else if(A!==this)for(;N<A.length;N++)this.words[N]=A.words[N];return this},s.prototype.add=function(_){var x;return _.negative!==0&&this.negative===0?(_.negative=0,x=this.sub(_),_.negative^=1,x):_.negative===0&&this.negative!==0?(this.negative=0,x=_.sub(this),this.negative=1,x):this.length>_.length?this.clone().iadd(_):_.clone().iadd(this)},s.prototype.isub=function(_){if(_.negative!==0){_.negative=0;var x=this.iadd(_);return _.negative=1,x._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(_),this.negative=1,this._normSign();var A=this.cmp(_);if(A===0)return this.negative=0,this.length=1,this.words[0]=0,this;var T,I;A>0?(T=this,I=_):(T=_,I=this);for(var N=0,M=0;M<I.length;M++)x=(T.words[M]|0)-(I.words[M]|0)+N,N=x>>26,this.words[M]=x&67108863;for(;N!==0&&M<T.length;M++)x=(T.words[M]|0)+N,N=x>>26,this.words[M]=x&67108863;if(N===0&&M<T.length&&T!==this)for(;M<T.length;M++)this.words[M]=T.words[M];return this.length=Math.max(this.length,M),T!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(_){return this.clone().isub(_)};function y(R,_,x){x.negative=_.negative^R.negative;var A=R.length+_.length|0;x.length=A,A=A-1|0;var T=R.words[0]|0,I=_.words[0]|0,N=T*I,M=N&67108863,U=N/67108864|0;x.words[0]=M;for(var S=1;S<A;S++){for(var F=U>>>26,Q=U&67108863,k=Math.min(S,_.length-1),W=Math.max(0,S-R.length+1);W<=k;W++){var V=S-W|0;T=R.words[V]|0,I=_.words[W]|0,N=T*I+Q,F+=N/67108864|0,Q=N&67108863}x.words[S]=Q|0,U=F|0}return U!==0?x.words[S]=U|0:x.length--,x._strip()}var E=function(_,x,A){var T=_.words,I=x.words,N=A.words,M=0,U,S,F,Q=T[0]|0,k=Q&8191,W=Q>>>13,V=T[1]|0,ee=V&8191,te=V>>>13,ce=T[2]|0,K=ce&8191,G=ce>>>13,pe=T[3]|0,de=pe&8191,ye=pe>>>13,Ne=T[4]|0,je=Ne&8191,Qe=Ne>>>13,xe=T[5]|0,he=xe&8191,ht=xe>>>13,De=T[6]|0,we=De&8191,_e=De>>>13,Me=T[7]|0,ke=Me&8191,Te=Me>>>13,Ue=T[8]|0,Be=Ue&8191,Z=Ue>>>13,j=T[9]|0,L=j&8191,X=j>>>13,ae=I[0]|0,fe=ae&8191,ge=ae>>>13,Ie=I[1]|0,Se=Ie&8191,Ve=Ie>>>13,_t=I[2]|0,Ge=_t&8191,jt=_t>>>13,ci=I[3]|0,er=ci&8191,yt=ci>>>13,Ar=I[4]|0,Nt=Ar&8191,Yt=Ar>>>13,$i=I[5]|0,qt=$i&8191,St=$i>>>13,bs=I[6]|0,tr=bs&8191,Vt=bs>>>13,nt=I[7]|0,ar=nt&8191,mr=nt>>>13,no=I[8]|0,lr=no&8191,cr=no>>>13,vs=I[9]|0,ur=vs&8191,dr=vs>>>13;A.negative=_.negative^x.negative,A.length=19,U=Math.imul(k,fe),S=Math.imul(k,ge),S=S+Math.imul(W,fe)|0,F=Math.imul(W,ge);var z=(M+U|0)+((S&8191)<<13)|0;M=(F+(S>>>13)|0)+(z>>>26)|0,z&=67108863,U=Math.imul(ee,fe),S=Math.imul(ee,ge),S=S+Math.imul(te,fe)|0,F=Math.imul(te,ge),U=U+Math.imul(k,Se)|0,S=S+Math.imul(k,Ve)|0,S=S+Math.imul(W,Se)|0,F=F+Math.imul(W,Ve)|0;var J=(M+U|0)+((S&8191)<<13)|0;M=(F+(S>>>13)|0)+(J>>>26)|0,J&=67108863,U=Math.imul(K,fe),S=Math.imul(K,ge),S=S+Math.imul(G,fe)|0,F=Math.imul(G,ge),U=U+Math.imul(ee,Se)|0,S=S+Math.imul(ee,Ve)|0,S=S+Math.imul(te,Se)|0,F=F+Math.imul(te,Ve)|0,U=U+Math.imul(k,Ge)|0,S=S+Math.imul(k,jt)|0,S=S+Math.imul(W,Ge)|0,F=F+Math.imul(W,jt)|0;var ie=(M+U|0)+((S&8191)<<13)|0;M=(F+(S>>>13)|0)+(ie>>>26)|0,ie&=67108863,U=Math.imul(de,fe),S=Math.imul(de,ge),S=S+Math.imul(ye,fe)|0,F=Math.imul(ye,ge),U=U+Math.imul(K,Se)|0,S=S+Math.imul(K,Ve)|0,S=S+Math.imul(G,Se)|0,F=F+Math.imul(G,Ve)|0,U=U+Math.imul(ee,Ge)|0,S=S+Math.imul(ee,jt)|0,S=S+Math.imul(te,Ge)|0,F=F+Math.imul(te,jt)|0,U=U+Math.imul(k,er)|0,S=S+Math.imul(k,yt)|0,S=S+Math.imul(W,er)|0,F=F+Math.imul(W,yt)|0;var re=(M+U|0)+((S&8191)<<13)|0;M=(F+(S>>>13)|0)+(re>>>26)|0,re&=67108863,U=Math.imul(je,fe),S=Math.imul(je,ge),S=S+Math.imul(Qe,fe)|0,F=Math.imul(Qe,ge),U=U+Math.imul(de,Se)|0,S=S+Math.imul(de,Ve)|0,S=S+Math.imul(ye,Se)|0,F=F+Math.imul(ye,Ve)|0,U=U+Math.imul(K,Ge)|0,S=S+Math.imul(K,jt)|0,S=S+Math.imul(G,Ge)|0,F=F+Math.imul(G,jt)|0,U=U+Math.imul(ee,er)|0,S=S+Math.imul(ee,yt)|0,S=S+Math.imul(te,er)|0,F=F+Math.imul(te,yt)|0,U=U+Math.imul(k,Nt)|0,S=S+Math.imul(k,Yt)|0,S=S+Math.imul(W,Nt)|0,F=F+Math.imul(W,Yt)|0;var oe=(M+U|0)+((S&8191)<<13)|0;M=(F+(S>>>13)|0)+(oe>>>26)|0,oe&=67108863,U=Math.imul(he,fe),S=Math.imul(he,ge),S=S+Math.imul(ht,fe)|0,F=Math.imul(ht,ge),U=U+Math.imul(je,Se)|0,S=S+Math.imul(je,Ve)|0,S=S+Math.imul(Qe,Se)|0,F=F+Math.imul(Qe,Ve)|0,U=U+Math.imul(de,Ge)|0,S=S+Math.imul(de,jt)|0,S=S+Math.imul(ye,Ge)|0,F=F+Math.imul(ye,jt)|0,U=U+Math.imul(K,er)|0,S=S+Math.imul(K,yt)|0,S=S+Math.imul(G,er)|0,F=F+Math.imul(G,yt)|0,U=U+Math.imul(ee,Nt)|0,S=S+Math.imul(ee,Yt)|0,S=S+Math.imul(te,Nt)|0,F=F+Math.imul(te,Yt)|0,U=U+Math.imul(k,qt)|0,S=S+Math.imul(k,St)|0,S=S+Math.imul(W,qt)|0,F=F+Math.imul(W,St)|0;var be=(M+U|0)+((S&8191)<<13)|0;M=(F+(S>>>13)|0)+(be>>>26)|0,be&=67108863,U=Math.imul(we,fe),S=Math.imul(we,ge),S=S+Math.imul(_e,fe)|0,F=Math.imul(_e,ge),U=U+Math.imul(he,Se)|0,S=S+Math.imul(he,Ve)|0,S=S+Math.imul(ht,Se)|0,F=F+Math.imul(ht,Ve)|0,U=U+Math.imul(je,Ge)|0,S=S+Math.imul(je,jt)|0,S=S+Math.imul(Qe,Ge)|0,F=F+Math.imul(Qe,jt)|0,U=U+Math.imul(de,er)|0,S=S+Math.imul(de,yt)|0,S=S+Math.imul(ye,er)|0,F=F+Math.imul(ye,yt)|0,U=U+Math.imul(K,Nt)|0,S=S+Math.imul(K,Yt)|0,S=S+Math.imul(G,Nt)|0,F=F+Math.imul(G,Yt)|0,U=U+Math.imul(ee,qt)|0,S=S+Math.imul(ee,St)|0,S=S+Math.imul(te,qt)|0,F=F+Math.imul(te,St)|0,U=U+Math.imul(k,tr)|0,S=S+Math.imul(k,Vt)|0,S=S+Math.imul(W,tr)|0,F=F+Math.imul(W,Vt)|0;var Ae=(M+U|0)+((S&8191)<<13)|0;M=(F+(S>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,U=Math.imul(ke,fe),S=Math.imul(ke,ge),S=S+Math.imul(Te,fe)|0,F=Math.imul(Te,ge),U=U+Math.imul(we,Se)|0,S=S+Math.imul(we,Ve)|0,S=S+Math.imul(_e,Se)|0,F=F+Math.imul(_e,Ve)|0,U=U+Math.imul(he,Ge)|0,S=S+Math.imul(he,jt)|0,S=S+Math.imul(ht,Ge)|0,F=F+Math.imul(ht,jt)|0,U=U+Math.imul(je,er)|0,S=S+Math.imul(je,yt)|0,S=S+Math.imul(Qe,er)|0,F=F+Math.imul(Qe,yt)|0,U=U+Math.imul(de,Nt)|0,S=S+Math.imul(de,Yt)|0,S=S+Math.imul(ye,Nt)|0,F=F+Math.imul(ye,Yt)|0,U=U+Math.imul(K,qt)|0,S=S+Math.imul(K,St)|0,S=S+Math.imul(G,qt)|0,F=F+Math.imul(G,St)|0,U=U+Math.imul(ee,tr)|0,S=S+Math.imul(ee,Vt)|0,S=S+Math.imul(te,tr)|0,F=F+Math.imul(te,Vt)|0,U=U+Math.imul(k,ar)|0,S=S+Math.imul(k,mr)|0,S=S+Math.imul(W,ar)|0,F=F+Math.imul(W,mr)|0;var Ce=(M+U|0)+((S&8191)<<13)|0;M=(F+(S>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,U=Math.imul(Be,fe),S=Math.imul(Be,ge),S=S+Math.imul(Z,fe)|0,F=Math.imul(Z,ge),U=U+Math.imul(ke,Se)|0,S=S+Math.imul(ke,Ve)|0,S=S+Math.imul(Te,Se)|0,F=F+Math.imul(Te,Ve)|0,U=U+Math.imul(we,Ge)|0,S=S+Math.imul(we,jt)|0,S=S+Math.imul(_e,Ge)|0,F=F+Math.imul(_e,jt)|0,U=U+Math.imul(he,er)|0,S=S+Math.imul(he,yt)|0,S=S+Math.imul(ht,er)|0,F=F+Math.imul(ht,yt)|0,U=U+Math.imul(je,Nt)|0,S=S+Math.imul(je,Yt)|0,S=S+Math.imul(Qe,Nt)|0,F=F+Math.imul(Qe,Yt)|0,U=U+Math.imul(de,qt)|0,S=S+Math.imul(de,St)|0,S=S+Math.imul(ye,qt)|0,F=F+Math.imul(ye,St)|0,U=U+Math.imul(K,tr)|0,S=S+Math.imul(K,Vt)|0,S=S+Math.imul(G,tr)|0,F=F+Math.imul(G,Vt)|0,U=U+Math.imul(ee,ar)|0,S=S+Math.imul(ee,mr)|0,S=S+Math.imul(te,ar)|0,F=F+Math.imul(te,mr)|0,U=U+Math.imul(k,lr)|0,S=S+Math.imul(k,cr)|0,S=S+Math.imul(W,lr)|0,F=F+Math.imul(W,cr)|0;var Oe=(M+U|0)+((S&8191)<<13)|0;M=(F+(S>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,U=Math.imul(L,fe),S=Math.imul(L,ge),S=S+Math.imul(X,fe)|0,F=Math.imul(X,ge),U=U+Math.imul(Be,Se)|0,S=S+Math.imul(Be,Ve)|0,S=S+Math.imul(Z,Se)|0,F=F+Math.imul(Z,Ve)|0,U=U+Math.imul(ke,Ge)|0,S=S+Math.imul(ke,jt)|0,S=S+Math.imul(Te,Ge)|0,F=F+Math.imul(Te,jt)|0,U=U+Math.imul(we,er)|0,S=S+Math.imul(we,yt)|0,S=S+Math.imul(_e,er)|0,F=F+Math.imul(_e,yt)|0,U=U+Math.imul(he,Nt)|0,S=S+Math.imul(he,Yt)|0,S=S+Math.imul(ht,Nt)|0,F=F+Math.imul(ht,Yt)|0,U=U+Math.imul(je,qt)|0,S=S+Math.imul(je,St)|0,S=S+Math.imul(Qe,qt)|0,F=F+Math.imul(Qe,St)|0,U=U+Math.imul(de,tr)|0,S=S+Math.imul(de,Vt)|0,S=S+Math.imul(ye,tr)|0,F=F+Math.imul(ye,Vt)|0,U=U+Math.imul(K,ar)|0,S=S+Math.imul(K,mr)|0,S=S+Math.imul(G,ar)|0,F=F+Math.imul(G,mr)|0,U=U+Math.imul(ee,lr)|0,S=S+Math.imul(ee,cr)|0,S=S+Math.imul(te,lr)|0,F=F+Math.imul(te,cr)|0,U=U+Math.imul(k,ur)|0,S=S+Math.imul(k,dr)|0,S=S+Math.imul(W,ur)|0,F=F+Math.imul(W,dr)|0;var Xe=(M+U|0)+((S&8191)<<13)|0;M=(F+(S>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,U=Math.imul(L,Se),S=Math.imul(L,Ve),S=S+Math.imul(X,Se)|0,F=Math.imul(X,Ve),U=U+Math.imul(Be,Ge)|0,S=S+Math.imul(Be,jt)|0,S=S+Math.imul(Z,Ge)|0,F=F+Math.imul(Z,jt)|0,U=U+Math.imul(ke,er)|0,S=S+Math.imul(ke,yt)|0,S=S+Math.imul(Te,er)|0,F=F+Math.imul(Te,yt)|0,U=U+Math.imul(we,Nt)|0,S=S+Math.imul(we,Yt)|0,S=S+Math.imul(_e,Nt)|0,F=F+Math.imul(_e,Yt)|0,U=U+Math.imul(he,qt)|0,S=S+Math.imul(he,St)|0,S=S+Math.imul(ht,qt)|0,F=F+Math.imul(ht,St)|0,U=U+Math.imul(je,tr)|0,S=S+Math.imul(je,Vt)|0,S=S+Math.imul(Qe,tr)|0,F=F+Math.imul(Qe,Vt)|0,U=U+Math.imul(de,ar)|0,S=S+Math.imul(de,mr)|0,S=S+Math.imul(ye,ar)|0,F=F+Math.imul(ye,mr)|0,U=U+Math.imul(K,lr)|0,S=S+Math.imul(K,cr)|0,S=S+Math.imul(G,lr)|0,F=F+Math.imul(G,cr)|0,U=U+Math.imul(ee,ur)|0,S=S+Math.imul(ee,dr)|0,S=S+Math.imul(te,ur)|0,F=F+Math.imul(te,dr)|0;var wt=(M+U|0)+((S&8191)<<13)|0;M=(F+(S>>>13)|0)+(wt>>>26)|0,wt&=67108863,U=Math.imul(L,Ge),S=Math.imul(L,jt),S=S+Math.imul(X,Ge)|0,F=Math.imul(X,jt),U=U+Math.imul(Be,er)|0,S=S+Math.imul(Be,yt)|0,S=S+Math.imul(Z,er)|0,F=F+Math.imul(Z,yt)|0,U=U+Math.imul(ke,Nt)|0,S=S+Math.imul(ke,Yt)|0,S=S+Math.imul(Te,Nt)|0,F=F+Math.imul(Te,Yt)|0,U=U+Math.imul(we,qt)|0,S=S+Math.imul(we,St)|0,S=S+Math.imul(_e,qt)|0,F=F+Math.imul(_e,St)|0,U=U+Math.imul(he,tr)|0,S=S+Math.imul(he,Vt)|0,S=S+Math.imul(ht,tr)|0,F=F+Math.imul(ht,Vt)|0,U=U+Math.imul(je,ar)|0,S=S+Math.imul(je,mr)|0,S=S+Math.imul(Qe,ar)|0,F=F+Math.imul(Qe,mr)|0,U=U+Math.imul(de,lr)|0,S=S+Math.imul(de,cr)|0,S=S+Math.imul(ye,lr)|0,F=F+Math.imul(ye,cr)|0,U=U+Math.imul(K,ur)|0,S=S+Math.imul(K,dr)|0,S=S+Math.imul(G,ur)|0,F=F+Math.imul(G,dr)|0;var it=(M+U|0)+((S&8191)<<13)|0;M=(F+(S>>>13)|0)+(it>>>26)|0,it&=67108863,U=Math.imul(L,er),S=Math.imul(L,yt),S=S+Math.imul(X,er)|0,F=Math.imul(X,yt),U=U+Math.imul(Be,Nt)|0,S=S+Math.imul(Be,Yt)|0,S=S+Math.imul(Z,Nt)|0,F=F+Math.imul(Z,Yt)|0,U=U+Math.imul(ke,qt)|0,S=S+Math.imul(ke,St)|0,S=S+Math.imul(Te,qt)|0,F=F+Math.imul(Te,St)|0,U=U+Math.imul(we,tr)|0,S=S+Math.imul(we,Vt)|0,S=S+Math.imul(_e,tr)|0,F=F+Math.imul(_e,Vt)|0,U=U+Math.imul(he,ar)|0,S=S+Math.imul(he,mr)|0,S=S+Math.imul(ht,ar)|0,F=F+Math.imul(ht,mr)|0,U=U+Math.imul(je,lr)|0,S=S+Math.imul(je,cr)|0,S=S+Math.imul(Qe,lr)|0,F=F+Math.imul(Qe,cr)|0,U=U+Math.imul(de,ur)|0,S=S+Math.imul(de,dr)|0,S=S+Math.imul(ye,ur)|0,F=F+Math.imul(ye,dr)|0;var Pt=(M+U|0)+((S&8191)<<13)|0;M=(F+(S>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,U=Math.imul(L,Nt),S=Math.imul(L,Yt),S=S+Math.imul(X,Nt)|0,F=Math.imul(X,Yt),U=U+Math.imul(Be,qt)|0,S=S+Math.imul(Be,St)|0,S=S+Math.imul(Z,qt)|0,F=F+Math.imul(Z,St)|0,U=U+Math.imul(ke,tr)|0,S=S+Math.imul(ke,Vt)|0,S=S+Math.imul(Te,tr)|0,F=F+Math.imul(Te,Vt)|0,U=U+Math.imul(we,ar)|0,S=S+Math.imul(we,mr)|0,S=S+Math.imul(_e,ar)|0,F=F+Math.imul(_e,mr)|0,U=U+Math.imul(he,lr)|0,S=S+Math.imul(he,cr)|0,S=S+Math.imul(ht,lr)|0,F=F+Math.imul(ht,cr)|0,U=U+Math.imul(je,ur)|0,S=S+Math.imul(je,dr)|0,S=S+Math.imul(Qe,ur)|0,F=F+Math.imul(Qe,dr)|0;var Lt=(M+U|0)+((S&8191)<<13)|0;M=(F+(S>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,U=Math.imul(L,qt),S=Math.imul(L,St),S=S+Math.imul(X,qt)|0,F=Math.imul(X,St),U=U+Math.imul(Be,tr)|0,S=S+Math.imul(Be,Vt)|0,S=S+Math.imul(Z,tr)|0,F=F+Math.imul(Z,Vt)|0,U=U+Math.imul(ke,ar)|0,S=S+Math.imul(ke,mr)|0,S=S+Math.imul(Te,ar)|0,F=F+Math.imul(Te,mr)|0,U=U+Math.imul(we,lr)|0,S=S+Math.imul(we,cr)|0,S=S+Math.imul(_e,lr)|0,F=F+Math.imul(_e,cr)|0,U=U+Math.imul(he,ur)|0,S=S+Math.imul(he,dr)|0,S=S+Math.imul(ht,ur)|0,F=F+Math.imul(ht,dr)|0;var dn=(M+U|0)+((S&8191)<<13)|0;M=(F+(S>>>13)|0)+(dn>>>26)|0,dn&=67108863,U=Math.imul(L,tr),S=Math.imul(L,Vt),S=S+Math.imul(X,tr)|0,F=Math.imul(X,Vt),U=U+Math.imul(Be,ar)|0,S=S+Math.imul(Be,mr)|0,S=S+Math.imul(Z,ar)|0,F=F+Math.imul(Z,mr)|0,U=U+Math.imul(ke,lr)|0,S=S+Math.imul(ke,cr)|0,S=S+Math.imul(Te,lr)|0,F=F+Math.imul(Te,cr)|0,U=U+Math.imul(we,ur)|0,S=S+Math.imul(we,dr)|0,S=S+Math.imul(_e,ur)|0,F=F+Math.imul(_e,dr)|0;var Sr=(M+U|0)+((S&8191)<<13)|0;M=(F+(S>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,U=Math.imul(L,ar),S=Math.imul(L,mr),S=S+Math.imul(X,ar)|0,F=Math.imul(X,mr),U=U+Math.imul(Be,lr)|0,S=S+Math.imul(Be,cr)|0,S=S+Math.imul(Z,lr)|0,F=F+Math.imul(Z,cr)|0,U=U+Math.imul(ke,ur)|0,S=S+Math.imul(ke,dr)|0,S=S+Math.imul(Te,ur)|0,F=F+Math.imul(Te,dr)|0;var yn=(M+U|0)+((S&8191)<<13)|0;M=(F+(S>>>13)|0)+(yn>>>26)|0,yn&=67108863,U=Math.imul(L,lr),S=Math.imul(L,cr),S=S+Math.imul(X,lr)|0,F=Math.imul(X,cr),U=U+Math.imul(Be,ur)|0,S=S+Math.imul(Be,dr)|0,S=S+Math.imul(Z,ur)|0,F=F+Math.imul(Z,dr)|0;var Sc=(M+U|0)+((S&8191)<<13)|0;M=(F+(S>>>13)|0)+(Sc>>>26)|0,Sc&=67108863,U=Math.imul(L,ur),S=Math.imul(L,dr),S=S+Math.imul(X,ur)|0,F=Math.imul(X,dr);var Sf=(M+U|0)+((S&8191)<<13)|0;return M=(F+(S>>>13)|0)+(Sf>>>26)|0,Sf&=67108863,N[0]=z,N[1]=J,N[2]=ie,N[3]=re,N[4]=oe,N[5]=be,N[6]=Ae,N[7]=Ce,N[8]=Oe,N[9]=Xe,N[10]=wt,N[11]=it,N[12]=Pt,N[13]=Lt,N[14]=dn,N[15]=Sr,N[16]=yn,N[17]=Sc,N[18]=Sf,M!==0&&(N[19]=M,A.length++),A};Math.imul||(E=y);function v(R,_,x){x.negative=_.negative^R.negative,x.length=R.length+_.length;for(var A=0,T=0,I=0;I<x.length-1;I++){var N=T;T=0;for(var M=A&67108863,U=Math.min(I,_.length-1),S=Math.max(0,I-R.length+1);S<=U;S++){var F=I-S,Q=R.words[F]|0,k=_.words[S]|0,W=Q*k,V=W&67108863;N=N+(W/67108864|0)|0,V=V+M|0,M=V&67108863,N=N+(V>>>26)|0,T+=N>>>26,N&=67108863}x.words[I]=M,A=N,N=T}return A!==0?x.words[I]=A:x.length--,x._strip()}function b(R,_,x){return v(R,_,x)}s.prototype.mulTo=function(_,x){var A,T=this.length+_.length;return this.length===10&&_.length===10?A=E(this,_,x):T<63?A=y(this,_,x):T<1024?A=v(this,_,x):A=b(this,_,x),A},s.prototype.mul=function(_){var x=new s(null);return x.words=new Array(this.length+_.length),this.mulTo(_,x)},s.prototype.mulf=function(_){var x=new s(null);return x.words=new Array(this.length+_.length),b(this,_,x)},s.prototype.imul=function(_){return this.clone().mulTo(_,this)},s.prototype.imuln=function(_){var x=_<0;x&&(_=-_),n(typeof _=="number"),n(_<67108864);for(var A=0,T=0;T<this.length;T++){var I=(this.words[T]|0)*_,N=(I&67108863)+(A&67108863);A>>=26,A+=I/67108864|0,A+=N>>>26,this.words[T]=N&67108863}return A!==0&&(this.words[T]=A,this.length++),this.length=_===0?1:this.length,x?this.ineg():this},s.prototype.muln=function(_){return this.clone().imuln(_)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(_){var x=w(_);if(x.length===0)return new s(1);for(var A=this,T=0;T<x.length&&x[T]===0;T++,A=A.sqr());if(++T<x.length)for(var I=A.sqr();T<x.length;T++,I=I.sqr())x[T]!==0&&(A=A.mul(I));return A},s.prototype.iushln=function(_){n(typeof _=="number"&&_>=0);var x=_%26,A=(_-x)/26,T=67108863>>>26-x<<26-x,I;if(x!==0){var N=0;for(I=0;I<this.length;I++){var M=this.words[I]&T,U=(this.words[I]|0)-M<<x;this.words[I]=U|N,N=M>>>26-x}N&&(this.words[I]=N,this.length++)}if(A!==0){for(I=this.length-1;I>=0;I--)this.words[I+A]=this.words[I];for(I=0;I<A;I++)this.words[I]=0;this.length+=A}return this._strip()},s.prototype.ishln=function(_){return n(this.negative===0),this.iushln(_)},s.prototype.iushrn=function(_,x,A){n(typeof _=="number"&&_>=0);var T;x?T=(x-x%26)/26:T=0;var I=_%26,N=Math.min((_-I)/26,this.length),M=67108863^67108863>>>I<<I,U=A;if(T-=N,T=Math.max(0,T),U){for(var S=0;S<N;S++)U.words[S]=this.words[S];U.length=N}if(N!==0)if(this.length>N)for(this.length-=N,S=0;S<this.length;S++)this.words[S]=this.words[S+N];else this.words[0]=0,this.length=1;var F=0;for(S=this.length-1;S>=0&&(F!==0||S>=T);S--){var Q=this.words[S]|0;this.words[S]=F<<26-I|Q>>>I,F=Q&M}return U&&F!==0&&(U.words[U.length++]=F),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(_,x,A){return n(this.negative===0),this.iushrn(_,x,A)},s.prototype.shln=function(_){return this.clone().ishln(_)},s.prototype.ushln=function(_){return this.clone().iushln(_)},s.prototype.shrn=function(_){return this.clone().ishrn(_)},s.prototype.ushrn=function(_){return this.clone().iushrn(_)},s.prototype.testn=function(_){n(typeof _=="number"&&_>=0);var x=_%26,A=(_-x)/26,T=1<<x;if(this.length<=A)return!1;var I=this.words[A];return!!(I&T)},s.prototype.imaskn=function(_){n(typeof _=="number"&&_>=0);var x=_%26,A=(_-x)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=A)return this;if(x!==0&&A++,this.length=Math.min(A,this.length),x!==0){var T=67108863^67108863>>>x<<x;this.words[this.length-1]&=T}return this._strip()},s.prototype.maskn=function(_){return this.clone().imaskn(_)},s.prototype.iaddn=function(_){return n(typeof _=="number"),n(_<67108864),_<0?this.isubn(-_):this.negative!==0?this.length===1&&(this.words[0]|0)<=_?(this.words[0]=_-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(_),this.negative=1,this):this._iaddn(_)},s.prototype._iaddn=function(_){this.words[0]+=_;for(var x=0;x<this.length&&this.words[x]>=67108864;x++)this.words[x]-=67108864,x===this.length-1?this.words[x+1]=1:this.words[x+1]++;return this.length=Math.max(this.length,x+1),this},s.prototype.isubn=function(_){if(n(typeof _=="number"),n(_<67108864),_<0)return this.iaddn(-_);if(this.negative!==0)return this.negative=0,this.iaddn(_),this.negative=1,this;if(this.words[0]-=_,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var x=0;x<this.length&&this.words[x]<0;x++)this.words[x]+=67108864,this.words[x+1]-=1;return this._strip()},s.prototype.addn=function(_){return this.clone().iaddn(_)},s.prototype.subn=function(_){return this.clone().isubn(_)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(_,x,A){var T=_.length+A,I;this._expand(T);var N,M=0;for(I=0;I<_.length;I++){N=(this.words[I+A]|0)+M;var U=(_.words[I]|0)*x;N-=U&67108863,M=(N>>26)-(U/67108864|0),this.words[I+A]=N&67108863}for(;I<this.length-A;I++)N=(this.words[I+A]|0)+M,M=N>>26,this.words[I+A]=N&67108863;if(M===0)return this._strip();for(n(M===-1),M=0,I=0;I<this.length;I++)N=-(this.words[I]|0)+M,M=N>>26,this.words[I]=N&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(_,x){var A=this.length-_.length,T=this.clone(),I=_,N=I.words[I.length-1]|0,M=this._countBits(N);A=26-M,A!==0&&(I=I.ushln(A),T.iushln(A),N=I.words[I.length-1]|0);var U=T.length-I.length,S;if(x!=="mod"){S=new s(null),S.length=U+1,S.words=new Array(S.length);for(var F=0;F<S.length;F++)S.words[F]=0}var Q=T.clone()._ishlnsubmul(I,1,U);Q.negative===0&&(T=Q,S&&(S.words[U]=1));for(var k=U-1;k>=0;k--){var W=(T.words[I.length+k]|0)*67108864+(T.words[I.length+k-1]|0);for(W=Math.min(W/N|0,67108863),T._ishlnsubmul(I,W,k);T.negative!==0;)W--,T.negative=0,T._ishlnsubmul(I,1,k),T.isZero()||(T.negative^=1);S&&(S.words[k]=W)}return S&&S._strip(),T._strip(),x!=="div"&&A!==0&&T.iushrn(A),{div:S||null,mod:T}},s.prototype.divmod=function(_,x,A){if(n(!_.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var T,I,N;return this.negative!==0&&_.negative===0?(N=this.neg().divmod(_,x),x!=="mod"&&(T=N.div.neg()),x!=="div"&&(I=N.mod.neg(),A&&I.negative!==0&&I.iadd(_)),{div:T,mod:I}):this.negative===0&&_.negative!==0?(N=this.divmod(_.neg(),x),x!=="mod"&&(T=N.div.neg()),{div:T,mod:N.mod}):this.negative&_.negative?(N=this.neg().divmod(_.neg(),x),x!=="div"&&(I=N.mod.neg(),A&&I.negative!==0&&I.isub(_)),{div:N.div,mod:I}):_.length>this.length||this.cmp(_)<0?{div:new s(0),mod:this}:_.length===1?x==="div"?{div:this.divn(_.words[0]),mod:null}:x==="mod"?{div:null,mod:new s(this.modrn(_.words[0]))}:{div:this.divn(_.words[0]),mod:new s(this.modrn(_.words[0]))}:this._wordDiv(_,x)},s.prototype.div=function(_){return this.divmod(_,"div",!1).div},s.prototype.mod=function(_){return this.divmod(_,"mod",!1).mod},s.prototype.umod=function(_){return this.divmod(_,"mod",!0).mod},s.prototype.divRound=function(_){var x=this.divmod(_);if(x.mod.isZero())return x.div;var A=x.div.negative!==0?x.mod.isub(_):x.mod,T=_.ushrn(1),I=_.andln(1),N=A.cmp(T);return N<0||I===1&&N===0?x.div:x.div.negative!==0?x.div.isubn(1):x.div.iaddn(1)},s.prototype.modrn=function(_){var x=_<0;x&&(_=-_),n(_<=67108863);for(var A=(1<<26)%_,T=0,I=this.length-1;I>=0;I--)T=(A*T+(this.words[I]|0))%_;return x?-T:T},s.prototype.modn=function(_){return this.modrn(_)},s.prototype.idivn=function(_){var x=_<0;x&&(_=-_),n(_<=67108863);for(var A=0,T=this.length-1;T>=0;T--){var I=(this.words[T]|0)+A*67108864;this.words[T]=I/_|0,A=I%_}return this._strip(),x?this.ineg():this},s.prototype.divn=function(_){return this.clone().idivn(_)},s.prototype.egcd=function(_){n(_.negative===0),n(!_.isZero());var x=this,A=_.clone();x.negative!==0?x=x.umod(_):x=x.clone();for(var T=new s(1),I=new s(0),N=new s(0),M=new s(1),U=0;x.isEven()&&A.isEven();)x.iushrn(1),A.iushrn(1),++U;for(var S=A.clone(),F=x.clone();!x.isZero();){for(var Q=0,k=1;!(x.words[0]&k)&&Q<26;++Q,k<<=1);if(Q>0)for(x.iushrn(Q);Q-- >0;)(T.isOdd()||I.isOdd())&&(T.iadd(S),I.isub(F)),T.iushrn(1),I.iushrn(1);for(var W=0,V=1;!(A.words[0]&V)&&W<26;++W,V<<=1);if(W>0)for(A.iushrn(W);W-- >0;)(N.isOdd()||M.isOdd())&&(N.iadd(S),M.isub(F)),N.iushrn(1),M.iushrn(1);x.cmp(A)>=0?(x.isub(A),T.isub(N),I.isub(M)):(A.isub(x),N.isub(T),M.isub(I))}return{a:N,b:M,gcd:A.iushln(U)}},s.prototype._invmp=function(_){n(_.negative===0),n(!_.isZero());var x=this,A=_.clone();x.negative!==0?x=x.umod(_):x=x.clone();for(var T=new s(1),I=new s(0),N=A.clone();x.cmpn(1)>0&&A.cmpn(1)>0;){for(var M=0,U=1;!(x.words[0]&U)&&M<26;++M,U<<=1);if(M>0)for(x.iushrn(M);M-- >0;)T.isOdd()&&T.iadd(N),T.iushrn(1);for(var S=0,F=1;!(A.words[0]&F)&&S<26;++S,F<<=1);if(S>0)for(A.iushrn(S);S-- >0;)I.isOdd()&&I.iadd(N),I.iushrn(1);x.cmp(A)>=0?(x.isub(A),T.isub(I)):(A.isub(x),I.isub(T))}var Q;return x.cmpn(1)===0?Q=T:Q=I,Q.cmpn(0)<0&&Q.iadd(_),Q},s.prototype.gcd=function(_){if(this.isZero())return _.abs();if(_.isZero())return this.abs();var x=this.clone(),A=_.clone();x.negative=0,A.negative=0;for(var T=0;x.isEven()&&A.isEven();T++)x.iushrn(1),A.iushrn(1);do{for(;x.isEven();)x.iushrn(1);for(;A.isEven();)A.iushrn(1);var I=x.cmp(A);if(I<0){var N=x;x=A,A=N}else if(I===0||A.cmpn(1)===0)break;x.isub(A)}while(!0);return A.iushln(T)},s.prototype.invm=function(_){return this.egcd(_).a.umod(_)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(_){return this.words[0]&_},s.prototype.bincn=function(_){n(typeof _=="number");var x=_%26,A=(_-x)/26,T=1<<x;if(this.length<=A)return this._expand(A+1),this.words[A]|=T,this;for(var I=T,N=A;I!==0&&N<this.length;N++){var M=this.words[N]|0;M+=I,I=M>>>26,M&=67108863,this.words[N]=M}return I!==0&&(this.words[N]=I,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(_){var x=_<0;if(this.negative!==0&&!x)return-1;if(this.negative===0&&x)return 1;this._strip();var A;if(this.length>1)A=1;else{x&&(_=-_),n(_<=67108863,"Number is too big");var T=this.words[0]|0;A=T===_?0:T<_?-1:1}return this.negative!==0?-A|0:A},s.prototype.cmp=function(_){if(this.negative!==0&&_.negative===0)return-1;if(this.negative===0&&_.negative!==0)return 1;var x=this.ucmp(_);return this.negative!==0?-x|0:x},s.prototype.ucmp=function(_){if(this.length>_.length)return 1;if(this.length<_.length)return-1;for(var x=0,A=this.length-1;A>=0;A--){var T=this.words[A]|0,I=_.words[A]|0;if(T!==I){T<I?x=-1:T>I&&(x=1);break}}return x},s.prototype.gtn=function(_){return this.cmpn(_)===1},s.prototype.gt=function(_){return this.cmp(_)===1},s.prototype.gten=function(_){return this.cmpn(_)>=0},s.prototype.gte=function(_){return this.cmp(_)>=0},s.prototype.ltn=function(_){return this.cmpn(_)===-1},s.prototype.lt=function(_){return this.cmp(_)===-1},s.prototype.lten=function(_){return this.cmpn(_)<=0},s.prototype.lte=function(_){return this.cmp(_)<=0},s.prototype.eqn=function(_){return this.cmpn(_)===0},s.prototype.eq=function(_){return this.cmp(_)===0},s.red=function(_){return new q(_)},s.prototype.toRed=function(_){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),_.convertTo(this)._forceRed(_)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(_){return this.red=_,this},s.prototype.forceRed=function(_){return n(!this.red,"Already a number in reduction context"),this._forceRed(_)},s.prototype.redAdd=function(_){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,_)},s.prototype.redIAdd=function(_){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,_)},s.prototype.redSub=function(_){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,_)},s.prototype.redISub=function(_){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,_)},s.prototype.redShl=function(_){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,_)},s.prototype.redMul=function(_){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,_),this.red.mul(this,_)},s.prototype.redIMul=function(_){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,_),this.red.imul(this,_)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(_){return n(this.red&&!_.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,_)};var $={k256:null,p224:null,p192:null,p25519:null};function P(R,_){this.name=R,this.p=new s(_,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var _=new s(null);return _.words=new Array(Math.ceil(this.n/13)),_},P.prototype.ireduce=function(_){var x=_,A;do this.split(x,this.tmp),x=this.imulK(x),x=x.iadd(this.tmp),A=x.bitLength();while(A>this.n);var T=A<this.n?-1:x.ucmp(this.p);return T===0?(x.words[0]=0,x.length=1):T>0?x.isub(this.p):x.strip!==void 0?x.strip():x._strip(),x},P.prototype.split=function(_,x){_.iushrn(this.n,0,x)},P.prototype.imulK=function(_){return _.imul(this.k)};function O(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(O,P),O.prototype.split=function(_,x){for(var A=4194303,T=Math.min(_.length,9),I=0;I<T;I++)x.words[I]=_.words[I];if(x.length=T,_.length<=9){_.words[0]=0,_.length=1;return}var N=_.words[9];for(x.words[x.length++]=N&A,I=10;I<_.length;I++){var M=_.words[I]|0;_.words[I-10]=(M&A)<<4|N>>>22,N=M}N>>>=22,_.words[I-10]=N,N===0&&_.length>10?_.length-=10:_.length-=9},O.prototype.imulK=function(_){_.words[_.length]=0,_.words[_.length+1]=0,_.length+=2;for(var x=0,A=0;A<_.length;A++){var T=_.words[A]|0;x+=T*977,_.words[A]=x&67108863,x=T*64+(x/67108864|0)}return _.words[_.length-1]===0&&(_.length--,_.words[_.length-1]===0&&_.length--),_};function D(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(D,P);function B(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(B,P);function H(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(H,P),H.prototype.imulK=function(_){for(var x=0,A=0;A<_.length;A++){var T=(_.words[A]|0)*19+x,I=T&67108863;T>>>=26,_.words[A]=I,x=T}return x!==0&&(_.words[_.length++]=x),_},s._prime=function(_){if($[_])return $[_];var x;if(_==="k256")x=new O;else if(_==="p224")x=new D;else if(_==="p192")x=new B;else if(_==="p25519")x=new H;else throw new Error("Unknown prime "+_);return $[_]=x,x};function q(R){if(typeof R=="string"){var _=s._prime(R);this.m=_.p,this.prime=_}else n(R.gtn(1),"modulus must be greater than 1"),this.m=R,this.prime=null}q.prototype._verify1=function(_){n(_.negative===0,"red works only with positives"),n(_.red,"red works only with red numbers")},q.prototype._verify2=function(_,x){n((_.negative|x.negative)===0,"red works only with positives"),n(_.red&&_.red===x.red,"red works only with red numbers")},q.prototype.imod=function(_){return this.prime?this.prime.ireduce(_)._forceRed(this):(u(_,_.umod(this.m)._forceRed(this)),_)},q.prototype.neg=function(_){return _.isZero()?_.clone():this.m.sub(_)._forceRed(this)},q.prototype.add=function(_,x){this._verify2(_,x);var A=_.add(x);return A.cmp(this.m)>=0&&A.isub(this.m),A._forceRed(this)},q.prototype.iadd=function(_,x){this._verify2(_,x);var A=_.iadd(x);return A.cmp(this.m)>=0&&A.isub(this.m),A},q.prototype.sub=function(_,x){this._verify2(_,x);var A=_.sub(x);return A.cmpn(0)<0&&A.iadd(this.m),A._forceRed(this)},q.prototype.isub=function(_,x){this._verify2(_,x);var A=_.isub(x);return A.cmpn(0)<0&&A.iadd(this.m),A},q.prototype.shl=function(_,x){return this._verify1(_),this.imod(_.ushln(x))},q.prototype.imul=function(_,x){return this._verify2(_,x),this.imod(_.imul(x))},q.prototype.mul=function(_,x){return this._verify2(_,x),this.imod(_.mul(x))},q.prototype.isqr=function(_){return this.imul(_,_.clone())},q.prototype.sqr=function(_){return this.mul(_,_)},q.prototype.sqrt=function(_){if(_.isZero())return _.clone();var x=this.m.andln(3);if(n(x%2===1),x===3){var A=this.m.add(new s(1)).iushrn(2);return this.pow(_,A)}for(var T=this.m.subn(1),I=0;!T.isZero()&&T.andln(1)===0;)I++,T.iushrn(1);n(!T.isZero());var N=new s(1).toRed(this),M=N.redNeg(),U=this.m.subn(1).iushrn(1),S=this.m.bitLength();for(S=new s(2*S*S).toRed(this);this.pow(S,U).cmp(M)!==0;)S.redIAdd(M);for(var F=this.pow(S,T),Q=this.pow(_,T.addn(1).iushrn(1)),k=this.pow(_,T),W=I;k.cmp(N)!==0;){for(var V=k,ee=0;V.cmp(N)!==0;ee++)V=V.redSqr();n(ee<W);var te=this.pow(F,new s(1).iushln(W-ee-1));Q=Q.redMul(te),F=te.redSqr(),k=k.redMul(F),W=ee}return Q},q.prototype.invm=function(_){var x=_._invmp(this.m);return x.negative!==0?(x.negative=0,this.imod(x).redNeg()):this.imod(x)},q.prototype.pow=function(_,x){if(x.isZero())return new s(1).toRed(this);if(x.cmpn(1)===0)return _.clone();var A=4,T=new Array(1<<A);T[0]=new s(1).toRed(this),T[1]=_;for(var I=2;I<T.length;I++)T[I]=this.mul(T[I-1],_);var N=T[0],M=0,U=0,S=x.bitLength()%26;for(S===0&&(S=26),I=x.length-1;I>=0;I--){for(var F=x.words[I],Q=S-1;Q>=0;Q--){var k=F>>Q&1;if(N!==T[0]&&(N=this.sqr(N)),k===0&&M===0){U=0;continue}M<<=1,M|=k,U++,!(U!==A&&(I!==0||Q!==0))&&(N=this.mul(N,T[M]),U=0,M=0)}S=26}return N},q.prototype.convertTo=function(_){var x=_.umod(this.m);return x===_?x.clone():x},q.prototype.convertFrom=function(_){var x=_.clone();return x.red=null,x},s.mont=function(_){return new Y(_)};function Y(R){q.call(this,R),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(Y,q),Y.prototype.convertTo=function(_){return this.imod(_.ushln(this.shift))},Y.prototype.convertFrom=function(_){var x=this.imod(_.mul(this.rinv));return x.red=null,x},Y.prototype.imul=function(_,x){if(_.isZero()||x.isZero())return _.words[0]=0,_.length=1,_;var A=_.imul(x),T=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=A.isub(T).iushrn(this.shift),N=I;return I.cmp(this.m)>=0?N=I.isub(this.m):I.cmpn(0)<0&&(N=I.iadd(this.m)),N._forceRed(this)},Y.prototype.mul=function(_,x){if(_.isZero()||x.isZero())return new s(0)._forceRed(this);var A=_.mul(x),T=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=A.isub(T).iushrn(this.shift),N=I;return I.cmp(this.m)>=0?N=I.isub(this.m):I.cmpn(0)<0&&(N=I.iadd(this.m)),N._forceRed(this)},Y.prototype.invm=function(_){var x=this.imod(_._invmp(this.m).mul(this.r2));return x._forceRed(this)}})(t,nr)})(UI);var Qde=UI.exports;const Ct=wc(Qde),Gq="bignumber/5.8.0";var Q3=Ct.BN;const qc=new me(Gq),rE={},UR=9007199254740991;function Xde(t){return t!=null&&(Re.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||sr(t)||typeof t=="bigint"||W1(t))}let WR=!1;class Re{constructor(e,r){e!==rE&&qc.throwError("cannot call constructor directly; use BigNumber.from",me.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return xs(Gt(this).fromTwos(e))}toTwos(e){return xs(Gt(this).toTwos(e))}abs(){return this._hex[0]==="-"?Re.from(this._hex.substring(1)):this}add(e){return xs(Gt(this).add(Gt(e)))}sub(e){return xs(Gt(this).sub(Gt(e)))}div(e){return Re.from(e).isZero()&&Lo("division-by-zero","div"),xs(Gt(this).div(Gt(e)))}mul(e){return xs(Gt(this).mul(Gt(e)))}mod(e){const r=Gt(e);return r.isNeg()&&Lo("division-by-zero","mod"),xs(Gt(this).umod(r))}pow(e){const r=Gt(e);return r.isNeg()&&Lo("negative-power","pow"),xs(Gt(this).pow(r))}and(e){const r=Gt(e);return(this.isNegative()||r.isNeg())&&Lo("unbound-bitwise-result","and"),xs(Gt(this).and(r))}or(e){const r=Gt(e);return(this.isNegative()||r.isNeg())&&Lo("unbound-bitwise-result","or"),xs(Gt(this).or(r))}xor(e){const r=Gt(e);return(this.isNegative()||r.isNeg())&&Lo("unbound-bitwise-result","xor"),xs(Gt(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&Lo("negative-width","mask"),xs(Gt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Lo("negative-width","shl"),xs(Gt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Lo("negative-width","shr"),xs(Gt(this).shrn(e))}eq(e){return Gt(this).eq(Gt(e))}lt(e){return Gt(this).lt(Gt(e))}lte(e){return Gt(this).lte(Gt(e))}gt(e){return Gt(this).gt(Gt(e))}gte(e){return Gt(this).gte(Gt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return Gt(this).isZero()}toNumber(){try{return Gt(this).toNumber()}catch{Lo("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return qc.throwError("this platform does not support BigInt",me.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?WR||(WR=!0,qc.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?qc.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",me.errors.UNEXPECTED_ARGUMENT,{}):qc.throwError("BigNumber.toString does not accept parameters",me.errors.UNEXPECTED_ARGUMENT,{})),Gt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Re)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new Re(rE,_y(e)):e.match(/^-?[0-9]+$/)?new Re(rE,_y(new Q3(e))):qc.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Lo("underflow","BigNumber.from",e),(e>=UR||e<=-UR)&&Lo("overflow","BigNumber.from",e),Re.from(String(e));const r=e;if(typeof r=="bigint")return Re.from(r.toString());if(W1(r))return Re.from(dt(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return Re.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(sr(n)||n[0]==="-"&&sr(n.substring(1))))return Re.from(n)}return qc.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function _y(t){if(typeof t!="string")return _y(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&qc.throwArgumentError("invalid hex","value",t),t=_y(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function xs(t){return Re.from(_y(t))}function Gt(t){const e=Re.from(t).toHexString();return e[0]==="-"?new Q3("-"+e.substring(3),16):new Q3(e.substring(2),16)}function Lo(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),qc.throwError(t,me.errors.NUMERIC_FAULT,n)}function efe(t){return new Q3(t,36).toString(16)}const ss=new me(Gq),Lm={},Kq=Re.from(0),Yq=Re.from(-1);function Zq(t,e,r,n){const i={fault:e,operation:r};return n!==void 0&&(i.value=n),ss.throwError(t,me.errors.NUMERIC_FAULT,i)}let Fm="0";for(;Fm.length<256;)Fm+=Fm;function WI(t){if(typeof t!="number")try{t=Re.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+Fm.substring(0,t):ss.throwArgumentError("invalid decimal size","decimals",t)}function Hv(t,e){e==null&&(e=0);const r=WI(e);t=Re.from(t);const n=t.lt(Kq);n&&(t=t.mul(Yq));let i=t.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=t.div(r).toString();return r.length===1?t=s:t=s+"."+i,n&&(t="-"+t),t}function El(t,e){e==null&&(e=0);const r=WI(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&ss.throwArgumentError("invalid decimal value","value",t);const n=t.substring(0,1)==="-";n&&(t=t.substring(1)),t==="."&&ss.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&ss.throwArgumentError("too many decimal points","value",t);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>r.length-1&&Zq("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<r.length-1;)o+="0";const a=Re.from(s),l=Re.from(o);let c=a.mul(r).add(l);return n&&(c=c.mul(Yq)),c}class T0{constructor(e,r,n,i){e!==Lm&&ss.throwError("cannot use FixedFormat constructor; use FixedFormat.from",me.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=n,this.decimals=i,this.name=(r?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=WI(i),Object.freeze(this)}static from(e){if(e instanceof T0)return e;typeof e=="number"&&(e=`fixed128x${e}`);let r=!0,n=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")r=!1;else{const s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||ss.throwArgumentError("invalid fixed format","format",e),r=s[1]!=="u",n=parseInt(s[2]),i=parseInt(s[3])}}else if(e){const s=(o,a,l)=>e[o]==null?l:(typeof e[o]!==a&&ss.throwArgumentError("invalid fixed format ("+o+" not "+a+")","format."+o,e[o]),e[o]);r=s("signed","boolean",r),n=s("width","number",n),i=s("decimals","number",i)}return n%8&&ss.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&ss.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new T0(Lm,r,n,i)}}class yi{constructor(e,r,n,i){e!==Lm&&ss.throwError("cannot use FixedNumber constructor; use FixedNumber.from",me.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=r,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&ss.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const r=El(this._value,this.format.decimals),n=El(e._value,e.format.decimals);return yi.fromValue(r.add(n),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const r=El(this._value,this.format.decimals),n=El(e._value,e.format.decimals);return yi.fromValue(r.sub(n),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const r=El(this._value,this.format.decimals),n=El(e._value,e.format.decimals);return yi.fromValue(r.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const r=El(this._value,this.format.decimals),n=El(e._value,e.format.decimals);return yi.fromValue(r.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=yi.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(r=r.subUnsafe(zR.toFormat(r.format))),r}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=yi.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(r=r.addUnsafe(zR.toFormat(r.format))),r}round(e){e==null&&(e=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(e<0||e>80||e%1)&&ss.throwArgumentError("invalid decimal count","decimals",e),r[1].length<=e)return this;const n=yi.from("1"+Fm.substring(0,e),this.format),i=tfe.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&ss.throwArgumentError("invalid byte width","width",e);const r=Re.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return Gr(r,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return yi.fromString(this._value,e)}static fromValue(e,r,n){return n==null&&r!=null&&!Xde(r)&&(n=r,r=null),r==null&&(r=0),n==null&&(n="fixed"),yi.fromString(Hv(e,r),T0.from(n))}static fromString(e,r){r==null&&(r="fixed");const n=T0.from(r),i=El(e,n.decimals);!n.signed&&i.lt(Kq)&&Zq("unsigned value cannot be negative","overflow","value",e);let s=null;n.signed?s=i.toTwos(n.width).toHexString():(s=i.toHexString(),s=Gr(s,n.width/8));const o=Hv(i,n.decimals);return new yi(Lm,s,o,n)}static fromBytes(e,r){r==null&&(r="fixed");const n=T0.from(r);if(vt(e).length>n.width/8)throw new Error("overflow");let i=Re.from(e);n.signed&&(i=i.fromTwos(n.width));const s=i.toTwos((n.signed?0:1)+n.width).toHexString(),o=Hv(i,n.decimals);return new yi(Lm,s,o,n)}static from(e,r){if(typeof e=="string")return yi.fromString(e,r);if(W1(e))return yi.fromBytes(e,r);try{return yi.fromValue(e,0,r)}catch(n){if(n.code!==me.errors.INVALID_ARGUMENT)throw n}return ss.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const zR=yi.from(1),tfe=yi.from("0.5");function rfe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Jq={exports:{}},mn=Jq.exports={},Tl,Nl;function bC(){throw new Error("setTimeout has not been defined")}function vC(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Tl=setTimeout:Tl=bC}catch{Tl=bC}try{typeof clearTimeout=="function"?Nl=clearTimeout:Nl=vC}catch{Nl=vC}})();function Qq(t){if(Tl===setTimeout)return setTimeout(t,0);if((Tl===bC||!Tl)&&setTimeout)return Tl=setTimeout,setTimeout(t,0);try{return Tl(t,0)}catch{try{return Tl.call(null,t,0)}catch{return Tl.call(this,t,0)}}}function nfe(t){if(Nl===clearTimeout)return clearTimeout(t);if((Nl===vC||!Nl)&&clearTimeout)return Nl=clearTimeout,clearTimeout(t);try{return Nl(t)}catch{try{return Nl.call(null,t)}catch{return Nl.call(this,t)}}}var au=[],N0=!1,Jf,qv=-1;function ife(){!N0||!Jf||(N0=!1,Jf.length?au=Jf.concat(au):qv=-1,au.length&&Xq())}function Xq(){if(!N0){var t=Qq(ife);N0=!0;for(var e=au.length;e;){for(Jf=au,au=[];++qv<e;)Jf&&Jf[qv].run();qv=-1,e=au.length}Jf=null,N0=!1,nfe(t)}}mn.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];au.push(new eV(t,e)),au.length===1&&!N0&&Qq(Xq)};function eV(t,e){this.fun=t,this.array=e}eV.prototype.run=function(){this.fun.apply(null,this.array)};mn.title="browser";mn.browser=!0;mn.env={};mn.argv=[];mn.version="";mn.versions={};function zu(){}mn.on=zu;mn.addListener=zu;mn.once=zu;mn.off=zu;mn.removeListener=zu;mn.removeAllListeners=zu;mn.emit=zu;mn.prependListener=zu;mn.prependOnceListener=zu;mn.listeners=function(t){return[]};mn.binding=function(t){throw new Error("process.binding is not supported")};mn.cwd=function(){return"/"};mn.chdir=function(t){throw new Error("process.chdir is not supported")};mn.umask=function(){return 0};var sfe=Jq.exports;const mt=rfe(sfe);var tV={exports:{}};(function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var s=!n&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof mt=="object"&&mt.versions&&mt.versions.node;o?i=nr:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,l=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",c="0123456789abcdef".split(""),u=[31,7936,2031616,520093696],f=[4,1024,262144,67108864],h=[1,256,65536,16777216],p=[6,1536,393216,100663296],g=[0,8,16,24],m=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],w=[224,256,384,512],y=[128,256],E=["hex","buffer","arrayBuffer","array","digest"],v={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(k){return Object.prototype.toString.call(k)==="[object Array]"}),l&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(k){return typeof k=="object"&&k.buffer&&k.buffer.constructor===ArrayBuffer});for(var b=function(k,W,V){return function(ee){return new S(k,W,k).update(ee)[V]()}},$=function(k,W,V){return function(ee,te){return new S(k,W,te).update(ee)[V]()}},P=function(k,W,V){return function(ee,te,ce,K){return _["cshake"+k].update(ee,te,ce,K)[V]()}},O=function(k,W,V){return function(ee,te,ce,K){return _["kmac"+k].update(ee,te,ce,K)[V]()}},D=function(k,W,V,ee){for(var te=0;te<E.length;++te){var ce=E[te];k[ce]=W(V,ee,ce)}return k},B=function(k,W){var V=b(k,W,"hex");return V.create=function(){return new S(k,W,k)},V.update=function(ee){return V.create().update(ee)},D(V,b,k,W)},H=function(k,W){var V=$(k,W,"hex");return V.create=function(ee){return new S(k,W,ee)},V.update=function(ee,te){return V.create(te).update(ee)},D(V,$,k,W)},q=function(k,W){var V=v[k],ee=P(k,W,"hex");return ee.create=function(te,ce,K){return!ce&&!K?_["shake"+k].create(te):new S(k,W,te).bytepad([ce,K],V)},ee.update=function(te,ce,K,G){return ee.create(ce,K,G).update(te)},D(ee,P,k,W)},Y=function(k,W){var V=v[k],ee=O(k,W,"hex");return ee.create=function(te,ce,K){return new F(k,W,ce).bytepad(["KMAC",K],V).bytepad([te],V)},ee.update=function(te,ce,K,G){return ee.create(te,K,G).update(ce)},D(ee,O,k,W)},R=[{name:"keccak",padding:h,bits:w,createMethod:B},{name:"sha3",padding:p,bits:w,createMethod:B},{name:"shake",padding:u,bits:y,createMethod:H},{name:"cshake",padding:f,bits:y,createMethod:q},{name:"kmac",padding:f,bits:y,createMethod:Y}],_={},x=[],A=0;A<R.length;++A)for(var T=R[A],I=T.bits,N=0;N<I.length;++N){var M=T.name+"_"+I[N];if(x.push(M),_[M]=T.createMethod(I[N],T.padding),T.name!=="sha3"){var U=T.name+I[N];x.push(U),_[U]=_[M]}}function S(k,W,V){this.blocks=[],this.s=[],this.padding=W,this.outputBits=V,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(k<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=V>>5,this.extraBytes=(V&31)>>3;for(var ee=0;ee<50;++ee)this.s[ee]=0}S.prototype.update=function(k){if(this.finalized)throw new Error(r);var W,V=typeof k;if(V!=="string"){if(V==="object"){if(k===null)throw new Error(e);if(l&&k.constructor===ArrayBuffer)k=new Uint8Array(k);else if(!Array.isArray(k)&&(!l||!ArrayBuffer.isView(k)))throw new Error(e)}else throw new Error(e);W=!0}for(var ee=this.blocks,te=this.byteCount,ce=k.length,K=this.blockCount,G=0,pe=this.s,de,ye;G<ce;){if(this.reset)for(this.reset=!1,ee[0]=this.block,de=1;de<K+1;++de)ee[de]=0;if(W)for(de=this.start;G<ce&&de<te;++G)ee[de>>2]|=k[G]<<g[de++&3];else for(de=this.start;G<ce&&de<te;++G)ye=k.charCodeAt(G),ye<128?ee[de>>2]|=ye<<g[de++&3]:ye<2048?(ee[de>>2]|=(192|ye>>6)<<g[de++&3],ee[de>>2]|=(128|ye&63)<<g[de++&3]):ye<55296||ye>=57344?(ee[de>>2]|=(224|ye>>12)<<g[de++&3],ee[de>>2]|=(128|ye>>6&63)<<g[de++&3],ee[de>>2]|=(128|ye&63)<<g[de++&3]):(ye=65536+((ye&1023)<<10|k.charCodeAt(++G)&1023),ee[de>>2]|=(240|ye>>18)<<g[de++&3],ee[de>>2]|=(128|ye>>12&63)<<g[de++&3],ee[de>>2]|=(128|ye>>6&63)<<g[de++&3],ee[de>>2]|=(128|ye&63)<<g[de++&3]);if(this.lastByteIndex=de,de>=te){for(this.start=de-te,this.block=ee[K],de=0;de<K;++de)pe[de]^=ee[de];Q(pe),this.reset=!0}else this.start=de}return this},S.prototype.encode=function(k,W){var V=k&255,ee=1,te=[V];for(k=k>>8,V=k&255;V>0;)te.unshift(V),k=k>>8,V=k&255,++ee;return W?te.push(ee):te.unshift(ee),this.update(te),te.length},S.prototype.encodeString=function(k){var W,V=typeof k;if(V!=="string"){if(V==="object"){if(k===null)throw new Error(e);if(l&&k.constructor===ArrayBuffer)k=new Uint8Array(k);else if(!Array.isArray(k)&&(!l||!ArrayBuffer.isView(k)))throw new Error(e)}else throw new Error(e);W=!0}var ee=0,te=k.length;if(W)ee=te;else for(var ce=0;ce<k.length;++ce){var K=k.charCodeAt(ce);K<128?ee+=1:K<2048?ee+=2:K<55296||K>=57344?ee+=3:(K=65536+((K&1023)<<10|k.charCodeAt(++ce)&1023),ee+=4)}return ee+=this.encode(ee*8),this.update(k),ee},S.prototype.bytepad=function(k,W){for(var V=this.encode(W),ee=0;ee<k.length;++ee)V+=this.encodeString(k[ee]);var te=W-V%W,ce=[];return ce.length=te,this.update(ce),this},S.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var k=this.blocks,W=this.lastByteIndex,V=this.blockCount,ee=this.s;if(k[W>>2]|=this.padding[W&3],this.lastByteIndex===this.byteCount)for(k[0]=k[V],W=1;W<V+1;++W)k[W]=0;for(k[V-1]|=2147483648,W=0;W<V;++W)ee[W]^=k[W];Q(ee)}},S.prototype.toString=S.prototype.hex=function(){this.finalize();for(var k=this.blockCount,W=this.s,V=this.outputBlocks,ee=this.extraBytes,te=0,ce=0,K="",G;ce<V;){for(te=0;te<k&&ce<V;++te,++ce)G=W[te],K+=c[G>>4&15]+c[G&15]+c[G>>12&15]+c[G>>8&15]+c[G>>20&15]+c[G>>16&15]+c[G>>28&15]+c[G>>24&15];ce%k===0&&(Q(W),te=0)}return ee&&(G=W[te],K+=c[G>>4&15]+c[G&15],ee>1&&(K+=c[G>>12&15]+c[G>>8&15]),ee>2&&(K+=c[G>>20&15]+c[G>>16&15])),K},S.prototype.arrayBuffer=function(){this.finalize();var k=this.blockCount,W=this.s,V=this.outputBlocks,ee=this.extraBytes,te=0,ce=0,K=this.outputBits>>3,G;ee?G=new ArrayBuffer(V+1<<2):G=new ArrayBuffer(K);for(var pe=new Uint32Array(G);ce<V;){for(te=0;te<k&&ce<V;++te,++ce)pe[ce]=W[te];ce%k===0&&Q(W)}return ee&&(pe[te]=W[te],G=G.slice(0,K)),G},S.prototype.buffer=S.prototype.arrayBuffer,S.prototype.digest=S.prototype.array=function(){this.finalize();for(var k=this.blockCount,W=this.s,V=this.outputBlocks,ee=this.extraBytes,te=0,ce=0,K=[],G,pe;ce<V;){for(te=0;te<k&&ce<V;++te,++ce)G=ce<<2,pe=W[te],K[G]=pe&255,K[G+1]=pe>>8&255,K[G+2]=pe>>16&255,K[G+3]=pe>>24&255;ce%k===0&&Q(W)}return ee&&(G=ce<<2,pe=W[te],K[G]=pe&255,ee>1&&(K[G+1]=pe>>8&255),ee>2&&(K[G+2]=pe>>16&255)),K};function F(k,W,V){S.call(this,k,W,V)}F.prototype=new S,F.prototype.finalize=function(){return this.encode(this.outputBits,!0),S.prototype.finalize.call(this)};var Q=function(k){var W,V,ee,te,ce,K,G,pe,de,ye,Ne,je,Qe,xe,he,ht,De,we,_e,Me,ke,Te,Ue,Be,Z,j,L,X,ae,fe,ge,Ie,Se,Ve,_t,Ge,jt,ci,er,yt,Ar,Nt,Yt,$i,qt,St,bs,tr,Vt,nt,ar,mr,no,lr,cr,vs,ur,dr,z,J,ie,re,oe;for(ee=0;ee<48;ee+=2)te=k[0]^k[10]^k[20]^k[30]^k[40],ce=k[1]^k[11]^k[21]^k[31]^k[41],K=k[2]^k[12]^k[22]^k[32]^k[42],G=k[3]^k[13]^k[23]^k[33]^k[43],pe=k[4]^k[14]^k[24]^k[34]^k[44],de=k[5]^k[15]^k[25]^k[35]^k[45],ye=k[6]^k[16]^k[26]^k[36]^k[46],Ne=k[7]^k[17]^k[27]^k[37]^k[47],je=k[8]^k[18]^k[28]^k[38]^k[48],Qe=k[9]^k[19]^k[29]^k[39]^k[49],W=je^(K<<1|G>>>31),V=Qe^(G<<1|K>>>31),k[0]^=W,k[1]^=V,k[10]^=W,k[11]^=V,k[20]^=W,k[21]^=V,k[30]^=W,k[31]^=V,k[40]^=W,k[41]^=V,W=te^(pe<<1|de>>>31),V=ce^(de<<1|pe>>>31),k[2]^=W,k[3]^=V,k[12]^=W,k[13]^=V,k[22]^=W,k[23]^=V,k[32]^=W,k[33]^=V,k[42]^=W,k[43]^=V,W=K^(ye<<1|Ne>>>31),V=G^(Ne<<1|ye>>>31),k[4]^=W,k[5]^=V,k[14]^=W,k[15]^=V,k[24]^=W,k[25]^=V,k[34]^=W,k[35]^=V,k[44]^=W,k[45]^=V,W=pe^(je<<1|Qe>>>31),V=de^(Qe<<1|je>>>31),k[6]^=W,k[7]^=V,k[16]^=W,k[17]^=V,k[26]^=W,k[27]^=V,k[36]^=W,k[37]^=V,k[46]^=W,k[47]^=V,W=ye^(te<<1|ce>>>31),V=Ne^(ce<<1|te>>>31),k[8]^=W,k[9]^=V,k[18]^=W,k[19]^=V,k[28]^=W,k[29]^=V,k[38]^=W,k[39]^=V,k[48]^=W,k[49]^=V,xe=k[0],he=k[1],St=k[11]<<4|k[10]>>>28,bs=k[10]<<4|k[11]>>>28,X=k[20]<<3|k[21]>>>29,ae=k[21]<<3|k[20]>>>29,J=k[31]<<9|k[30]>>>23,ie=k[30]<<9|k[31]>>>23,Nt=k[40]<<18|k[41]>>>14,Yt=k[41]<<18|k[40]>>>14,Ve=k[2]<<1|k[3]>>>31,_t=k[3]<<1|k[2]>>>31,ht=k[13]<<12|k[12]>>>20,De=k[12]<<12|k[13]>>>20,tr=k[22]<<10|k[23]>>>22,Vt=k[23]<<10|k[22]>>>22,fe=k[33]<<13|k[32]>>>19,ge=k[32]<<13|k[33]>>>19,re=k[42]<<2|k[43]>>>30,oe=k[43]<<2|k[42]>>>30,lr=k[5]<<30|k[4]>>>2,cr=k[4]<<30|k[5]>>>2,Ge=k[14]<<6|k[15]>>>26,jt=k[15]<<6|k[14]>>>26,we=k[25]<<11|k[24]>>>21,_e=k[24]<<11|k[25]>>>21,nt=k[34]<<15|k[35]>>>17,ar=k[35]<<15|k[34]>>>17,Ie=k[45]<<29|k[44]>>>3,Se=k[44]<<29|k[45]>>>3,Be=k[6]<<28|k[7]>>>4,Z=k[7]<<28|k[6]>>>4,vs=k[17]<<23|k[16]>>>9,ur=k[16]<<23|k[17]>>>9,ci=k[26]<<25|k[27]>>>7,er=k[27]<<25|k[26]>>>7,Me=k[36]<<21|k[37]>>>11,ke=k[37]<<21|k[36]>>>11,mr=k[47]<<24|k[46]>>>8,no=k[46]<<24|k[47]>>>8,$i=k[8]<<27|k[9]>>>5,qt=k[9]<<27|k[8]>>>5,j=k[18]<<20|k[19]>>>12,L=k[19]<<20|k[18]>>>12,dr=k[29]<<7|k[28]>>>25,z=k[28]<<7|k[29]>>>25,yt=k[38]<<8|k[39]>>>24,Ar=k[39]<<8|k[38]>>>24,Te=k[48]<<14|k[49]>>>18,Ue=k[49]<<14|k[48]>>>18,k[0]=xe^~ht&we,k[1]=he^~De&_e,k[10]=Be^~j&X,k[11]=Z^~L&ae,k[20]=Ve^~Ge&ci,k[21]=_t^~jt&er,k[30]=$i^~St&tr,k[31]=qt^~bs&Vt,k[40]=lr^~vs&dr,k[41]=cr^~ur&z,k[2]=ht^~we&Me,k[3]=De^~_e&ke,k[12]=j^~X&fe,k[13]=L^~ae&ge,k[22]=Ge^~ci&yt,k[23]=jt^~er&Ar,k[32]=St^~tr&nt,k[33]=bs^~Vt&ar,k[42]=vs^~dr&J,k[43]=ur^~z&ie,k[4]=we^~Me&Te,k[5]=_e^~ke&Ue,k[14]=X^~fe&Ie,k[15]=ae^~ge&Se,k[24]=ci^~yt&Nt,k[25]=er^~Ar&Yt,k[34]=tr^~nt&mr,k[35]=Vt^~ar&no,k[44]=dr^~J&re,k[45]=z^~ie&oe,k[6]=Me^~Te&xe,k[7]=ke^~Ue&he,k[16]=fe^~Ie&Be,k[17]=ge^~Se&Z,k[26]=yt^~Nt&Ve,k[27]=Ar^~Yt&_t,k[36]=nt^~mr&$i,k[37]=ar^~no&qt,k[46]=J^~re&lr,k[47]=ie^~oe&cr,k[8]=Te^~xe&ht,k[9]=Ue^~he&De,k[18]=Ie^~Be&j,k[19]=Se^~Z&L,k[28]=Nt^~Ve&Ge,k[29]=Yt^~_t&jt,k[38]=mr^~$i&St,k[39]=no^~qt&bs,k[48]=re^~lr&vs,k[49]=oe^~cr&ur,k[0]^=m[ee],k[1]^=m[ee+1]};if(a)t.exports=_;else for(A=0;A<x.length;++A)i[x[A]]=_[x[A]]})()})(tV);var ofe=tV.exports;const afe=wc(ofe);function On(t){return"0x"+afe.keccak_256(vt(t))}const lfe="rlp/5.8.0",Pl=new me(lfe);function HR(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function qR(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function rV(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(rV(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=HR(n.length);return i.unshift(247+i.length),i.concat(n)}FI(t)||Pl.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(vt(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=HR(e.length);return r.unshift(183+r.length),r.concat(e)}function V2(t){return dt(rV(t))}function VR(t,e,r,n){const i=[];for(;r<e+1+n;){const s=nV(t,r);i.push(s.result),r+=s.consumed,r>e+1+n&&Pl.throwError("child data too short",me.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function nV(t,e){if(t.length===0&&Pl.throwError("data too short",me.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&Pl.throwError("data short segment too short",me.errors.BUFFER_OVERRUN,{});const n=qR(t,e+1,r);return e+1+r+n>t.length&&Pl.throwError("data long segment too short",me.errors.BUFFER_OVERRUN,{}),VR(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&Pl.throwError("data array too short",me.errors.BUFFER_OVERRUN,{}),VR(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&Pl.throwError("data array too short",me.errors.BUFFER_OVERRUN,{});const n=qR(t,e+1,r);e+1+r+n>t.length&&Pl.throwError("data array too short",me.errors.BUFFER_OVERRUN,{});const i=dt(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&Pl.throwError("data too short",me.errors.BUFFER_OVERRUN,{});const n=dt(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:dt(t[e])}}function zI(t){const e=vt(t),r=nV(e,0);return r.consumed!==e.length&&Pl.throwArgumentError("invalid rlp data","data",t),r.result}const cfe="address/5.8.0",l0=new me(cfe);function GR(t){sr(t,20)||l0.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=vt(On(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const ufe=9007199254740991;function dfe(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const HI={};for(let t=0;t<10;t++)HI[String(t)]=String(t);for(let t=0;t<26;t++)HI[String.fromCharCode(65+t)]=String(10+t);const KR=Math.floor(dfe(ufe));function ffe(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>HI[n]).join("");for(;e.length>=KR;){let n=e.substring(0,KR);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function Dt(t){let e=null;if(typeof t!="string"&&l0.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=GR(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&l0.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==ffe(t)&&l0.throwArgumentError("bad icap checksum","address",t),e=efe(t.substring(4));e.length<40;)e="0"+e;e=GR("0x"+e)}else l0.throwArgumentError("invalid address","address",t);return e}function hfe(t){try{return Dt(t),!0}catch{}return!1}function iV(t){let e=null;try{e=Dt(t.from)}catch{l0.throwArgumentError("missing from address","transaction",t)}const r=Sh(vt(Re.from(t.nonce).toHexString()));return Dt(Fi(On(V2([e,r])),12))}const pfe="properties/5.8.0";var gfe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const X3=new me(pfe);function Fe(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function zl(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function vn(t){return gfe(this,void 0,void 0,function*(){const e=Object.keys(t).map(n=>{const i=t[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function sV(t,e){(!t||typeof t!="object")&&X3.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||X3.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function Mn(t){const e={};for(const r in t)e[r]=t[r];return e}const mfe={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function oV(t){if(t==null||mfe[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!oV(n))return!1}return!0}return X3.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function yfe(t){if(oV(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>Au(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&Fe(e,r,Au(n))}return e}return X3.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function Au(t){return yfe(t)}class G2{constructor(e){for(const r in e)this[r]=Au(e[r])}}const wfe="abstract-provider/5.8.0";var bfe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const vfe=new me(wfe);class xfe extends G2{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class V6{constructor(){vfe.checkAbstract(new.target,V6),Fe(this,"_isProvider",!0)}getFeeData(){return bfe(this,void 0,void 0,function*(){const{block:e,gasPrice:r}=yield vn({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(o=>null)});let n=null,i=null,s=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,s=Re.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}}const Efe="networks/5.8.0",YR=new me(Efe);function _fe(t){return t&&typeof t.renetwork=="function"}function Da(t){const e=function(r,n){n==null&&(n={});const i=[];if(r.InfuraProvider&&n.infura!=="-")try{i.push(new r.InfuraProvider(t,n.infura))}catch{}if(r.EtherscanProvider&&n.etherscan!=="-")try{i.push(new r.EtherscanProvider(t,n.etherscan))}catch{}if(r.AlchemyProvider&&n.alchemy!=="-")try{i.push(new r.AlchemyProvider(t,n.alchemy))}catch{}if(r.PocketProvider&&n.pocket!=="-"){const s=["goerli","ropsten","rinkeby","sepolia"];try{const o=new r.PocketProvider(t,n.pocket);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}}if(r.CloudflareProvider&&n.cloudflare!=="-")try{i.push(new r.CloudflareProvider(t))}catch{}if(r.AnkrProvider&&n.ankr!=="-")try{const s=["ropsten"],o=new r.AnkrProvider(t,n.ankr);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}if(r.QuickNodeProvider&&n.quicknode!=="-")try{i.push(new r.QuickNodeProvider(t,n.quicknode))}catch{}if(i.length===0)return null;if(r.FallbackProvider){let s=1;return n.quorum!=null?s=n.quorum:t==="homestead"&&(s=2),new r.FallbackProvider(i,s)}return i[0]};return e.renetwork=function(r){return Da(r)},e}function e5(t,e){const r=function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(t,e):null};return r.renetwork=function(n){return e5(t,n)},r}const ZR={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Da("homestead")},JR={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Da("ropsten")},QR={chainId:63,name:"classicMordor",_defaultProvider:e5("https://www.ethercluster.com/mordor","classicMordor")},Cb={unspecified:{chainId:0,name:"unspecified"},homestead:ZR,mainnet:ZR,morden:{chainId:2,name:"morden"},ropsten:JR,testnet:JR,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Da("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Da("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Da("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"sepolia",_defaultProvider:Da("sepolia")},holesky:{chainId:17e3,name:"holesky",_defaultProvider:Da("holesky")},classic:{chainId:61,name:"classic",_defaultProvider:e5("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:QR,classicTestnet:QR,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:e5("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:Da("matic")},maticmum:{chainId:80001,name:"maticmum",_defaultProvider:Da("maticmum")},optimism:{chainId:10,name:"optimism",_defaultProvider:Da("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function Cfe(t){if(t==null)return null;if(typeof t=="number"){for(const n in Cb){const i=Cb[n];if(i.chainId===t)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const n=Cb[t];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=Cb[t.name];if(!e)return typeof t.chainId!="number"&&YR.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&YR.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;return r==null&&e._defaultProvider&&(_fe(e._defaultProvider)?r=e._defaultProvider.renetwork(t):r=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}function aV(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return vt(e)}function lV(t){t=vt(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}class cV{constructor(e){Fe(this,"alphabet",e),Fe(this,"base",e.length),Fe(this,"_alphabetMap",{}),Fe(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=vt(e);if(r.length===0)return"";let n=[0];for(let s=0;s<r.length;++s){let o=r[s];for(let a=0;a<n.length;++a)o+=n[a]<<8,n[a]=o%this.base,o=o/this.base|0;for(;o>0;)n.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;r[s]===0&&s<r.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<r.length;++o)s+=r[o]*this.base,r[o]=s&255,s>>=8;for(;s>0;)r.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return vt(new Uint8Array(r.reverse()))}}new cV("abcdefghijklmnopqrstuvwxyz234567");const xC=new cV("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),Afe="0x0000000000000000000000000000000000000000",Sfe=Re.from(-1),uV=Re.from(0),$fe=Re.from(1),Ife=Re.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),kfe="0x0000000000000000000000000000000000000000000000000000000000000000",Tfe="strings/5.8.0",dV=new me(Tfe);var Cy;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(Cy||(Cy={}));var mo;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(mo||(mo={}));function Nfe(t,e,r,n,i){return dV.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function fV(t,e,r,n,i){if(t===mo.BAD_PREFIX||t===mo.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)s++;return s}return t===mo.OVERRUN?r.length-e-1:0}function Pfe(t,e,r,n,i){return t===mo.OVERLONG?(n.push(i),0):(n.push(65533),fV(t,e,r))}const Rfe=Object.freeze({error:Nfe,ignore:fV,replace:Pfe});function hV(t,e){e==null&&(e=Rfe.error),t=vt(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(!(i>>7)){r.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?n+=e(mo.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(mo.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(mo.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-s-1)-1;for(let l=0;l<s;l++){let c=t[n];if((c&192)!=128){n+=e(mo.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|c&63,n++}if(a!==null){if(a>1114111){n+=e(mo.OUT_OF_RANGE,n-1-s,t,r,a);continue}if(a>=55296&&a<=57343){n+=e(mo.UTF16_SURROGATE,n-1-s,t,r,a);continue}if(a<=o){n+=e(mo.OVERLONG,n-1-s,t,r,a);continue}r.push(a)}}return r}function uc(t,e=Cy.current){e!=Cy.current&&(dV.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return vt(r)}function Ofe(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function z1(t,e){return Ofe(hV(t,e))}function jfe(t,e=Cy.current){return hV(uc(t,e))}function c0(t){return On(uc(t))}const pV="hash/5.8.0";function gV(t,e){e==null&&(e=1);const r=[],n=r.forEach,i=function(s,o){n.call(s,function(a){o>0&&Array.isArray(a)?i(a,o-1):r.push(a)})};return i(t,e),r}function Mfe(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}return e}function Dfe(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let $=1;$<n;$++)s.push(i+=r());let o=r(),a=e;e+=o;let l=0,c=0;function u(){return l==0&&(c=c<<8|t[e++],l=8),c>>--l&1}const f=31,h=Math.pow(2,f),p=h>>>1,g=p>>1,m=h-1;let w=0;for(let $=0;$<f;$++)w=w<<1|u();let y=[],E=0,v=h;for(;;){let $=Math.floor(((w-E+1)*i-1)/v),P=0,O=n;for(;O-P>1;){let H=P+O>>>1;$<s[H]?O=H:P=H}if(P==0)break;y.push(P);let D=E+Math.floor(v*s[P]/i),B=E+Math.floor(v*s[P+1]/i)-1;for(;!((D^B)&p);)w=w<<1&m|u(),D=D<<1&m,B=B<<1&m|1;for(;D&~B&g;)w=w&p|w<<1&m>>>1|u(),D=D<<1^p,B=(B^p)<<1|p|1;E=D,v=1+B-D}let b=n-4;return y.map($=>{switch($-b){case 3:return b+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return b+256+(t[a++]<<8|t[a++]);case 1:return b+t[a++];default:return $-1}})}function Lfe(t){let e=0;return()=>t[e++]}function Ffe(t){return Lfe(Dfe(t))}function Bfe(t){return t&1?~t>>1:t>>1}function Ufe(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}function XR(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function Wfe(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=Bfe(e());return r}function t5(t,e){let r=XR(t(),t),n=t(),i=XR(n,t),s=Ufe(n,t);for(let o=0;o<n;o++)for(let a=0;a<s[o];a++)r.push(i[o]+a);return e?r.map(o=>e[o]):r}function zfe(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(qfe(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(Vfe(r,t))}return Mfe(gV(e))}function Hfe(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}function mV(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)Wfe(t,r).forEach((s,o)=>n[o].push(s));return n}function qfe(t,e){let r=1+e(),n=e(),i=Hfe(e),s=mV(i.length,1+t,e);return gV(s.map((o,a)=>{const l=o[0],c=o.slice(1);return Array(i[a]).fill(void 0).map((u,f)=>{let h=f*n;return[l+f*r,c.map(p=>p+h)]})}))}function Vfe(t,e){let r=1+e();return mV(r,1+t,e).map(i=>[i[0],i.slice(1)])}function Gfe(t){let e=t5(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let c=t5(t,e);if(c.length==0)break;n.push({set:new Set(c),node:r()})}n.sort((c,u)=>u.set.size-c.set.size);let i=t(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let a=i==1,l=i==2;return{branches:n,valid:s,fe0f:o,save:a,check:l}}}function Kfe(){return Ffe(aV("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const G6=Kfe(),Yfe=new Set(t5(G6)),Zfe=new Set(t5(G6)),Jfe=zfe(G6),Qfe=Gfe(G6),eO=45,tO=95;function yV(t){return jfe(t)}function Xfe(t){return t.filter(e=>e!=65039)}function wV(t){for(let e of t.split(".")){let r=yV(e);try{for(let n=r.lastIndexOf(tO)-1;n>=0;n--)if(r[n]!==tO)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===eO&&r[3]===eO)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}function ehe(t){return wV(the(t,Xfe))}function the(t,e){let r=yV(t).reverse(),n=[];for(;r.length;){let i=nhe(r);if(i){n.push(...e(i));continue}let s=r.pop();if(Yfe.has(s)){n.push(s);continue}if(Zfe.has(s))continue;let o=Jfe[s];if(o){n.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return wV(rhe(String.fromCodePoint(...n)))}function rhe(t){return t.normalize("NFC")}function nhe(t,e){var r;let n=Qfe,i,s,o=[],a=t.length;for(;a;){let l=t[--a];if(n=(r=n.branches.find(c=>c.set.has(l)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)s=l;else if(n.check&&l===s)break;o.push(l),n.fe0f&&(o.push(65039),a>0&&t[a-1]==65039&&a--),n.valid&&(i=o.slice(),n.valid==2&&i.splice(1,1),t.length=a)}return i}const ihe=new me(pV),bV=new Uint8Array(32);bV.fill(0);function rO(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function vV(t){const e=uc(ehe(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(rO(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(rO(e.slice(n))),r}function Vv(t){typeof t!="string"&&ihe.throwArgumentError("invalid ENS name; not a string","name",t);let e=bV;const r=vV(t);for(;r.length;)e=On(vo([e,On(r.pop())]));return dt(e)}function she(t){return dt(vo(vV(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}var ohe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const Xr=new me(pV),xV=new Uint8Array(32);xV.fill(0);const ahe=Re.from(-1),EV=Re.from(0),_V=Re.from(1),lhe=Re.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function che(t){const e=vt(t),r=e.length%32;return r?js([e,xV.slice(r)]):dt(e)}const uhe=Gr(_V.toHexString(),32),dhe=Gr(EV.toHexString(),32),nO={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},nE=["name","version","chainId","verifyingContract","salt"];function iO(t){return function(e){return typeof e!="string"&&Xr.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const fhe={name:iO("name"),version:iO("version"),chainId:function(t){try{return Re.from(t).toString()}catch{}return Xr.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return Dt(t).toLowerCase()}catch{}return Xr.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=vt(t);if(e.length!==32)throw new Error("bad length");return dt(e)}catch{}return Xr.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function iE(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&Xr.throwArgumentError("invalid numeric width","type",t);const i=lhe.mask(r?n-1:n),s=r?i.add(_V).mul(ahe):EV;return function(o){const a=Re.from(o);return(a.lt(s)||a.gt(i))&&Xr.throwArgumentError(`value out-of-bounds for ${t}`,"value",o),Gr(a.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&Xr.throwArgumentError("invalid bytes width","type",t),function(n){return vt(n).length!==r&&Xr.throwArgumentError(`invalid length for ${t}`,"value",n),che(n)}}}switch(t){case"address":return function(e){return Gr(Dt(e),32)};case"bool":return function(e){return e?uhe:dhe};case"bytes":return function(e){return On(e)};case"string":return function(e){return c0(e)}}return null}function sO(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}class uo{constructor(e){Fe(this,"types",Object.freeze(Au(e))),Fe(this,"_encoderCache",{}),Fe(this,"_types",{});const r={},n={},i={};Object.keys(e).forEach(a=>{r[a]={},n[a]=[],i[a]={}});for(const a in e){const l={};e[a].forEach(c=>{l[c.name]&&Xr.throwArgumentError(`duplicate variable name ${JSON.stringify(c.name)} in ${JSON.stringify(a)}`,"types",e),l[c.name]=!0;const u=c.type.match(/^([^\x5b]*)(\x5b|$)/)[1];u===a&&Xr.throwArgumentError(`circular type reference to ${JSON.stringify(u)}`,"types",e),!iE(u)&&(n[u]||Xr.throwArgumentError(`unknown type ${JSON.stringify(u)}`,"types",e),n[u].push(a),r[a][u]=!0)})}const s=Object.keys(n).filter(a=>n[a].length===0);s.length===0?Xr.throwArgumentError("missing primary type","types",e):s.length>1&&Xr.throwArgumentError(`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),Fe(this,"primaryType",s[0]);function o(a,l){l[a]&&Xr.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),l[a]=!0,Object.keys(r[a]).forEach(c=>{n[c]&&(o(c,l),Object.keys(l).forEach(u=>{i[u][c]=!0}))}),delete l[a]}o(this.primaryType,{});for(const a in i){const l=Object.keys(i[a]);l.sort(),this._types[a]=sO(a,e[a])+l.map(c=>sO(c,e[c])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{const i=iE(e);if(i)return i}const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const i=r[1],s=this.getEncoder(i),o=parseInt(r[3]);return a=>{o>=0&&a.length!==o&&Xr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let l=a.map(s);return this._types[i]&&(l=l.map(On)),On(js(l))}}const n=this.types[e];if(n){const i=c0(this._types[e]);return s=>{const o=n.map(({name:a,type:l})=>{const c=this.getEncoder(l)(s[a]);return this._types[l]?On(c):c});return o.unshift(i),js(o)}}return Xr.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const r=this._types[e];return r||Xr.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return On(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(iE(e))return n(e,r);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const o=i[1],a=parseInt(i[3]);return a>=0&&r.length!==a&&Xr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(l=>this._visit(o,l,n))}const s=this.types[e];return s?s.reduce((o,{name:a,type:l})=>(o[a]=this._visit(l,r[a],n),o),{}):Xr.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new uo(e)}static getPrimaryType(e){return uo.from(e).primaryType}static hashStruct(e,r,n){return uo.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){const i=nO[n];i||Xr.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>nE.indexOf(n.name)-nE.indexOf(i.name)),uo.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return js(["0x1901",uo.hashDomain(e),uo.from(r).hash(n)])}static hash(e,r,n){return On(uo.encode(e,r,n))}static resolveNames(e,r,n,i){return ohe(this,void 0,void 0,function*(){e=Mn(e);const s={};e.verifyingContract&&!sr(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=uo.from(r);o.visit(n,(a,l)=>(a==="address"&&!sr(l,20)&&(s[l]="0x"),l));for(const a in s)s[a]=yield i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=o.visit(n,(a,l)=>a==="address"&&s[l]?s[l]:l),{domain:e,value:n}})}static getPayload(e,r,n){uo.hashDomain(e);const i={},s=[];nE.forEach(l=>{const c=e[l];c!=null&&(i[l]=fhe[l](c),s.push({name:l,type:nO[l]}))});const o=uo.from(r),a=Mn(r);return a.EIP712Domain?Xr.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):a.EIP712Domain=s,o.encode(n),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(n,(l,c)=>{if(l.match(/^bytes(\d*)/))return dt(vt(c));if(l.match(/^u?int/))return Re.from(c).toString();switch(l){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return typeof c!="string"&&Xr.throwArgumentError("invalid string","value",c),c}return Xr.throwArgumentError("unsupported type","type",l)})}}}var CV={},Kt={},K2=AV;function AV(t,e){if(!t)throw new Error(e||"Assertion failed")}AV.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var EC={exports:{}};typeof Object.create=="function"?EC.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:EC.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var Po=EC.exports,hhe=K2,phe=Po;Kt.inherits=phe;function ghe(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function mhe(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):ghe(t,i)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}Kt.toArray=mhe;function yhe(t){for(var e="",r=0;r<t.length;r++)e+=$V(t[r].toString(16));return e}Kt.toHex=yhe;function SV(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Kt.htonl=SV;function whe(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=SV(i)),r+=IV(i.toString(16))}return r}Kt.toHex32=whe;function $V(t){return t.length===1?"0"+t:t}Kt.zero2=$V;function IV(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Kt.zero8=IV;function bhe(t,e,r,n){var i=r-e;hhe(i%4===0);for(var s=new Array(i/4),o=0,a=e;o<s.length;o++,a+=4){var l;n==="big"?l=t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:l=t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],s[o]=l>>>0}return s}Kt.join32=bhe;function vhe(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var s=t[n];e==="big"?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=s&255):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=s&255)}return r}Kt.split32=vhe;function xhe(t,e){return t>>>e|t<<32-e}Kt.rotr32=xhe;function Ehe(t,e){return t<<e|t>>>32-e}Kt.rotl32=Ehe;function _he(t,e){return t+e>>>0}Kt.sum32=_he;function Che(t,e,r){return t+e+r>>>0}Kt.sum32_3=Che;function Ahe(t,e,r,n){return t+e+r+n>>>0}Kt.sum32_4=Ahe;function She(t,e,r,n,i){return t+e+r+n+i>>>0}Kt.sum32_5=She;function $he(t,e,r,n){var i=t[e],s=t[e+1],o=n+s>>>0,a=(o<n?1:0)+r+i;t[e]=a>>>0,t[e+1]=o}Kt.sum64=$he;function Ihe(t,e,r,n){var i=e+n>>>0,s=(i<e?1:0)+t+r;return s>>>0}Kt.sum64_hi=Ihe;function khe(t,e,r,n){var i=e+n;return i>>>0}Kt.sum64_lo=khe;function The(t,e,r,n,i,s,o,a){var l=0,c=e;c=c+n>>>0,l+=c<e?1:0,c=c+s>>>0,l+=c<s?1:0,c=c+a>>>0,l+=c<a?1:0;var u=t+r+i+o+l;return u>>>0}Kt.sum64_4_hi=The;function Nhe(t,e,r,n,i,s,o,a){var l=e+n+s+a;return l>>>0}Kt.sum64_4_lo=Nhe;function Phe(t,e,r,n,i,s,o,a,l,c){var u=0,f=e;f=f+n>>>0,u+=f<e?1:0,f=f+s>>>0,u+=f<s?1:0,f=f+a>>>0,u+=f<a?1:0,f=f+c>>>0,u+=f<c?1:0;var h=t+r+i+o+l+u;return h>>>0}Kt.sum64_5_hi=Phe;function Rhe(t,e,r,n,i,s,o,a,l,c){var u=e+n+s+a+c;return u>>>0}Kt.sum64_5_lo=Rhe;function Ohe(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}Kt.rotr64_hi=Ohe;function jhe(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Kt.rotr64_lo=jhe;function Mhe(t,e,r){return t>>>r}Kt.shr64_hi=Mhe;function Dhe(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Kt.shr64_lo=Dhe;var H1={},oO=Kt,Lhe=K2;function K6(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}H1.BlockHash=K6;K6.prototype.update=function(e,r){if(e=oO.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=oO.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};K6.prototype.digest=function(e){return this.update(this._pad()),Lhe(this.pending===null),this._digest(e)};K6.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var s=1;s<n;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,o=8;o<this.padLength;o++)i[s++]=0;return i};var q1={},bc={},Fhe=Kt,Zl=Fhe.rotr32;function Bhe(t,e,r,n){if(t===0)return kV(e,r,n);if(t===1||t===3)return NV(e,r,n);if(t===2)return TV(e,r,n)}bc.ft_1=Bhe;function kV(t,e,r){return t&e^~t&r}bc.ch32=kV;function TV(t,e,r){return t&e^t&r^e&r}bc.maj32=TV;function NV(t,e,r){return t^e^r}bc.p32=NV;function Uhe(t){return Zl(t,2)^Zl(t,13)^Zl(t,22)}bc.s0_256=Uhe;function Whe(t){return Zl(t,6)^Zl(t,11)^Zl(t,25)}bc.s1_256=Whe;function zhe(t){return Zl(t,7)^Zl(t,18)^t>>>3}bc.g0_256=zhe;function Hhe(t){return Zl(t,17)^Zl(t,19)^t>>>10}bc.g1_256=Hhe;var s1=Kt,qhe=H1,Vhe=bc,sE=s1.rotl32,jg=s1.sum32,Ghe=s1.sum32_5,Khe=Vhe.ft_1,PV=qhe.BlockHash,Yhe=[1518500249,1859775393,2400959708,3395469782];function dc(){if(!(this instanceof dc))return new dc;PV.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}s1.inherits(dc,PV);var Zhe=dc;dc.blockSize=512;dc.outSize=160;dc.hmacStrength=80;dc.padLength=64;dc.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=sE(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var s=this.h[0],o=this.h[1],a=this.h[2],l=this.h[3],c=this.h[4];for(i=0;i<n.length;i++){var u=~~(i/20),f=Ghe(sE(s,5),Khe(u,o,a,l),c,n[i],Yhe[u]);c=l,l=a,a=sE(o,30),o=s,s=f}this.h[0]=jg(this.h[0],s),this.h[1]=jg(this.h[1],o),this.h[2]=jg(this.h[2],a),this.h[3]=jg(this.h[3],l),this.h[4]=jg(this.h[4],c)};dc.prototype._digest=function(e){return e==="hex"?s1.toHex32(this.h,"big"):s1.split32(this.h,"big")};var o1=Kt,Jhe=H1,V1=bc,Qhe=K2,_a=o1.sum32,Xhe=o1.sum32_4,epe=o1.sum32_5,tpe=V1.ch32,rpe=V1.maj32,npe=V1.s0_256,ipe=V1.s1_256,spe=V1.g0_256,ope=V1.g1_256,RV=Jhe.BlockHash,ape=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function fc(){if(!(this instanceof fc))return new fc;RV.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=ape,this.W=new Array(64)}o1.inherits(fc,RV);var OV=fc;fc.blockSize=512;fc.outSize=256;fc.hmacStrength=192;fc.padLength=64;fc.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=Xhe(ope(n[i-2]),n[i-7],spe(n[i-15]),n[i-16]);var s=this.h[0],o=this.h[1],a=this.h[2],l=this.h[3],c=this.h[4],u=this.h[5],f=this.h[6],h=this.h[7];for(Qhe(this.k.length===n.length),i=0;i<n.length;i++){var p=epe(h,ipe(c),tpe(c,u,f),this.k[i],n[i]),g=_a(npe(s),rpe(s,o,a));h=f,f=u,u=c,c=_a(l,p),l=a,a=o,o=s,s=_a(p,g)}this.h[0]=_a(this.h[0],s),this.h[1]=_a(this.h[1],o),this.h[2]=_a(this.h[2],a),this.h[3]=_a(this.h[3],l),this.h[4]=_a(this.h[4],c),this.h[5]=_a(this.h[5],u),this.h[6]=_a(this.h[6],f),this.h[7]=_a(this.h[7],h)};fc.prototype._digest=function(e){return e==="hex"?o1.toHex32(this.h,"big"):o1.split32(this.h,"big")};var _C=Kt,jV=OV;function Su(){if(!(this instanceof Su))return new Su;jV.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}_C.inherits(Su,jV);var lpe=Su;Su.blockSize=512;Su.outSize=224;Su.hmacStrength=192;Su.padLength=64;Su.prototype._digest=function(e){return e==="hex"?_C.toHex32(this.h.slice(0,7),"big"):_C.split32(this.h.slice(0,7),"big")};var Vs=Kt,cpe=H1,upe=K2,Jl=Vs.rotr64_hi,Ql=Vs.rotr64_lo,MV=Vs.shr64_hi,DV=Vs.shr64_lo,ed=Vs.sum64,oE=Vs.sum64_hi,aE=Vs.sum64_lo,dpe=Vs.sum64_4_hi,fpe=Vs.sum64_4_lo,hpe=Vs.sum64_5_hi,ppe=Vs.sum64_5_lo,LV=cpe.BlockHash,gpe=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Qa(){if(!(this instanceof Qa))return new Qa;LV.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=gpe,this.W=new Array(160)}Vs.inherits(Qa,LV);var FV=Qa;Qa.blockSize=1024;Qa.outSize=512;Qa.hmacStrength=192;Qa.padLength=128;Qa.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var s=Spe(n[i-4],n[i-3]),o=$pe(n[i-4],n[i-3]),a=n[i-14],l=n[i-13],c=Cpe(n[i-30],n[i-29]),u=Ape(n[i-30],n[i-29]),f=n[i-32],h=n[i-31];n[i]=dpe(s,o,a,l,c,u,f,h),n[i+1]=fpe(s,o,a,l,c,u,f,h)}};Qa.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],l=this.h[4],c=this.h[5],u=this.h[6],f=this.h[7],h=this.h[8],p=this.h[9],g=this.h[10],m=this.h[11],w=this.h[12],y=this.h[13],E=this.h[14],v=this.h[15];upe(this.k.length===n.length);for(var b=0;b<n.length;b+=2){var $=E,P=v,O=Epe(h,p),D=_pe(h,p),B=mpe(h,p,g,m,w),H=ype(h,p,g,m,w,y),q=this.k[b],Y=this.k[b+1],R=n[b],_=n[b+1],x=hpe($,P,O,D,B,H,q,Y,R,_),A=ppe($,P,O,D,B,H,q,Y,R,_);$=vpe(i,s),P=xpe(i,s),O=wpe(i,s,o,a,l),D=bpe(i,s,o,a,l,c);var T=oE($,P,O,D),I=aE($,P,O,D);E=w,v=y,w=g,y=m,g=h,m=p,h=oE(u,f,x,A),p=aE(f,f,x,A),u=l,f=c,l=o,c=a,o=i,a=s,i=oE(x,A,T,I),s=aE(x,A,T,I)}ed(this.h,0,i,s),ed(this.h,2,o,a),ed(this.h,4,l,c),ed(this.h,6,u,f),ed(this.h,8,h,p),ed(this.h,10,g,m),ed(this.h,12,w,y),ed(this.h,14,E,v)};Qa.prototype._digest=function(e){return e==="hex"?Vs.toHex32(this.h,"big"):Vs.split32(this.h,"big")};function mpe(t,e,r,n,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}function ype(t,e,r,n,i,s){var o=e&n^~e&s;return o<0&&(o+=4294967296),o}function wpe(t,e,r,n,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}function bpe(t,e,r,n,i,s){var o=e&n^e&s^n&s;return o<0&&(o+=4294967296),o}function vpe(t,e){var r=Jl(t,e,28),n=Jl(e,t,2),i=Jl(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function xpe(t,e){var r=Ql(t,e,28),n=Ql(e,t,2),i=Ql(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function Epe(t,e){var r=Jl(t,e,14),n=Jl(t,e,18),i=Jl(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function _pe(t,e){var r=Ql(t,e,14),n=Ql(t,e,18),i=Ql(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function Cpe(t,e){var r=Jl(t,e,1),n=Jl(t,e,8),i=MV(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function Ape(t,e){var r=Ql(t,e,1),n=Ql(t,e,8),i=DV(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function Spe(t,e){var r=Jl(t,e,19),n=Jl(e,t,29),i=MV(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}function $pe(t,e){var r=Ql(t,e,19),n=Ql(e,t,29),i=DV(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}var CC=Kt,BV=FV;function $u(){if(!(this instanceof $u))return new $u;BV.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}CC.inherits($u,BV);var Ipe=$u;$u.blockSize=1024;$u.outSize=384;$u.hmacStrength=192;$u.padLength=128;$u.prototype._digest=function(e){return e==="hex"?CC.toHex32(this.h.slice(0,12),"big"):CC.split32(this.h.slice(0,12),"big")};q1.sha1=Zhe;q1.sha224=lpe;q1.sha256=OV;q1.sha384=Ipe;q1.sha512=FV;var UV={},Ih=Kt,kpe=H1,Ab=Ih.rotl32,aO=Ih.sum32,Mg=Ih.sum32_3,lO=Ih.sum32_4,WV=kpe.BlockHash;function hc(){if(!(this instanceof hc))return new hc;WV.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Ih.inherits(hc,WV);UV.ripemd160=hc;hc.blockSize=512;hc.outSize=160;hc.hmacStrength=192;hc.padLength=64;hc.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],l=n,c=i,u=s,f=o,h=a,p=0;p<80;p++){var g=aO(Ab(lO(n,cO(p,i,s,o),e[Ppe[p]+r],Tpe(p)),Ope[p]),a);n=a,a=o,o=Ab(s,10),s=i,i=g,g=aO(Ab(lO(l,cO(79-p,c,u,f),e[Rpe[p]+r],Npe(p)),jpe[p]),h),l=h,h=f,f=Ab(u,10),u=c,c=g}g=Mg(this.h[1],s,f),this.h[1]=Mg(this.h[2],o,h),this.h[2]=Mg(this.h[3],a,l),this.h[3]=Mg(this.h[4],n,c),this.h[4]=Mg(this.h[0],i,u),this.h[0]=g};hc.prototype._digest=function(e){return e==="hex"?Ih.toHex32(this.h,"little"):Ih.split32(this.h,"little")};function cO(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function Tpe(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function Npe(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var Ppe=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Rpe=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Ope=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],jpe=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Mpe=Kt,Dpe=K2;function a1(t,e,r){if(!(this instanceof a1))return new a1(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(Mpe.toArray(e,r))}var Lpe=a1;a1.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),Dpe(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};a1.prototype.update=function(e,r){return this.inner.update(e,r),this};a1.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=Kt,e.common=H1,e.sha=q1,e.ripemd=UV,e.hmac=Lpe,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(CV);const Sl=wc(CV);function uO(t){return"0x"+Sl.sha256().update(vt(t)).digest("hex")}const Fpe="web/5.8.0";var Bpe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};function Upe(t,e){return Bpe(this,void 0,void 0,function*(){e==null&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(r.mode=o.mode),o.cache&&(r.cache=o.cache),o.credentials&&(r.credentials=o.credentials),o.redirect&&(r.redirect=o.redirect),o.referrer&&(r.referrer=o.referrer)}const n=yield fetch(t,r),i=yield n.arrayBuffer(),s={};return n.headers.forEach?n.headers.forEach((o,a)=>{s[a.toLowerCase()]=o}):n.headers.keys().forEach(o=>{s[o.toLowerCase()]=n.headers.get(o)}),{headers:s,statusCode:n.status,statusMessage:n.statusText,body:vt(new Uint8Array(i))}})}var Wpe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const ka=new me(Fpe);function dO(t){return new Promise(e=>{setTimeout(e,t)})}function td(t,e){if(t==null)return null;if(typeof t=="string")return t;if(FI(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return z1(t)}catch{}return dt(t)}return t}function zpe(t){return uc(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function Hpe(t,e,r){const n=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;ka.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof t=="object"?t.throttleCallback:null,s=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;ka.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o=typeof t=="object"?!!t.errorPassThrough:!1,a={};let l=null;const c={method:"GET"};let u=!1,f=2*60*1e3;if(typeof t=="string")l=t;else if(typeof t=="object"){if((t==null||t.url==null)&&ka.throwArgumentError("missing URL","connection.url",t),l=t.url,typeof t.timeout=="number"&&t.timeout>0&&(f=t.timeout),t.headers)for(const y in t.headers)a[y.toLowerCase()]={key:y,value:String(t.headers[y])},["if-none-match","if-modified-since"].indexOf(y.toLowerCase())>=0&&(u=!0);if(c.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){l.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&ka.throwError("basic authentication requires a secure https url",me.errors.INVALID_ARGUMENT,{argument:"url",url:l,user:t.user,password:"[REDACTED]"});const y=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+lV(uc(y))}}t.skipFetchSetup!=null&&(c.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(c.fetchOptions=Mn(t.fetchOptions))}const h=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),p=l?l.match(h):null;if(p)try{const y={statusCode:200,statusMessage:"OK",headers:{"content-type":p[1]||"text/plain"},body:p[2]?aV(p[3]):zpe(p[3])};let E=y.body;return r&&(E=r(y.body,y)),Promise.resolve(E)}catch(y){ka.throwError("processing response error",me.errors.SERVER_ERROR,{body:td(p[1],p[2]),error:y,requestBody:null,requestMethod:"GET",url:l})}e&&(c.method="POST",c.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const g={};Object.keys(a).forEach(y=>{const E=a[y];g[E.key]=E.value}),c.headers=g;const m=function(){let y=null;return{promise:new Promise(function(b,$){f&&(y=setTimeout(()=>{y!=null&&(y=null,$(ka.makeError("timeout",me.errors.TIMEOUT,{requestBody:td(c.body,g["content-type"]),requestMethod:c.method,timeout:f,url:l})))},f))}),cancel:function(){y!=null&&(clearTimeout(y),y=null)}}}(),w=function(){return Wpe(this,void 0,void 0,function*(){for(let y=0;y<n;y++){let E=null;try{if(E=yield Upe(l,c),y<n){if(E.statusCode===301||E.statusCode===302){const b=E.headers.location||"";if(c.method==="GET"&&b.match(/^https:/)){l=E.headers.location;continue}}else if(E.statusCode===429){let b=!0;if(i&&(b=yield i(y,l)),b){let $=0;const P=E.headers["retry-after"];typeof P=="string"&&P.match(/^[1-9][0-9]*$/)?$=parseInt(P)*1e3:$=s*parseInt(String(Math.random()*Math.pow(2,y))),yield dO($);continue}}}}catch(b){E=b.response,E==null&&(m.cancel(),ka.throwError("missing response",me.errors.SERVER_ERROR,{requestBody:td(c.body,g["content-type"]),requestMethod:c.method,serverError:b,url:l}))}let v=E.body;if(u&&E.statusCode===304?v=null:!o&&(E.statusCode<200||E.statusCode>=300)&&(m.cancel(),ka.throwError("bad response",me.errors.SERVER_ERROR,{status:E.statusCode,headers:E.headers,body:td(v,E.headers?E.headers["content-type"]:null),requestBody:td(c.body,g["content-type"]),requestMethod:c.method,url:l})),r)try{const b=yield r(v,E);return m.cancel(),b}catch(b){if(b.throttleRetry&&y<n){let $=!0;if(i&&($=yield i(y,l)),$){const P=s*parseInt(String(Math.random()*Math.pow(2,y)));yield dO(P);continue}}m.cancel(),ka.throwError("processing response error",me.errors.SERVER_ERROR,{body:td(v,E.headers?E.headers["content-type"]:null),error:b,requestBody:td(c.body,g["content-type"]),requestMethod:c.method,url:l})}return m.cancel(),v}return ka.throwError("failed response",me.errors.SERVER_ERROR,{requestBody:td(c.body,g["content-type"]),requestMethod:c.method,url:l})})}();return Promise.race([m.promise,w])}function qI(t,e,r){let n=(s,o)=>{let a=null;if(s!=null)try{a=JSON.parse(z1(s))}catch(l){ka.throwError("invalid JSON",me.errors.SERVER_ERROR,{body:s,error:l})}return r&&(a=r(a,o)),a},i=null;if(e!=null){i=uc(e);const s=typeof t=="string"?{url:t}:Mn(t);s.headers?Object.keys(s.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(s.headers=Mn(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},t=s}return Hpe(t,i,n)}function gm(t,e){return e||(e={}),e=Mn(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(r,n){let i=null,s=!1;const o=()=>s?!1:(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{o()&&n(new Error("timeout"))},e.timeout));const a=e.retryLimit;let l=0;function c(){return t().then(function(u){if(u!==void 0)o()&&r(u);else if(e.oncePoll)e.oncePoll.once("poll",c);else if(e.onceBlock)e.onceBlock.once("block",c);else if(!s){if(l++,l>a){o()&&n(new Error("retry limit reached"));return}let f=e.interval*parseInt(String(Math.random()*Math.pow(2,l)));f<e.floor&&(f=e.floor),f>e.ceiling&&(f=e.ceiling),setTimeout(c,f)}return null},function(u){o()&&n(u)})}c()})}var r5="qpzry9x8gf2tvdw0s3jn54khce6mua7l",AC={};for(var Sb=0;Sb<r5.length;Sb++){var lE=r5.charAt(Sb);if(AC[lE]!==void 0)throw new TypeError(lE+" is ambiguous");AC[lE]=Sb}function P0(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function zV(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=P0(e)^n>>5}for(e=P0(e),r=0;r<t.length;++r){var i=t.charCodeAt(r);e=P0(e)^i&31}return e}function qpe(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var n=zV(t);if(typeof n=="string")throw new Error(n);for(var i=t+"1",s=0;s<e.length;++s){var o=e[s];if(o>>5)throw new Error("Non 5-bit word");n=P0(n)^o,i+=r5.charAt(o)}for(s=0;s<6;++s)n=P0(n);for(n^=1,s=0;s<6;++s){var a=n>>(5-s)*5&31;i+=r5.charAt(a)}return i}function HV(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var r=t.toLowerCase(),n=t.toUpperCase();if(t!==r&&t!==n)return"Mixed-case string "+t;t=r;var i=t.lastIndexOf("1");if(i===-1)return"No separator character for "+t;if(i===0)return"Missing prefix for "+t;var s=t.slice(0,i),o=t.slice(i+1);if(o.length<6)return"Data too short";var a=zV(s);if(typeof a=="string")return a;for(var l=[],c=0;c<o.length;++c){var u=o.charAt(c),f=AC[u];if(f===void 0)return"Unknown character "+u;a=P0(a)^f,!(c+6>=o.length)&&l.push(f)}return a!==1?"Invalid checksum for "+t:{prefix:s,words:l}}function Vpe(){var t=HV.apply(null,arguments);if(typeof t=="object")return t}function Gpe(t){var e=HV.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function Y6(t,e,r,n){for(var i=0,s=0,o=(1<<r)-1,a=[],l=0;l<t.length;++l)for(i=i<<e|t[l],s+=e;s>=r;)s-=r,a.push(i>>s&o);if(n)s>0&&a.push(i<<r-s&o);else{if(s>=e)return"Excess padding";if(i<<r-s&o)return"Non-zero padding"}return a}function Kpe(t){var e=Y6(t,8,5,!0);if(Array.isArray(e))return e}function Ype(t){var e=Y6(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function Zpe(t){var e=Y6(t,5,8,!1);if(Array.isArray(e))return e}function Jpe(t){var e=Y6(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var Qpe={decodeUnsafe:Vpe,decode:Gpe,encode:qpe,toWordsUnsafe:Kpe,toWords:Ype,fromWordsUnsafe:Zpe,fromWords:Jpe};const fO=wc(Qpe),Y2="providers/5.8.0",bt=globalThis||void 0||self;function G1(t,e,r){return r={path:e,exports:{},require:function(n,i){return Xpe(n,i??r.path)}},t(r,r.exports),r.exports}function Xpe(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var VI=qV;function qV(t,e){if(!t)throw new Error(e||"Assertion failed")}qV.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var Wa=G1(function(t,e){var r=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var l=[];if(typeof o!="string"){for(var c=0;c<o.length;c++)l[c]=o[c]|0;return l}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var c=0;c<o.length;c+=2)l.push(parseInt(o[c]+o[c+1],16))}else for(var c=0;c<o.length;c++){var u=o.charCodeAt(c),f=u>>8,h=u&255;f?l.push(f,h):l.push(h)}return l}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function s(o){for(var a="",l=0;l<o.length;l++)a+=i(o[l].toString(16));return a}r.toHex=s,r.encode=function(a,l){return l==="hex"?s(a):a}}),Ro=G1(function(t,e){var r=e;r.assert=VI,r.toArray=Wa.toArray,r.zero2=Wa.zero2,r.toHex=Wa.toHex,r.encode=Wa.encode;function n(l,c,u){var f=new Array(Math.max(l.bitLength(),u)+1),h;for(h=0;h<f.length;h+=1)f[h]=0;var p=1<<c+1,g=l.clone();for(h=0;h<f.length;h++){var m,w=g.andln(p-1);g.isOdd()?(w>(p>>1)-1?m=(p>>1)-w:m=w,g.isubn(m)):m=0,f[h]=m,g.iushrn(1)}return f}r.getNAF=n;function i(l,c){var u=[[],[]];l=l.clone(),c=c.clone();for(var f=0,h=0,p;l.cmpn(-f)>0||c.cmpn(-h)>0;){var g=l.andln(3)+f&3,m=c.andln(3)+h&3;g===3&&(g=-1),m===3&&(m=-1);var w;g&1?(p=l.andln(7)+f&7,(p===3||p===5)&&m===2?w=-g:w=g):w=0,u[0].push(w);var y;m&1?(p=c.andln(7)+h&7,(p===3||p===5)&&g===2?y=-m:y=m):y=0,u[1].push(y),2*f===w+1&&(f=1-f),2*h===y+1&&(h=1-h),l.iushrn(1),c.iushrn(1)}return u}r.getJSF=i;function s(l,c,u){var f="_"+c;l.prototype[c]=function(){return this[f]!==void 0?this[f]:this[f]=u.call(this)}}r.cachedProperty=s;function o(l){return typeof l=="string"?r.toArray(l,"hex"):l}r.parseBytes=o;function a(l){return new Ct(l,"hex","le")}r.intFromLE=a}),n5=Ro.getNAF,e0e=Ro.getJSF,i5=Ro.assert;function ff(t,e){this.type=t,this.p=new Ct(e.p,16),this.red=e.prime?Ct.red(e.prime):Ct.mont(this.p),this.zero=new Ct(0).toRed(this.red),this.one=new Ct(1).toRed(this.red),this.two=new Ct(2).toRed(this.red),this.n=e.n&&new Ct(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var tp=ff;ff.prototype.point=function(){throw new Error("Not implemented")};ff.prototype.validate=function(){throw new Error("Not implemented")};ff.prototype._fixedNafMul=function(e,r){i5(e.precomputed);var n=e._getDoubles(),i=n5(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,l;for(a=0;a<i.length;a+=n.step){l=0;for(var c=a+n.step-1;c>=a;c--)l=(l<<1)+i[c];o.push(l)}for(var u=this.jpoint(null,null,null),f=this.jpoint(null,null,null),h=s;h>0;h--){for(a=0;a<o.length;a++)l=o[a],l===h?f=f.mixedAdd(n.points[a]):l===-h&&(f=f.mixedAdd(n.points[a].neg()));u=u.add(f)}return u.toP()};ff.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=n5(r,n,this._bitLength),a=this.jpoint(null,null,null),l=o.length-1;l>=0;l--){for(var c=0;l>=0&&o[l]===0;l--)c++;if(l>=0&&c++,a=a.dblp(c),l<0)break;var u=o[l];i5(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(s[u-1>>1]):a=a.mixedAdd(s[-u-1>>1].neg()):u>0?a=a.add(s[u-1>>1]):a=a.add(s[-u-1>>1].neg())}return e.type==="affine"?a.toP():a};ff.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,l=this._wnafT3,c=0,u,f,h;for(u=0;u<i;u++){h=r[u];var p=h._getNAFPoints(e);o[u]=p.wnd,a[u]=p.points}for(u=i-1;u>=1;u-=2){var g=u-1,m=u;if(o[g]!==1||o[m]!==1){l[g]=n5(n[g],o[g],this._bitLength),l[m]=n5(n[m],o[m],this._bitLength),c=Math.max(l[g].length,c),c=Math.max(l[m].length,c);continue}var w=[r[g],null,null,r[m]];r[g].y.cmp(r[m].y)===0?(w[1]=r[g].add(r[m]),w[2]=r[g].toJ().mixedAdd(r[m].neg())):r[g].y.cmp(r[m].y.redNeg())===0?(w[1]=r[g].toJ().mixedAdd(r[m]),w[2]=r[g].add(r[m].neg())):(w[1]=r[g].toJ().mixedAdd(r[m]),w[2]=r[g].toJ().mixedAdd(r[m].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],E=e0e(n[g],n[m]);for(c=Math.max(E[0].length,c),l[g]=new Array(c),l[m]=new Array(c),f=0;f<c;f++){var v=E[0][f]|0,b=E[1][f]|0;l[g][f]=y[(v+1)*3+(b+1)],l[m][f]=0,a[g]=w}}var $=this.jpoint(null,null,null),P=this._wnafT4;for(u=c;u>=0;u--){for(var O=0;u>=0;){var D=!0;for(f=0;f<i;f++)P[f]=l[f][u]|0,P[f]!==0&&(D=!1);if(!D)break;O++,u--}if(u>=0&&O++,$=$.dblp(O),u<0)break;for(f=0;f<i;f++){var B=P[f];B!==0&&(B>0?h=a[f][B-1>>1]:B<0&&(h=a[f][-B-1>>1].neg()),h.type==="affine"?$=$.mixedAdd(h):$=$.add(h))}}for(u=0;u<i;u++)a[u]=null;return s?$:$.toP()};function wa(t,e){this.curve=t,this.type=e,this.precomputed=null}ff.BasePoint=wa;wa.prototype.eq=function(){throw new Error("Not implemented")};wa.prototype.validate=function(){return this.curve.validate(this)};ff.prototype.decodePoint=function(e,r){e=Ro.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?i5(e[e.length-1]%2===0):e[0]===7&&i5(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};wa.prototype.encodeCompressed=function(e){return this.encode(e,!0)};wa.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};wa.prototype.encode=function(e,r){return Ro.encode(this._encode(r),e)};wa.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};wa.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};wa.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};wa.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};wa.prototype._getBeta=function(){return null};wa.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var GI=G1(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),t0e=Ro.assert;function ba(t){tp.call(this,"short",t),this.a=new Ct(t.a,16).toRed(this.red),this.b=new Ct(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}GI(ba,tp);var r0e=ba;ba.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new Ct(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new Ct(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],t0e(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new Ct(a.a,16),b:new Ct(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};ba.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Ct.mont(e),n=new Ct(2).toRed(r).redInvm(),i=n.redNeg(),s=new Ct(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};ba.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new Ct(1),o=new Ct(0),a=new Ct(0),l=new Ct(1),c,u,f,h,p,g,m,w=0,y,E;n.cmpn(0)!==0;){var v=i.div(n);y=i.sub(v.mul(n)),E=a.sub(v.mul(s));var b=l.sub(v.mul(o));if(!f&&y.cmp(r)<0)c=m.neg(),u=s,f=y.neg(),h=E;else if(f&&++w===2)break;m=y,i=n,n=y,a=s,s=E,l=o,o=b}p=y.neg(),g=E;var $=f.sqr().add(h.sqr()),P=p.sqr().add(g.sqr());return P.cmp($)>=0&&(p=c,g=u),f.negative&&(f=f.neg(),h=h.neg()),p.negative&&(p=p.neg(),g=g.neg()),[{a:f,b:h},{a:p,b:g}]};ba.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),l=o.mul(i.a),c=s.mul(n.b),u=o.mul(i.b),f=e.sub(a).sub(l),h=c.add(u).neg();return{k1:f,k2:h}};ba.prototype.pointFromX=function(e,r){e=new Ct(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};ba.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};ba.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),l=e[o],c=l._getBeta();a.k1.negative&&(a.k1.ineg(),l=l.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),i[o*2]=l,i[o*2+1]=c,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var u=this._wnafMulAdd(1,i,s,o*2,n),f=0;f<o*2;f++)i[f]=null,s[f]=null;return u};function li(t,e,r,n){tp.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Ct(e,16),this.y=new Ct(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}GI(li,tp.BasePoint);ba.prototype.point=function(e,r,n){return new li(this,e,r,n)};ba.prototype.pointFromJSON=function(e,r){return li.fromJSON(this,e,r)};li.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};li.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};li.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};li.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};li.prototype.isInfinity=function(){return this.inf};li.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};li.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};li.prototype.getX=function(){return this.x.fromRed()};li.prototype.getY=function(){return this.y.fromRed()};li.prototype.mul=function(e){return e=new Ct(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};li.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};li.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};li.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};li.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};li.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function _i(t,e,r,n){tp.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Ct(0)):(this.x=new Ct(e,16),this.y=new Ct(r,16),this.z=new Ct(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}GI(_i,tp.BasePoint);ba.prototype.jpoint=function(e,r,n){return new _i(this,e,r,n)};_i.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};_i.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};_i.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),l=i.redSub(s),c=o.redSub(a);if(l.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=l.redSqr(),f=u.redMul(l),h=i.redMul(u),p=c.redSqr().redIAdd(f).redISub(h).redISub(h),g=c.redMul(h.redISub(p)).redISub(o.redMul(f)),m=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(p,g,m)};_i.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),l=s.redSub(o);if(a.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),u=c.redMul(a),f=n.redMul(c),h=l.redSqr().redIAdd(u).redISub(f).redISub(f),p=l.redMul(f.redISub(h)).redISub(s.redMul(u)),g=this.z.redMul(a);return this.curve.jpoint(h,p,g)};_i.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,l=this.z,c=l.redSqr().redSqr(),u=a.redAdd(a);for(r=0;r<e;r++){var f=o.redSqr(),h=u.redSqr(),p=h.redSqr(),g=f.redAdd(f).redIAdd(f).redIAdd(i.redMul(c)),m=o.redMul(h),w=g.redSqr().redISub(m.redAdd(m)),y=m.redISub(w),E=g.redMul(y);E=E.redIAdd(E).redISub(p);var v=u.redMul(l);r+1<e&&(c=c.redMul(p)),o=w,l=v,u=E}return this.curve.jpoint(o,u.redMul(s),l)};_i.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};_i.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var l=i.redAdd(i).redIAdd(i),c=l.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=c,r=l.redMul(a.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),h=this.y.redSqr(),p=h.redSqr(),g=this.x.redAdd(h).redSqr().redISub(f).redISub(p);g=g.redIAdd(g);var m=f.redAdd(f).redIAdd(f),w=m.redSqr(),y=p.redIAdd(p);y=y.redIAdd(y),y=y.redIAdd(y),e=w.redISub(g).redISub(g),r=m.redMul(g.redISub(e)).redISub(y),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};_i.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var l=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=l.redSqr().redISub(a).redISub(a);e=c;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),r=l.redMul(a.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),h=this.y.redSqr(),p=this.x.redMul(h),g=this.x.redSub(f).redMul(this.x.redAdd(f));g=g.redAdd(g).redIAdd(g);var m=p.redIAdd(p);m=m.redIAdd(m);var w=m.redAdd(m);e=g.redSqr().redISub(w),n=this.y.redAdd(this.z).redSqr().redISub(h).redISub(f);var y=h.redSqr();y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y),r=g.redMul(m.redISub(e)).redISub(y)}return this.curve.jpoint(e,r,n)};_i.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),l=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),c=r.redAdd(r);c=c.redIAdd(c);var u=c.redMul(a),f=l.redSqr().redISub(u.redAdd(u)),h=u.redISub(f),p=a.redSqr();p=p.redIAdd(p),p=p.redIAdd(p),p=p.redIAdd(p);var g=l.redMul(h).redISub(p),m=n.redAdd(n).redMul(i);return this.curve.jpoint(f,g,m)};_i.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var l=a.redSqr(),c=i.redIAdd(i);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var u=s.redIAdd(a).redSqr().redISub(o).redISub(l).redISub(c),f=r.redMul(u);f=f.redIAdd(f),f=f.redIAdd(f);var h=this.x.redMul(l).redISub(f);h=h.redIAdd(h),h=h.redIAdd(h);var p=this.y.redMul(u.redMul(c.redISub(u)).redISub(a.redMul(l)));p=p.redIAdd(p),p=p.redIAdd(p),p=p.redIAdd(p);var g=this.z.redAdd(a).redSqr().redISub(n).redISub(l);return this.curve.jpoint(h,p,g)};_i.prototype.mul=function(e,r){return e=new Ct(e,r),this.curve._wnafMul(this,e)};_i.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};_i.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};_i.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};_i.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Gv=G1(function(t,e){var r=e;r.base=tp,r.short=r0e,r.mont=null,r.edwards=null}),Kv=G1(function(t,e){var r=e,n=Ro.assert;function i(a){a.type==="short"?this.curve=new Gv.short(a):a.type==="edwards"?this.curve=new Gv.edwards(a):this.curve=new Gv.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(a,l){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var c=new i(l);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:c}),c}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Sl.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Sl.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Sl.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Sl.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Sl.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Sl.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Sl.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Sl.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function Xd(t){if(!(this instanceof Xd))return new Xd(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Wa.toArray(t.entropy,t.entropyEnc||"hex"),r=Wa.toArray(t.nonce,t.nonceEnc||"hex"),n=Wa.toArray(t.pers,t.persEnc||"hex");VI(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var VV=Xd;Xd.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};Xd.prototype._hmac=function(){return new Sl.hmac(this.hash,this.K)};Xd.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Xd.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Wa.toArray(e,r),n=Wa.toArray(n,i),VI(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Xd.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Wa.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,Wa.encode(o,r)};var SC=Ro.assert;function Yi(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var KI=Yi;Yi.fromPublic=function(e,r,n){return r instanceof Yi?r:new Yi(e,{pub:r,pubEnc:n})};Yi.fromPrivate=function(e,r,n){return r instanceof Yi?r:new Yi(e,{priv:r,privEnc:n})};Yi.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Yi.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Yi.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Yi.prototype._importPrivate=function(e,r){this.priv=new Ct(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Yi.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?SC(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&SC(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Yi.prototype.derive=function(e){return e.validate()||SC(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Yi.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Yi.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};Yi.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var n0e=Ro.assert;function Z6(t,e){if(t instanceof Z6)return t;this._importDER(t,e)||(n0e(t.r&&t.s,"Signature without r or s"),this.r=new Ct(t.r,16),this.s=new Ct(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var J6=Z6;function i0e(){this.place=0}function cE(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function hO(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}Z6.prototype._importDER=function(e,r){e=Ro.toArray(e,r);var n=new i0e;if(e[n.place++]!==48)return!1;var i=cE(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=cE(e,n);if(s===!1||e[n.place]&128)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=cE(e,n);if(a===!1||e.length!==a+n.place||e[n.place]&128)return!1;var l=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new Ct(o),this.s=new Ct(l),this.recoveryParam=null,!0};function uE(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}Z6.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=hO(r),n=hO(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];uE(i,r.length),i=i.concat(r),i.push(2),uE(i,n.length);var s=i.concat(n),o=[48];return uE(o,s.length),o=o.concat(s),Ro.encode(o,e)};var s0e=function(){throw new Error("unsupported")},Uf=Ro.assert;function fa(t){if(!(this instanceof fa))return new fa(t);typeof t=="string"&&(Uf(Object.prototype.hasOwnProperty.call(Kv,t),"Unknown curve "+t),t=Kv[t]),t instanceof Kv.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var o0e=fa;fa.prototype.keyPair=function(e){return new KI(this,e)};fa.prototype.keyFromPrivate=function(e,r){return KI.fromPrivate(this,e,r)};fa.prototype.keyFromPublic=function(e,r){return KI.fromPublic(this,e,r)};fa.prototype.genKeyPair=function(e){e||(e={});for(var r=new VV({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||s0e(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Ct(2));;){var s=new Ct(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};fa.prototype._truncateToN=function(e,r,n){var i;if(Ct.isBN(e)||typeof e=="number")e=new Ct(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new Ct(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new Ct(s,16)}typeof n!="number"&&(n=i*8);var o=n-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};fa.prototype.sign=function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!Ct.isBN(e)){Uf(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),Uf(e.length>>>0===e.length);for(var s=0;s<e.length;s++)Uf((e[s]&255)===e[s])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),Uf(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),a=r.getPrivate().toArray("be",o),l=e.toArray("be",o);Uf(new Ct(l).eq(e),"Can not sign message");for(var c=new VV({hash:this.hash,entropy:a,nonce:l,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new Ct(1)),f=0;;f++){var h=i.k?i.k(f):new Ct(c.generate(this.n.byteLength()));if(h=this._truncateToN(h,!0),!(h.cmpn(1)<=0||h.cmp(u)>=0)){var p=this.g.mul(h);if(!p.isInfinity()){var g=p.getX(),m=g.umod(this.n);if(m.cmpn(0)!==0){var w=h.invm(this.n).mul(m.mul(r.getPrivate()).iadd(e));if(w=w.umod(this.n),w.cmpn(0)!==0){var y=(p.getY().isOdd()?1:0)|(g.cmp(m)!==0?2:0);return i.canonical&&w.cmp(this.nh)>0&&(w=this.n.sub(w),y^=1),new J6({r:m,s:w,recoveryParam:y})}}}}}};fa.prototype.verify=function(e,r,n,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),n=this.keyFromPublic(n,i),r=new J6(r,"hex");var o=r.r,a=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var l=a.invm(this.n),c=l.mul(e).umod(this.n),u=l.mul(o).umod(this.n),f;return this.curve._maxwellTrick?(f=this.g.jmulAdd(c,n.getPublic(),u),f.isInfinity()?!1:f.eqXToP(o)):(f=this.g.mulAdd(c,n.getPublic(),u),f.isInfinity()?!1:f.getX().umod(this.n).cmp(o)===0)};fa.prototype.recoverPubKey=function(t,e,r,n){Uf((3&r)===r,"The recovery param is more than two bits"),e=new J6(e,n);var i=this.n,s=new Ct(t),o=e.r,a=e.s,l=r&1,c=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?o=this.curve.pointFromX(o.add(this.curve.n),l):o=this.curve.pointFromX(o,l);var u=e.r.invm(i),f=i.sub(s).mul(u).umod(i),h=a.mul(u).umod(i);return this.g.mulAdd(f,o,h)};fa.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new J6(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var a0e=G1(function(t,e){var r=e;r.version="6.6.1",r.utils=Ro,r.rand=function(){throw new Error("unsupported")},r.curve=Gv,r.curves=Kv,r.ec=o0e,r.eddsa=null}),l0e=a0e.ec;const c0e="signing-key/5.8.0",$C=new me(c0e);let dE=null;function bd(){return dE||(dE=new l0e("secp256k1")),dE}class u0e{constructor(e){Fe(this,"curve","secp256k1"),Fe(this,"privateKey",dt(e)),$h(this.privateKey)!==32&&$C.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=bd().keyFromPrivate(vt(this.privateKey));Fe(this,"publicKey","0x"+r.getPublic(!1,"hex")),Fe(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),Fe(this,"_isSigningKey",!0)}_addPoint(e){const r=bd().keyFromPublic(vt(this.publicKey)),n=bd().keyFromPublic(vt(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=bd().keyFromPrivate(vt(this.privateKey)),n=vt(e);n.length!==32&&$C.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return q6({recoveryParam:i.recoveryParam,r:Gr("0x"+i.r.toString(16),32),s:Gr("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=bd().keyFromPrivate(vt(this.privateKey)),n=bd().keyFromPublic(vt(GV(e)));return Gr("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function d0e(t,e){const r=q6(e),n={r:vt(r.r),s:vt(r.s)};return"0x"+bd().recoverPubKey(vt(t),n,r.recoveryParam).encode("hex",!1)}function GV(t,e){const r=vt(t);return r.length===32?new u0e(r).publicKey:r.length===33?"0x"+bd().keyFromPublic(r).getPublic(!1,"hex"):r.length===65?dt(r):$C.throwArgumentError("invalid public or private key","key","[REDACTED]")}const f0e="transactions/5.8.0",zs=new me(f0e);var pO;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(pO||(pO={}));function YI(t){return t==="0x"?null:Dt(t)}function zi(t){return t==="0x"?uV:Re.from(t)}const h0e=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],p0e={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function g0e(t){const e=GV(t);return Dt(Fi(On(Fi(e,1)),12))}function KV(t,e){return g0e(d0e(vt(t),e))}function yo(t,e){const r=Sh(Re.from(t).toHexString());return r.length>32&&zs.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function fE(t,e){return{address:Dt(t),storageKeys:(e||[]).map((r,n)=>($h(r)!==32&&zs.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function K1(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&zs.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),fE(r[0],r[1])):fE(r.address,r.storageKeys));const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,s)=>(i[s]=!0,i),{});return fE(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function YV(t){return K1(t).map(e=>[e.address,e.storageKeys])}function ZV(t,e){if(t.gasPrice!=null){const n=Re.from(t.gasPrice),i=Re.from(t.maxFeePerGas||0);n.eq(i)||zs.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const r=[yo(t.chainId||0,"chainId"),yo(t.nonce||0,"nonce"),yo(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),yo(t.maxFeePerGas||0,"maxFeePerGas"),yo(t.gasLimit||0,"gasLimit"),t.to!=null?Dt(t.to):"0x",yo(t.value||0,"value"),t.data||"0x",YV(t.accessList||[])];if(e){const n=q6(e);r.push(yo(n.recoveryParam,"recoveryParam")),r.push(Sh(n.r)),r.push(Sh(n.s))}return js(["0x02",V2(r)])}function JV(t,e){const r=[yo(t.chainId||0,"chainId"),yo(t.nonce||0,"nonce"),yo(t.gasPrice||0,"gasPrice"),yo(t.gasLimit||0,"gasLimit"),t.to!=null?Dt(t.to):"0x",yo(t.value||0,"value"),t.data||"0x",YV(t.accessList||[])];if(e){const n=q6(e);r.push(yo(n.recoveryParam,"recoveryParam")),r.push(Sh(n.r)),r.push(Sh(n.s))}return js(["0x01",V2(r)])}function m0e(t,e){sV(t,p0e);const r=[];h0e.forEach(function(i){let s=t[i.name]||[];const o={};i.numeric&&(o.hexPad="left"),s=vt(dt(s,o)),i.length&&s.length!==i.length&&s.length>0&&zs.throwArgumentError("invalid length for "+i.name,"transaction:"+i.name,s),i.maxLength&&(s=Sh(s),s.length>i.maxLength&&zs.throwArgumentError("invalid length for "+i.name,"transaction:"+i.name,s)),r.push(dt(s))});let n=0;return t.chainId!=null&&(n=t.chainId,typeof n!="number"&&zs.throwArgumentError("invalid transaction.chainId","transaction",t)),n!==0&&(r.push(dt(n)),r.push("0x"),r.push("0x")),V2(r)}function y0e(t,e){if(t.type==null||t.type===0)return t.accessList!=null&&zs.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),m0e(t);switch(t.type){case 1:return JV(t,e);case 2:return ZV(t,e)}return zs.throwError(`unsupported transaction type: ${t.type}`,me.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}function QV(t,e,r){try{const n=zi(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{zs.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=Gr(e[1],32),t.s=Gr(e[2],32);try{const n=On(r(t));t.from=KV(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function w0e(t){const e=zI(t.slice(1));e.length!==9&&e.length!==12&&zs.throwArgumentError("invalid component count for transaction type: 2","payload",dt(t));const r=zi(e[2]),n=zi(e[3]),i={type:2,chainId:zi(e[0]).toNumber(),nonce:zi(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:zi(e[4]),to:YI(e[5]),value:zi(e[6]),data:e[7],accessList:K1(e[8])};return e.length===9||(i.hash=On(t),QV(i,e.slice(9),ZV)),i}function b0e(t){const e=zI(t.slice(1));e.length!==8&&e.length!==11&&zs.throwArgumentError("invalid component count for transaction type: 1","payload",dt(t));const r={type:1,chainId:zi(e[0]).toNumber(),nonce:zi(e[1]).toNumber(),gasPrice:zi(e[2]),gasLimit:zi(e[3]),to:YI(e[4]),value:zi(e[5]),data:e[6],accessList:K1(e[7])};return e.length===8||(r.hash=On(t),QV(r,e.slice(8),JV)),r}function v0e(t){const e=zI(t);e.length!==9&&e.length!==6&&zs.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:zi(e[0]).toNumber(),gasPrice:zi(e[1]),gasLimit:zi(e[2]),to:YI(e[3]),value:zi(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=Re.from(e[6]).toNumber()}catch{return r}if(r.r=Gr(e[7],32),r.s=Gr(e[8],32),Re.from(r.r).isZero()&&Re.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);r.chainId!==0&&(i.push(dt(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);const s=On(V2(i));try{r.from=KV(s,{r:dt(r.r),s:dt(r.s),recoveryParam:n})}catch{}r.hash=On(t)}return r.type=null,r}function x0e(t){const e=vt(t);if(e[0]>127)return v0e(e);switch(e[0]){case 1:return b0e(e);case 2:return w0e(e)}return zs.throwError(`unsupported transaction type: ${e[0]}`,me.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const Dg=new me(Y2);class st{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},r=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),s=this.data.bind(this),o=this.hash.bind(this),a=this.hex.bind(this),l=this.number.bind(this),c=this.type.bind(this),u=f=>this.data(f,!0);return e.transaction={hash:o,type:c,accessList:st.allowNull(this.accessList.bind(this),null),blockHash:st.allowNull(o,null),blockNumber:st.allowNull(l,null),transactionIndex:st.allowNull(l,null),confirmations:st.allowNull(l,null),from:r,gasPrice:st.allowNull(n),maxPriorityFeePerGas:st.allowNull(n),maxFeePerGas:st.allowNull(n),gasLimit:n,to:st.allowNull(r,null),value:n,nonce:l,data:s,r:st.allowNull(this.uint256),s:st.allowNull(this.uint256),v:st.allowNull(l),creates:st.allowNull(r,null),raw:st.allowNull(s)},e.transactionRequest={from:st.allowNull(r),nonce:st.allowNull(l),gasLimit:st.allowNull(n),gasPrice:st.allowNull(n),maxPriorityFeePerGas:st.allowNull(n),maxFeePerGas:st.allowNull(n),to:st.allowNull(r),value:st.allowNull(n),data:st.allowNull(u),type:st.allowNull(l),accessList:st.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:l,blockNumber:l,transactionHash:o,address:r,topics:st.arrayOf(o),data:s,logIndex:l,blockHash:o},e.receipt={to:st.allowNull(this.address,null),from:st.allowNull(this.address,null),contractAddress:st.allowNull(r,null),transactionIndex:l,root:st.allowNull(a),gasUsed:n,logsBloom:st.allowNull(s),blockHash:o,transactionHash:o,logs:st.arrayOf(this.receiptLog.bind(this)),blockNumber:l,confirmations:st.allowNull(l,null),cumulativeGasUsed:n,effectiveGasPrice:st.allowNull(n),status:st.allowNull(l),type:c},e.block={hash:st.allowNull(o),parentHash:o,number:l,timestamp:l,nonce:st.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:st.allowNull(r),extraData:s,transactions:st.allowNull(st.arrayOf(o)),baseFeePerGas:st.allowNull(n)},e.blockWithTransactions=Mn(e.block),e.blockWithTransactions.transactions=st.allowNull(st.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:st.allowNull(i,void 0),toBlock:st.allowNull(i,void 0),blockHash:st.allowNull(o,void 0),address:st.allowNull(r,void 0),topics:st.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:st.allowNull(l),blockHash:st.allowNull(o),transactionIndex:l,removed:st.allowNull(this.boolean.bind(this)),address:r,data:st.allowFalsish(s,"0x"),topics:st.arrayOf(o),transactionHash:o,logIndex:l},e}accessList(e){return K1(e||[])}number(e){return e==="0x"?0:Re.from(e).toNumber()}type(e){return e==="0x"||e==null?0:Re.from(e).toNumber()}bigNumber(e){return Re.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,r){return typeof e=="string"&&(!r&&e.substring(0,2)!=="0x"&&(e="0x"+e),sr(e))?e.toLowerCase():Dg.throwArgumentError("invalid hash","value",e)}data(e,r){const n=this.hex(e,r);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return Dt(e)}callAddress(e){if(!sr(e,32))return null;const r=Dt(Fi(e,12));return r===Afe?null:r}contractAddress(e){return iV(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||sr(e))return BI(e);throw new Error("invalid blockTag")}hash(e,r){const n=this.hex(e,r);return $h(n)!==32?Dg.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const r=Re.from(e);try{return r.toNumber()}catch{}return null}uint256(e){if(!sr(e))throw new Error("invalid uint256");return Gr(e,32)}_block(e,r){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,i=st.check(r,e);return i._difficulty=n==null?null:Re.from(n),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return st.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&Re.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const r=st.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;sr(n)&&(n=Re.from(n).toNumber()),r.chainId=n}else{let n=e.networkId;n==null&&r.v==null&&(n=e.chainId),sr(n)&&(n=Re.from(n).toNumber()),typeof n!="number"&&r.v!=null&&(n=(r.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),r.chainId=n}return r.blockHash&&r.blockHash.replace(/0/g,"")==="x"&&(r.blockHash=null),r}transaction(e){return x0e(e)}receiptLog(e){return st.check(this.formats.receiptLog,e)}receipt(e){const r=st.check(this.formats.receipt,e);if(r.root!=null)if(r.root.length<=4){const n=Re.from(r.root).toNumber();n===0||n===1?(r.status!=null&&r.status!==n&&Dg.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):Dg.throwArgumentError("invalid alt-root-status","value.root",r.root)}else r.root.length!==66&&Dg.throwArgumentError("invalid root hash","value.root",r.root);return r.status!=null&&(r.byzantium=!0),r}topics(e){return Array.isArray(e)?e.map(r=>this.topics(r)):e!=null?this.hash(e,!0):null}filter(e){return st.check(this.formats.filter,e)}filterLog(e){return st.check(this.formats.filterLog,e)}static check(e,r){const n={};for(const i in e)try{const s=e[i](r[i]);s!==void 0&&(n[i]=s)}catch(s){throw s.checkKey=i,s.checkValue=r[i],s}return n}static allowNull(e,r){return function(n){return n==null?r:e(n)}}static allowFalsish(e,r){return function(n){return n?e(n):r}}static arrayOf(e){return function(r){if(!Array.isArray(r))throw new Error("not an array");const n=[];return r.forEach(function(i){n.push(e(i))}),n}}}var $t=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const Ft=new me(Y2),E0e=10;function gO(t){return t==null?"null":($h(t)!==32&&Ft.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function mO(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const r={};e.forEach(i=>{r[gO(i)]=!0});const n=Object.keys(r);return n.sort(),n.join("|")}else return gO(e)}).join("&")}function _0e(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const r=e.split("|").map(n=>n==="null"?null:n);return r.length===1?r[0]:r})}function Ap(t){if(typeof t=="string"){if(t=t.toLowerCase(),$h(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+mO(t);if(xfe.isForkEvent(t))throw Ft.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+mO(t.topics||[])}throw new Error("invalid event - "+t)}function Lg(){return new Date().getTime()}function yO(t){return new Promise(e=>{setTimeout(e,t)})}const C0e=["block","network","pending","poll"];let A0e=class{constructor(e,r,n){Fe(this,"tag",e),Fe(this,"listener",r),Fe(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const r=e[1],n=_0e(e[2]),i={};return n.length>0&&(i.topics=n),r&&r!=="*"&&(i.address=r),i}pollable(){return this.tag.indexOf(":")>=0||C0e.indexOf(this.tag)>=0}};const S0e={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function hE(t){return Gr(Re.from(t).toHexString(),32)}function wO(t){return xC.encode(vo([t,Fi(uO(uO(t)),0,4)]))}const XV=new RegExp("^(ipfs)://(.*)$","i"),bO=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),XV,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function Yv(t,e){try{return z1(Ay(t,e))}catch{}return null}function Ay(t,e){if(t==="0x")return null;const r=Re.from(Fi(t,e,e+32)).toNumber(),n=Re.from(Fi(t,r,r+32)).toNumber();return Fi(t,r+32,r+32+n)}function pE(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):Ft.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function vO(t){const e=vt(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function $0e(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function eG(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(null),r+=32;for(let n=0;n<t.length;n++){const i=vt(t[n]);e[n]=vO(r),e.push(vO(i.length)),e.push($0e(i)),r+=32+Math.ceil(i.length/32)*32}return js(e)}class xO{constructor(e,r,n,i){Fe(this,"provider",e),Fe(this,"name",n),Fe(this,"address",e.formatter.address(r)),Fe(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>Re.from(e).eq(1)).catch(e=>{if(e.code===me.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,r){return $t(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:js([e,Vv(this.name),r||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,n.data=js(["0x9061b923",eG([she(this.name),n.data])]));try{let s=yield this.provider.call(n);return vt(s).length%32===4&&Ft.throwError("resolver threw error",me.errors.CALL_EXCEPTION,{transaction:n,data:s}),i&&(s=Ay(s,0)),s}catch(s){if(s.code===me.errors.CALL_EXCEPTION)return null;throw s}})}_fetchBytes(e,r){return $t(this,void 0,void 0,function*(){const n=yield this._fetch(e,r);return n!=null?Ay(n,0):null})}_getAddress(e,r){const n=S0e[String(e)];if(n==null&&Ft.throwError(`unsupported coin type: ${e}`,me.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(r);const i=vt(r);if(n.p2pkh!=null){const s=r.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return wO(vo([[n.p2pkh],"0x"+s[2]]))}}if(n.p2sh!=null){const s=r.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return wO(vo([[n.p2sh],"0x"+s[2]]))}}if(n.prefix!=null){const s=i[1];let o=i[0];if(o===0?s!==20&&s!==32&&(o=-1):o=-1,o>=0&&i.length===2+s&&s>=1&&s<=75){const a=fO.toWords(i.slice(2));return a.unshift(o),fO.encode(n.prefix,a)}}return null}getAddress(e){return $t(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===kfe?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===me.errors.CALL_EXCEPTION)return null;throw i}const r=yield this._fetchBytes("0xf1cb7e06",hE(e));if(r==null||r==="0x")return null;const n=this._getAddress(e,r);return n==null&&Ft.throwError("invalid or unsupported coin data",me.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:r}),n})}getAvatar(){return $t(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const r=yield this.getText("avatar");if(r==null)return null;for(let n=0;n<bO.length;n++){const i=r.match(bO[n]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":return e.push({type:"url",content:r}),{linkage:e,url:r};case"data":return e.push({type:"data",content:r}),{linkage:e,url:r};case"ipfs":return e.push({type:"ipfs",content:r}),{linkage:e,url:pE(r)};case"erc721":case"erc1155":{const o=s==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:s,content:r});const a=this._resolvedAddress||(yield this.getAddress()),l=(i[2]||"").split("/");if(l.length!==2)return null;const c=yield this.provider.formatter.address(l[0]),u=Gr(Re.from(l[1]).toHexString(),32);if(s==="erc721"){const m=this.provider.formatter.callAddress(yield this.provider.call({to:c,data:js(["0x6352211e",u])}));if(a!==m)return null;e.push({type:"owner",content:m})}else if(s==="erc1155"){const m=Re.from(yield this.provider.call({to:c,data:js(["0x00fdd58e",Gr(a,32),u])}));if(m.isZero())return null;e.push({type:"balance",content:m.toString()})}const f={to:this.provider.formatter.address(l[0]),data:js([o,u])};let h=Yv(yield this.provider.call(f),0);if(h==null)return null;e.push({type:"metadata-url-base",content:h}),s==="erc1155"&&(h=h.replace("{id}",u.substring(2)),e.push({type:"metadata-url-expanded",content:h})),h.match(/^ipfs:/i)&&(h=pE(h)),e.push({type:"metadata-url",content:h});const p=yield qI(h);if(!p)return null;e.push({type:"metadata",content:JSON.stringify(p)});let g=p.image;if(typeof g!="string")return null;if(!g.match(/^(https:\/\/|data:)/i)){if(g.match(XV)==null)return null;e.push({type:"url-ipfs",content:g}),g=pE(g)}return e.push({type:"url",content:g}),{linkage:e,url:g}}}}}catch{}return null})}getContentHash(){return $t(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const r=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const o=parseInt(r[3],16);if(r[4].length===o*2)return"ipfs://"+xC.encode("0x"+r[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const o=parseInt(n[3],16);if(n[4].length===o*2)return"ipns://"+xC.encode("0x"+n[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===32*2)return"bzz://"+i[1];const s=e.match(/^0x90b2c605([0-9a-f]*)$/);if(s&&s[1].length===34*2){const o={"=":"","+":"-","/":"_"};return"sia://"+lV("0x"+s[1]).replace(/[=+\/]/g,l=>o[l])}return Ft.throwError("invalid or unsupported content hash data",me.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return $t(this,void 0,void 0,function*(){let r=uc(e);r=vo([hE(64),hE(r.length),r]),r.length%32!==0&&(r=vo([r,Gr("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",dt(r));return n==null||n==="0x"?null:z1(n)})}}let gE=null,I0e=1;class k0e extends V6{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),Fe(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(r=>{}),this._ready().catch(r=>{});else{const r=zl(new.target,"getNetwork")(e);r?(Fe(this,"_network",r),this.emit("network",r,null)):Ft.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return $t(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||Ft.throwError("no network detected",me.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:Fe(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return gm(()=>this._ready().then(e=>e,e=>{if(!(e.code===me.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return gE==null&&(gE=new st),gE}static getNetwork(e){return Cfe(e??"homestead")}ccipReadFetch(e,r,n){return $t(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const i=e.to.toLowerCase(),s=r.toLowerCase(),o=[];for(let a=0;a<n.length;a++){const l=n[a],c=l.replace("{sender}",i).replace("{data}",s),u=l.indexOf("{data}")>=0?null:JSON.stringify({data:s,sender:i}),f=yield qI({url:c,errorPassThrough:!0},u,(p,g)=>(p.status=g.statusCode,p));if(f.data)return f.data;const h=f.message||"unknown error";if(f.status>=400&&f.status<500)return Ft.throwError(`response not found during CCIP fetch: ${h}`,me.errors.SERVER_ERROR,{url:l,errorMessage:h});o.push(h)}return Ft.throwError(`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,me.errors.SERVER_ERROR,{urls:n,errorMessages:o})})}_getInternalBlockNumber(e){return $t(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const s=yield i;if(Lg()-s.respTime<=e)return s.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const r=Lg(),n=vn({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:s})=>{if(s)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),s;const o=Lg();return i=Re.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:r,respTime:o}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return $t(this,void 0,void 0,function*(){const e=I0e++,r=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)Ft.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",Ft.makeError("network block skew detected",me.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const s=this._emitted[i];s!=="pending"&&n-s>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{const s=i.hash;let o=this.getTransactionReceipt(s).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+s]=a.blockNumber,this.emit(s,a)),null)).catch(a=>{this.emit("error",a)});r.push(o);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=n-1);const s=i.filter;s.fromBlock=i._lastBlockNumber+1,s.toBlock=n;const o=s.toBlock-this._maxFilterBlockRange;o>s.fromBlock&&(s.fromBlock=o),s.fromBlock<0&&(s.fromBlock=0);const a=this.getLogs(s).then(l=>{i._inflight=!1,l.length!==0&&l.forEach(c=>{c.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=c.blockNumber),this._emitted["b:"+c.blockHash]=c.blockNumber,this._emitted["t:"+c.transactionHash]=c.blockNumber,this.emit(s,c)})}).catch(l=>{this.emit("error",l),i._inflight=!1});r.push(a)}break}}}),this._lastBlockNumber=n,Promise.all(r).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return $t(this,void 0,void 0,function*(){return Ft.throwError("provider does not support network detection",me.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return $t(this,void 0,void 0,function*(){const e=yield this._ready(),r=yield this.detectNetwork();if(e.chainId!==r.chainId){if(this.anyNetwork)return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,e),yield yO(0),this._network;const n=Ft.makeError("underlying network changed",me.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:r});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=Lg();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(r=>((this._fastBlockNumber==null||r>this._fastBlockNumber)&&(this._fastBlockNumber=r),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=Lg(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,r,n){return $t(this,void 0,void 0,function*(){return this._waitForTransaction(e,r??1,n||0,null)})}_waitForTransaction(e,r,n,i){return $t(this,void 0,void 0,function*(){const s=yield this.getTransactionReceipt(e);return(s?s.confirmations:0)>=r?s:new Promise((o,a)=>{const l=[];let c=!1;const u=function(){return c?!0:(c=!0,l.forEach(h=>{h()}),!1)},f=h=>{h.confirmations<r||u()||o(h)};if(this.on(e,f),l.push(()=>{this.removeListener(e,f)}),i){let h=i.startBlock,p=null;const g=m=>$t(this,void 0,void 0,function*(){c||(yield yO(1e3),this.getTransactionCount(i.from).then(w=>$t(this,void 0,void 0,function*(){if(!c){if(w<=i.nonce)h=m;else{{const y=yield this.getTransaction(e);if(y&&y.blockNumber!=null)return}for(p==null&&(p=h-3,p<i.startBlock&&(p=i.startBlock));p<=m;){if(c)return;const y=yield this.getBlockWithTransactions(p);for(let E=0;E<y.transactions.length;E++){const v=y.transactions[E];if(v.hash===e)return;if(v.from===i.from&&v.nonce===i.nonce){if(c)return;const b=yield this.waitForTransaction(v.hash,r);if(u())return;let $="replaced";v.data===i.data&&v.to===i.to&&v.value.eq(i.value)?$="repriced":v.data==="0x"&&v.from===v.to&&v.value.isZero()&&($="cancelled"),a(Ft.makeError("transaction was replaced",me.errors.TRANSACTION_REPLACED,{cancelled:$==="replaced"||$==="cancelled",reason:$,replacement:this._wrapTransaction(v),hash:e,receipt:b}));return}}p++}}c||this.once("block",g)}}),w=>{c||this.once("block",g)}))});if(c)return;this.once("block",g),l.push(()=>{this.removeListener("block",g)})}if(typeof n=="number"&&n>0){const h=setTimeout(()=>{u()||a(Ft.makeError("timeout exceeded",me.errors.TIMEOUT,{timeout:n}))},n);h.unref&&h.unref(),l.push(()=>{clearTimeout(h)})}})})}getBlockNumber(){return $t(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return $t(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return Re.from(e)}catch(r){return Ft.throwError("bad result from backend",me.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:r})}})}getBalance(e,r){return $t(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield vn({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getBalance",n);try{return Re.from(i)}catch(s){return Ft.throwError("bad result from backend",me.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:s})}})}getTransactionCount(e,r){return $t(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield vn({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getTransactionCount",n);try{return Re.from(i).toNumber()}catch(s){return Ft.throwError("bad result from backend",me.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:s})}})}getCode(e,r){return $t(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield vn({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getCode",n);try{return dt(i)}catch(s){return Ft.throwError("bad result from backend",me.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:s})}})}getStorageAt(e,r,n){return $t(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield vn({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(r).then(o=>BI(o))}),s=yield this.perform("getStorageAt",i);try{return dt(s)}catch(o){return Ft.throwError("bad result from backend",me.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:s,error:o})}})}_wrapTransaction(e,r,n){if(r!=null&&$h(r)!==32)throw new Error("invalid response - sendTransaction");const i=e;return r!=null&&e.hash!==r&&Ft.throwError("Transaction hash mismatch from Provider.sendTransaction.",me.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:r}),i.wait=(s,o)=>$t(this,void 0,void 0,function*(){s==null&&(s=1),o==null&&(o=0);let a;s!==0&&n!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const l=yield this._waitForTransaction(e.hash,s,o,a);return l==null&&s===0?null:(this._emitted["t:"+e.hash]=l.blockNumber,l.status===0&&Ft.throwError("transaction failed",me.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:l}),l)}),i}sendTransaction(e){return $t(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Promise.resolve(e).then(s=>dt(s)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const s=yield this.perform("sendTransaction",{signedTransaction:r});return this._wrapTransaction(n,s,i)}catch(s){throw s.transaction=n,s.transactionHash=n.hash,s}})}_getTransactionRequest(e){return $t(this,void 0,void 0,function*(){const r=yield e,n={};return["from","to"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?this._getAddress(s):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?Re.from(s):null))}),["type"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s??null))}),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?dt(s):null))}),this.formatter.transactionRequest(yield vn(n))})}_getFilter(e){return $t(this,void 0,void 0,function*(){e=yield e;const r={};return e.address!=null&&(r.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(r[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(r[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield vn(r))})}_call(e,r,n){return $t(this,void 0,void 0,function*(){n>=E0e&&Ft.throwError("CCIP read exceeded maximum redirections",me.errors.SERVER_ERROR,{redirects:n,transaction:e});const i=e.to,s=yield this.perform("call",{transaction:e,blockTag:r});if(n>=0&&r==="latest"&&i!=null&&s.substring(0,10)==="0x556f1830"&&$h(s)%32===4)try{const o=Fi(s,4),a=Fi(o,0,32);Re.from(a).eq(i)||Ft.throwError("CCIP Read sender did not match",me.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const l=[],c=Re.from(Fi(o,32,64)).toNumber(),u=Re.from(Fi(o,c,c+32)).toNumber(),f=Fi(o,c+32);for(let y=0;y<u;y++){const E=Yv(f,y*32);E==null&&Ft.throwError("CCIP Read contained corrupt URL string",me.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s}),l.push(E)}const h=Ay(o,64);Re.from(Fi(o,100,128)).isZero()||Ft.throwError("CCIP Read callback selector included junk",me.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const p=Fi(o,96,100),g=Ay(o,128),m=yield this.ccipReadFetch(e,h,l);m==null&&Ft.throwError("CCIP Read disabled or provided no URLs",me.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const w={to:i,data:js([p,eG([m,g])])};return this._call(w,r,n+1)}catch(o){if(o.code===me.errors.SERVER_ERROR)throw o}try{return dt(s)}catch(o){return Ft.throwError("bad result from backend",me.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:r},result:s,error:o})}})}call(e,r){return $t(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield vn({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(r),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return $t(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield vn({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",r);try{return Re.from(n)}catch(i){return Ft.throwError("bad result from backend",me.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:i})}})}_getAddress(e){return $t(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&Ft.throwArgumentError("invalid address or ENS name","name",e);const r=yield this.resolveName(e);return r==null&&Ft.throwError("ENS name not configured",me.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),r})}_getBlock(e,r){return $t(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const i={includeTransactions:!!r};if(sr(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),sr(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{Ft.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return gm(()=>$t(this,void 0,void 0,function*(){const s=yield this.perform("getBlock",i);if(s==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(r){let o=null;for(let l=0;l<s.transactions.length;l++){const c=s.transactions[l];if(c.blockNumber==null)c.confirmations=0;else if(c.confirmations==null){o==null&&(o=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let u=o-c.blockNumber+1;u<=0&&(u=1),c.confirmations=u}}const a=this.formatter.blockWithTransactions(s);return a.transactions=a.transactions.map(l=>this._wrapTransaction(l)),a}return this.formatter.block(s)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return $t(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return gm(()=>$t(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return $t(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return gm(()=>$t(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return i}),{oncePoll:this})})}getLogs(e){return $t(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield vn({filter:this._getFilter(e)}),n=yield this.perform("getLogs",r);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),st.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return $t(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return $t(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&Ft.throwArgumentError("invalid BlockTag","blockTag",e);let r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return r+=e,r<0&&(r=0),this.formatter.blockTag(r)}return this.formatter.blockTag(e)})}getResolver(e){return $t(this,void 0,void 0,function*(){let r=e;for(;;){if(r===""||r==="."||e!=="eth"&&r==="eth")return null;const n=yield this._getResolver(r,"getResolver");if(n!=null){const i=new xO(this,n,e);return r!==e&&!(yield i.supportsWildcard())?null:i}r=r.split(".").slice(1).join(".")}})}_getResolver(e,r){return $t(this,void 0,void 0,function*(){r==null&&(r="ENS");const n=yield this.getNetwork();n.ensAddress||Ft.throwError("network does not support ENS",me.errors.UNSUPPORTED_OPERATION,{operation:r,network:n.name});try{const i=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+Vv(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return $t(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(sr(e))throw n}typeof e!="string"&&Ft.throwArgumentError("invalid ENS name","name",e);const r=yield this.getResolver(e);return r?yield r.getAddress():null})}lookupAddress(e){return $t(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const r=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"lookupAddress");if(n==null)return null;const i=Yv(yield this.call({to:n,data:"0x691f3431"+Vv(r).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return $t(this,void 0,void 0,function*(){let r=null;if(sr(e)){const s=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(s,"getAvatar");if(!o)return null;r=new xO(this,o,s);try{const a=yield r.getAvatar();if(a)return a.url}catch(a){if(a.code!==me.errors.CALL_EXCEPTION)throw a}try{const a=Yv(yield this.call({to:o,data:"0x691f3431"+Vv(s).substring(2)}),0);r=yield this.getResolver(a)}catch(a){if(a.code!==me.errors.CALL_EXCEPTION)throw a;return null}}else if(r=yield this.getResolver(e),!r)return null;const n=yield r.getAvatar();return n==null?null:n.url})}perform(e,r){return Ft.throwError(e+" not implemented",me.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_addEventListener(e,r,n){const i=new A0e(Ap(e),r,n);return this._events.push(i),this._startEvent(i),this}on(e,r){return this._addEventListener(e,r,!1)}once(e,r){return this._addEventListener(e,r,!0)}emit(e,...r){let n=!1,i=[],s=Ap(e);return this._events=this._events.filter(o=>o.tag!==s?!0:(setTimeout(()=>{o.listener.apply(this,r)},0),n=!0,o.once?(i.push(o),!1):!0)),i.forEach(o=>{this._stopEvent(o)}),n}listenerCount(e){if(!e)return this._events.length;let r=Ap(e);return this._events.filter(n=>n.tag===r).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let r=Ap(e);return this._events.filter(n=>n.tag===r).map(n=>n.listener)}off(e,r){if(r==null)return this.removeAllListeners(e);const n=[];let i=!1,s=Ap(e);return this._events=this._events.filter(o=>o.tag!==s||o.listener!=r||i?!0:(i=!0,n.push(o),!1)),n.forEach(o=>{this._stopEvent(o)}),this}removeAllListeners(e){let r=[];if(e==null)r=this._events,this._events=[];else{const n=Ap(e);this._events=this._events.filter(i=>i.tag!==n?!0:(r.push(i),!1))}return r.forEach(n=>{this._stopEvent(n)}),this}}const T0e="abstract-signer/5.8.0";var Ca=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const qo=new me(T0e),N0e=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],P0e=[me.errors.INSUFFICIENT_FUNDS,me.errors.NONCE_EXPIRED,me.errors.REPLACEMENT_UNDERPRICED];class Z2{constructor(){qo.checkAbstract(new.target,Z2),Fe(this,"_isSigner",!0)}getBalance(e){return Ca(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return Ca(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return Ca(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const r=yield vn(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return Ca(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield vn(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return Ca(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return Ca(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Ca(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Ca(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return Ca(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)N0e.indexOf(n)===-1&&qo.throwArgumentError("invalid transaction key: "+n,"transaction",e);const r=Mn(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&qo.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return Ca(this,void 0,void 0,function*(){const r=yield vn(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>Ca(this,void 0,void 0,function*(){if(i==null)return null;const s=yield this.resolveName(i);return s==null&&qo.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),r.to.catch(i=>{}));const n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?qo.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&qo.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const s=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=s,r.maxPriorityFeePerGas=s}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&qo.throwError("network does not support EIP-1559",me.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):qo.throwError("failed to get consistent fee data",me.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(P0e.indexOf(i.code)>=0)throw i;return qo.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",me.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&qo.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield vn(r)})}_checkProvider(e){this.provider||qo.throwError("missing provider",me.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class Q6 extends Z2{constructor(e,r){super(),Fe(this,"address",e),Fe(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{qo.throwError(e,me.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new Q6(this.address,e)}}var Vc=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const xn=new me(Y2),R0e=["call","estimateGas"];function Bm(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const r=sr(t.data)?t.data:null;if(!e||r)return{message:t.message,data:r}}if(typeof t=="object"){for(const r in t){const n=Bm(t[r],e);if(n)return n}return null}if(typeof t=="string")try{return Bm(JSON.parse(t),e)}catch{}return null}function tG(t,e,r){const n=r.transaction||r.signedTransaction;if(t==="call"){const s=Bm(e,!0);if(s)return s.data;xn.throwError("missing revert data in call exception; Transaction reverted without a reason string",me.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(t==="estimateGas"){let s=Bm(e.body,!1);s==null&&(s=Bm(e,!1)),s&&xn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",me.errors.UNPREDICTABLE_GAS_LIMIT,{reason:s.message,method:t,transaction:n,error:e})}let i=e.message;throw e.code===me.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&xn.throwError("insufficient funds for intrinsic transaction cost",me.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:n}),i.match(/nonce (is )?too low/i)&&xn.throwError("nonce has already been used",me.errors.NONCE_EXPIRED,{error:e,method:t,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&xn.throwError("replacement fee too low",me.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:n}),i.match(/only replay-protected/i)&&xn.throwError("legacy pre-eip-155 transactions not supported",me.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:n}),R0e.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&xn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",me.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:n}),e}function EO(t){return new Promise(function(e){setTimeout(e,t)})}function O0e(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function Fg(t){return t&&t.toLowerCase()}const IC={};class rG extends Z2{constructor(e,r,n){if(super(),e!==IC)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");Fe(this,"provider",r),n==null&&(n=0),typeof n=="string"?(Fe(this,"_address",this.provider.formatter.address(n)),Fe(this,"_index",null)):typeof n=="number"?(Fe(this,"_index",n),Fe(this,"_address",null)):xn.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return xn.throwError("cannot alter JSON-RPC Signer connection",me.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new j0e(IC,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&xn.throwError("unknown account #"+this._index,me.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=Mn(e);const r=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=Mn(e);n.from=r,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>Vc(this,void 0,void 0,function*(){if(n==null)return null;const i=yield this.provider.resolveName(n);return i==null&&xn.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),vn({tx:vn(e),sender:r}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&xn.throwArgumentError("from address mismatch","transaction",e):n.from=i;const s=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[s]).then(o=>o,o=>(typeof o.message=="string"&&o.message.match(/user denied/i)&&xn.throwError("user rejected transaction",me.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),tG("sendTransaction",o,s)))})}signTransaction(e){return xn.throwError("signing transactions is unsupported",me.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return Vc(this,void 0,void 0,function*(){const r=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield gm(()=>Vc(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,r)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(e){return Vc(this,void 0,void 0,function*(){const r=typeof e=="string"?uc(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[dt(r),n.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&xn.throwError("user rejected signing",me.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),i}})}_legacySignMessage(e){return Vc(this,void 0,void 0,function*(){const r=typeof e=="string"?uc(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),dt(r)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&xn.throwError("user rejected signing",me.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),i}})}_signTypedData(e,r,n){return Vc(this,void 0,void 0,function*(){const i=yield uo.resolveNames(e,r,n,o=>this.provider.resolveName(o)),s=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[s.toLowerCase(),JSON.stringify(uo.getPayload(i.domain,r,i.value))])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&xn.throwError("user rejected signing",me.errors.ACTION_REJECTED,{action:"_signTypedData",from:s,messageData:{domain:i.domain,types:r,value:i.value}}),o}})}unlock(e){return Vc(this,void 0,void 0,function*(){const r=this.provider,n=yield this.getAddress();return r.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}class j0e extends rG{sendTransaction(e){return this.sendUncheckedTransaction(e).then(r=>({hash:r,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(r,n)}))}}const M0e={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class nG extends k0e{constructor(e,r){let n=r;n==null&&(n=new Promise((i,s)=>{setTimeout(()=>{this.detectNetwork().then(o=>{i(o)},o=>{s(o)})},0)})),super(n),e||(e=zl(this.constructor,"defaultUrl")()),typeof e=="string"?Fe(this,"connection",Object.freeze({url:e})):Fe(this,"connection",Object.freeze(Mn(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Vc(this,void 0,void 0,function*(){yield EO(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const r=zl(this.constructor,"getNetwork");try{return r(Re.from(e).toNumber())}catch(n){return xn.throwError("could not detect network",me.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return xn.throwError("could not detect network",me.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new rG(IC,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(r=>this.formatter.address(r)))}send(e,r){const n={method:e,params:r,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Au(n),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const s=qI(this.connection,JSON.stringify(n),O0e).then(o=>(this.emit("debug",{action:"response",request:n,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",error:o,request:n,provider:this}),o});return i&&(this._cache[e]=s,setTimeout(()=>{this._cache[e]=null},0)),s}prepareRequest(e,r){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[Fg(r.address),r.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[Fg(r.address),r.blockTag]];case"getCode":return["eth_getCode",[Fg(r.address),r.blockTag]];case"getStorageAt":return["eth_getStorageAt",[Fg(r.address),Gr(r.position,32),r.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[r.signedTransaction]];case"getBlock":return r.blockTag?["eth_getBlockByNumber",[r.blockTag,!!r.includeTransactions]]:r.blockHash?["eth_getBlockByHash",[r.blockHash,!!r.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[r.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[r.transactionHash]];case"call":return["eth_call",[zl(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0}),r.blockTag]];case"estimateGas":return["eth_estimateGas",[zl(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0})]];case"getLogs":return r.filter&&r.filter.address!=null&&(r.filter.address=Fg(r.filter.address)),["eth_getLogs",[r.filter]]}return null}perform(e,r){return Vc(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=r.transaction;if(i&&i.type!=null&&Re.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=yield this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(r=Mn(r),r.transaction=Mn(i),delete r.transaction.type)}}const n=this.prepareRequest(e,r);n==null&&xn.throwError(e+" not implemented",me.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(i){return tG(e,i,r)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,r=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=r,r.then(function(n){function i(){e.send("eth_getFilterChanges",[n]).then(function(s){if(e._pendingFilter!=r)return null;let o=Promise.resolve();return s.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",o=o.then(function(){return e.getTransaction(a).then(function(l){return e.emit("pending",l),null})})}),o.then(function(){return EO(1e3)})}).then(function(){if(e._pendingFilter!=r){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(s=>{})}return i(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,r){const n=Mn(M0e);if(r)for(const s in r)r[s]&&(n[s]=!0);sV(e,n);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(s){if(e[s]==null)return;const o=BI(Re.from(e[s]));s==="gasLimit"&&(s="gas"),i[s]=o}),["from","to","data"].forEach(function(s){e[s]!=null&&(i[s]=dt(e[s]))}),e.accessList&&(i.accessList=K1(e.accessList)),i}}var D0e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const L0e=new me(Y2);class F0e extends nG{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return D0e(this,void 0,void 0,function*(){let r=this.network;return r==null&&(r=yield e.detectNetwork.call(this),r||L0e.throwError("no network detected",me.errors.UNKNOWN_ERROR,{}),this._network==null&&(Fe(this,"_network",r),this.emit("network",r,null))),r})}}const _O=new me(Y2);let B0e=1;function CO(t,e){const r="Web3LegacyFetcher";return function(n,i){const s={method:n,params:i,id:B0e++,jsonrpc:"2.0"};return new Promise((o,a)=>{this.emit("debug",{action:"request",fetcher:r,request:Au(s),provider:this}),e(s,(l,c)=>{if(l)return this.emit("debug",{action:"response",fetcher:r,error:l,request:s,provider:this}),a(l);if(this.emit("debug",{action:"response",fetcher:r,request:s,response:c,provider:this}),c.error){const u=new Error(c.error.message);return u.code=c.error.code,u.data=c.error.data,a(u)}o(c.result)})})}}function U0e(t){return function(e,r){r==null&&(r=[]);const n={method:e,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:Au(n),provider:this}),t.request(n).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:i,provider:this}),i})}}class s5 extends nG{constructor(e,r){e==null&&_O.throwArgumentError("missing provider","provider",e);let n=null,i=null,s=null;typeof e=="function"?(n="unknown:",i=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),s=e,e.request?(n===""&&(n="eip-1193:"),i=U0e(e)):e.sendAsync?i=CO(e,e.sendAsync.bind(e)):e.send?i=CO(e,e.send.bind(e)):_O.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:")),super(n,r),Fe(this,"jsonRpcFetchFunc",i),Fe(this,"provider",s)}send(e,r){return this.jsonRpcFetchFunc(e,r)}}function W0e(t){if(typeof window>"u")return;const e=r=>t(r.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function z0e(){const t=new Set;let e=[];const r=()=>W0e(i=>{e.some(({info:s})=>s.uuid===i.info.uuid)||(e=[...e,i],t.forEach(s=>s(e,{added:[i]})))});let n=r();return{_listeners(){return t},clear(){t.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),n==null||n()},findProvider({rdns:i}){return e.find(s=>s.info.rdns===i)},getProviders(){return e},reset(){this.clear(),n==null||n(),n=r()},subscribe(i,{emitImmediately:s}={}){return t.add(i),s&&i(e,{added:e}),()=>t.delete(i)}}}var rt={},kC={exports:{}};(function(t,e){(function(r,n){var i="1.0.41",s="",o="?",a="function",l="undefined",c="object",u="string",f="major",h="model",p="name",g="type",m="vendor",w="version",y="architecture",E="console",v="mobile",b="tablet",$="smarttv",P="wearable",O="embedded",D=500,B="Amazon",H="Apple",q="ASUS",Y="BlackBerry",R="Browser",_="Chrome",x="Edge",A="Firefox",T="Google",I="Honor",N="Huawei",M="Lenovo",U="LG",S="Microsoft",F="Motorola",Q="Nvidia",k="OnePlus",W="Opera",V="OPPO",ee="Samsung",te="Sharp",ce="Sony",K="Xiaomi",G="Zebra",pe="Facebook",de="Chromium OS",ye="Mac OS",Ne=" Browser",je=function(j,L){var X={};for(var ae in j)L[ae]&&L[ae].length%2===0?X[ae]=L[ae].concat(j[ae]):X[ae]=j[ae];return X},Qe=function(j){for(var L={},X=0;X<j.length;X++)L[j[X].toUpperCase()]=j[X];return L},xe=function(j,L){return typeof j===u?he(L).indexOf(he(j))!==-1:!1},he=function(j){return j.toLowerCase()},ht=function(j){return typeof j===u?j.replace(/[^\d\.]/g,s).split(".")[0]:n},De=function(j,L){if(typeof j===u)return j=j.replace(/^\s\s*/,s),typeof L===l?j:j.substring(0,D)},we=function(j,L){for(var X=0,ae,fe,ge,Ie,Se,Ve;X<L.length&&!Se;){var _t=L[X],Ge=L[X+1];for(ae=fe=0;ae<_t.length&&!Se&&_t[ae];)if(Se=_t[ae++].exec(j),Se)for(ge=0;ge<Ge.length;ge++)Ve=Se[++fe],Ie=Ge[ge],typeof Ie===c&&Ie.length>0?Ie.length===2?typeof Ie[1]==a?this[Ie[0]]=Ie[1].call(this,Ve):this[Ie[0]]=Ie[1]:Ie.length===3?typeof Ie[1]===a&&!(Ie[1].exec&&Ie[1].test)?this[Ie[0]]=Ve?Ie[1].call(this,Ve,Ie[2]):n:this[Ie[0]]=Ve?Ve.replace(Ie[1],Ie[2]):n:Ie.length===4&&(this[Ie[0]]=Ve?Ie[3].call(this,Ve.replace(Ie[1],Ie[2])):n):this[Ie]=Ve||n;X+=2}},_e=function(j,L){for(var X in L)if(typeof L[X]===c&&L[X].length>0){for(var ae=0;ae<L[X].length;ae++)if(xe(L[X][ae],j))return X===o?n:X}else if(xe(L[X],j))return X===o?n:X;return L.hasOwnProperty("*")?L["*"]:j},Me={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},ke={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Te={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[w,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[w,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,w],[/opios[\/ ]+([\w\.]+)/i],[w,[p,W+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[w,[p,W+" GX"]],[/\bopr\/([\w\.]+)/i],[w,[p,W]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[w,[p,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[w,[p,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,w],[/quark(?:pc)?\/([-\w\.]+)/i],[w,[p,"Quark"]],[/\bddg\/([\w\.]+)/i],[w,[p,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[w,[p,"UC"+R]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[w,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[w,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[w,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[w,[p,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[w,[p,"Smart Lenovo "+R]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+R],w],[/\bfocus\/([\w\.]+)/i],[w,[p,A+" Focus"]],[/\bopt\/([\w\.]+)/i],[w,[p,W+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[w,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[w,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[w,[p,W+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[w,[p,"MIUI"+Ne]],[/fxios\/([\w\.-]+)/i],[w,[p,A]],[/\bqihoobrowser\/?([\w\.]*)/i],[w,[p,"360"]],[/\b(qq)\/([\w\.]+)/i],[[p,/(.+)/,"$1Browser"],w],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1"+Ne],w],[/samsungbrowser\/([\w\.]+)/i],[w,[p,ee+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[w,[p,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[p,"Sogou Mobile"],w],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[p,w],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[p],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[w,p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,pe],w],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[p,w],[/\bgsa\/([\w\.]+) .*safari\//i],[w,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[w,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[w,[p,_+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,_+" WebView"],w],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[w,[p,"Android "+R]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,w],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[w,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[w,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[w,_e,Me]],[/(webkit|khtml)\/([\w\.]+)/i],[p,w],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],w],[/(wolvic|librewolf)\/([\w\.]+)/i],[p,w],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[w,[p,A+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[p,[w,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[p,[w,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[y,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[y,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[y,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[y,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[y,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[y,/ower/,s,he]],[/ sun4\w[;\)]/i],[[y,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[y,he]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[h,[m,ee],[g,b]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[h,[m,ee],[g,v]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[h,[m,H],[g,v]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[h,[m,H],[g,b]],[/(macintosh);/i],[h,[m,H]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[h,[m,te],[g,v]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[h,[m,I],[g,b]],[/honor([-\w ]+)[;\)]/i],[h,[m,I],[g,v]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[h,[m,N],[g,b]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[h,[m,N],[g,v]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[h,/_/g," "],[m,K],[g,b]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[h,/_/g," "],[m,K],[g,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[h,[m,V],[g,v]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[h,[m,_e,{OnePlus:["304","403","203"],"*":V}],[g,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[h,[m,"Vivo"],[g,v]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[h,[m,"Realme"],[g,v]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[h,[m,F],[g,v]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[h,[m,F],[g,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[h,[m,U],[g,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[h,[m,U],[g,v]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[h,[m,M],[g,b]],[/(nokia) (t[12][01])/i],[m,h,[g,b]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[h,/_/g," "],[g,v],[m,"Nokia"]],[/(pixel (c|tablet))\b/i],[h,[m,T],[g,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[h,[m,T],[g,v]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[h,[m,ce],[g,v]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[h,"Xperia Tablet"],[m,ce],[g,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[h,[m,k],[g,v]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[h,[m,B],[g,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[h,/(.+)/g,"Fire Phone $1"],[m,B],[g,v]],[/(playbook);[-\w\),; ]+(rim)/i],[h,m,[g,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[h,[m,Y],[g,v]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[h,[m,q],[g,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[h,[m,q],[g,v]],[/(nexus 9)/i],[h,[m,"HTC"],[g,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[m,[h,/_/g," "],[g,v]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[h,[m,"TCL"],[g,b]],[/(itel) ((\w+))/i],[[m,he],h,[g,_e,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[h,[m,"Acer"],[g,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[h,[m,"Meizu"],[g,v]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[h,[m,"Ulefone"],[g,v]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[h,[m,"Energizer"],[g,v]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[h,[m,"Cat"],[g,v]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[h,[m,"Smartfren"],[g,v]],[/droid.+; (a(?:015|06[35]|142p?))/i],[h,[m,"Nothing"],[g,v]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[h,[m,"Archos"],[g,b]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[h,[m,"Archos"],[g,v]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[m,h,[g,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[m,h,[g,v]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[m,h,[g,b]],[/(surface duo)/i],[h,[m,S],[g,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[h,[m,"Fairphone"],[g,v]],[/(u304aa)/i],[h,[m,"AT&T"],[g,v]],[/\bsie-(\w*)/i],[h,[m,"Siemens"],[g,v]],[/\b(rct\w+) b/i],[h,[m,"RCA"],[g,b]],[/\b(venue[\d ]{2,7}) b/i],[h,[m,"Dell"],[g,b]],[/\b(q(?:mv|ta)\w+) b/i],[h,[m,"Verizon"],[g,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[h,[m,"Barnes & Noble"],[g,b]],[/\b(tm\d{3}\w+) b/i],[h,[m,"NuVision"],[g,b]],[/\b(k88) b/i],[h,[m,"ZTE"],[g,b]],[/\b(nx\d{3}j) b/i],[h,[m,"ZTE"],[g,v]],[/\b(gen\d{3}) b.+49h/i],[h,[m,"Swiss"],[g,v]],[/\b(zur\d{3}) b/i],[h,[m,"Swiss"],[g,b]],[/\b((zeki)?tb.*\b) b/i],[h,[m,"Zeki"],[g,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[m,"Dragon Touch"],h,[g,b]],[/\b(ns-?\w{0,9}) b/i],[h,[m,"Insignia"],[g,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[h,[m,"NextBook"],[g,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[m,"Voice"],h,[g,v]],[/\b(lvtel\-)?(v1[12]) b/i],[[m,"LvTel"],h,[g,v]],[/\b(ph-1) /i],[h,[m,"Essential"],[g,v]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[h,[m,"Envizen"],[g,b]],[/\b(trio[-\w\. ]+) b/i],[h,[m,"MachSpeed"],[g,b]],[/\btu_(1491) b/i],[h,[m,"Rotor"],[g,b]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[h,[m,Q],[g,b]],[/(sprint) (\w+)/i],[m,h,[g,v]],[/(kin\.[onetw]{3})/i],[[h,/\./g," "],[m,S],[g,v]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[h,[m,G],[g,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[h,[m,G],[g,v]],[/smart-tv.+(samsung)/i],[m,[g,$]],[/hbbtv.+maple;(\d+)/i],[[h,/^/,"SmartTV"],[m,ee],[g,$]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[m,U],[g,$]],[/(apple) ?tv/i],[m,[h,H+" TV"],[g,$]],[/crkey/i],[[h,_+"cast"],[m,T],[g,$]],[/droid.+aft(\w+)( bui|\))/i],[h,[m,B],[g,$]],[/(shield \w+ tv)/i],[h,[m,Q],[g,$]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[h,[m,te],[g,$]],[/(bravia[\w ]+)( bui|\))/i],[h,[m,ce],[g,$]],[/(mi(tv|box)-?\w+) bui/i],[h,[m,K],[g,$]],[/Hbbtv.*(technisat) (.*);/i],[m,h,[g,$]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[m,De],[h,De],[g,$]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[h,[g,$]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[g,$]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[m,h,[g,E]],[/droid.+; (shield)( bui|\))/i],[h,[m,Q],[g,E]],[/(playstation \w+)/i],[h,[m,ce],[g,E]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[h,[m,S],[g,E]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[h,[m,ee],[g,P]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[m,h,[g,P]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[h,[m,V],[g,P]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[h,[m,H],[g,P]],[/(opwwe\d{3})/i],[h,[m,k],[g,P]],[/(moto 360)/i],[h,[m,F],[g,P]],[/(smartwatch 3)/i],[h,[m,ce],[g,P]],[/(g watch r)/i],[h,[m,U],[g,P]],[/droid.+; (wt63?0{2,3})\)/i],[h,[m,G],[g,P]],[/droid.+; (glass) \d/i],[h,[m,T],[g,P]],[/(pico) (4|neo3(?: link|pro)?)/i],[m,h,[g,P]],[/; (quest( \d| pro)?)/i],[h,[m,pe],[g,P]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[m,[g,O]],[/(aeobc)\b/i],[h,[m,B],[g,O]],[/(homepod).+mac os/i],[h,[m,H],[g,O]],[/windows iot/i],[[g,O]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[h,[g,v]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[h,[g,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[g,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[g,v]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[h,[m,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[w,[p,x+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[p,w],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[w,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,w],[/ladybird\//i],[[p,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[w,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,w],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[p,[w,_e,ke]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[w,_e,ke],[p,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[w,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,ye],[w,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[w,p],[/(ubuntu) ([\w\.]+) like android/i],[[p,/(.+)/,"$1 Touch"],w],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[p,w],[/\(bb(10);/i],[w,[p,Y]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[w,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[w,[p,A+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[w,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[w,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[w,[p,_+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,de],w],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,w],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],w],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,w]]},Ue=function(j,L){if(typeof j===c&&(L=j,j=n),!(this instanceof Ue))return new Ue(j,L).getResult();var X=typeof r!==l&&r.navigator?r.navigator:n,ae=j||(X&&X.userAgent?X.userAgent:s),fe=X&&X.userAgentData?X.userAgentData:n,ge=L?je(Te,L):Te,Ie=X&&X.userAgent==ae;return this.getBrowser=function(){var Se={};return Se[p]=n,Se[w]=n,we.call(Se,ae,ge.browser),Se[f]=ht(Se[w]),Ie&&X&&X.brave&&typeof X.brave.isBrave==a&&(Se[p]="Brave"),Se},this.getCPU=function(){var Se={};return Se[y]=n,we.call(Se,ae,ge.cpu),Se},this.getDevice=function(){var Se={};return Se[m]=n,Se[h]=n,Se[g]=n,we.call(Se,ae,ge.device),Ie&&!Se[g]&&fe&&fe.mobile&&(Se[g]=v),Ie&&Se[h]=="Macintosh"&&X&&typeof X.standalone!==l&&X.maxTouchPoints&&X.maxTouchPoints>2&&(Se[h]="iPad",Se[g]=b),Se},this.getEngine=function(){var Se={};return Se[p]=n,Se[w]=n,we.call(Se,ae,ge.engine),Se},this.getOS=function(){var Se={};return Se[p]=n,Se[w]=n,we.call(Se,ae,ge.os),Ie&&!Se[p]&&fe&&fe.platform&&fe.platform!="Unknown"&&(Se[p]=fe.platform.replace(/chrome os/i,de).replace(/macos/i,ye)),Se},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return ae},this.setUA=function(Se){return ae=typeof Se===u&&Se.length>D?De(Se,D):Se,this},this.setUA(ae),this};Ue.VERSION=i,Ue.BROWSER=Qe([p,w,f]),Ue.CPU=Qe([y]),Ue.DEVICE=Qe([h,m,g,E,v,$,b,P,O]),Ue.ENGINE=Ue.OS=Qe([p,w]),t.exports&&(e=t.exports=Ue),e.UAParser=Ue;var Be=typeof r!==l&&(r.jQuery||r.Zepto);if(Be&&!Be.ua){var Z=new Ue;Be.ua=Z.getResult(),Be.ua.get=function(){return Z.getUA()},Be.ua.set=function(j){Z.setUA(j);var L=Z.getResult();for(var X in L)Be.ua[X]=L[X]}}})(typeof window=="object"?window:nr)})(kC,kC.exports);var H0e=kC.exports;Object.defineProperty(rt,"__esModule",{value:!0});function q0e(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var Zi=C,Mr=q0e(Zi),iG=H0e,hf=new iG,Qi=hf.getBrowser(),V0e=hf.getCPU(),Oo=hf.getDevice(),ZI=hf.getEngine(),pf=hf.getOS(),J2=hf.getUA(),sG=function(e){return hf.setUA(e)},Q2=function(e){if(!e){console.error("No userAgent string was provided");return}var r=new iG(e);return{UA:r,browser:r.getBrowser(),cpu:r.getCPU(),device:r.getDevice(),engine:r.getEngine(),os:r.getOS(),ua:r.getUA(),setUserAgent:function(i){return r.setUA(i)}}},oG=Object.freeze({ClientUAInstance:hf,browser:Qi,cpu:V0e,device:Oo,engine:ZI,os:pf,ua:J2,setUa:sG,parseUserAgent:Q2});function AO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function G0e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AO(Object(r),!0).forEach(function(n){J0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Um(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Um=function(e){return typeof e}:Um=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Um(t)}function K0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y0e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Z0e(t,e,r){return e&&Y0e(t.prototype,e),t}function J0e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TC(){return TC=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},TC.apply(this,arguments)}function Q0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&PC(t,e)}function NC(t){return NC=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},NC(t)}function PC(t,e){return PC=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},PC(t,e)}function X0e(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function va(t,e){if(t==null)return{};var r=X0e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Zv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e1e(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zv(t)}function t1e(t,e){return r1e(t)||n1e(t,e)||i1e(t,e)||s1e()}function r1e(t){if(Array.isArray(t))return t}function n1e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,s=!1,o,a;try{for(r=r.call(t);!(i=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&r.return!=null&&r.return()}finally{if(s)throw a}}return n}}function i1e(t,e){if(t){if(typeof t=="string")return SO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SO(t,e)}}function SO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function s1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Bi={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},Gs={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},Y1={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},o1e={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},a1e=function(e){switch(e){case Bi.Mobile:return{isMobile:!0};case Bi.Tablet:return{isTablet:!0};case Bi.SmartTv:return{isSmartTV:!0};case Bi.Console:return{isConsole:!0};case Bi.Wearable:return{isWearable:!0};case Bi.Browser:return{isBrowser:!0};case Bi.Embedded:return{isEmbedded:!0};default:return o1e}},l1e=function(e){return sG(e)},At=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return e||r},JI=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},QI=function(e){var r=JI();return r&&r.platform&&(r.platform.indexOf(e)!==-1||r.platform==="MacIntel"&&r.maxTouchPoints>1&&!window.MSStream)},c1e=function(e,r,n,i,s){return{isBrowser:e,browserMajorVersion:At(r.major),browserFullVersion:At(r.version),browserName:At(r.name),engineName:At(n.name),engineVersion:At(n.version),osName:At(i.name),osVersion:At(i.version),userAgent:At(s)}},$O=function(e,r,n,i){return G0e({},e,{vendor:At(r.vendor),model:At(r.model),os:At(n.name),osVersion:At(n.version),ua:At(i)})},u1e=function(e,r,n,i){return{isSmartTV:e,engineName:At(r.name),engineVersion:At(r.version),osName:At(n.name),osVersion:At(n.version),userAgent:At(i)}},d1e=function(e,r,n,i){return{isConsole:e,engineName:At(r.name),engineVersion:At(r.version),osName:At(n.name),osVersion:At(n.version),userAgent:At(i)}},f1e=function(e,r,n,i){return{isWearable:e,engineName:At(r.name),engineVersion:At(r.version),osName:At(n.name),osVersion:At(n.version),userAgent:At(i)}},h1e=function(e,r,n,i,s){return{isEmbedded:e,vendor:At(r.vendor),model:At(r.model),engineName:At(n.name),engineVersion:At(n.version),osName:At(i.name),osVersion:At(i.version),userAgent:At(s)}};function p1e(t){var e=t?Q2(t):oG,r=e.device,n=e.browser,i=e.engine,s=e.os,o=e.ua,a=a1e(r.type),l=a.isBrowser,c=a.isMobile,u=a.isTablet,f=a.isSmartTV,h=a.isConsole,p=a.isWearable,g=a.isEmbedded;if(l)return c1e(l,n,i,s,o);if(f)return u1e(f,i,s,o);if(h)return d1e(h,i,s,o);if(c||u)return $O(a,r,s,o);if(p)return f1e(p,i,s,o);if(g)return h1e(g,r,i,s,o)}var aG=function(e){var r=e.type;return r===Bi.Mobile},lG=function(e){var r=e.type;return r===Bi.Tablet},cG=function(e){var r=e.type;return r===Bi.Mobile||r===Bi.Tablet},uG=function(e){var r=e.type;return r===Bi.SmartTv},o5=function(e){var r=e.type;return r===Bi.Browser},dG=function(e){var r=e.type;return r===Bi.Wearable},fG=function(e){var r=e.type;return r===Bi.Console},hG=function(e){var r=e.type;return r===Bi.Embedded},pG=function(e){var r=e.vendor;return At(r)},gG=function(e){var r=e.model;return At(r)},mG=function(e){var r=e.type;return At(r,"browser")},yG=function(e){var r=e.name;return r===Y1.Android},wG=function(e){var r=e.name;return r===Y1.Windows},bG=function(e){var r=e.name;return r===Y1.MAC_OS},vG=function(e){var r=e.name;return r===Y1.WindowsPhone},xG=function(e){var r=e.name;return r===Y1.IOS},EG=function(e){var r=e.version;return At(r)},_G=function(e){var r=e.name;return At(r)},CG=function(e){var r=e.name;return r===Gs.Chrome},AG=function(e){var r=e.name;return r===Gs.Firefox},SG=function(e){var r=e.name;return r===Gs.Chromium},a5=function(e){var r=e.name;return r===Gs.Edge},$G=function(e){var r=e.name;return r===Gs.Yandex},IG=function(e){var r=e.name;return r===Gs.Safari||r===Gs.MobileSafari},kG=function(e){var r=e.name;return r===Gs.MobileSafari},TG=function(e){var r=e.name;return r===Gs.Opera},NG=function(e){var r=e.name;return r===Gs.InternetExplorer||r===Gs.Ie},PG=function(e){var r=e.name;return r===Gs.MIUI},RG=function(e){var r=e.name;return r===Gs.SamsungBrowser},OG=function(e){var r=e.version;return At(r)},jG=function(e){var r=e.major;return At(r)},MG=function(e){var r=e.name;return At(r)},DG=function(e){var r=e.name;return At(r)},LG=function(e){var r=e.version;return At(r)},FG=function(){var e=JI(),r=e&&e.userAgent&&e.userAgent.toLowerCase();return typeof r=="string"?/electron/.test(r):!1},R0=function(e){return typeof e=="string"&&e.indexOf("Edg/")!==-1},BG=function(){var e=JI();return e&&(/iPad|iPhone|iPod/.test(e.platform)||e.platform==="MacIntel"&&e.maxTouchPoints>1)&&!window.MSStream},Ll=function(){return QI("iPad")},UG=function(){return QI("iPhone")},WG=function(){return QI("iPod")},zG=function(e){return At(e)};function HG(t){var e=t||oG,r=e.device,n=e.browser,i=e.os,s=e.engine,o=e.ua;return{isSmartTV:uG(r),isConsole:fG(r),isWearable:dG(r),isEmbedded:hG(r),isMobileSafari:kG(n)||Ll(),isChromium:SG(n),isMobile:cG(r)||Ll(),isMobileOnly:aG(r),isTablet:lG(r)||Ll(),isBrowser:o5(r),isDesktop:o5(r),isAndroid:yG(i),isWinPhone:vG(i),isIOS:xG(i)||Ll(),isChrome:CG(n),isFirefox:AG(n),isSafari:IG(n),isOpera:TG(n),isIE:NG(n),osVersion:EG(i),osName:_G(i),fullBrowserVersion:OG(n),browserVersion:jG(n),browserName:MG(n),mobileVendor:pG(r),mobileModel:gG(r),engineName:DG(s),engineVersion:LG(s),getUA:zG(o),isEdge:a5(n)||R0(o),isYandex:$G(n),deviceType:mG(r),isIOS13:BG(),isIPad13:Ll(),isIPhone13:UG(),isIPod13:WG(),isElectron:FG(),isEdgeChromium:R0(o),isLegacyEdge:a5(n)&&!R0(o),isWindows:wG(i),isMacOs:bG(i),isMIUI:PG(n),isSamsungBrowser:RG(n)}}var qG=uG(Oo),VG=fG(Oo),GG=dG(Oo),g1e=hG(Oo),m1e=kG(Qi)||Ll(),y1e=SG(Qi),X6=cG(Oo)||Ll(),KG=aG(Oo),YG=lG(Oo)||Ll(),ZG=o5(Oo),w1e=o5(Oo),JG=yG(pf),QG=vG(pf),XG=xG(pf)||Ll(),b1e=CG(Qi),v1e=AG(Qi),x1e=IG(Qi),E1e=TG(Qi),eK=NG(Qi),_1e=EG(pf),C1e=_G(pf),A1e=OG(Qi),S1e=jG(Qi),$1e=MG(Qi),I1e=pG(Oo),k1e=gG(Oo),T1e=DG(ZI),N1e=LG(ZI),P1e=zG(J2),R1e=a5(Qi)||R0(J2),O1e=$G(Qi),j1e=mG(Oo),M1e=BG(),D1e=Ll(),L1e=UG(),F1e=WG(),B1e=FG(),U1e=R0(J2),W1e=a5(Qi)&&!R0(J2),z1e=wG(pf),H1e=bG(pf),q1e=PG(Qi),V1e=RG(Qi),G1e=function(e){if(!e||typeof e!="string"){console.error("No valid user agent string was provided");return}var r=Q2(e),n=r.device,i=r.browser,s=r.os,o=r.engine,a=r.ua;return HG({device:n,browser:i,os:s,engine:o,ua:a})},K1e=function(e){var r=e.renderWithFragment,n=e.children,i=va(e,["renderWithFragment","children"]);return JG?r?Mr.createElement(Zi.Fragment,null,n):Mr.createElement("div",i,n):null},Y1e=function(e){var r=e.renderWithFragment,n=e.children,i=va(e,["renderWithFragment","children"]);return ZG?r?Mr.createElement(Zi.Fragment,null,n):Mr.createElement("div",i,n):null},Z1e=function(e){var r=e.renderWithFragment,n=e.children,i=va(e,["renderWithFragment","children"]);return eK?r?Mr.createElement(Zi.Fragment,null,n):Mr.createElement("div",i,n):null},J1e=function(e){var r=e.renderWithFragment,n=e.children,i=va(e,["renderWithFragment","children"]);return XG?r?Mr.createElement(Zi.Fragment,null,n):Mr.createElement("div",i,n):null},Q1e=function(e){var r=e.renderWithFragment,n=e.children,i=va(e,["renderWithFragment","children"]);return X6?r?Mr.createElement(Zi.Fragment,null,n):Mr.createElement("div",i,n):null},X1e=function(e){var r=e.renderWithFragment,n=e.children,i=va(e,["renderWithFragment","children"]);return YG?r?Mr.createElement(Zi.Fragment,null,n):Mr.createElement("div",i,n):null},ege=function(e){var r=e.renderWithFragment,n=e.children,i=va(e,["renderWithFragment","children"]);return QG?r?Mr.createElement(Zi.Fragment,null,n):Mr.createElement("div",i,n):null},tge=function(e){var r=e.renderWithFragment,n=e.children;e.viewClassName,e.style;var i=va(e,["renderWithFragment","children","viewClassName","style"]);return KG?r?Mr.createElement(Zi.Fragment,null,n):Mr.createElement("div",i,n):null},rge=function(e){var r=e.renderWithFragment,n=e.children,i=va(e,["renderWithFragment","children"]);return qG?r?Mr.createElement(Zi.Fragment,null,n):Mr.createElement("div",i,n):null},nge=function(e){var r=e.renderWithFragment,n=e.children,i=va(e,["renderWithFragment","children"]);return VG?r?Mr.createElement(Zi.Fragment,null,n):Mr.createElement("div",i,n):null},ige=function(e){var r=e.renderWithFragment,n=e.children,i=va(e,["renderWithFragment","children"]);return GG?r?Mr.createElement(Zi.Fragment,null,n):Mr.createElement("div",i,n):null},sge=function(e){var r=e.renderWithFragment,n=e.children;e.viewClassName,e.style;var i=e.condition,s=va(e,["renderWithFragment","children","viewClassName","style","condition"]);return i?r?Mr.createElement(Zi.Fragment,null,n):Mr.createElement("div",s,n):null};function oge(t){return function(e){Q0e(r,e);function r(n){var i;return K0e(this,r),i=e1e(this,NC(r).call(this,n)),i.isEventListenerAdded=!1,i.handleOrientationChange=i.handleOrientationChange.bind(Zv(i)),i.onOrientationChange=i.onOrientationChange.bind(Zv(i)),i.onPageLoad=i.onPageLoad.bind(Zv(i)),i.state={isLandscape:!1,isPortrait:!1},i}return Z0e(r,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var i=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:i===0,isLandscape:i===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":Um(window))!==void 0&&X6&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return Mr.createElement(t,TC({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),r}(Mr.Component)}function age(){var t=Zi.useState(function(){var s=window.innerWidth>window.innerHeight?90:0;return{isPortrait:s===0,isLandscape:s===90,orientation:s===0?"portrait":"landscape"}}),e=t1e(t,2),r=e[0],n=e[1],i=Zi.useCallback(function(){var s=window.innerWidth>window.innerHeight?90:0,o={isPortrait:s===0,isLandscape:s===90,orientation:s===0?"portrait":"landscape"};r.orientation!==o.orientation&&n(o)},[r.orientation]);return Zi.useEffect(function(){return(typeof window>"u"?"undefined":Um(window))!==void 0&&X6&&(i(),window.addEventListener("load",i,!1),window.addEventListener("resize",i,!1)),function(){window.removeEventListener("resize",i,!1),window.removeEventListener("load",i,!1)}},[i]),r}function tK(t){var e=t||window.navigator.userAgent;return Q2(e)}function lge(t){var e=t||window.navigator.userAgent,r=tK(e),n=HG(r);return[n,r]}rt.AndroidView=K1e;rt.BrowserTypes=Gs;rt.BrowserView=Y1e;rt.ConsoleView=nge;rt.CustomView=sge;rt.IEView=Z1e;rt.IOSView=J1e;rt.MobileOnlyView=tge;rt.MobileView=Q1e;rt.OsTypes=Y1;rt.SmartTVView=rge;rt.TabletView=X1e;rt.WearableView=ige;rt.WinPhoneView=ege;rt.browserName=$1e;rt.browserVersion=S1e;rt.deviceDetect=p1e;rt.deviceType=j1e;rt.engineName=T1e;rt.engineVersion=N1e;rt.fullBrowserVersion=A1e;rt.getSelectorsByUserAgent=G1e;rt.getUA=P1e;var cge=rt.isAndroid=JG;rt.isBrowser=ZG;rt.isChrome=b1e;rt.isChromium=y1e;rt.isConsole=VG;rt.isDesktop=w1e;rt.isEdge=R1e;rt.isEdgeChromium=U1e;rt.isElectron=B1e;rt.isEmbedded=g1e;var uge=rt.isFirefox=v1e;rt.isIE=eK;var XI=rt.isIOS=XG;rt.isIOS13=M1e;rt.isIPad13=D1e;rt.isIPhone13=L1e;rt.isIPod13=F1e;rt.isLegacyEdge=W1e;rt.isMIUI=q1e;rt.isMacOs=H1e;var bi=rt.isMobile=X6;rt.isMobileOnly=KG;rt.isMobileSafari=m1e;rt.isOpera=E1e;var dge=rt.isSafari=x1e;rt.isSamsungBrowser=V1e;rt.isSmartTV=qG;rt.isTablet=YG;rt.isWearable=GG;rt.isWinPhone=QG;rt.isWindows=z1e;rt.isYandex=O1e;rt.mobileModel=k1e;rt.mobileVendor=I1e;rt.osName=C1e;rt.osVersion=_1e;rt.parseUserAgent=Q2;rt.setUserAgent=l1e;rt.useDeviceData=tK;rt.useDeviceSelectors=lge;rt.useMobileOrientation=age;rt.withOrientationChange=oge;const X2="abi/5.8.0",Qt=new me(X2),kh={};let IO={calldata:!0,memory:!0,storage:!0},fge={calldata:!0,memory:!0};function $b(t,e){if(t==="bytes"||t==="string"){if(IO[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&fge[e])return!0;return(IO[e]||e==="payable")&&Qt.throwArgumentError("invalid modifier","name",e),!1}function hge(t,e){let r=t;function n(a){Qt.throwArgumentError(`unexpected character at position ${a}`,"param",t)}t=t.replace(/\s/g," ");function i(a){let l={type:"",name:"",parent:a,state:{allowType:!0}};return e&&(l.indexed=!1),l}let s={type:"",name:"",state:{allowType:!0}},o=s;for(let a=0;a<t.length;a++){let l=t[a];switch(l){case"(":o.state.allowType&&o.type===""?o.type="tuple":o.state.allowParams||n(a),o.state.allowType=!1,o.type=qp(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),$b(o.type,o.name)&&(o.name=""),o.type=qp(o.type);let c=o;o=o.parent,o||n(a),delete c.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),$b(o.type,o.name)&&(o.name=""),o.type=qp(o.type);let u=i(o.parent);o.parent.components.push(u),delete o.parent,o=u;break;case" ":o.state.allowType&&o.type!==""&&(o.type=qp(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&o.name!==""&&(o.name==="indexed"?(e||n(a),o.indexed&&n(a),o.indexed=!0,o.name=""):$b(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(a),o.type+=l,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(a),o.type+=l,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=l,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=l,delete o.state.allowArray):o.state.readArray?o.type+=l:n(a)}}return o.parent&&Qt.throwArgumentError("unexpected eof","param",t),delete s.state,o.name==="indexed"?(e||n(r.length-7),o.indexed&&n(r.length-7),o.indexed=!0,o.name=""):$b(o.type,o.name)&&(o.name=""),s.type=qp(s.type),s}function Jv(t,e){for(let r in e)Fe(t,r,e[r])}const gr=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),pge=new RegExp(/^(.*)\[([0-9]*)\]$/);class ti{constructor(e,r){e!==kh&&Qt.throwError("use fromString",me.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),Jv(this,r);let n=this.type.match(pge);n?Jv(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:ti.fromObject({type:n[1],components:this.components}),baseType:"array"}):Jv(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=gr.sighash),gr[e]||Qt.throwArgumentError("invalid format type","format",e),e===gr.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let r="";return this.baseType==="array"?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==gr.sighash&&(r+=this.type),r+="("+this.components.map(n=>n.format(e)).join(e===gr.full?", ":",")+")"):r+=this.type,e!==gr.sighash&&(this.indexed===!0&&(r+=" indexed"),e===gr.full&&this.name&&(r+=" "+this.name)),r}static from(e,r){return typeof e=="string"?ti.fromString(e,r):ti.fromObject(e)}static fromObject(e){return ti.isParamType(e)?e:new ti(kh,{name:e.name||null,type:qp(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(ti.fromObject):null})}static fromString(e,r){function n(i){return ti.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(hge(e,!!r))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function Sy(t,e){return mge(t).map(r=>ti.fromString(r,e))}class lu{constructor(e,r){e!==kh&&Qt.throwError("use a static from method",me.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),Jv(this,r),this._isFragment=!0,Object.freeze(this)}static from(e){return lu.isFragment(e)?e:typeof e=="string"?lu.fromString(e):lu.fromObject(e)}static fromObject(e){if(lu.isFragment(e))return e;switch(e.type){case"function":return Bl.fromObject(e);case"event":return ru.fromObject(e);case"constructor":return Fl.fromObject(e);case"error":return Ad.fromObject(e);case"fallback":case"receive":return null}return Qt.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?ru.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?Bl.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?Fl.fromString(e.trim()):e.split(" ")[0]==="error"?Ad.fromString(e.substring(5).trim()):Qt.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class ru extends lu{format(e){if(e||(e=gr.sighash),gr[e]||Qt.throwArgumentError("invalid format type","format",e),e===gr.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==gr.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===gr.full?", ":",")+") ",e!==gr.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}static from(e){return typeof e=="string"?ru.fromString(e):ru.fromObject(e)}static fromObject(e){if(ru.isEventFragment(e))return e;e.type!=="event"&&Qt.throwArgumentError("invalid event object","value",e);const r={name:$y(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(ti.fromObject):[],type:"event"};return new ru(kh,r)}static fromString(e){let r=e.match(Iy);r||Qt.throwArgumentError("invalid event string","value",e);let n=!1;return r[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:Qt.warn("unknown modifier: "+i)}}),ru.fromObject({name:r[1].trim(),anonymous:n,inputs:Sy(r[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function rK(t,e){e.gas=null;let r=t.split("@");return r.length!==1?(r.length>2&&Qt.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||Qt.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=Re.from(r[1]),r[0]):t}function nK(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(r=>{switch(r.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+r)}})}function iK(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&Qt.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&Qt.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&Qt.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&Qt.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&Qt.throwArgumentError("unable to determine stateMutability","value",t),e}class Fl extends lu{format(e){if(e||(e=gr.sighash),gr[e]||Qt.throwArgumentError("invalid format type","format",e),e===gr.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===gr.sighash&&Qt.throwError("cannot format a constructor for sighash",me.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let r="constructor("+this.inputs.map(n=>n.format(e)).join(e===gr.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "),r.trim()}static from(e){return typeof e=="string"?Fl.fromString(e):Fl.fromObject(e)}static fromObject(e){if(Fl.isConstructorFragment(e))return e;e.type!=="constructor"&&Qt.throwArgumentError("invalid constructor object","value",e);let r=iK(e);r.constant&&Qt.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(ti.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?Re.from(e.gas):null};return new Fl(kh,n)}static fromString(e){let r={type:"constructor"};e=rK(e,r);let n=e.match(Iy);return(!n||n[1].trim()!=="constructor")&&Qt.throwArgumentError("invalid constructor string","value",e),r.inputs=Sy(n[2].trim(),!1),nK(n[3].trim(),r),Fl.fromObject(r)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class Bl extends Fl{format(e){if(e||(e=gr.sighash),gr[e]||Qt.throwArgumentError("invalid format type","format",e),e===gr.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==gr.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===gr.full?", ":",")+") ",e!==gr.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(r+="@"+this.gas.toString()+" ")),r.trim()}static from(e){return typeof e=="string"?Bl.fromString(e):Bl.fromObject(e)}static fromObject(e){if(Bl.isFunctionFragment(e))return e;e.type!=="function"&&Qt.throwArgumentError("invalid function object","value",e);let r=iK(e);const n={type:e.type,name:$y(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map(ti.fromObject):[],outputs:e.outputs?e.outputs.map(ti.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?Re.from(e.gas):null};return new Bl(kh,n)}static fromString(e){let r={type:"function"};e=rK(e,r);let n=e.split(" returns ");n.length>2&&Qt.throwArgumentError("invalid function string","value",e);let i=n[0].match(Iy);if(i||Qt.throwArgumentError("invalid function signature","value",e),r.name=i[1].trim(),r.name&&$y(r.name),r.inputs=Sy(i[2],!1),nK(i[3].trim(),r),n.length>1){let s=n[1].match(Iy);(s[1].trim()!=""||s[3].trim()!="")&&Qt.throwArgumentError("unexpected tokens","value",e),r.outputs=Sy(s[2],!1)}else r.outputs=[];return Bl.fromObject(r)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function kO(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&Qt.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class Ad extends lu{format(e){if(e||(e=gr.sighash),gr[e]||Qt.throwArgumentError("invalid format type","format",e),e===gr.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==gr.sighash&&(r+="error "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===gr.full?", ":",")+") ",r.trim()}static from(e){return typeof e=="string"?Ad.fromString(e):Ad.fromObject(e)}static fromObject(e){if(Ad.isErrorFragment(e))return e;e.type!=="error"&&Qt.throwArgumentError("invalid error object","value",e);const r={type:e.type,name:$y(e.name),inputs:e.inputs?e.inputs.map(ti.fromObject):[]};return kO(new Ad(kh,r))}static fromString(e){let r={type:"error"},n=e.match(Iy);return n||Qt.throwArgumentError("invalid error signature","value",e),r.name=n[1].trim(),r.name&&$y(r.name),r.inputs=Sy(n[2],!1),kO(Ad.fromObject(r))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function qp(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const gge=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function $y(t){return(!t||!t.match(gge))&&Qt.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const Iy=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function mge(t){t=t.trim();let e=[],r="",n=0;for(let i=0;i<t.length;i++){let s=t[i];s===","&&n===0?(e.push(r),r=""):(r+=s,s==="("?n++:s===")"&&(n--,n===-1&&Qt.throwArgumentError("unbalanced parenthesis","value",t)))}return r&&e.push(r),e}const ek=new me(X2);function yge(t){const e=[],r=function(n,i){if(Array.isArray(i))for(let s in i){const o=n.slice();o.push(s);try{r(o,i[s])}catch(a){e.push({path:o,error:a})}}};return r([],t),e}class Hu{constructor(e,r,n,i){this.name=e,this.type=r,this.localName=n,this.dynamic=i}_throwError(e,r){ek.throwArgumentError(e,this.localName,r)}}class RC{constructor(e){Fe(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return js(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(vo(e._data))}writeBytes(e){let r=vt(e);const n=r.length%this.wordSize;return n&&(r=vo([r,this._padding.slice(n)])),this._writeData(r)}_getValue(e){let r=vt(Re.from(e));return r.length>this.wordSize&&ek.throwError("value out-of-bounds",me.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=vo([this._padding.slice(r.length%this.wordSize),r])),r}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,r=>{this._data[e]=this._getValue(r)}}}class l5{constructor(e,r,n,i){Fe(this,"_data",vt(e)),Fe(this,"wordSize",r||32),Fe(this,"_coerceFunc",n),Fe(this,"allowLoose",i),this._offset=0}get data(){return dt(this._data)}get consumed(){return this._offset}static coerce(e,r){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(r=r.toNumber()),r}coerce(e,r){return this._coerceFunc?this._coerceFunc(e,r):l5.coerce(e,r)}_peekBytes(e,r,n){let i=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+r<=this._data.length?i=r:ek.throwError("data out-of-bounds",me.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new l5(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,r){let n=this._peekBytes(0,e,!!r);return this._offset+=n.length,n.slice(0,e)}readValue(){return Re.from(this.readBytes(this.wordSize))}}class wge extends Hu{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){try{r=Dt(r)}catch(n){this._throwError(n.message,r)}return e.writeValue(r)}decode(e){return Dt(Gr(e.readValue().toHexString(),20))}}class bge extends Hu{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}}const u0=new me(X2);function sK(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let l={};n=e.map(c=>{const u=c.localName;return u||u0.throwError("cannot encode object for signature with missing names",me.errors.INVALID_ARGUMENT,{argument:"values",coder:c,value:r}),l[u]&&u0.throwError("cannot encode object for signature with duplicate names",me.errors.INVALID_ARGUMENT,{argument:"values",coder:c,value:r}),l[u]=!0,r[u]})}else u0.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&u0.throwArgumentError("types/value length mismatch","tuple",r);let i=new RC(t.wordSize),s=new RC(t.wordSize),o=[];e.forEach((l,c)=>{let u=n[c];if(l.dynamic){let f=s.length;l.encode(s,u);let h=i.writeUpdatableValue();o.push(p=>{h(p+f)})}else l.encode(i,u)}),o.forEach(l=>{l(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(s),a}function oK(t,e){let r=[],n=t.subReader(0);e.forEach(s=>{let o=null;if(s.dynamic){let a=t.readValue(),l=n.subReader(a.toNumber());try{o=s.decode(l)}catch(c){if(c.code===me.errors.BUFFER_OVERRUN)throw c;o=c,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(t)}catch(a){if(a.code===me.errors.BUFFER_OVERRUN)throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}o!=null&&r.push(o)});const i=e.reduce((s,o)=>{const a=o.localName;return a&&(s[a]||(s[a]=0),s[a]++),s},{});e.forEach((s,o)=>{let a=s.localName;if(!a||i[a]!==1||(a==="length"&&(a="_length"),r[a]!=null))return;const l=r[o];l instanceof Error?Object.defineProperty(r,a,{enumerable:!0,get:()=>{throw l}}):r[a]=l});for(let s=0;s<r.length;s++){const o=r[s];o instanceof Error&&Object.defineProperty(r,s,{enumerable:!0,get:()=>{throw o}})}return Object.freeze(r)}class vge extends Hu{constructor(e,r,n){const i=e.type+"["+(r>=0?r:"")+"]",s=r===-1||e.dynamic;super("array",i,n,s),this.coder=e,this.length=r}defaultValue(){const e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;n===-1&&(n=r.length,e.writeValue(r.length)),u0.checkArgumentCount(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<r.length;s++)i.push(this.coder);return sK(e,i,r)}decode(e){let r=this.length;r===-1&&(r=e.readValue().toNumber(),r*32>e._data.length&&u0.throwError("insufficient data length",me.errors.BUFFER_OVERRUN,{length:e._data.length,count:r}));let n=[];for(let i=0;i<r;i++)n.push(new bge(this.coder));return e.coerce(this.name,oK(e,n))}}class xge extends Hu{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){return e.writeValue(r?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class aK extends Hu{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=vt(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class Ege extends aK{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,dt(super.decode(e)))}}class _ge extends Hu{constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=vt(r);return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return e.coerce(this.name,dt(e.readBytes(this.size)))}}class Cge extends Hu{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}class Age extends Hu{constructor(e,r,n){const i=(r?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=r}defaultValue(){return 0}encode(e,r){let n=Re.from(r),i=Ife.mask(e.wordSize*8);if(this.signed){let s=i.mask(this.size*8-1);(n.gt(s)||n.lt(s.add($fe).mul(Sfe)))&&this._throwError("value out-of-bounds",r)}else(n.lt(uV)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let r=e.readValue().mask(this.size*8);return this.signed&&(r=r.fromTwos(this.size*8)),e.coerce(this.name,r)}}class Sge extends aK{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,uc(r))}decode(e){return z1(super.decode(e))}}class Ib extends Hu{constructor(e,r){let n=!1;const i=[];e.forEach(o=>{o.dynamic&&(n=!0),i.push(o.type)});const s="tuple("+i.join(",")+")";super("tuple",s,r,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const r=this.coders.reduce((n,i)=>{const s=i.localName;return s&&(n[s]||(n[s]=0),n[s]++),n},{});return this.coders.forEach((n,i)=>{let s=n.localName;!s||r[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[i]))}),Object.freeze(e)}encode(e,r){return sK(e,this.coders,r)}decode(e){return e.coerce(this.name,oK(e,this.coders))}}const kb=new me(X2),$ge=new RegExp(/^bytes([0-9]*)$/),Ige=new RegExp(/^(u?int)([0-9]*)$/);class kge{constructor(e){Fe(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new wge(e.name);case"bool":return new xge(e.name);case"string":return new Sge(e.name);case"bytes":return new Ege(e.name);case"array":return new vge(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Ib((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new Cge(e.name)}let r=e.type.match(Ige);if(r){let n=parseInt(r[2]||"256");return(n===0||n>256||n%8!==0)&&kb.throwArgumentError("invalid "+r[1]+" bit length","param",e),new Age(n/8,r[1]==="int",e.name)}if(r=e.type.match($ge),r){let n=parseInt(r[1]);return(n===0||n>32)&&kb.throwArgumentError("invalid bytes length","param",e),new _ge(n,e.name)}return kb.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,r){return new l5(e,this._getWordSize(),this.coerceFunc,r)}_getWriter(){return new RC(this._getWordSize())}getDefaultValue(e){const r=e.map(i=>this._getCoder(ti.from(i)));return new Ib(r,"_").defaultValue()}encode(e,r){e.length!==r.length&&kb.throwError("types/values length mismatch",me.errors.INVALID_ARGUMENT,{count:{types:e.length,values:r.length},value:{types:e,values:r}});const n=e.map(o=>this._getCoder(ti.from(o))),i=new Ib(n,"_"),s=this._getWriter();return i.encode(s,r),s.data}decode(e,r,n){const i=e.map(o=>this._getCoder(ti.from(o)));return new Ib(i,"_").decode(this._getReader(vt(r),n))}}const Tge=new kge,Jr=new me(X2);class Nge extends G2{}class Pge extends G2{}class Rge extends G2{}class OC extends G2{static isIndexed(e){return!!(e&&e._isIndexed)}}const Oge={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function TO(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}class NO{constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,Fe(this,"fragments",r.map(n=>lu.from(n)).filter(n=>n!=null)),Fe(this,"_abiCoder",zl(new.target,"getAbiCoder")()),Fe(this,"functions",{}),Fe(this,"errors",{}),Fe(this,"events",{}),Fe(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){Jr.warn("duplicate definition - constructor");return}Fe(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let s=n.format();if(i[s]){Jr.warn("duplicate definition - "+s);return}i[s]=n}),this.deploy||Fe(this,"deploy",Fl.from({payable:!1,type:"constructor"})),Fe(this,"_isInterface",!0)}format(e){e||(e=gr.full),e===gr.sighash&&Jr.throwArgumentError("interface does not support formatting sighash","format",e);const r=this.fragments.map(n=>n.format(e));return e===gr.json?JSON.stringify(r.map(n=>JSON.parse(n))):r}static getAbiCoder(){return Tge}static getAddress(e){return Dt(e)}static getSighash(e){return Fi(c0(e.format()),0,4)}static getEventTopic(e){return c0(e.format())}getFunction(e){if(sr(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];Jr.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(s=>s.split("(")[0]===n);return i.length===0?Jr.throwArgumentError("no matching function","name",n):i.length>1&&Jr.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const r=this.functions[Bl.fromString(e).format()];return r||Jr.throwArgumentError("no matching function","signature",e),r}getEvent(e){if(sr(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];Jr.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(s=>s.split("(")[0]===n);return i.length===0?Jr.throwArgumentError("no matching event","name",n):i.length>1&&Jr.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const r=this.events[ru.fromString(e).format()];return r||Jr.throwArgumentError("no matching event","signature",e),r}getError(e){if(sr(e)){const n=zl(this.constructor,"getSighash");for(const i in this.errors){const s=this.errors[i];if(e===n(s))return this.errors[i]}Jr.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(s=>s.split("(")[0]===n);return i.length===0?Jr.throwArgumentError("no matching error","name",n):i.length>1&&Jr.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const r=this.errors[Bl.fromString(e).format()];return r||Jr.throwArgumentError("no matching error","signature",e),r}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(r){try{e=this.getError(e)}catch{throw r}}return zl(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),zl(this.constructor,"getEventTopic")(e)}_decodeParams(e,r){return this._abiCoder.decode(e,r)}_encodeParams(e,r){return this._abiCoder.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){typeof e=="string"&&(e=this.getError(e));const n=vt(r);return dt(n.slice(0,4))!==this.getSighash(e)&&Jr.throwArgumentError(`data signature does not match error ${e.name}.`,"data",dt(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,r){return typeof e=="string"&&(e=this.getError(e)),dt(vo([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionData(e,r){typeof e=="string"&&(e=this.getFunction(e));const n=vt(r);return dt(n.slice(0,4))!==this.getSighash(e)&&Jr.throwArgumentError(`data signature does not match function ${e.name}.`,"data",dt(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,r){return typeof e=="string"&&(e=this.getFunction(e)),dt(vo([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionResult(e,r){typeof e=="string"&&(e=this.getFunction(e));let n=vt(r),i=null,s="",o=null,a=null,l=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const c=dt(n.slice(0,4)),u=Oge[c];if(u)o=this._abiCoder.decode(u.inputs,n.slice(4)),a=u.name,l=u.signature,u.reason&&(i=o[0]),a==="Error"?s=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}`:a==="Panic"&&(s=`; VM Exception while processing transaction: reverted with panic code ${o[0]}`);else try{const f=this.getError(c);o=this._abiCoder.decode(f.inputs,n.slice(4)),a=f.name,l=f.format()}catch{}break}}return Jr.throwError("call revert exception"+s,me.errors.CALL_EXCEPTION,{method:e.format(),data:dt(r),errorArgs:o,errorName:a,errorSignature:l,reason:i})}encodeFunctionResult(e,r){return typeof e=="string"&&(e=this.getFunction(e)),dt(this._abiCoder.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){typeof e=="string"&&(e=this.getEvent(e)),r.length>e.inputs.length&&Jr.throwError("too many arguments for "+e.format(),me.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=(s,o)=>s.type==="string"?c0(o):s.type==="bytes"?On(dt(o)):(s.type==="bool"&&typeof o=="boolean"&&(o=o?"0x01":"0x00"),s.type.match(/^u?int/)&&(o=Re.from(o).toHexString()),s.type==="address"&&this._abiCoder.encode(["address"],[o]),Gr(dt(o),32));for(r.forEach((s,o)=>{let a=e.inputs[o];if(!a.indexed){s!=null&&Jr.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?Jr.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?n.push(s.map(l=>i(a,l))):n.push(i(a,s))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],s=[];return e.anonymous||n.push(this.getEventTopic(e)),r.length!==e.inputs.length&&Jr.throwArgumentError("event arguments/values mismatch","values",r),e.inputs.forEach((o,a)=>{const l=r[a];if(o.indexed)if(o.type==="string")n.push(c0(l));else if(o.type==="bytes")n.push(On(l));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([o.type],[l]))}else i.push(o),s.push(l)}),{data:this._abiCoder.encode(i,s),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let h=this.getEventTopic(e);(!sr(n[0],32)||n[0].toLowerCase()!==h)&&Jr.throwError("fragment/topic mismatch",me.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:h,value:n[0]}),n=n.slice(1)}let i=[],s=[],o=[];e.inputs.forEach((h,p)=>{h.indexed?h.type==="string"||h.type==="bytes"||h.baseType==="tuple"||h.baseType==="array"?(i.push(ti.fromObject({type:"bytes32",name:h.name})),o.push(!0)):(i.push(h),o.push(!1)):(s.push(h),o.push(!1))});let a=n!=null?this._abiCoder.decode(i,vo(n)):null,l=this._abiCoder.decode(s,r,!0),c=[],u=0,f=0;e.inputs.forEach((h,p)=>{if(h.indexed)if(a==null)c[p]=new OC({_isIndexed:!0,hash:null});else if(o[p])c[p]=new OC({_isIndexed:!0,hash:a[f++]});else try{c[p]=a[f++]}catch(g){c[p]=g}else try{c[p]=l[u++]}catch(g){c[p]=g}if(h.name&&c[h.name]==null){const g=c[p];g instanceof Error?Object.defineProperty(c,h.name,{enumerable:!0,get:()=>{throw TO(`property ${JSON.stringify(h.name)}`,g)}}):c[h.name]=g}});for(let h=0;h<c.length;h++){const p=c[h];p instanceof Error&&Object.defineProperty(c,h,{enumerable:!0,get:()=>{throw TO(`index ${h}`,p)}})}return Object.freeze(c)}parseTransaction(e){let r=this.getFunction(e.data.substring(0,10).toLowerCase());return r?new Pge({args:this._abiCoder.decode(r.inputs,"0x"+e.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:Re.from(e.value||"0")}):null}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new Nge({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,e.data,e.topics)})}parseError(e){const r=dt(e);let n=this.getError(r.substring(0,10).toLowerCase());return n?new Rge({args:this._abiCoder.decode(n.inputs,"0x"+r.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const jge="contracts/5.8.0";var Th=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const hn=new me(jge);function c5(t,e){return Th(this,void 0,void 0,function*(){const r=yield e;typeof r!="string"&&hn.throwArgumentError("invalid address or ENS name","name",r);try{return Dt(r)}catch{}t||hn.throwError("a provider or signer is needed to resolve ENS names",me.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield t.resolveName(r);return n==null&&hn.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n})}function Qv(t,e,r){return Th(this,void 0,void 0,function*(){return Array.isArray(r)?yield Promise.all(r.map((n,i)=>Qv(t,Array.isArray(e)?e[i]:e[n.name],n))):r.type==="address"?yield c5(t,e):r.type==="tuple"?yield Qv(t,e,r.components):r.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>Qv(t,n,r.arrayChildren))):Promise.reject(hn.makeError("invalid value for array",me.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function e4(t,e,r){return Th(this,void 0,void 0,function*(){let n={};r.length===e.inputs.length+1&&typeof r[r.length-1]=="object"&&(n=Mn(r.pop())),hn.checkArgumentCount(r.length,e.inputs.length,"passed to contract"),t.signer?n.from?n.from=vn({override:c5(t.signer,n.from),signer:t.signer.getAddress()}).then(c=>Th(this,void 0,void 0,function*(){return Dt(c.signer)!==c.override&&hn.throwError("Contract with a Signer cannot override from",me.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),c.override})):n.from=t.signer.getAddress():n.from&&(n.from=c5(t.provider,n.from));const i=yield vn({args:Qv(t.signer||t.provider,r,e.inputs),address:t.resolvedAddress,overrides:vn(n)||{}}),s=t.interface.encodeFunctionData(e,i.args),o={data:s,to:i.address},a=i.overrides;if(a.nonce!=null&&(o.nonce=Re.from(a.nonce).toNumber()),a.gasLimit!=null&&(o.gasLimit=Re.from(a.gasLimit)),a.gasPrice!=null&&(o.gasPrice=Re.from(a.gasPrice)),a.maxFeePerGas!=null&&(o.maxFeePerGas=Re.from(a.maxFeePerGas)),a.maxPriorityFeePerGas!=null&&(o.maxPriorityFeePerGas=Re.from(a.maxPriorityFeePerGas)),a.from!=null&&(o.from=a.from),a.type!=null&&(o.type=a.type),a.accessList!=null&&(o.accessList=K1(a.accessList)),o.gasLimit==null&&e.gas!=null){let c=21e3;const u=vt(s);for(let f=0;f<u.length;f++)c+=4,u[f]&&(c+=64);o.gasLimit=Re.from(e.gas).add(c)}if(a.value){const c=Re.from(a.value);!c.isZero()&&!e.payable&&hn.throwError("non-payable method cannot override value",me.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),o.value=c}a.customData&&(o.customData=Mn(a.customData)),a.ccipReadEnabled&&(o.ccipReadEnabled=!!a.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const l=Object.keys(n).filter(c=>n[c]!=null);return l.length&&hn.throwError(`cannot override ${l.map(c=>JSON.stringify(c)).join(",")}`,me.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:l}),o})}function Mge(t,e){return function(...r){return e4(t,e,r)}}function Dge(t,e){const r=t.signer||t.provider;return function(...n){return Th(this,void 0,void 0,function*(){r||hn.throwError("estimate require a provider or signer",me.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield e4(t,e,n);return yield r.estimateGas(i)})}}function Lge(t,e){const r=e.wait.bind(e);e.wait=n=>r(n).then(i=>(i.events=i.logs.map(s=>{let o=Au(s),a=null;try{a=t.interface.parseLog(s)}catch{}return a&&(o.args=a.args,o.decode=(l,c)=>t.interface.decodeEventLog(a.eventFragment,l,c),o.event=a.name,o.eventSignature=a.signature),o.removeListener=()=>t.provider,o.getBlock=()=>t.provider.getBlock(i.blockHash),o.getTransaction=()=>t.provider.getTransaction(i.transactionHash),o.getTransactionReceipt=()=>Promise.resolve(i),o}),i))}function lK(t,e,r){const n=t.signer||t.provider;return function(...i){return Th(this,void 0,void 0,function*(){let s;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const l=Mn(i.pop());l.blockTag!=null&&(s=yield l.blockTag),delete l.blockTag,i.push(l)}t.deployTransaction!=null&&(yield t._deployed(s));const o=yield e4(t,e,i),a=yield n.call(o,s);try{let l=t.interface.decodeFunctionResult(e,a);return r&&e.outputs.length===1&&(l=l[0]),l}catch(l){throw l.code===me.errors.CALL_EXCEPTION&&(l.address=t.address,l.args=i,l.transaction=o),l}})}}function Fge(t,e){return function(...r){return Th(this,void 0,void 0,function*(){t.signer||hn.throwError("sending a transaction requires a signer",me.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),t.deployTransaction!=null&&(yield t._deployed());const n=yield e4(t,e,r),i=yield t.signer.sendTransaction(n);return Lge(t,i),i})}}function PO(t,e,r){return e.constant?lK(t,e,r):Fge(t,e)}function cK(t){return t.address&&(t.topics==null||t.topics.length===0)?"*":(t.address||"*")+"@"+(t.topics?t.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class ky{constructor(e,r){Fe(this,"tag",e),Fe(this,"filter",r),this._listeners=[]}addListener(e,r){this._listeners.push({listener:e,once:r})}removeListener(e){let r=!1;this._listeners=this._listeners.filter(n=>r||n.listener!==e?!0:(r=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const r=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const i=e.slice();return setTimeout(()=>{n.listener.apply(this,i)},0),!n.once}),r}prepareEvent(e){}getEmit(e){return[e]}}class Bge extends ky{constructor(){super("error",null)}}class RO extends ky{constructor(e,r,n,i){const s={address:e};let o=r.getEventTopic(n);i?(o!==i[0]&&hn.throwArgumentError("topic mismatch","topics",i),s.topics=i.slice()):s.topics=[o],super(cK(s),s),Fe(this,"address",e),Fe(this,"interface",r),Fe(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(r,n)=>this.interface.decodeEventLog(this.fragment,r,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(r){e.args=null,e.decodeError=r}}getEmit(e){const r=yge(e.args);if(r.length)throw r[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class OO extends ky{constructor(e,r){super("*",{address:e}),Fe(this,"address",e),Fe(this,"interface",r)}prepareEvent(e){super.prepareEvent(e);try{const r=this.interface.parseLog(e);e.event=r.name,e.eventSignature=r.signature,e.decode=(n,i)=>this.interface.decodeEventLog(r.eventFragment,n,i),e.args=r.args}catch{}}}class Uge{constructor(e,r,n){Fe(this,"interface",zl(new.target,"getInterface")(r)),n==null?(Fe(this,"provider",null),Fe(this,"signer",null)):Z2.isSigner(n)?(Fe(this,"provider",n.provider||null),Fe(this,"signer",n)):V6.isProvider(n)?(Fe(this,"provider",n),Fe(this,"signer",null)):hn.throwArgumentError("invalid signer or provider","signerOrProvider",n),Fe(this,"callStatic",{}),Fe(this,"estimateGas",{}),Fe(this,"functions",{}),Fe(this,"populateTransaction",{}),Fe(this,"filters",{});{const o={};Object.keys(this.interface.events).forEach(a=>{const l=this.interface.events[a];Fe(this.filters,a,(...c)=>({address:this.address,topics:this.interface.encodeFilterTopics(l,c)})),o[l.name]||(o[l.name]=[]),o[l.name].push(a)}),Object.keys(o).forEach(a=>{const l=o[a];l.length===1?Fe(this.filters,a,this.filters[l[0]]):hn.warn(`Duplicate definition of ${a} (${l.join(", ")})`)})}if(Fe(this,"_runningEvents",{}),Fe(this,"_wrappedEmits",{}),e==null&&hn.throwArgumentError("invalid contract address or ENS name","addressOrName",e),Fe(this,"address",e),this.provider)Fe(this,"resolvedAddress",c5(this.provider,e));else try{Fe(this,"resolvedAddress",Promise.resolve(Dt(e)))}catch{hn.throwError("provider is required to use ENS name as contract address",me.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(o=>{});const i={},s={};Object.keys(this.interface.functions).forEach(o=>{const a=this.interface.functions[o];if(s[o]){hn.warn(`Duplicate ABI entry for ${JSON.stringify(o)}`);return}s[o]=!0;{const l=a.name;i[`%${l}`]||(i[`%${l}`]=[]),i[`%${l}`].push(o)}this[o]==null&&Fe(this,o,PO(this,a,!0)),this.functions[o]==null&&Fe(this.functions,o,PO(this,a,!1)),this.callStatic[o]==null&&Fe(this.callStatic,o,lK(this,a,!0)),this.populateTransaction[o]==null&&Fe(this.populateTransaction,o,Mge(this,a)),this.estimateGas[o]==null&&Fe(this.estimateGas,o,Dge(this,a))}),Object.keys(i).forEach(o=>{const a=i[o];if(a.length>1)return;o=o.substring(1);const l=a[0];try{this[o]==null&&Fe(this,o,this[l])}catch{}this.functions[o]==null&&Fe(this.functions,o,this.functions[l]),this.callStatic[o]==null&&Fe(this.callStatic,o,this.callStatic[l]),this.populateTransaction[o]==null&&Fe(this.populateTransaction,o,this.populateTransaction[l]),this.estimateGas[o]==null&&Fe(this.estimateGas,o,this.estimateGas[l])})}static getContractAddress(e){return iV(e)}static getInterface(e){return NO.isInterface(e)?e:new NO(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(r=>(r==="0x"&&hn.throwError("contract not deployed",me.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||hn.throwError("sending a transactions require a signer",me.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const r=Mn(e||{});return["from","to"].forEach(function(n){r[n]!=null&&hn.throwError("cannot override "+n,me.errors.UNSUPPORTED_OPERATION,{operation:n})}),r.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(r))}connect(e){typeof e=="string"&&(e=new Q6(e,this.provider));const r=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&Fe(r,"deployTransaction",this.deployTransaction),r}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return OC.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new Bge);if(e==="event")return this._normalizeRunningEvent(new ky("event",null));if(e==="*")return this._normalizeRunningEvent(new OO(this.address,this.interface));const r=this.interface.getEvent(e);return this._normalizeRunningEvent(new RO(this.address,this.interface,r))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const i=this.interface.getEvent(n);return this._normalizeRunningEvent(new RO(this.address,this.interface,i,e.topics))}catch{}const r={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new ky(cK(r),r))}return this._normalizeRunningEvent(new OO(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const r=this._wrappedEmits[e.tag];r&&e.filter&&(this.provider.off(e.filter,r),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,r,n){const i=Au(r);return i.removeListener=()=>{n&&(e.removeListener(n),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(r.blockHash),i.getTransaction=()=>this.provider.getTransaction(r.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(r.transactionHash),e.prepareEvent(i),i}_addEventListener(e,r,n){if(this.provider||hn.throwError("events require a provider or a signer with a provider",me.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(r,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=s=>{let o=this._wrapEvent(e,s,r);if(o.decodeError==null)try{const a=e.getEmit(o);this.emit(e.filter,...a)}catch(a){o.decodeError=a.error}e.filter!=null&&this.emit("event",o),o.decodeError!=null&&this.emit("error",o.decodeError,o)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,r,n){const i=this._getRunningEvent(e),s=Mn(i.filter);return typeof r=="string"&&sr(r,32)?(n!=null&&hn.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),s.blockHash=r):(s.fromBlock=r??0,s.toBlock=n??"latest"),this.provider.getLogs(s).then(o=>o.map(a=>this._wrapEvent(i,a,null)))}on(e,r){return this._addEventListener(this._getRunningEvent(e),r,!1),this}once(e,r){return this._addEventListener(this._getRunningEvent(e),r,!0),this}emit(e,...r){if(!this.provider)return!1;const n=this._getRunningEvent(e),i=n.run(r)>0;return this._checkRunningEvents(n),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((r,n)=>r+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const r=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(i=>{r.push(i)});return r}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const i=this._runningEvents[n];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const r=this._getRunningEvent(e);return r.removeAllListeners(),this._checkRunningEvents(r),this}off(e,r){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(r),this._checkRunningEvents(n),this}removeListener(e,r){return this.off(e,r)}}class Wge extends Uge{}const zge="units/5.8.0",Hge=new me(zge),uK=["wei","kwei","mwei","gwei","szabo","finney","ether"];function dK(t,e){if(typeof e=="string"){const r=uK.indexOf(e);r!==-1&&(e=3*r)}return Hv(t,e??18)}function jO(t,e){if(typeof t!="string"&&Hge.throwArgumentError("value must be a string","value",t),typeof e=="string"){const r=uK.indexOf(e);r!==-1&&(e=3*r)}return El(t,e??18)}function fK(t){return dK(t,18)}function MO(t,e){t=t.split("-"),e=e.split("-");for(var r=t[0].split("."),n=e[0].split("."),i=0;i<3;i++){var s=Number(r[i]),o=Number(n[i]);if(s>o)return 1;if(o>s)return-1;if(!isNaN(s)&&isNaN(o))return 1;if(isNaN(s)&&!isNaN(o))return-1}return t[1]&&e[1]?t[1]>e[1]?1:t[1]<e[1]?-1:0:!t[1]&&e[1]?1:t[1]&&!e[1]?-1:0}var qge={}.constructor;function uh(t){return t!=null&&t.constructor===qge}function l1(t){"@babel/helpers - typeof";return l1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l1(t)}function t4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vge(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Gge(n.key),n)}}function r4(t,e,r){return e&&Vge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gge(t){var e=Kge(t,"string");return l1(e)=="symbol"?e:e+""}function Kge(t,e){if(l1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(l1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yge="1.2.0",Zge="1.7.35",DO=" ext. ",Jge=/^\d+$/,Ln=function(){function t(e){t4(this,t),hK(e),this.metadata=e,pK.call(this,e)}return r4(t,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(r){return r!=="001"})}},{key:"getCountryMetadata",value:function(r){return this.metadata.countries[r]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(r){return this.getCountryMetadata(r)!==void 0}},{key:"hasCallingCode",value:function(r){if(this.getCountryCodesForCallingCode(r))return!0;if(this.nonGeographic()){if(this.nonGeographic()[r])return!0}else{var n=this.countryCallingCodes()[r];if(n&&n.length===1&&n[0]==="001")return!0}}},{key:"isNonGeographicCallingCode",value:function(r){return this.nonGeographic()?!!this.nonGeographic()[r]:!this.getCountryCodesForCallingCode(r)}},{key:"country",value:function(r){return this.selectNumberingPlan(r)}},{key:"selectNumberingPlan",value:function(r,n){if(r&&Jge.test(r)&&(n=r,r=null),r&&r!=="001"){if(!this.hasCountry(r))throw new Error("Unknown country: ".concat(r));this.numberingPlan=new LO(this.getCountryMetadata(r),this)}else if(n){if(!this.hasCallingCode(n))throw new Error("Unknown calling code: ".concat(n));this.numberingPlan=new LO(this.getNumberingPlanMetadata(n),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(r){var n=this.countryCallingCodes()[r];if(n)return n.length===1&&n[0].length===3?void 0:n}},{key:"getCountryCodeForCallingCode",value:function(r){var n=this.getCountryCodesForCallingCode(r);if(n)return n[0]}},{key:"getNumberingPlanMetadata",value:function(r){var n=this.getCountryCodeForCallingCode(r);if(n)return this.getCountryMetadata(n);if(this.nonGeographic()){var i=this.nonGeographic()[r];if(i)return i}else{var s=this.countryCallingCodes()[r];if(s&&s.length===1&&s[0]==="001")return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(r){return this.numberingPlan.type(r)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(r){return this.selectNumberingPlan(r)}},{key:"hasSelectedNumberingPlan",value:function(){return this.numberingPlan!==void 0}}])}(),LO=function(){function t(e,r){t4(this,t),this.globalMetadataObject=r,this.metadata=e,pK.call(this,r.metadata)}return r4(t,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(r){return r[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var r=this,n=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return n.map(function(i){return new Qge(i,r)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(r){return r[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return this.types()&&this.types().length===0?!1:!!this.types()}},{key:"type",value:function(r){if(this.hasTypes()&&FO(this.types(),r))return new eme(FO(this.types(),r),this)}},{key:"ext",value:function(){return this.v1||this.v2?DO:this.metadata[13]||DO}}])}(),Qge=function(){function t(e,r){t4(this,t),this._format=e,this.metadata=r}return r4(t,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!!(this.nationalPrefixFormattingRule()&&!Xge.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}])}(),Xge=/^\(?\$1\)?$/,eme=function(){function t(e,r){t4(this,t),this.type=e,this.metadata=r}return r4(t,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}])}();function FO(t,e){switch(e){case"FIXED_LINE":return t[0];case"MOBILE":return t[1];case"TOLL_FREE":return t[2];case"PREMIUM_RATE":return t[3];case"PERSONAL_NUMBER":return t[4];case"VOICEMAIL":return t[5];case"UAN":return t[6];case"PAGER":return t[7];case"VOIP":return t[8];case"SHARED_COST":return t[9]}}function hK(t){if(!t)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!uh(t)||!uh(t.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(uh(t)?"an object of shape: { "+Object.keys(t).join(", ")+" }":"a "+tme(t)+": "+t,"."))}var tme=function(e){return l1(e)};function n4(t,e){if(e=new Ln(e),e.hasCountry(t))return e.selectNumberingPlan(t).countryCallingCode();throw new Error("Unknown country: ".concat(t))}function rme(t,e){return e.countries.hasOwnProperty(t)}function pK(t){var e=t.version;typeof e=="number"?(this.v1=e===1,this.v2=e===2,this.v3=e===3,this.v4=e===4):e?MO(e,Yge)===-1?this.v2=!0:MO(e,Zge)===-1?this.v3=!0:this.v4=!0:this.v1=!0}function i4(t,e,r){return nme(t,e,void 0,r)}function nme(t,e,r,n){e&&(n=new Ln(n.metadata),n.selectNumberingPlan(e));var i=n.type(r),s=i&&i.possibleLengths()||n.possibleLengths();if(!s)return"IS_POSSIBLE";var o=t.length,a=s[0];return a===o?"IS_POSSIBLE":a>o?"TOO_SHORT":s[s.length-1]<o?"TOO_LONG":s.indexOf(o,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function ime(t,e,r){if(e===void 0&&(e={}),r=new Ln(r),e.v2){if(!t.countryCallingCode)throw new Error("Invalid phone number object passed");r.selectNumberingPlan(t.countryCallingCode)}else{if(!t.phone)return!1;if(t.country){if(!r.hasCountry(t.country))throw new Error("Unknown country: ".concat(t.country));r.selectNumberingPlan(t.country)}else{if(!t.countryCallingCode)throw new Error("Invalid phone number object passed");r.selectNumberingPlan(t.countryCallingCode)}}if(r.possibleLengths())return gK(t.phone||t.nationalNumber,t.country,r);if(t.countryCallingCode&&r.isNonGeographicCallingCode(t.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}function gK(t,e,r){switch(i4(t,e,r)){case"IS_POSSIBLE":return!0;default:return!1}}function Iu(t,e){return t=t||"",new RegExp("^(?:"+e+")$").test(t)}function sme(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=ome(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ome(t,e){if(t){if(typeof t=="string")return BO(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?BO(t,e):void 0}}function BO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var ame=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function tk(t,e,r){if(e=e||{},!(!t.country&&!t.countryCallingCode)){r=new Ln(r),r.selectNumberingPlan(t.country,t.countryCallingCode);var n=e.v2?t.nationalNumber:t.phone;if(Iu(n,r.nationalNumberPattern())){if(mE(n,"FIXED_LINE",r))return r.type("MOBILE")&&r.type("MOBILE").pattern()===""||!r.type("MOBILE")||mE(n,"MOBILE",r)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE";for(var i=sme(ame),s;!(s=i()).done;){var o=s.value;if(mE(n,o,r))return o}}}}function mE(t,e,r){return e=r.type(e),!e||!e.pattern()||e.possibleLengths()&&e.possibleLengths().indexOf(t.length)<0?!1:Iu(t,e.pattern())}function lme(t,e,r){if(e=e||{},r=new Ln(r),r.selectNumberingPlan(t.country,t.countryCallingCode),r.hasTypes())return tk(t,e,r.metadata)!==void 0;var n=e.v2?t.nationalNumber:t.phone;return Iu(n,r.nationalNumberPattern())}function cme(t,e,r){var n=new Ln(r),i=n.getCountryCodesForCallingCode(t);return i?i.filter(function(s){return ume(e,s,r)}):[]}function ume(t,e,r){var n=new Ln(r);return n.selectNumberingPlan(e),n.numberingPlan.possibleLengths().indexOf(t.length)>=0}var rk=2,dme=17,fme=3,ps="0-9---",hme="--",pme="/",gme=".",mme=" ",yme="()\\[\\]",wme="~",Ga="".concat(hme).concat(pme).concat(gme).concat(mme).concat(yme).concat(wme),s4="+",bme=new RegExp("(["+ps+"])");function mK(t,e,r,n){if(e){var i=new Ln(n);i.selectNumberingPlan(e,r);var s=new RegExp(i.IDDPrefix());if(t.search(s)===0){t=t.slice(t.match(s)[0].length);var o=t.match(bme);if(!(o&&o[1]!=null&&o[1].length>0&&o[1]==="0"))return t}}}function jC(t,e){if(t&&e.numberingPlan.nationalPrefixForParsing()){var r=new RegExp("^(?:"+e.numberingPlan.nationalPrefixForParsing()+")"),n=r.exec(t);if(n){var i,s,o=n.length-1,a=o>0&&n[o];if(e.nationalPrefixTransformRule()&&a)i=t.replace(r,e.nationalPrefixTransformRule()),o>1&&(s=n[1]);else{var l=n[0];i=t.slice(l.length),a&&(s=n[1])}var c;if(a){var u=t.indexOf(n[1]),f=t.slice(0,u);f===e.numberingPlan.nationalPrefix()&&(c=e.numberingPlan.nationalPrefix())}else c=n[0];return{nationalNumber:i,nationalPrefix:c,carrierCode:s}}}return{nationalNumber:t}}function vme(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=xme(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xme(t,e){if(t){if(typeof t=="string")return UO(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?UO(t,e):void 0}}function UO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function yK(t,e){var r=e.countries,n=e.metadata;n=new Ln(n);for(var i=vme(r),s;!(s=i()).done;){var o=s.value;if(n.selectNumberingPlan(o),n.leadingDigits()){if(t&&t.search(n.leadingDigits())===0)return o}else if(tk({phone:t,country:o},void 0,n.metadata))return o}}function nk(t,e){var r=e.nationalNumber,n=e.metadata,i=n.getCountryCodesForCallingCode(t);if(i)return i.length===1?i[0]:yK(r,{countries:i,metadata:n.metadata})}function MC(t,e,r){var n=jC(t,r),i=n.carrierCode,s=n.nationalNumber;if(s!==t){if(!Eme(t,s,r))return{nationalNumber:t};if(r.numberingPlan.possibleLengths()&&(e||(e=nk(r.numberingPlan.callingCode(),{nationalNumber:s,metadata:r})),!_me(s,e,r)))return{nationalNumber:t}}return{nationalNumber:s,carrierCode:i}}function Eme(t,e,r){return!(Iu(t,r.nationalNumberPattern())&&!Iu(e,r.nationalNumberPattern()))}function _me(t,e,r){switch(i4(t,e,r)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}function wK(t,e,r,n,i){var s=e||r?n4(e||r,i):n;if(t.indexOf(s)===0){i=new Ln(i),i.selectNumberingPlan(e||r,s);var o=t.slice(s.length),a=MC(o,e,i),l=a.nationalNumber,c=MC(t,e,i),u=c.nationalNumber;if(!Iu(u,i.nationalNumberPattern())&&Iu(l,i.nationalNumberPattern())||i4(u,e,i)==="TOO_LONG")return{countryCallingCode:s,number:o}}return{number:t}}function ik(t,e,r,n,i){if(!t)return{};var s;if(t[0]!=="+"){var o=mK(t,e||r,n,i);if(o&&o!==t)s=!0,t="+"+o;else{if(e||r||n){var a=wK(t,e,r,n,i),l=a.countryCallingCode,c=a.number;if(l)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:l,number:c}}return{number:t}}}if(t[1]==="0")return{};i=new Ln(i);for(var u=2;u-1<=fme&&u<=t.length;){var f=t.slice(1,u);if(i.hasCallingCode(f))return i.selectNumberingPlan(f),{countryCallingCodeSource:s?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:f,number:t.slice(u)};u++}return{}}function bK(t){return t.replace(new RegExp("[".concat(Ga,"]+"),"g")," ").trim()}var vK=/(\$\d)/;function xK(t,e,r){var n=r.useInternationalFormat,i=r.withNationalPrefix;r.carrierCode,r.metadata;var s=t.replace(new RegExp(e.pattern()),n?e.internationalFormat():i&&e.nationalPrefixFormattingRule()?e.format().replace(vK,e.nationalPrefixFormattingRule()):e.format());return n?bK(s):s}var Cme=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function Ame(t,e,r){var n=new Ln(r);if(n.selectNumberingPlan(t,e),n.defaultIDDPrefix())return n.defaultIDDPrefix();if(Cme.test(n.IDDPrefix()))return n.IDDPrefix()}var Sme=";ext=",Sp=function(e){return"([".concat(ps,"]{1,").concat(e,"})")};function EK(t){var e="20",r="15",n="9",i="6",s="[ \\t,]*",o="[:\\.]?[ \\t,-]*",a="#?",l="(?:e?xt(?:ensi(?:o?|))?n?|??||anexo)",c="(?:[x#~]|int|)",u="[- ]+",f="[ \\t]*",h="(?:,{2}|;)",p=Sme+Sp(e),g=s+l+o+Sp(e)+a,m=s+c+o+Sp(n)+a,w=u+Sp(i)+"#",y=f+h+o+Sp(r)+a,E=f+"(?:,)+"+o+Sp(n)+a;return p+"|"+g+"|"+m+"|"+w+"|"+y+"|"+E}var $me="["+ps+"]{"+rk+"}",Ime="["+s4+"]{0,1}(?:["+Ga+"]*["+ps+"]){3,}["+Ga+ps+"]*",kme=new RegExp("^["+s4+"]{0,1}(?:["+Ga+"]*["+ps+"]){1,2}$","i"),Tme=Ime+"(?:"+EK()+")?",Nme=new RegExp("^"+$me+"$|^"+Tme+"$","i");function Pme(t){return t.length>=rk&&Nme.test(t)}function Rme(t){return kme.test(t)}function Ome(t){var e=t.number,r=t.ext;if(!e)return"";if(e[0]!=="+")throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(e).concat(r?";ext="+r:"")}var WO={formatExtension:function(e,r,n){return"".concat(e).concat(n.ext()).concat(r)}};function jme(t,e,r,n){if(r?r=Lme({},WO,r):r=WO,n=new Ln(n),t.country&&t.country!=="001"){if(!n.hasCountry(t.country))throw new Error("Unknown country: ".concat(t.country));n.selectNumberingPlan(t.country)}else if(t.countryCallingCode)n.selectNumberingPlan(t.countryCallingCode);else return t.phone||"";var i=n.countryCallingCode(),s=r.v2?t.nationalNumber:t.phone,o;switch(e){case"NATIONAL":return s?(o=u5(s,t.carrierCode,"NATIONAL",n,r),yE(o,t.ext,n,r.formatExtension)):"";case"INTERNATIONAL":return s?(o=u5(s,null,"INTERNATIONAL",n,r),o="+".concat(i," ").concat(o),yE(o,t.ext,n,r.formatExtension)):"+".concat(i);case"E.164":return"+".concat(i).concat(s);case"RFC3966":return Ome({number:"+".concat(i).concat(s),ext:t.ext});case"IDD":if(!r.fromCountry)return;var a=Dme(s,t.carrierCode,i,r.fromCountry,n);return yE(a,t.ext,n,r.formatExtension);default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(e,'"'))}}function u5(t,e,r,n,i){var s=Mme(n.formats(),t);return s?xK(t,s,{useInternationalFormat:r==="INTERNATIONAL",withNationalPrefix:!(s.nationalPrefixIsOptionalWhenFormattingInNationalFormat()&&i&&i.nationalPrefix===!1),carrierCode:e,metadata:n}):t}function Mme(t,e){return Fme(t,function(r){if(r.leadingDigitsPatterns().length>0){var n=r.leadingDigitsPatterns()[r.leadingDigitsPatterns().length-1];if(e.search(n)!==0)return!1}return Iu(e,r.pattern())})}function yE(t,e,r,n){return e?n(t,e,r):t}function Dme(t,e,r,n,i){var s=n4(n,i.metadata);if(s===r){var o=u5(t,e,"NATIONAL",i);return r==="1"?r+" "+o:o}var a=Ame(n,void 0,i.metadata);if(a)return"".concat(a," ").concat(r," ").concat(u5(t,null,"INTERNATIONAL",i))}function Lme(){for(var t=1,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(;t<r.length;){if(r[t])for(var i in r[t])r[0][i]=r[t][i];t++}return r[0]}function Fme(t,e){for(var r=0;r<t.length;){if(e(t[r]))return t[r];r++}}function Ty(t){"@babel/helpers - typeof";return Ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ty(t)}function zO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function HO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zO(Object(r),!0).forEach(function(n){Bme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bme(t,e,r){return(e=_K(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ume(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wme(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_K(n.key),n)}}function zme(t,e,r){return e&&Wme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _K(t){var e=Hme(t,"string");return Ty(e)=="symbol"?e:e+""}function Hme(t,e){if(Ty(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ty(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sk=function(){function t(e,r,n){if(Ume(this,t),!e)throw new TypeError("First argument is required");if(typeof e!="string")throw new TypeError("First argument must be a string");if(e[0]==="+"&&!r)throw new TypeError("`metadata` argument not passed");if(uh(r)&&uh(r.countries)){n=r;var i=e;if(!Gme.test(i))throw new Error('Invalid `number` argument passed: must consist of a "+" followed by digits');var s=ik(i,void 0,void 0,void 0,n),o=s.countryCallingCode,a=s.number;if(r=a,e=o,!r)throw new Error("Invalid `number` argument passed: too short")}if(!r)throw new TypeError("`nationalNumber` argument is required");if(typeof r!="string")throw new TypeError("`nationalNumber` argument must be a string");hK(n);var l=Vme(e,n),c=l.country,u=l.countryCallingCode;this.country=c,this.countryCallingCode=u,this.nationalNumber=r,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return n}}return zme(t,[{key:"setExt",value:function(r){this.ext=r}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:cme(this.countryCallingCode,this.nationalNumber,this.getMetadata())}},{key:"isPossible",value:function(){return ime(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){return lme(this,{v2:!0},this.getMetadata())}},{key:"isNonGeographic",value:function(){var r=new Ln(this.getMetadata());return r.isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(r){return this.number===r.number&&this.ext===r.ext}},{key:"getType",value:function(){return tk(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(r,n){return jme(this,r,n?HO(HO({},n),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(r){return this.format("NATIONAL",r)}},{key:"formatInternational",value:function(r){return this.format("INTERNATIONAL",r)}},{key:"getURI",value:function(r){return this.format("RFC3966",r)}}])}(),qme=function(e){return/^[A-Z]{2}$/.test(e)};function Vme(t,e){var r,n,i=new Ln(e);return qme(t)?(r=t,i.selectNumberingPlan(r),n=i.countryCallingCode()):n=t,{country:r,countryCallingCode:n}}var Gme=/^\+\d+$/;function DC(t){"@babel/helpers - typeof";return DC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DC(t)}function Kme(t,e,r){return Object.defineProperty(t,"prototype",{writable:!1}),t}function Yme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zme(t,e,r){return e=Py(e),Jme(t,ok()?Reflect.construct(e,r||[],Py(t).constructor):e.apply(t,r))}function Jme(t,e){if(e&&(DC(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qme(t)}function Qme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ny(t,e)}function LC(t){var e=typeof Map=="function"?new Map:void 0;return LC=function(n){if(n===null||!tye(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return eye(n,arguments,Py(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Ny(i,n)},LC(t)}function eye(t,e,r){if(ok())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,e);var i=new(t.bind.apply(t,n));return r&&Ny(i,r.prototype),i}function ok(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ok=function(){return!!t})()}function tye(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch{return typeof t=="function"}}function Ny(t,e){return Ny=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Ny(t,e)}function Py(t){return Py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Py(t)}var Zc=function(t){function e(r){var n;return Yme(this,e),n=Zme(this,e,[r]),Object.setPrototypeOf(n,e.prototype),n.name=n.constructor.name,n}return Xme(e,t),Kme(e)}(LC(Error)),qO=new RegExp("(?:"+EK()+")$","i");function rye(t){var e=t.search(qO);if(e<0)return{};for(var r=t.slice(0,e),n=t.match(qO),i=1;i<n.length;){if(n[i])return{number:r,ext:n[i]};i++}}function nye(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=iye(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iye(t,e){if(t){if(typeof t=="string")return VO(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?VO(t,e):void 0}}function VO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var sye={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"};function CK(t){return sye[t]}function d5(t){for(var e="",r=nye(t.split("")),n;!(n=r()).done;){var i=n.value,s=CK(i);s&&(e+=s)}return e}function oye(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=aye(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aye(t,e){if(t){if(typeof t=="string")return GO(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?GO(t,e):void 0}}function GO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function KO(t){for(var e="",r=oye(t.split("")),n;!(n=r()).done;){var i=n.value;e+=lye(i,e)||""}return e}function lye(t,e,r){return t==="+"?e?void 0:"+":CK(t)}var AK="+",cye="[\\-\\.\\(\\)]?",YO="(["+ps+"]|"+cye+")",uye="^\\"+AK+YO+"*["+ps+"]"+YO+"*$",dye=new RegExp(uye,"g"),FC=ps,fye="["+FC+"]+((\\-)*["+FC+"])*",hye="a-zA-Z",pye="["+hye+"]+((\\-)*["+FC+"])*",gye="^("+fye+"\\.)*"+pye+"\\.?$",mye=new RegExp(gye,"g"),ZO="tel:",BC=";phone-context=",yye=";isub=";function wye(t){var e=t.indexOf(BC);if(e<0)return null;var r=e+BC.length;if(r>=t.length)return"";var n=t.indexOf(";",r);return n>=0?t.substring(r,n):t.substring(r)}function bye(t){return t===null?!0:t.length===0?!1:dye.test(t)||mye.test(t)}function vye(t,e){var r=e.extractFormattedPhoneNumber,n=wye(t);if(!bye(n))throw new Zc("NOT_A_NUMBER");var i;if(n===null)i=r(t)||"";else{i="",n.charAt(0)===AK&&(i+=n);var s=t.indexOf(ZO),o;s>=0?o=s+ZO.length:o=0;var a=t.indexOf(BC);i+=t.substring(o,a)}var l=i.indexOf(yye);if(l>0&&(i=i.substring(0,l)),i!=="")return i}var xye=250,Eye=new RegExp("["+s4+ps+"]"),_ye=new RegExp("[^"+ps+"#]+$");function Cye(t,e,r){if(e=e||{},r=new Ln(r),e.defaultCountry&&!r.hasCountry(e.defaultCountry))throw e.v2?new Zc("INVALID_COUNTRY"):new Error("Unknown country: ".concat(e.defaultCountry));var n=Sye(t,e.v2,e.extract),i=n.number,s=n.ext,o=n.error;if(!i){if(e.v2)throw o==="TOO_SHORT"?new Zc("TOO_SHORT"):new Zc("NOT_A_NUMBER");return{}}var a=Iye(i,e.defaultCountry,e.defaultCallingCode,r),l=a.country,c=a.nationalNumber,u=a.countryCallingCode,f=a.countryCallingCodeSource,h=a.carrierCode;if(!r.hasSelectedNumberingPlan()){if(e.v2)throw new Zc("INVALID_COUNTRY");return{}}if(!c||c.length<rk){if(e.v2)throw new Zc("TOO_SHORT");return{}}if(c.length>dme){if(e.v2)throw new Zc("TOO_LONG");return{}}if(e.v2){var p=new sk(u,c,r.metadata);return l&&(p.country=l),h&&(p.carrierCode=h),s&&(p.ext=s),p.__countryCallingCodeSource=f,p}var g=(e.extended?r.hasSelectedNumberingPlan():l)?Iu(c,r.nationalNumberPattern()):!1;return e.extended?{country:l,countryCallingCode:u,carrierCode:h,valid:g,possible:g?!0:!!(e.extended===!0&&r.possibleLengths()&&gK(c,l,r)),phone:c,ext:s}:g?$ye(l,c,s):{}}function Aye(t,e,r){if(t){if(t.length>xye){if(r)throw new Zc("TOO_LONG");return}if(e===!1)return t;var n=t.search(Eye);if(!(n<0))return t.slice(n).replace(_ye,"")}}function Sye(t,e,r){var n=vye(t,{extractFormattedPhoneNumber:function(o){return Aye(o,r,e)}});if(!n)return{};if(!Pme(n))return Rme(n)?{error:"TOO_SHORT"}:{};var i=rye(n);return i.ext?i:{number:n}}function $ye(t,e,r){var n={country:t,phone:e};return r&&(n.ext=r),n}function Iye(t,e,r,n){var i=ik(KO(t),void 0,e,r,n.metadata),s=i.countryCallingCodeSource,o=i.countryCallingCode,a=i.number,l;if(o)n.selectNumberingPlan(o);else if(a&&(e||r))n.selectNumberingPlan(e,r),e&&(l=e),o=r||n4(e,n.metadata);else return{};if(!a)return{countryCallingCodeSource:s,countryCallingCode:o};var c=MC(KO(a),l,n),u=c.nationalNumber,f=c.carrierCode,h=nk(o,{nationalNumber:u,metadata:n});return h&&(l=h,h==="001"||n.selectNumberingPlan(l)),{country:l,countryCallingCode:o,countryCallingCodeSource:s,nationalNumber:u,carrierCode:f}}function Ry(t){"@babel/helpers - typeof";return Ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ry(t)}function JO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function QO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JO(Object(r),!0).forEach(function(n){kye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kye(t,e,r){return(e=Tye(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tye(t){var e=Nye(t,"string");return Ry(e)=="symbol"?e:e+""}function Nye(t,e){if(Ry(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ry(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pye(t,e,r){return Cye(t,QO(QO({},e),{},{v2:!0}),r)}function Oy(t){"@babel/helpers - typeof";return Oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oy(t)}function XO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rye(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(r),!0).forEach(function(n){Oye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Oye(t,e,r){return(e=jye(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jye(t){var e=Mye(t,"string");return Oy(e)=="symbol"?e:e+""}function Mye(t,e){if(Oy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Oy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dye(t,e){return Uye(t)||Bye(t,e)||Fye(t,e)||Lye()}function Lye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fye(t,e){if(t){if(typeof t=="string")return ej(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ej(t,e):void 0}}function ej(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Bye(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function Uye(t){if(Array.isArray(t))return t}function Wye(t){var e=Array.prototype.slice.call(t),r=Dye(e,4),n=r[0],i=r[1],s=r[2],o=r[3],a,l,c;if(typeof n=="string")a=n;else throw new TypeError("A text for parsing must be a string.");if(!i||typeof i=="string")o?(l=s,c=o):(l=void 0,c=s),i&&(l=Rye({defaultCountry:i},l));else if(uh(i))s?(l=i,c=s):c=i;else throw new Error("Invalid second argument: ".concat(i));return{text:a,options:l,metadata:c}}function jy(t){"@babel/helpers - typeof";return jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jy(t)}function tj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tj(Object(r),!0).forEach(function(n){zye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zye(t,e,r){return(e=Hye(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hye(t){var e=qye(t,"string");return jy(e)=="symbol"?e:e+""}function qye(t,e){if(jy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vye(t,e,r){e&&e.defaultCountry&&!rme(e.defaultCountry,r)&&(e=rj(rj({},e),{},{defaultCountry:void 0}));try{return Pye(t,e,r)}catch(n){if(!(n instanceof Zc))throw n}}function My(t){"@babel/helpers - typeof";return My=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},My(t)}function nj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ij(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nj(Object(r),!0).forEach(function(n){Gye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gye(t,e,r){return(e=Kye(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kye(t){var e=Yye(t,"string");return My(e)=="symbol"?e:e+""}function Yye(t,e){if(My(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(My(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zye(){var t=Wye(arguments),e=t.text,r=t.options,n=t.metadata;r=ij(ij({},r),{},{extract:!1});var i=Vye(e,r,n);return i&&i.isPossible()||!1}function Dy(t){"@babel/helpers - typeof";return Dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dy(t)}function Jye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qye(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,e2e(n.key),n)}}function Xye(t,e,r){return e&&Qye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function e2e(t){var e=t2e(t,"string");return Dy(e)=="symbol"?e:e+""}function t2e(t,e){if(Dy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var r2e=function(){function t(e){var r=e.onCountryChange,n=e.onCallingCodeChange;Jye(this,t),this.onCountryChange=r,this.onCallingCodeChange=n}return Xye(t,[{key:"reset",value:function(r){var n=r.country,i=r.callingCode;this.international=!1,this.missingPlus=!1,this.IDDPrefix=void 0,this.callingCode=void 0,this.digits="",this.resetNationalSignificantNumber(),this.initCountryAndCallingCode(n,i)}},{key:"resetNationalSignificantNumber",value:function(){this.nationalSignificantNumber=this.getNationalDigits(),this.nationalSignificantNumberIsModified=!1,this.nationalPrefix=void 0,this.carrierCode=void 0,this.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix=void 0}},{key:"update",value:function(r){for(var n=0,i=Object.keys(r);n<i.length;n++){var s=i[n];this[s]=r[s]}}},{key:"initCountryAndCallingCode",value:function(r,n){this.setCountry(r),this.setCallingCode(n)}},{key:"setCountry",value:function(r){this.country=r,this.onCountryChange(r)}},{key:"setCallingCode",value:function(r){this.callingCode=r,this.onCallingCodeChange(r,this.country)}},{key:"startInternationalNumber",value:function(r,n){this.international=!0,this.initCountryAndCallingCode(r,n)}},{key:"appendDigits",value:function(r){this.digits+=r}},{key:"appendNationalSignificantNumberDigits",value:function(r){this.nationalSignificantNumber+=r}},{key:"getNationalDigits",value:function(){return this.international?this.digits.slice((this.IDDPrefix?this.IDDPrefix.length:0)+(this.callingCode?this.callingCode.length:0)):this.digits}},{key:"getDigitsWithoutInternationalPrefix",value:function(){return this.international&&this.IDDPrefix?this.digits.slice(this.IDDPrefix.length):this.digits}}])}();function n2e(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=i2e(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i2e(t,e){if(t){if(typeof t=="string")return sj(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?sj(t,e):void 0}}function sj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var Ra="x",wE=new RegExp(Ra);function Xv(t,e){if(e<1)return"";for(var r="";e>1;)e&1&&(r+=t),e>>=1,t+=t;return r+t}function oj(t,e){return t[e]===")"&&e++,s2e(t.slice(0,e))}function s2e(t){for(var e=[],r=0;r<t.length;)t[r]==="("?e.push(r):t[r]===")"&&e.pop(),r++;var n=0,i="";e.push(t.length);for(var s=0,o=e;s<o.length;s++){var a=o[s];i+=t.slice(n,a),n=a+1}return i}function o2e(t,e,r){for(var n=n2e(r.split("")),i;!(i=n()).done;){var s=i.value;if(t.slice(e+1).search(wE)<0)return;e=t.search(wE),t=t.replace(wE,s)}return[t,e]}function a2e(t,e,r){var n=r.metadata,i=r.shouldTryNationalPrefixFormattingRule,s=r.getSeparatorAfterNationalPrefix,o=new RegExp("^(?:".concat(e.pattern(),")$"));if(o.test(t.nationalSignificantNumber))return c2e(t,e,{metadata:n,shouldTryNationalPrefixFormattingRule:i,getSeparatorAfterNationalPrefix:s})}function l2e(t,e,r){return i4(t,e,r)==="IS_POSSIBLE"}function c2e(t,e,r){var n=r.metadata,i=r.shouldTryNationalPrefixFormattingRule,s=r.getSeparatorAfterNationalPrefix;if(t.nationalSignificantNumber,t.international,t.nationalPrefix,t.carrierCode,i(e)){var o=aj(t,e,{useNationalPrefixFormattingRule:!0,getSeparatorAfterNationalPrefix:s,metadata:n});if(o)return o}return aj(t,e,{useNationalPrefixFormattingRule:!1,getSeparatorAfterNationalPrefix:s,metadata:n})}function aj(t,e,r){var n=r.metadata,i=r.useNationalPrefixFormattingRule,s=r.getSeparatorAfterNationalPrefix,o=xK(t.nationalSignificantNumber,e,{carrierCode:t.carrierCode,useInternationalFormat:t.international,withNationalPrefix:i,metadata:n});if(i||(t.nationalPrefix?o=t.nationalPrefix+s(e)+o:t.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix&&(o=t.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix+" "+o)),u2e(o,t))return o}function u2e(t,e){return d5(t)===e.getNationalDigits()}function Ly(t){"@babel/helpers - typeof";return Ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ly(t)}function d2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f2e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,p2e(n.key),n)}}function h2e(t,e,r){return e&&f2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function p2e(t){var e=g2e(t,"string");return Ly(e)=="symbol"?e:e+""}function g2e(t,e){if(Ly(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ly(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var m2e=function(){function t(){d2e(this,t)}return h2e(t,[{key:"parse",value:function(r){if(this.context=[{or:!0,instructions:[]}],this.parsePattern(r),this.context.length!==1)throw new Error("Non-finalized contexts left when pattern parse ended");var n=this.context[0],i=n.branches,s=n.instructions;if(i)return{op:"|",args:i.concat([bE(s)])};if(s.length===0)throw new Error("Pattern is required");return s.length===1?s[0]:s}},{key:"startContext",value:function(r){this.context.push(r)}},{key:"endContext",value:function(){this.context.pop()}},{key:"getContext",value:function(){return this.context[this.context.length-1]}},{key:"parsePattern",value:function(r){if(!r)throw new Error("Pattern is required");var n=r.match(b2e);if(!n){if(w2e.test(r))throw new Error("Illegal characters found in a pattern: ".concat(r));this.getContext().instructions=this.getContext().instructions.concat(r.split(""));return}var i=n[1],s=r.slice(0,n.index),o=r.slice(n.index+i.length);switch(i){case"(?:":s&&this.parsePattern(s),this.startContext({or:!0,instructions:[],branches:[]});break;case")":if(!this.getContext().or)throw new Error('")" operator must be preceded by "(?:" operator');if(s&&this.parsePattern(s),this.getContext().instructions.length===0)throw new Error('No instructions found after "|" operator in an "or" group');var a=this.getContext(),l=a.branches;l.push(bE(this.getContext().instructions)),this.endContext(),this.getContext().instructions.push({op:"|",args:l});break;case"|":if(!this.getContext().or)throw new Error('"|" operator can only be used inside "or" groups');if(s&&this.parsePattern(s),!this.getContext().branches)if(this.context.length===1)this.getContext().branches=[];else throw new Error('"branches" not found in an "or" group context');this.getContext().branches.push(bE(this.getContext().instructions)),this.getContext().instructions=[];break;case"[":s&&this.parsePattern(s),this.startContext({oneOfSet:!0});break;case"]":if(!this.getContext().oneOfSet)throw new Error('"]" operator must be preceded by "[" operator');this.endContext(),this.getContext().instructions.push({op:"[]",args:y2e(s)});break;default:throw new Error("Unknown operator: ".concat(i))}o&&this.parsePattern(o)}}])}();function y2e(t){for(var e=[],r=0;r<t.length;){if(t[r]==="-"){if(r===0||r===t.length-1)throw new Error("Couldn't parse a one-of set pattern: ".concat(t));for(var n=t[r-1].charCodeAt(0)+1,i=t[r+1].charCodeAt(0)-1,s=n;s<=i;)e.push(String.fromCharCode(s)),s++}else e.push(t[r]);r++}return e}var w2e=/[\(\)\[\]\?\:\|]/,b2e=new RegExp("(\\||\\(\\?\\:|\\)|\\[|\\])");function bE(t){return t.length===1?t[0]:t}function lj(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=v2e(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v2e(t,e){if(t){if(typeof t=="string")return cj(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?cj(t,e):void 0}}function cj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Fy(t){"@babel/helpers - typeof";return Fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fy(t)}function x2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E2e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,C2e(n.key),n)}}function _2e(t,e,r){return e&&E2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function C2e(t){var e=A2e(t,"string");return Fy(e)=="symbol"?e:e+""}function A2e(t,e){if(Fy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var S2e=function(){function t(e){x2e(this,t),this.matchTree=new m2e().parse(e)}return _2e(t,[{key:"match",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.allowOverflow;if(!r)throw new Error("String is required");var s=UC(r.split(""),this.matchTree,!0);if(s&&s.match&&delete s.matchedChars,!(s&&s.overflow&&!i))return s}}])}();function UC(t,e,r){if(typeof e=="string"){var n=t.join("");return e.indexOf(n)===0?t.length===e.length?{match:!0,matchedChars:t}:{partialMatch:!0}:n.indexOf(e)===0?r&&t.length>e.length?{overflow:!0}:{match:!0,matchedChars:t.slice(0,e.length)}:void 0}if(Array.isArray(e)){for(var i=t.slice(),s=0;s<e.length;){var o=e[s],a=UC(i,o,r&&s===e.length-1);if(a){if(a.overflow)return a;if(a.match){if(i=i.slice(a.matchedChars.length),i.length===0)return s===e.length-1?{match:!0,matchedChars:t}:{partialMatch:!0}}else{if(a.partialMatch)return{partialMatch:!0};throw new Error(`Unsupported match result:
`.concat(JSON.stringify(a,null,2)))}}else return;s++}return r?{overflow:!0}:{match:!0,matchedChars:t.slice(0,t.length-i.length)}}switch(e.op){case"|":for(var l,c=lj(e.args),u;!(u=c()).done;){var f=u.value,h=UC(t,f,r);if(h){if(h.overflow)return h;if(h.match)return{match:!0,matchedChars:h.matchedChars};if(h.partialMatch)l=!0;else throw new Error(`Unsupported match result:
`.concat(JSON.stringify(h,null,2)))}}return l?{partialMatch:!0}:void 0;case"[]":for(var p=lj(e.args),g;!(g=p()).done;){var m=g.value;if(t[0]===m)return t.length===1?{match:!0,matchedChars:t}:r?{overflow:!0}:{match:!0,matchedChars:[m]}}return;default:throw new Error("Unsupported instruction tree: ".concat(e))}}function By(t){"@babel/helpers - typeof";return By=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},By(t)}function uj(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=$2e(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $2e(t,e){if(t){if(typeof t=="string")return dj(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?dj(t,e):void 0}}function dj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function I2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k2e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,N2e(n.key),n)}}function T2e(t,e,r){return e&&k2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function N2e(t){var e=P2e(t,"string");return By(e)=="symbol"?e:e+""}function P2e(t,e){if(By(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(By(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var WC="9",R2e=15,O2e=Xv(WC,R2e),j2e=/[- ]/,M2e=function(){return/\[([^\[\]])*\]/g},D2e=function(){return/\d(?=[^,}][^,}])/g},L2e=new RegExp("["+Ga+"]*\\$1["+Ga+"]*(\\$\\d["+Ga+"]*)*$"),fj=3,F2e=function(){function t(e){e.state;var r=e.metadata;I2e(this,t),this.metadata=r,this.resetFormat()}return T2e(t,[{key:"resetFormat",value:function(){this.chosenFormat=void 0,this.template=void 0,this.nationalNumberTemplate=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:"reset",value:function(r,n){this.resetFormat(),r?(this.isNANP=r.callingCode()==="1",this.matchingFormats=r.formats(),n.nationalSignificantNumber&&this.narrowDownMatchingFormats(n)):(this.isNANP=void 0,this.matchingFormats=[])}},{key:"format",value:function(r,n){var i=this;if(l2e(n.nationalSignificantNumber,n.country,this.metadata))for(var s=uj(this.matchingFormats),o;!(o=s()).done;){var a=o.value,l=a2e(n,a,{metadata:this.metadata,shouldTryNationalPrefixFormattingRule:function(u){return i.shouldTryNationalPrefixFormattingRule(u,{international:n.international,nationalPrefix:n.nationalPrefix})},getSeparatorAfterNationalPrefix:function(u){return i.getSeparatorAfterNationalPrefix(u)}});if(l)return this.resetFormat(),this.chosenFormat=a,this.setNationalNumberTemplate(l.replace(/\d/g,Ra),n),this.populatedNationalNumberTemplate=l,this.populatedNationalNumberTemplatePosition=this.template.lastIndexOf(Ra),l}return this.formatNationalNumberWithNextDigits(r,n)}},{key:"formatNationalNumberWithNextDigits",value:function(r,n){var i=this.chosenFormat,s=this.chooseFormat(n);if(s)return s===i?this.formatNextNationalNumberDigits(r):this.formatNextNationalNumberDigits(n.getNationalDigits())}},{key:"narrowDownMatchingFormats",value:function(r){var n=this,i=r.nationalSignificantNumber,s=r.nationalPrefix,o=r.international,a=i,l=a.length-fj;l<0&&(l=0),this.matchingFormats=this.matchingFormats.filter(function(c){return n.formatSuits(c,o,s)&&n.formatMatches(c,a,l)}),this.chosenFormat&&this.matchingFormats.indexOf(this.chosenFormat)===-1&&this.resetFormat()}},{key:"formatSuits",value:function(r,n,i){return!(i&&!r.usesNationalPrefix()&&!r.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!n&&!i&&r.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())}},{key:"formatMatches",value:function(r,n,i){var s=r.leadingDigitsPatterns().length;if(s===0)return!0;i=Math.min(i,s-1);var o=r.leadingDigitsPatterns()[i];if(n.length<fj)try{return new S2e(o).match(n,{allowOverflow:!0})!==void 0}catch(a){return console.error(a),!0}return new RegExp("^(".concat(o,")")).test(n)}},{key:"getFormatFormat",value:function(r,n){return n?r.internationalFormat():r.format()}},{key:"chooseFormat",value:function(r){for(var n=this,i=function(){var c=a.value;return n.chosenFormat===c?0:L2e.test(n.getFormatFormat(c,r.international))?n.createTemplateForFormat(c,r)?(n.chosenFormat=c,0):(n.matchingFormats=n.matchingFormats.filter(function(u){return u!==c}),1):1},s,o=uj(this.matchingFormats.slice()),a;!(a=o()).done&&(s=i(),s!==0););return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:"createTemplateForFormat",value:function(r,n){if(!(r.pattern().indexOf("|")>=0)){var i=this.getTemplateForFormat(r,n);if(i)return this.setNationalNumberTemplate(i,n),!0}}},{key:"getSeparatorAfterNationalPrefix",value:function(r){return this.isNANP||r&&r.nationalPrefixFormattingRule()&&j2e.test(r.nationalPrefixFormattingRule())?" ":""}},{key:"getInternationalPrefixBeforeCountryCallingCode",value:function(r,n){var i=r.IDDPrefix,s=r.missingPlus;return i?n&&n.spacing===!1?i:i+" ":s?"":"+"}},{key:"getTemplate",value:function(r){if(this.template){for(var n=-1,i=0,s=r.international?this.getInternationalPrefixBeforeCountryCallingCode(r,{spacing:!1}):"";i<s.length+r.getDigitsWithoutInternationalPrefix().length;)n=this.template.indexOf(Ra,n+1),i++;return oj(this.template,n+1)}}},{key:"setNationalNumberTemplate",value:function(r,n){this.nationalNumberTemplate=r,this.populatedNationalNumberTemplate=r,this.populatedNationalNumberTemplatePosition=-1,n.international?this.template=this.getInternationalPrefixBeforeCountryCallingCode(n).replace(/[\d\+]/g,Ra)+Xv(Ra,n.callingCode.length)+" "+r:this.template=r}},{key:"getTemplateForFormat",value:function(r,n){var i=n.nationalSignificantNumber,s=n.international,o=n.nationalPrefix,a=n.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix,l=r.pattern();l=l.replace(M2e(),"\\d").replace(D2e(),"\\d");var c=O2e.match(l)[0];if(!(i.length>c.length)){var u=new RegExp("^"+l+"$"),f=i.replace(/\d/g,WC);u.test(f)&&(c=f);var h=this.getFormatFormat(r,s),p;if(this.shouldTryNationalPrefixFormattingRule(r,{international:s,nationalPrefix:o})){var g=h.replace(vK,r.nationalPrefixFormattingRule());if(d5(r.nationalPrefixFormattingRule())===(o||"")+d5("$1")&&(h=g,p=!0,o))for(var m=o.length;m>0;)h=h.replace(/\d/,Ra),m--}var w=c.replace(new RegExp(l),h).replace(new RegExp(WC,"g"),Ra);return p||(a?w=Xv(Ra,a.length)+" "+w:o&&(w=Xv(Ra,o.length)+this.getSeparatorAfterNationalPrefix(r)+w)),s&&(w=bK(w)),w}}},{key:"formatNextNationalNumberDigits",value:function(r){var n=o2e(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition,r);if(!n){this.resetFormat();return}return this.populatedNationalNumberTemplate=n[0],this.populatedNationalNumberTemplatePosition=n[1],oj(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1)}},{key:"shouldTryNationalPrefixFormattingRule",value:function(r,n){var i=n.international,s=n.nationalPrefix;if(r.nationalPrefixFormattingRule()){var o=r.usesNationalPrefix();if(o&&s||!o&&!i)return!0}}}])}();function Uy(t){"@babel/helpers - typeof";return Uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uy(t)}function SK(t,e){return z2e(t)||W2e(t,e)||U2e(t,e)||B2e()}function B2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U2e(t,e){if(t){if(typeof t=="string")return hj(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?hj(t,e):void 0}}function hj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function W2e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function z2e(t){if(Array.isArray(t))return t}function H2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q2e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,G2e(n.key),n)}}function V2e(t,e,r){return e&&q2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function G2e(t){var e=K2e(t,"string");return Uy(e)=="symbol"?e:e+""}function K2e(t,e){if(Uy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Y2e="["+Ga+ps+"]+",Z2e=new RegExp("^"+Y2e+"$","i"),J2e="(?:["+s4+"]["+Ga+ps+"]*|["+Ga+ps+"]+)",Q2e=new RegExp("[^"+Ga+ps+"]+.*$"),X2e=/[^\d\[\]]/,ewe=function(){function t(e){var r=e.defaultCountry,n=e.defaultCallingCode,i=e.metadata,s=e.onNationalSignificantNumberChange;H2e(this,t),this.defaultCountry=r,this.defaultCallingCode=n,this.metadata=i,this.onNationalSignificantNumberChange=s}return V2e(t,[{key:"input",value:function(r,n){var i=nwe(r),s=SK(i,2),o=s[0],a=s[1],l=d5(o),c;return a&&(n.digits||(n.startInternationalNumber(void 0,void 0),l||(c=!0))),l&&this.inputDigits(l,n),{digits:l,justLeadingPlus:c}}},{key:"inputDigits",value:function(r,n){var i=n.digits,s=i.length<3&&i.length+r.length>=3;if(n.appendDigits(r),s&&this.extractIddPrefix(n),this.isWaitingForCountryCallingCode(n)){if(!this.extractCountryCallingCode(n))return}else n.appendNationalSignificantNumberDigits(r);n.international||this.hasExtractedNationalSignificantNumber||this.extractNationalSignificantNumber(n.getNationalDigits(),function(o){return n.update(o)})}},{key:"isWaitingForCountryCallingCode",value:function(r){var n=r.international,i=r.callingCode;return n&&!i}},{key:"extractCountryCallingCode",value:function(r){var n=ik("+"+r.getDigitsWithoutInternationalPrefix(),r.country,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),i=n.countryCallingCode,s=n.number;if(i)return r.setCallingCode(i),r.update({nationalSignificantNumber:s}),!0}},{key:"reset",value:function(r){if(r){this.hasSelectedNumberingPlan=!0;var n=r._nationalPrefixForParsing();this.couldPossiblyExtractAnotherNationalSignificantNumber=n&&X2e.test(n)}else this.hasSelectedNumberingPlan=void 0,this.couldPossiblyExtractAnotherNationalSignificantNumber=void 0}},{key:"extractNationalSignificantNumber",value:function(r,n){if(this.hasSelectedNumberingPlan){var i=jC(r,this.metadata),s=i.nationalPrefix,o=i.nationalNumber,a=i.carrierCode;if(o!==r)return this.onExtractedNationalNumber(s,a,o,r,n),!0}}},{key:"extractAnotherNationalSignificantNumber",value:function(r,n,i){if(!this.hasExtractedNationalSignificantNumber)return this.extractNationalSignificantNumber(r,i);if(this.couldPossiblyExtractAnotherNationalSignificantNumber){var s=jC(r,this.metadata),o=s.nationalPrefix,a=s.nationalNumber,l=s.carrierCode;if(a!==n)return this.onExtractedNationalNumber(o,l,a,r,i),!0}}},{key:"onExtractedNationalNumber",value:function(r,n,i,s,o){var a=!1,l,c=s.lastIndexOf(i);if(c<0||c!==s.length-i.length)a=!0;else{var u=s.slice(0,c);u&&u!==r&&(l=u)}o({nationalPrefix:r,carrierCode:n,nationalSignificantNumber:i,nationalSignificantNumberIsModified:a,prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix:l}),this.hasExtractedNationalSignificantNumber=!0,this.onNationalSignificantNumberChange()}},{key:"reExtractNationalSignificantNumber",value:function(r){if(this.extractAnotherNationalSignificantNumber(r.getNationalDigits(),r.nationalSignificantNumber,function(n){return r.update(n)}))return!0;if(this.extractIddPrefix(r))return this.extractCallingCodeAndNationalSignificantNumber(r),!0;if(this.fixMissingPlus(r))return this.extractCallingCodeAndNationalSignificantNumber(r),!0}},{key:"extractIddPrefix",value:function(r){var n=r.international,i=r.IDDPrefix,s=r.digits;if(r.nationalSignificantNumber,!(n||i)){var o=mK(s,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata);if(o!==void 0&&o!==s)return r.update({IDDPrefix:s.slice(0,s.length-o.length)}),this.startInternationalNumber(r,{country:void 0,callingCode:void 0}),!0}}},{key:"fixMissingPlus",value:function(r){if(!r.international){var n=wK(r.digits,r.country,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),i=n.countryCallingCode;if(i)return r.update({missingPlus:!0}),this.startInternationalNumber(r,{country:r.country,callingCode:i}),!0}}},{key:"startInternationalNumber",value:function(r,n){var i=n.country,s=n.callingCode;r.startInternationalNumber(i,s),r.nationalSignificantNumber&&(r.resetNationalSignificantNumber(),this.onNationalSignificantNumberChange(),this.hasExtractedNationalSignificantNumber=void 0)}},{key:"extractCallingCodeAndNationalSignificantNumber",value:function(r){this.extractCountryCallingCode(r)&&this.extractNationalSignificantNumber(r.getNationalDigits(),function(n){return r.update(n)})}}])}();function twe(t){var e=t.search(J2e);if(!(e<0)){t=t.slice(e);var r;return t[0]==="+"&&(r=!0,t=t.slice(1)),t=t.replace(Q2e,""),r&&(t="+"+t),t}}function rwe(t){var e=twe(t)||"";return e[0]==="+"?[e.slice(1),!0]:[e]}function nwe(t){var e=rwe(t),r=SK(e,2),n=r[0],i=r[1];return Z2e.test(n)||(n=""),[n,i]}function Wy(t){"@babel/helpers - typeof";return Wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wy(t)}function iwe(t,e){return lwe(t)||awe(t,e)||owe(t,e)||swe()}function swe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function owe(t,e){if(t){if(typeof t=="string")return pj(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pj(t,e):void 0}}function pj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function awe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function lwe(t){if(Array.isArray(t))return t}function cwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uwe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fwe(n.key),n)}}function dwe(t,e,r){return e&&uwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fwe(t){var e=hwe(t,"string");return Wy(e)=="symbol"?e:e+""}function hwe(t,e){if(Wy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $K=function(){function t(e,r){cwe(this,t),this.metadata=new Ln(r);var n=this.getCountryAndCallingCode(e),i=iwe(n,2),s=i[0],o=i[1];this.defaultCountry=s,this.defaultCallingCode=o,this.reset()}return dwe(t,[{key:"getCountryAndCallingCode",value:function(r){var n,i;return r&&(uh(r)?(n=r.defaultCountry,i=r.defaultCallingCode):n=r),n&&!this.metadata.hasCountry(n)&&(n=void 0),[n,i]}},{key:"input",value:function(r){var n=this.parser.input(r,this.state),i=n.digits,s=n.justLeadingPlus;if(s)this.formattedOutput="+";else if(i){this.determineTheCountryIfNeeded(),this.state.nationalSignificantNumber&&this.formatter.narrowDownMatchingFormats(this.state);var o;if(this.metadata.hasSelectedNumberingPlan()&&(o=this.formatter.format(i,this.state)),o===void 0&&this.parser.reExtractNationalSignificantNumber(this.state)){this.determineTheCountryIfNeeded();var a=this.state.getNationalDigits();a&&(o=this.formatter.format(a,this.state))}this.formattedOutput=o?this.getFullNumber(o):this.getNonFormattedNumber()}return this.formattedOutput}},{key:"reset",value:function(){var r=this;return this.state=new r2e({onCountryChange:function(i){r.country=i},onCallingCodeChange:function(i,s){r.metadata.selectNumberingPlan(s,i),r.formatter.reset(r.metadata.numberingPlan,r.state),r.parser.reset(r.metadata.numberingPlan)}}),this.formatter=new F2e({state:this.state,metadata:this.metadata}),this.parser=new ewe({defaultCountry:this.defaultCountry,defaultCallingCode:this.defaultCallingCode,metadata:this.metadata,state:this.state,onNationalSignificantNumberChange:function(){r.determineTheCountryIfNeeded(),r.formatter.reset(r.metadata.numberingPlan,r.state)}}),this.state.reset({country:this.defaultCountry,callingCode:this.defaultCallingCode}),this.formattedOutput="",this}},{key:"isInternational",value:function(){return this.state.international}},{key:"getCallingCode",value:function(){if(this.isInternational())return this.state.callingCode}},{key:"getCountryCallingCode",value:function(){return this.getCallingCode()}},{key:"getCountry",value:function(){var r=this.state.digits;if(r)return this._getCountry()}},{key:"_getCountry",value:function(){var r=this.state.country;return r}},{key:"determineTheCountryIfNeeded",value:function(){(!this.state.country||this.isCountryCallingCodeAmbiguous())&&this.determineTheCountry()}},{key:"getFullNumber",value:function(r){var n=this;if(this.isInternational()){var i=function(a){return n.formatter.getInternationalPrefixBeforeCountryCallingCode(n.state,{spacing:!!a})+a},s=this.state.callingCode;return i(s?r?"".concat(s," ").concat(r):s:"".concat(this.state.getDigitsWithoutInternationalPrefix()))}return r}},{key:"getNonFormattedNationalNumberWithPrefix",value:function(){var r=this.state,n=r.nationalSignificantNumber,i=r.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix,s=r.nationalPrefix,o=n,a=i||s;return a&&(o=a+o),o}},{key:"getNonFormattedNumber",value:function(){var r=this.state.nationalSignificantNumberIsModified;return this.getFullNumber(r?this.state.getNationalDigits():this.getNonFormattedNationalNumberWithPrefix())}},{key:"getNonFormattedTemplate",value:function(){var r=this.getNonFormattedNumber();if(r)return r.replace(/[\+\d]/g,Ra)}},{key:"isCountryCallingCodeAmbiguous",value:function(){var r=this.state.callingCode,n=this.metadata.getCountryCodesForCallingCode(r);return n&&n.length>1}},{key:"determineTheCountry",value:function(){this.state.setCountry(nk(this.isInternational()?this.state.callingCode:this.defaultCallingCode,{nationalNumber:this.state.nationalSignificantNumber,metadata:this.metadata}))}},{key:"getNumberValue",value:function(){var r=this.state,n=r.digits,i=r.callingCode,s=r.country,o=r.nationalSignificantNumber;if(n){if(this.isInternational())return i?"+"+i+o:"+"+n;if(s||i){var a=s?this.metadata.countryCallingCode():i;return"+"+a+o}}}},{key:"getNumber",value:function(){var r=this.state,n=r.nationalSignificantNumber,i=r.carrierCode,s=r.callingCode,o=this._getCountry();if(n&&!(!o&&!s)){if(o&&o===this.defaultCountry){var a=new Ln(this.metadata.metadata);a.selectNumberingPlan(o);var l=a.numberingPlan.callingCode(),c=this.metadata.getCountryCodesForCallingCode(l);if(c.length>1){var u=yK(n,{countries:c,metadata:this.metadata.metadata});u&&(o=u)}}var f=new sk(o||s,n,this.metadata.metadata);return i&&(f.carrierCode=i),f}}},{key:"isPossible",value:function(){var r=this.getNumber();return r?r.isPossible():!1}},{key:"isValid",value:function(){var r=this.getNumber();return r?r.isValid():!1}},{key:"getNationalNumber",value:function(){return this.state.nationalSignificantNumber}},{key:"getChars",value:function(){return(this.state.international?"+":"")+this.state.digits}},{key:"getTemplate",value:function(){return this.formatter.getTemplate(this.state)||this.getNonFormattedTemplate()||""}}])}();function pwe(t){return new Ln(t).getCountries()}function gwe(t,e,r){if(e[t])return new sk(t,e[t],r)}const mwe={id:42161},ywe={id:421613},wwe={id:421614},bwe={id:8453},vwe={id:84531},xwe={id:84532},Ewe={id:10},_we={id:420},Cwe={id:11155420},IK={id:137},kK={id:80001},Awe={id:7777777},Swe={id:999999999},$we={id:999};var Es;(Es={}).MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",Es.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",Es.INVALID_DATA="invalid_data",Es.LINKED_TO_ANOTHER_USER="linked_to_another_user",Es.ALLOWLIST_REJECTED="allowlist_rejected",Es.OAUTH_USER_DENIED="oauth_user_denied",Es.UNKNOWN_AUTH_ERROR="unknown_auth_error",Es.USER_EXITED_AUTH_FLOW="exited_auth_flow",Es.MUST_BE_AUTHENTICATED="must_be_authenticated",Es.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",Es.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",Es.CLIENT_REQUEST_TIMEOUT="client_request_timeout",Es.INVALID_CREDENTIALS="invalid_credentials";let Iwe=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,r,n){super(e),r instanceof Error&&(this.cause=r),this.privyErrorCode=n}},kwe=class extends Iwe{constructor(e,r,n){super(e),this.type="provider_error",this.code=r,this.data=n}};const ni={UNKNOWN_ERROR:{eipCode:0,message:"Unknown error",detail:"Unknown error",retryable:!0},E4001_DEFAULT_USER_REJECTED_REQUEST:{eipCode:4001,message:"User Rejected Request",detail:"The user rejected the request.",default:!0,retryable:!0},E4100_DEFAULT_UNAUTHORIZED:{eipCode:4100,message:"Unauthorized",detail:"The requested method and/or account has not been authorized by the user.",default:!0,retryable:!1},E4200_DEFAULT_UNSUPPORTED_METHOD:{eipCode:4200,message:"Unsupported Method",detail:"The Provider does not support the requested method.",default:!0,retryable:!1},E4900_DEFAULT_DISCONNECTED:{eipCode:4900,message:"Disconnected",detail:"The Provider is disconnected from all chains.",default:!0,retryable:!0},E4901_DEFAULT_CHAIN_DISCONNECTED:{eipCode:4901,message:"Chain Disconnected",detail:"The Provider is not connected to the requested chain.",default:!0,retryable:!0},E32700_DEFAULT_PARSE_ERROR:{eipCode:-32700,message:"Parse error",detail:"Invalid JSON",default:!0,retryable:!1},E32600_DEFAULT_INVALID_REQUEST:{eipCode:-32600,message:"Invalid request",detail:"JSON is not a valid request object",default:!0,retryable:!1},E32601_DEFAULT_METHOD_NOT_FOUND:{eipCode:-32601,message:"Method not found",detail:"Method does not exist",default:!0,retryable:!1},E32602_DEFAULT_INVALID_PARAMS:{eipCode:-32602,message:"Invalid params",detail:"Invalid method parameters",default:!0,retryable:!1},E32603_DEFAULT_INTERNAL_ERROR:{eipCode:-32603,message:"Internal error",detail:"Internal JSON-RPC error",default:!0,retryable:!0},E32000_DEFAULT_INVALID_INPUT:{eipCode:-32e3,message:"Invalid input",detail:"Missing or invalid parameters",default:!0,retryable:!1},E32001_DEFAULT_RESOURCE_NOT_FOUND:{eipCode:-32001,message:"Resource not found",detail:"Requested resource not found",default:!0,retryable:!1},E32002_DEFAULT_RESOURCE_UNAVAILABLE:{eipCode:-32002,message:"Resource unavailable",detail:"Requested resource not available",default:!0,retryable:!0},E32003_DEFAULT_TRANSACTION_REJECTED:{eipCode:-32003,message:"Transaction rejected",detail:"Transaction creation failed",default:!0,retryable:!0},E32004_DEFAULT_METHOD_NOT_SUPPORTED:{eipCode:-32004,message:"Method not supported",detail:"Method is not implemented",default:!0,retryable:!1},E32005_DEFAULT_LIMIT_EXCEEDED:{eipCode:-32005,message:"Limit exceeded",detail:"Request exceeds defined limit",default:!0,retryable:!1},E32006_DEFAULT_JSON_RPC_VERSION_NOT_SUPPORTED:{eipCode:-32006,message:"JSON-RPC version not supported",detail:"Version of JSON-RPC protocol is not supported",default:!0,retryable:!1},E32002_CONNECTION_ALREADY_PENDING:{eipCode:-32002,message:"Connection request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_REQUEST_ALREADY_PENDING:{eipCode:-32002,message:"Resource request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_WALLET_LOCKED:{eipCode:-32002,message:"Wallet might be locked",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E4001_USER_REJECTED_REQUEST:{eipCode:4001,message:"Signature rejected",detail:"Please try signing again.",retryable:!0}};let vE=class extends kwe{constructor(e){var n,i,s;super(e.message,e.code,e.data);let r=Object.values(ni).find(o=>o.eipCode===e.code);this.details=r||ni.UNKNOWN_ERROR,e.code===-32002&&((n=e.message)!=null&&n.includes("already pending for origin")?(i=e.message)!=null&&i.includes("wallet_requestPermissions")?this.details=ni.E32002_CONNECTION_ALREADY_PENDING:this.details=ni.E32002_REQUEST_ALREADY_PENDING:(s=e.message)!=null&&s.includes("Already processing")&&e.message.includes("eth_requestAccounts")&&(this.details=ni.E32002_WALLET_LOCKED))}};const rs=t=>Re.from(t);function zC(t){if(typeof t=="number"||typeof t=="bigint"||typeof t=="string")return t;if(typeof t.toHexString=="function")return t.toHexString();throw Error(`Expected numeric value but received ${t}`)}function Twe(t){let e={};return t.to!==void 0&&(e.to=t.to),t.data!==void 0&&(e.data=t.data),t.chainId!==void 0&&(e.chainId=t.chainId),t.type!==void 0&&(e.type=t.type),t.accessList!==void 0&&(e.accessList=t.accessList),t.nonce!==void 0&&(e.nonce=rs(t.nonce).toNumber()),t.gasLimit!==void 0&&(e.gasLimit=rs(t.gasLimit)),t.gasPrice!==void 0&&(e.gasPrice=rs(t.gasPrice)),t.value!==void 0&&(e.value=rs(t.value)),t.maxFeePerGas!==void 0&&(e.maxFeePerGas=rs(t.maxFeePerGas)),t.maxPriorityFeePerGas!==void 0&&(e.maxPriorityFeePerGas=rs(t.maxPriorityFeePerGas)),e}const TK=t=>[mwe.id,ywe.id,wwe.id].includes(t),Nwe=async(t,e)=>{if(!TK(t.chainId))throw Error("Invalid chain ID for Arbitrum gas estimation.");if(t.type===void 0&&(t.type=2),t.maxFeePerGas)return t;try{let{lastBaseFeePerGas:r}=await e.getFeeData();if(r){let n=r.mul(Re.from(120)).div(Re.from(100));t.maxFeePerGas=zC(n),t.maxPriorityFeePerGas=zC(Re.from(0))}}catch(r){throw Error(`Failed to set gas price for Arbitrum transaction: ${r}.`)}return t},NK=t=>[56,97].includes(t),Pwe=async(t,e)=>{var r;if(!NK(t.chainId))throw Error("Invalid chain ID for BSC gas estimation.");if(t.type===void 0?t.type=0:(t.type==1||t.type==2)&&console.warn("Transaction request type specified is incompatible for chain and will result in undefined behavior.  Please use transaction type 0."),!t.gasPrice){let n=await e.getFeeData();t.gasPrice=(r=n.gasPrice)==null?void 0:r.toHexString()}return t},Rwe=["function getL1Fee(bytes memory _data) external view returns (uint256)"],o4=t=>[bwe.id,vwe.id,xwe.id,Ewe.id,_we.id,Cwe.id,Awe.id,$we.id,Swe.id,81457,168587773].includes(t),Owe=async(t,e)=>{if(!o4(t.chainId))throw Error("Invalid chain ID for OP Stack gas estimation.");if(t.type===void 0&&(t.type=2),t.gasPrice&&(console.warn("`gasPrice` is not supported on this chain and will be ignored. Use `maxPriorityFeePerGas` and/or `maxFeePerGas` instead."),delete t.gasPrice),t.maxPriorityFeePerGas&&t.maxFeePerGas)return t;try{if(!t.maxPriorityFeePerGas){let r=await e.send("eth_maxPriorityFeePerGas",[]);t.maxPriorityFeePerGas=r}if(t.maxFeePerGas&&(console.warn("maxFeePerGas is specified without maxPriorityFeePerGas - this can result in hung transactions."),t.maxPriorityFeePerGas>=t.maxFeePerGas))throw Error("Overridden maxFeePerGas is less than or equal to the calculated maxPriorityFeePerGas. Please set both values or maxPriorityFeePerGas alone for correct gas estimation.");if(!t.maxFeePerGas){let{lastBaseFeePerGas:r}=await e.getFeeData();if(!r)throw Error("Unable to fetch baseFee for last block.");let n=Re.from(r).mul(Re.from(126)).div(Re.from(100)).add(Re.from(t.maxPriorityFeePerGas));t.maxFeePerGas=zC(n)}}catch(r){throw Error(`Failed to set gas price for OP stack transaction: ${r}.`)}return t};async function jwe(t,e){if(!t.chainId||t.chainId&&!o4(t.chainId))return Re.from(0);let r=Re.from(0);try{let n=new Wge("0x420000000000000000000000000000000000000F",Rwe,e),i=Twe(t),s=y0e(i);r=await n.getL1Fee(s)}catch{}return r}var PK={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(nr,function(){var r=function(s,o){if(o=o||{},typeof s!="function")throw new i("fetch must be a function");if(typeof o!="object")throw new i("defaults must be an object");if(o.retries!==void 0&&!n(o.retries))throw new i("retries must be a positive integer");if(o.retryDelay!==void 0&&!n(o.retryDelay)&&typeof o.retryDelay!="function")throw new i("retryDelay must be a positive integer or a function returning a positive integer");if(o.retryOn!==void 0&&!Array.isArray(o.retryOn)&&typeof o.retryOn!="function")throw new i("retryOn property expects an array or function");var a={retries:3,retryDelay:1e3,retryOn:[]};return o=Object.assign(a,o),function(c,u){var f=o.retries,h=o.retryDelay,p=o.retryOn;if(u&&u.retries!==void 0)if(n(u.retries))f=u.retries;else throw new i("retries must be a positive integer");if(u&&u.retryDelay!==void 0)if(n(u.retryDelay)||typeof u.retryDelay=="function")h=u.retryDelay;else throw new i("retryDelay must be a positive integer or a function returning a positive integer");if(u&&u.retryOn)if(Array.isArray(u.retryOn)||typeof u.retryOn=="function")p=u.retryOn;else throw new i("retryOn property expects an array or function");return new Promise(function(g,m){var w=function(E){var v=typeof Request<"u"&&c instanceof Request?c.clone():c;s(v,u).then(function(b){if(Array.isArray(p)&&p.indexOf(b.status)===-1)g(b);else if(typeof p=="function")try{return Promise.resolve(p(E,null,b)).then(function($){$?y(E,null,b):g(b)}).catch(m)}catch($){m($)}else E<f?y(E,null,b):g(b)}).catch(function(b){if(typeof p=="function")try{Promise.resolve(p(E,b,null)).then(function($){$?y(E,b,null):m(b)}).catch(function($){m($)})}catch($){m($)}else E<f?y(E,b,null):m(b)})};function y(E,v,b){var $=typeof h=="function"?h(E,v,b):h;setTimeout(function(){w(++E)},$)}w(0)})}};function n(s){return Number.isInteger(s)&&s>=0}function i(s){this.name="ArgumentError",this.message=s}return r})})(PK);var Mwe=PK.exports;const Dwe=wc(Mwe),RK={id:80002};let Lwe=Dwe(fetch,{retries:3,retryDelay:500});const OK=t=>[IK.id,kK.id,RK.id].includes(t);let xE=t=>({maxPriorityFee:jO(t.maxPriorityFee.toFixed(9),"gwei").toHexString(),maxFee:jO(t.maxFee.toFixed(9),"gwei").toHexString()}),Fwe=t=>({safeLow:xE(t.safeLow),standard:xE(t.standard),fast:xE(t.fast)});const Bwe=async t=>{let e="";switch(t){case IK.id:e="https://gasstation.polygon.technology/v2";break;case kK.id:e="https://gasstation-testnet.polygon.technology/v2";break;case RK.id:e="https://gasstation.polygon.technology/amoy";break;default:throw Error(`chainId ${t} does not support polygon gas stations`)}let r=await Lwe(e),n=await r.json();if(r.status>399)throw n;return Fwe(n)};async function Uwe(t){if(!OK(t.chainId))throw Error("Invalid chain ID for Polygon gas estimation.");if(t.type===void 0&&(t.type=2),t.maxPriorityFeePerGas&&t.maxFeePerGas)return t;try{let{standard:e}=await Bwe(t.chainId);t.maxPriorityFeePerGas||(t.maxPriorityFeePerGas=e.maxPriorityFee),t.maxFeePerGas||(t.maxFeePerGas=e.maxFee),t.gasPrice&&(console.warn("`gasPrice` is not supported on this chain and will be ignored. Use `maxPriorityFeePerGas` and/or `maxFeePerGas` instead."),delete t.gasPrice)}catch(e){throw Error(`Failed to set gas prices from Polygon gas station with error: ${e}.`)}return t}const Wwe=async(t,e)=>{var r,n,i;if(t.type===void 0&&(t.type=2),t.type===2){if(!t.maxFeePerGas||!t.maxPriorityFeePerGas){let s=await e.getFeeData();t.maxFeePerGas||(t.maxFeePerGas=(r=s.maxFeePerGas)==null?void 0:r.toHexString()),t.maxPriorityFeePerGas||(t.maxPriorityFeePerGas=(n=s.maxPriorityFeePerGas)==null?void 0:n.toHexString())}}else if(!t.gasPrice){let s=await e.getFeeData();t.gasPrice=(i=s.gasPrice)==null?void 0:i.toHexString()}return t};async function ak(t,e){if(!t.gasLimit)throw new vE("gasLimit was not successfully set for transaction.");let r=rs(t.gasLimit),n=Re.from(0);if(t.type==2){if(!t.maxFeePerGas)throw new vE("maxFeePerGas was not successfully set for transaction of type 2.");n=rs(t.maxFeePerGas)}else{if(!t.gasPrice)throw new vE("gasPrice was not successfully set for transaction of type 0 or 1.");n=rs(t.gasPrice)}let i=r.mul(n),s=Re.from(0);if(t.chainId&&o4(t.chainId))try{s=await jwe(t,e),i=i.add(s)}catch{}return{totalGasEstimate:i,l1ExecutionFeeEstimate:s}}async function zwe(t,e){try{return(await e.estimateGas(t)).toHexString()}catch(r){let n;if("message"in r&&r.message.includes("insufficient funds")&&(console.warn(`Gas estimation failed with error: ${r}. Retrying gas estimation by omitting the 'value'`),n=await async function({txRequest:i,provider:s}){try{let o={...i,value:void 0};return(await s.estimateGas(o)).toHexString()}catch(o){return console.warn(`Gas estimation failed with error: ${o} when omitting the 'value'`),null}}({txRequest:t,provider:e})),n||(console.warn(`Gas estimation failed with error: ${r}. Retrying gas estimation by omitting the 'from'`),n=await async function({txRequest:i,provider:s}){try{let o={...i,from:void 0};return(await s.estimateGas(o)).toHexString()}catch(o){return console.warn(`Gas estimation failed with error: ${o} when omitting the 'from' address`),null}}({txRequest:t,provider:e})),!n)throw r;return n}}function jK(t){return/^-?0x[a-f0-9]+$/i.test(t)}function Hwe(t){for(let e of["gasLimit","gasPrice","value","maxPriorityFeePerGas","maxFeePerGas"]){let r=t[e];if(r!==void 0&&!function(n){let i=typeof n=="number",s=typeof n=="bigint",o=typeof n=="string"&&jK(n);return i||s||o}(r))throw Error(`Transaction request property '${e}' must be a valid number, bigint, or hex string representing a quantity`)}if(typeof t.chainId!="number")throw Error("Transaction request property 'chainId' must be a number")}async function lk(t,e,r){if(e.chainId=Number(e.chainId),Hwe(e),e.from||(e.from=t),!e.nonce){let n=new Q6(t,r);e.nonce=await n.getTransactionCount("pending")}return e.gasLimit||(e.gas?(e.gasLimit=e.gas,delete e.gas):e.gasLimit=await zwe(e,r)),typeof e.type=="string"&&jK(e.type)&&(e.type=Number(e.type)),[23294,23295].includes(e.chainId)&&(e.type=0),(e=OK(e.chainId)?await Uwe(e):TK(e.chainId)?await Nwe(e,r):o4(e.chainId)?await Owe(e,r):NK(e.chainId)?await Pwe(e,r):await Wwe(e,r)).type===0&&delete e.accessList,e.type!==2&&(delete e.maxPriorityFeePerGas,delete e.maxFeePerGas),e}var MK={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,f||l,h),g=r?r+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},a.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},a.prototype.emit=function(c,u,f,h,p,g){var m=r?r+c:c;if(!this._events[m])return!1;var w=this._events[m],y=arguments.length,E,v;if(w.fn){switch(w.once&&this.removeListener(c,w.fn,void 0,!0),y){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,u),!0;case 3:return w.fn.call(w.context,u,f),!0;case 4:return w.fn.call(w.context,u,f,h),!0;case 5:return w.fn.call(w.context,u,f,h,p),!0;case 6:return w.fn.call(w.context,u,f,h,p,g),!0}for(v=1,E=new Array(y-1);v<y;v++)E[v-1]=arguments[v];w.fn.apply(w.context,E)}else{var b=w.length,$;for(v=0;v<b;v++)switch(w[v].once&&this.removeListener(c,w[v].fn,void 0,!0),y){case 1:w[v].fn.call(w[v].context);break;case 2:w[v].fn.call(w[v].context,u);break;case 3:w[v].fn.call(w[v].context,u,f);break;case 4:w[v].fn.call(w[v].context,u,f,h);break;default:if(!E)for($=1,E=new Array(y-1);$<y;$++)E[$-1]=arguments[$];w[v].fn.apply(w[v].context,E)}}return!0},a.prototype.on=function(c,u,f){return s(this,c,u,f,!1)},a.prototype.once=function(c,u,f){return s(this,c,u,f,!0)},a.prototype.removeListener=function(c,u,f,h){var p=r?r+c:c;if(!this._events[p])return this;if(!u)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===u&&(!h||g.once)&&(!f||g.context===f)&&o(this,p);else{for(var m=0,w=[],y=g.length;m<y;m++)(g[m].fn!==u||h&&!g[m].once||f&&g[m].context!==f)&&w.push(g[m]);w.length?this._events[p]=w.length===1?w[0]:w:o(this,p)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(MK);var qwe=MK.exports;const zy=wc(qwe),Vwe=Object.freeze(Object.defineProperty({__proto__:null,EventEmitter:zy,default:zy},Symbol.toStringTag,{value:"Module"}));let Tb;const Gwe=new Uint8Array(16);function Kwe(){if(!Tb&&(Tb=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Tb))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Tb(Gwe)}const mi=[];for(let t=0;t<256;++t)mi.push((t+256).toString(16).slice(1));function Ywe(t,e=0){return mi[t[e+0]]+mi[t[e+1]]+mi[t[e+2]]+mi[t[e+3]]+"-"+mi[t[e+4]]+mi[t[e+5]]+"-"+mi[t[e+6]]+mi[t[e+7]]+"-"+mi[t[e+8]]+mi[t[e+9]]+"-"+mi[t[e+10]]+mi[t[e+11]]+mi[t[e+12]]+mi[t[e+13]]+mi[t[e+14]]+mi[t[e+15]]}const Zwe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),gj={randomUUID:Zwe};function DK(t,e,r){if(gj.randomUUID&&!t)return gj.randomUUID();t=t||{};const n=t.random||(t.rng||Kwe)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Ywe(n)}const Jwe=new TextEncoder,LK=new TextDecoder,Qwe=t=>{let e=t;typeof e=="string"&&(e=Jwe.encode(e));const r=32768,n=[];for(let i=0;i<e.length;i+=r)n.push(String.fromCharCode.apply(null,e.subarray(i,i+r)));return btoa(n.join(""))},Xwe=t=>Qwe(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),ebe=t=>{const e=atob(t),r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r},tbe=t=>{let e=t;e instanceof Uint8Array&&(e=LK.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return ebe(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class rbe extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var r;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(r=Error.captureStackTrace)===null||r===void 0||r.call(Error,this,this.constructor)}}class $f extends rbe{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}function nbe(t){return typeof t=="object"&&t!==null}function ibe(t){if(!nbe(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}const f5=Xwe,sbe=tbe;function mj(t){if(typeof t!="string")throw new $f("JWTs must use Compact JWS serialization, JWT must be a string");const{1:e,length:r}=t.split(".");if(r===5)throw new $f("Only JWTs using Compact JWS serialization can be decoded");if(r!==3)throw new $f("Invalid JWT");if(!e)throw new $f("JWTs must contain a payload");let n;try{n=sbe(e)}catch{throw new $f("Failed to base64url decode the payload")}let i;try{i=JSON.parse(LK.decode(n))}catch{throw new $f("Failed to parse the decoded payload as JSON")}if(!ibe(i))throw new $f("Invalid JWT Claims Set");return i}/*! js-cookie v3.0.5 | MIT */function Nb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}var obe={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function HC(t,e){function r(i,s,o){if(!(typeof document>"u")){o=Nb({},e,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var l in o)o[l]&&(a+="; "+l,o[l]!==!0&&(a+="="+o[l].split(";")[0]));return document.cookie=i+"="+t.write(s,i)+a}}function n(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var s=document.cookie?document.cookie.split("; "):[],o={},a=0;a<s.length;a++){var l=s[a].split("="),c=l.slice(1).join("=");try{var u=decodeURIComponent(l[0]);if(o[u]=t.read(c,u),i===u)break}catch{}}return i?o[i]:o}}return Object.create({set:r,get:n,remove:function(i,s){r(i,"",Nb({},s,{expires:-1}))},withAttributes:function(i){return HC(this.converter,Nb({},this.attributes,i))},withConverter:function(i){return HC(Nb({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var rd=HC(obe,{path:"/"});const abe={AC:"40123",AD:"312345",AE:"501234567",AF:"701234567",AG:"2684641234",AI:"2642351234",AL:"672123456",AM:"77123456",AO:"923123456",AR:"91123456789",AS:"6847331234",AT:"664123456",AU:"412345678",AW:"5601234",AX:"412345678",AZ:"401234567",BA:"61123456",BB:"2462501234",BD:"1812345678",BE:"470123456",BF:"70123456",BG:"43012345",BH:"36001234",BI:"79561234",BJ:"0195123456",BL:"690001234",BM:"4413701234",BN:"7123456",BO:"71234567",BQ:"3181234",BR:"11961234567",BS:"2423591234",BT:"17123456",BW:"71123456",BY:"294911911",BZ:"6221234",CA:"5062345678",CC:"412345678",CD:"991234567",CF:"70012345",CG:"061234567",CH:"781234567",CI:"0123456789",CK:"71234",CL:"221234567",CM:"671234567",CN:"13123456789",CO:"3211234567",CR:"83123456",CU:"51234567",CV:"9911234",CW:"95181234",CX:"412345678",CY:"96123456",CZ:"601123456",DE:"15123456789",DJ:"77831001",DK:"34412345",DM:"7672251234",DO:"8092345678",DZ:"551234567",EC:"991234567",EE:"51234567",EG:"1001234567",EH:"650123456",ER:"7123456",ES:"612345678",ET:"911234567",FI:"412345678",FJ:"7012345",FK:"51234",FM:"3501234",FO:"211234",FR:"612345678",GA:"06031234",GB:"7400123456",GD:"4734031234",GE:"555123456",GF:"694201234",GG:"7781123456",GH:"231234567",GI:"57123456",GL:"221234",GM:"3012345",GN:"601123456",GP:"690001234",GQ:"222123456",GR:"6912345678",GT:"51234567",GU:"6713001234",GW:"955012345",GY:"6091234",HK:"51234567",HN:"91234567",HR:"921234567",HT:"34101234",HU:"201234567",ID:"812345678",IE:"850123456",IL:"502345678",IM:"7924123456",IN:"8123456789",IO:"3801234",IQ:"7912345678",IR:"9123456789",IS:"6111234",IT:"3123456789",JE:"7797712345",JM:"8762101234",JO:"790123456",JP:"9012345678",KE:"712123456",KG:"700123456",KH:"91234567",KI:"72001234",KM:"3212345",KN:"8697652917",KP:"1921234567",KR:"1020000000",KW:"50012345",KY:"3453231234",KZ:"7710009998",LA:"2023123456",LB:"71123456",LC:"7582845678",LI:"660234567",LK:"712345678",LR:"770123456",LS:"50123456",LT:"61234567",LU:"628123456",LV:"21234567",LY:"912345678",MA:"650123456",MC:"612345678",MD:"62112345",ME:"60123456",MF:"690001234",MG:"321234567",MH:"2351234",MK:"72345678",ML:"65012345",MM:"92123456",MN:"88123456",MO:"66123456",MP:"6702345678",MQ:"696201234",MR:"22123456",MS:"6644923456",MT:"96961234",MU:"52512345",MV:"7712345",MW:"991234567",MX:"2221234567",MY:"123456789",MZ:"821234567",NA:"811234567",NC:"751234",NE:"93123456",NF:"381234",NG:"8021234567",NI:"81234567",NL:"612345678",NO:"40612345",NP:"9841234567",NR:"5551234",NU:"8884012",NZ:"211234567",OM:"92123456",PA:"61234567",PE:"912345678",PF:"87123456",PG:"70123456",PH:"9051234567",PK:"3012345678",PL:"512345678",PM:"551234",PR:"7872345678",PS:"599123456",PT:"912345678",PW:"6201234",PY:"961456789",QA:"33123456",RE:"692123456",RO:"712034567",RS:"601234567",RU:"9123456789",RW:"720123456",SA:"512345678",SB:"7421234",SC:"2510123",SD:"911231234",SE:"701234567",SG:"81234567",SH:"51234",SI:"31234567",SJ:"41234567",SK:"912123456",SL:"25123456",SM:"66661212",SN:"701234567",SO:"71123456",SR:"7412345",SS:"977123456",ST:"9812345",SV:"70123456",SX:"7215205678",SY:"944567890",SZ:"76123456",TA:"8999",TC:"6492311234",TD:"63012345",TG:"90112345",TH:"812345678",TJ:"917123456",TK:"7290",TL:"77212345",TM:"66123456",TN:"20123456",TO:"7715123",TR:"5012345678",TT:"8682911234",TV:"901234",TW:"912345678",TZ:"621234567",UA:"501234567",UG:"712345678",US:"2015550123",UY:"94231234",UZ:"912345678",VA:"3123456789",VC:"7844301234",VE:"4121234567",VG:"2843001234",VI:"3406421234",VN:"912345678",VU:"5912345",WF:"821234",WS:"7212345",XK:"43201234",YE:"712345678",YT:"639012345",ZA:"711234567",ZM:"955123456",ZW:"712345678"},FK={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([457]\\d{6})$|1","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2457]\\d{6})$|1","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"([267]\\d{6})$|1","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:48|5[0-3579]|[6-9])|7(?:20|32|8)|[89]","(?:31|4)6|51|6(?:485|5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[["(?:(?:241|349)0\\d\\d|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4])|[34]\\d\\d)|91(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79]))))\\d{3}|(?:2(?:[0-26-9]\\d|3[0-8]|4[02-9]|5[0135-9])|3(?:[0-3589]\\d|4[0-578]|6[1-9]|7[0-35-9])|7(?:[013-57-9]\\d|2[0-8])|8(?:55|6[0-8]|[78]\\d|9[02-9]))\\d{6}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|2[23]"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","(?:[025-7]\\d|44)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[024-7]"]]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[02-4679]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","(?:01\\d|8)\\d{7}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["0"]]]],BL:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|3[3-7]|5[12]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","8001\\d{5}|(?:[2-467]\\d|50)\\d{6}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[235]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","[1-467]\\d{9,10}|55[0-46-9]\\d{8}|[34]\\d{7}|55\\d{7,8}|(?:5[0-46-9]|[89]\\d)\\d{7,9}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37|86)","300|4(?:0(?:0|20)|370|864)"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([3-8]\\d{6})$|1","242$1",0,"242"],BT:["975","00","[178]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-6]|7[246]|8[2-4]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|[78]"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-9]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","[2-9]\\d{9}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|5[07]|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|7[39])|9(?:0[25]|42))[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:2[125-9]|33|44|66|77|88)|6(?:22|33))[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","(?:(?:[189]|5\\d)\\d|2)\\d{7}|[1-68]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["5"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["60|809"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9(?:10|[2-9])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-8]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","(?:(?:1[03-689]|2\\d)\\d\\d|6)\\d{8}|1\\d{10}|[126]\\d{6}(?:\\d(?:\\d{2})?)?|86\\d{5,6}|(?:[3-579]\\d|8[0-57-9])\\d{5,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]|3(?:[157]|35|49|9[1-68])|4(?:1[124-9]|2[179]|6[47-9]|7|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:07|1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3|4[13]|5[1-5]|7[0-79]|9[0-35-9])|(?:4[35]|59|85)[1-9]","(?:10|2[0-57-9])(?:1[02]|9[56])|8078|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))1","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|80781|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))12","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|807812|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:078|1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\d|79)\\d\\d)|0",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:46|60\\d\\d)\\d{6}|(?:1\\d|[39])\\d{9}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["46"]],["(\\d{3})(\\d{7})","$1 $2",["6|90"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|9[14]"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","(?:[2-7]|8\\d\\d)\\d{7}|[2-47]\\d{6}|[34]\\d{5}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["[56]"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9,10,11,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[03568]","15(?:[0568]|3[13])"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{8})","$1 $2",["1"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d{5})","$1",["20[2-59]"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[68])0|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"],["(\\d)(\\d{4,9})","$1 $2",["(?:19|[2568])[1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,"0|180020",0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0-5])|4(?:(?:[0-5]\\d|70)\\d|69[7-9])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|5[01]))\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[0-3]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","(?:[56]94\\d|7093)\\d{5}|(?:80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]|9[47]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\d{5})$|0|180020","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d|60)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1-9]|5[3-579]|[68][0-689]|7[08]|9\\d)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","80\\d{6}|(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-8]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","(?:[2-8]\\d{3}|9008)\\d{3}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","[2-69]\\d{8}|80\\d{5,7}|[1-79]\\d{7}|6\\d{6}",[7,8,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6|7[245]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","[2-589]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],ID:["62","00[89]","00[1-9]\\d{9,14}|(?:[1-36]|8\\d{5})\\d{6}|00\\d{9}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13,14,15,16,17],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([25-8]\\d{5})$|0|180020","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|8(?:28[235-7]|3))|73179|807(?:1|9[1-3])|(?:1552|6(?:(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689])\\d|8(?:[14-6]\\d|2[0-79]))|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["16|[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["18[06]","18[06]0"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,11}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:43|55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11,12],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]|43"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[03]"]]],0,0,0,0,0,0,[["0(?:669[0-79]\\d{1,6}|831\\d{2,8})|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[2356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}"],["3[2-9]\\d{7,8}|(?:31|43)\\d{8}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],["3[2-8]\\d{9,10}",[11,12]],0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([0-24-8]\\d{5})$|0|180020","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97\\d))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|427|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[47]"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[25-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]","3|4(?:2(?:0|9[02-69])|7(?:0[019]|1))|6[1-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[25-9]"],"0$1"]],"0",0,"(000[2569]\\d{4,6})$|(?:(?:003768)0?)|0","$1"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|[235-9]\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[36]0|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33622|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["3"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-6]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"([2-8]\\d{6})$|1","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:[2457]\\d|33|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["4[67]|[56]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(0-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"0 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(0-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(0-$1)",1]],"0",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|78|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2679]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:[19]|2[2-46-9]|3[3-9])|8(?:0[89]|92)"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:(?:18|4[0679]|5[03])\\d|2(?:[0-25-79]\\d|3[1-578]|4[02-46-8]|8[0235-7])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[014-9]|9[3-9]))\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[016-8]\\d|2[0-8]|5[0-5]))\\d{6}"],["80[0-7]\\d{6}"],["89\\d{7}"],0,0,0,0,["(?:592(?:4[0-2]|93)|80[89]\\d\\d)\\d{4}"]]],MC:["377","00","(?:[3489]|[67]\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[67]"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|3[03-7]|5[0-268]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\d{6})$|0","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["4(?:[2-46]|5[3-5])|5|6(?:[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-5]|(?:60|86)[23]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|452|678|86","[12]|452|6788|86"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","670$1",0,"670"],MQ:["596","00","(?:596\\d|7091)\\d{5}|(?:69|[89]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]|8(?:0[6-9]|[36])"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"([34]\\d{6})$|1","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[34679]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","[2-9]\\d{9}",[10],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"]]],0,0,0,0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[0467]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","(?:20|9\\d)\\d{8}|[78]\\d{9,13}",[10,11,12,13,14],[["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["20[129]"],"0$1"],["(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:222|444|(?:55|8\\d)\\d|666|777|999)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[24-9]"]]]],NU:["683","00","(?:[4-7]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[1289]\\d{9}|50\\d{5}(?:\\d{2,3})?|[27-9]\\d{7,8}|(?:[34]\\d|6[0-35-9])\\d{6}|8\\d{4,6}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|8|90","50(?:[0367]|88)|8|90"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[589]"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}|(?:708|8\\d\\d)\\d{6}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[136]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","00","709\\d{6}|(?:26|[689]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[26-9]"],"0$1"]],"0",0,0,0,0,0,[["26(?:2\\d\\d|3(?:0\\d|1[0-6]))\\d{4}"],["(?:69(?:2\\d\\d|3(?:[06][0-6]|1[0-3]|2[0-2]|3[0-39]|4\\d|5[0-5]|7[0-37]|8[0-8]|9[0-479]))|7092[0-3])\\d{4}"],["80\\d{7}"],["89[1-37-9]\\d{6}"],0,0,0,0,["9(?:399[0-3]|479[0-6]|76(?:2[278]|3[0-37]))\\d{4}"],["8(?:1[019]|2[0156]|84|90)\\d{6}"]]],RO:["40","00","(?:[236-8]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,0,[["336(?:[013-9]\\d|2[013-9])\\d{5}|(?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15-7]|6[0-35-79]|7[1-37-9]))\\d{7}",[10]],["9\\d{9}",[10]],["8(?:0[04]|108\\d{3})\\d{7}"],["80[39]\\d{7}",[10]],["808\\d{7}",[10]]],"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],"0"],SA:["966","00","(?:[15]\\d|800|92)\\d{7}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","[6-9]\\d{6}|[1-6]\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["6[89]|7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","(?:[2489]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10,12],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-9]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[348]|64|79|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[0-35-9]|7[67]|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|[6-8]\\d|90)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-9]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[25-7]\\d{7}|(?:80\\d|900)\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[25-7]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"(5\\d{6})$|1","721$1",0,"721"],SY:["963","00","[1-359]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-4]|5[1-3]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[59]"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"([2-479]\\d{6})$|1","649$1",0,"649"],TD:["235","00|16","(?:22|30|[689]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[236-9]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","(?:[0-57-9]\\d|66)\\d{7}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["44[02-479]|[34]7"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3(?:[1245]|3[12])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["\\d"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","(?:[1-6]\\d|71)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["[67]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|61[06])","5(?:[0-59]|61[06]1)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-46-8]\\d{6})$|1","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["3052(?:0[0-8]|[1-9]\\d)\\d{4}|(?:2742|305[3-9])\\d{6}|(?:472|983)[2-47-9]\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-57-9]|3[1459]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-47-9]|1[02-9]|2[013-79]|3[0-24679]|4[167]|5[0-3]|6[01349]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[0156]|5[01679]|6[0-279]|78|8[0-269])|7(?:0[1-46-8]|1[2-9]|2[04-8]|3[0-247]|4[0378]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[0168]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-3589]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\d{6}"],0,0,0,["305209\\d{4}"]]],UY:["598","0(?:0|1[3-9]\\d)","0004\\d{2,9}|[1249]\\d{7}|2\\d{3,4}|(?:[49]\\d|80)\\d{5}",[4,5,6,7,8,9,10,11,12,13],[["(\\d{4,5})","$1",["21"]],["(\\d{3})(\\d{3,4})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[49]0|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","00","(?:20|33|[5-9]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-9]"]]]],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11,12],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-578]\\d{6})$|1","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["6"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[357-9]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72|8\\d{4})\\d{4}|[89]\\d{5}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[47-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","2\\d{7,8}|3\\d{7,11}|(?:4\\d\\d|[89]00)\\d{5}",[8,9,10,11,12],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2|39"],"0$1"],["(\\d{2})(\\d{7,10})","$1 $2",["3"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","7093\\d{5}|(?:80|9\\d)\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,0,[["269(?:0[0-467]|15|5[0-4]|6\\d|[78]0)\\d{4}"],["(?:639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])|7093[5-7])\\d{4}"],["80\\d{7}"],0,0,0,0,0,["9(?:(?:39|47)8[01]|769\\d)\\d{4}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|[579]\\d|63)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[579]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[235-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"],0,0,0,0,0,0,["2\\d{8}",[9]]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"6\\d{9}|[0-36-9]\\d{8}",[9,10],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-37-9]"]],["(\\d)(\\d{3})(\\d{5,6})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["6\\d{9}|[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,["348[57]\\d{7}",[11]],0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[0-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};function a4(t,e){var r=Array.prototype.slice.call(e);return r.push(FK),t.apply(this,r)}function lbe(){return a4(Zye,arguments)}function Hy(t){return $K.call(this,t,FK)}Hy.prototype=Object.create($K.prototype,{});Hy.prototype.constructor=Hy;function cbe(){return a4(pwe,arguments)}function ck(){return a4(n4,arguments)}function ube(){return a4(gwe,arguments)}const Pb=(t,e)=>lbe(String(t),e),EE=(t,e)=>`+${ck(e)} ${t}`,dbe=t=>`*${t.replaceAll("-","").slice(-4)}`,fbe=t=>new Hy(t),hbe=cbe().map(t=>({code:t,callCode:ck(t)})),pbe=t=>{var r;let e=(r=ube(t,abe))==null?void 0:r.formatInternational();return e==null?void 0:e.substring(e.indexOf(" ")+1)},gbe=t=>{let e=new Hy;e.input(t);let r=e.getCountry()||"US",n=e.getCallingCode()||"1";return{countryCode:r,phone:t.replace("+"+n,"")}},mbe=(t,e=!0)=>t.reduce((r,n)=>({...r,[n]:e}),{});let ybe={buy:"CARD",send:"CRYPTO_ACCOUNT"},wbe={USDC:"2b92315d-eab7-5bef-84fa-089a131333f5",ETH:"d85dce9b-5b73-5c3c-8978-522ce1d1c1b4",BTC:"5b71fc48-3dd3-540c-809b-f8c94d0e68b5",SOL:"4f039497-3af8-5bb3-951c-6df9afa9be1c",POL:"026bcc1e-9163-591c-a709-34dd18b2e7a1"};function bbe({input:t,amount:e,blockchain:r,asset:n,experience:i}){let s=new URL("https://pay.coinbase.com/buy/select-asset");return s.searchParams.set("appId",t.app_id),s.searchParams.set("sessionToken",t.session_token),s.searchParams.set("defaultExperience",i),s.searchParams.set("presetCryptoAmount",e.startsWith(".")?`0${e}`:e),s.searchParams.set("defaultNetwork",r),s.searchParams.set("defaultPaymentMethod",ybe[i]),s.searchParams.set("defaultAsset",wbe[n]),s.searchParams.set("partnerUserId",t.partner_user_id),{url:s}}let vbe=class{async invokeRpc({method:e,params:r}){return await(await fetch(this.cluster.rpcUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:DK(),method:e,params:r})})).json()}async getBalance(e){try{let r=await this.invokeRpc({method:"getBalance",params:[e]});return r.error?null:BigInt(r.result.value)}catch{return null}}async getTokenAccountsByOwner(e,r){var n,i,s,o,a;try{let l=await this.invokeRpc({method:"getTokenAccountsByOwner",params:[e,{mint:r},{encoding:"jsonParsed"}]});if(l.error)return null;let c=(a=(o=(s=(i=(n=l.result.value.at(0))==null?void 0:n.account)==null?void 0:i.data)==null?void 0:s.parsed)==null?void 0:o.info)==null?void 0:a.tokenAmount;return c?{amount:BigInt(c.amount),decimals:c.decimals}:null}catch{return null}}async getAccountInfo(e){var r,n,i;try{let s=await this.invokeRpc({method:"getAccountInfo",params:[e,{encoding:"jsonParsed"}]});if(s.error)return null;let o=(i=(n=(r=s.result.value)==null?void 0:r.data)==null?void 0:n.parsed)==null?void 0:i.info;return o?{decimals:o.decimals}:null}catch{return null}}constructor(e){this.cluster=e}};const xbe="1.2.3";let Js=class qC extends Error{constructor(e,r={}){var o;const n=r.cause instanceof qC?r.cause.details:(o=r.cause)!=null&&o.message?r.cause.message:r.details,i=r.cause instanceof qC&&r.cause.docsPath||r.docsPath,s=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...n?[`Details: ${n}`]:[],`Version: abitype@${xbe}`].join(`
`);super(s),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),r.cause&&(this.cause=r.cause),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.shortMessage=e}};function qu(t,e){const r=t.exec(e);return r==null?void 0:r.groups}const BK=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,UK=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,WK=/^\(.+?\).*?$/,yj=/^tuple(?<array>(\[(\d*)\])*)$/;function VC(t){let e=t.type;if(yj.test(t.type)&&"components"in t){e="(";const r=t.components.length;for(let i=0;i<r;i++){const s=t.components[i];e+=VC(s),i<r-1&&(e+=", ")}const n=qu(yj,t.type);return e+=`)${(n==null?void 0:n.array)||""}`,VC({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function Vp(t){let e="";const r=t.length;for(let n=0;n<r;n++){const i=t[n];e+=VC(i),n!==r-1&&(e+=", ")}return e}function h5(t){var e;return t.type==="function"?`function ${t.name}(${Vp(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${Vp(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${Vp(t.inputs)})`:t.type==="error"?`error ${t.name}(${Vp(t.inputs)})`:t.type==="constructor"?`constructor(${Vp(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const zK=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Ebe(t){return zK.test(t)}function _be(t){return qu(zK,t)}const HK=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Cbe(t){return HK.test(t)}function Abe(t){return qu(HK,t)}const qK=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function Sbe(t){return qK.test(t)}function $be(t){return qu(qK,t)}const VK=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function l4(t){return VK.test(t)}function Ibe(t){return qu(VK,t)}const GK=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function kbe(t){return GK.test(t)}function Tbe(t){return qu(GK,t)}const KK=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Nbe(t){return KK.test(t)}function Pbe(t){return qu(KK,t)}const Rbe=/^receive\(\) external payable$/;function Obe(t){return Rbe.test(t)}const wj=new Set(["memory","indexed","storage","calldata"]),jbe=new Set(["indexed"]),GC=new Set(["calldata","memory","storage"]);class Mbe extends Js{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class Dbe extends Js{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Lbe extends Js{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Fbe extends Js{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class Bbe extends Js{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class Ube extends Js{constructor({param:e,name:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${r}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Wbe extends Js{constructor({param:e,type:r,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${r?` in "${r}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class zbe extends Js{constructor({param:e,type:r,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${r?` in "${r}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${n}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Hbe extends Js{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Z1 extends Js{constructor({signature:e,type:r}){super(`Invalid ${r} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class qbe extends Js{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Vbe extends Js{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Gbe extends Js{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Kbe extends Js{constructor({current:e,depth:r}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${r>0?"opening":"closing"} parentheses.`],details:`Depth "${r}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Ybe(t,e,r){let n="";if(r)for(const i of Object.entries(r)){if(!i)continue;let s="";for(const o of i[1])s+=`[${o.type}${o.name?`:${o.name}`:""}]`;n+=`(${i[0]}{${s}})`}return e?`${e}:${t}${n}`:`${t}${n}`}const _E=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function KC(t,e={}){if(Sbe(t))return Zbe(t,e);if(Cbe(t))return Jbe(t,e);if(Ebe(t))return Qbe(t,e);if(kbe(t))return Xbe(t,e);if(Nbe(t))return eve(t);if(Obe(t))return{type:"receive",stateMutability:"payable"};throw new qbe({signature:t})}function Zbe(t,e={}){const r=$be(t);if(!r)throw new Z1({signature:t,type:"function"});const n=wo(r.parameters),i=[],s=n.length;for(let a=0;a<s;a++)i.push(ku(n[a],{modifiers:GC,structs:e,type:"function"}));const o=[];if(r.returns){const a=wo(r.returns),l=a.length;for(let c=0;c<l;c++)o.push(ku(a[c],{modifiers:GC,structs:e,type:"function"}))}return{name:r.name,type:"function",stateMutability:r.stateMutability??"nonpayable",inputs:i,outputs:o}}function Jbe(t,e={}){const r=Abe(t);if(!r)throw new Z1({signature:t,type:"event"});const n=wo(r.parameters),i=[],s=n.length;for(let o=0;o<s;o++)i.push(ku(n[o],{modifiers:jbe,structs:e,type:"event"}));return{name:r.name,type:"event",inputs:i}}function Qbe(t,e={}){const r=_be(t);if(!r)throw new Z1({signature:t,type:"error"});const n=wo(r.parameters),i=[],s=n.length;for(let o=0;o<s;o++)i.push(ku(n[o],{structs:e,type:"error"}));return{name:r.name,type:"error",inputs:i}}function Xbe(t,e={}){const r=Tbe(t);if(!r)throw new Z1({signature:t,type:"constructor"});const n=wo(r.parameters),i=[],s=n.length;for(let o=0;o<s;o++)i.push(ku(n[o],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:r.stateMutability??"nonpayable",inputs:i}}function eve(t){const e=Pbe(t);if(!e)throw new Z1({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const tve=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,rve=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,nve=/^u?int$/;function ku(t,e){var f,h;const r=Ybe(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(_E.has(r))return _E.get(r);const n=WK.test(t),i=qu(n?rve:tve,t);if(!i)throw new Bbe({param:t});if(i.name&&sve(i.name))throw new Ube({param:t,name:i.name});const s=i.name?{name:i.name}:{},o=i.modifier==="indexed"?{indexed:!0}:{},a=(e==null?void 0:e.structs)??{};let l,c={};if(n){l="tuple";const p=wo(i.type),g=[],m=p.length;for(let w=0;w<m;w++)g.push(ku(p[w],{structs:a}));c={components:g}}else if(i.type in a)l="tuple",c={components:a[i.type]};else if(nve.test(i.type))l=`${i.type}256`;else if(i.type==="address payable")l="address";else if(l=i.type,(e==null?void 0:e.type)!=="struct"&&!YK(l))throw new Lbe({type:l});if(i.modifier){if(!((h=(f=e==null?void 0:e.modifiers)==null?void 0:f.has)!=null&&h.call(f,i.modifier)))throw new Wbe({param:t,type:e==null?void 0:e.type,modifier:i.modifier});if(GC.has(i.modifier)&&!ove(l,!!i.array))throw new zbe({param:t,type:e==null?void 0:e.type,modifier:i.modifier})}const u={type:`${l}${i.array??""}`,...s,...o,...c};return _E.set(r,u),u}function wo(t,e=[],r="",n=0){const i=t.trim().length;for(let s=0;s<i;s++){const o=t[s],a=t.slice(s+1);switch(o){case",":return n===0?wo(a,[...e,r.trim()]):wo(a,e,`${r}${o}`,n);case"(":return wo(a,e,`${r}${o}`,n+1);case")":return wo(a,e,`${r}${o}`,n-1);default:return wo(a,e,`${r}${o}`,n)}}if(r==="")return e;if(n!==0)throw new Kbe({current:r,depth:n});return e.push(r.trim()),e}function YK(t){return t==="address"||t==="bool"||t==="function"||t==="string"||BK.test(t)||UK.test(t)}const ive=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function sve(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||BK.test(t)||UK.test(t)||ive.test(t)}function ove(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function uk(t){const e={},r=t.length;for(let o=0;o<r;o++){const a=t[o];if(!l4(a))continue;const l=Ibe(a);if(!l)throw new Z1({signature:a,type:"struct"});const c=l.properties.split(";"),u=[],f=c.length;for(let h=0;h<f;h++){const g=c[h].trim();if(!g)continue;const m=ku(g,{type:"struct"});u.push(m)}if(!u.length)throw new Vbe({signature:a});e[l.name]=u}const n={},i=Object.entries(e),s=i.length;for(let o=0;o<s;o++){const[a,l]=i[o];n[a]=ZK(l,e)}return n}const ave=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function ZK(t=[],e={},r=new Set){const n=[],i=t.length;for(let s=0;s<i;s++){const o=t[s];if(WK.test(o.type))n.push(o);else{const l=qu(ave,o.type);if(!(l!=null&&l.type))throw new Hbe({abiParameter:o});const{array:c,type:u}=l;if(u in e){if(r.has(u))throw new Gbe({type:u});n.push({...o,type:`tuple${c??""}`,components:ZK(e[u],e,new Set([...r,u]))})}else if(YK(u))n.push(o);else throw new Dbe({type:u})}}return n}function JK(t){const e=uk(t),r=[],n=t.length;for(let i=0;i<n;i++){const s=t[i];l4(s)||r.push(KC(s,e))}return r}function bj(t){let e;if(typeof t=="string")e=KC(t);else{const r=uk(t),n=t.length;for(let i=0;i<n;i++){const s=t[i];if(!l4(s)){e=KC(s,r);break}}}if(!e)throw new Mbe({signature:t});return e}function vj(t){const e=[];if(typeof t=="string"){const r=wo(t),n=r.length;for(let i=0;i<n;i++)e.push(ku(r[i],{modifiers:wj}))}else{const r=uk(t),n=t.length;for(let i=0;i<n;i++){const s=t[i];if(l4(s))continue;const o=wo(s),a=o.length;for(let l=0;l<a;l++)e.push(ku(o[l],{modifiers:wj,structs:r}))}}if(e.length===0)throw new Fbe({params:t});return e}function tt(t,e,r){const n=t[e.name];if(typeof n=="function")return n;const i=t[r];return typeof i=="function"?i:s=>e(t,s)}function Xa(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new xve(t.type);return`${t.name}(${c4(t.inputs,{includeName:e})})`}function c4(t,{includeName:e=!1}={}){return t?t.map(r=>lve(r,{includeName:e})).join(e?", ":","):""}function lve(t,{includeName:e}){return t.type.startsWith("tuple")?`(${c4(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}function el(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function cn(t){return el(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const QK="2.43.3";let Bg={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${QK}`},$e=class YC extends Error{constructor(e,r={}){var a;const n=(()=>{var l;return r.cause instanceof YC?r.cause.details:(l=r.cause)!=null&&l.message?r.cause.message:r.details})(),i=r.cause instanceof YC&&r.cause.docsPath||r.docsPath,s=(a=Bg.getDocsUrl)==null?void 0:a.call(Bg,{...r,docsPath:i}),o=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...n?[`Details: ${n}`]:[],...Bg.version?[`Version: ${Bg.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=QK}walk(e){return XK(this,e)}};function XK(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?XK(t.cause,e):e?null:t}class cve extends $e{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class xj extends $e{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class eY extends $e{constructor({data:e,params:r,size:n}){super([`Data size of ${n} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${c4(r,{includeName:!0})})`,`Data:   ${e} (${n} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=r,this.size=n}}class ew extends $e{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class uve extends $e{constructor({expectedLength:e,givenLength:r,type:n}){super([`ABI encoding array length mismatch for type ${n}.`,`Expected length: ${e}`,`Given length: ${r}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class dve extends $e{constructor({expectedSize:e,value:r}){super(`Size of bytes "${r}" (bytes${cn(r)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class fve extends $e{constructor({expectedLength:e,givenLength:r}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${r}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class hve extends $e{constructor(e,{docsPath:r}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:r,name:"AbiErrorInputsNotFoundError"})}}class Ej extends $e{constructor(e,{docsPath:r}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:r,name:"AbiErrorNotFoundError"})}}class tY extends $e{constructor(e,{docsPath:r}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class pve extends $e{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class gve extends $e{constructor(e,{docsPath:r}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiEventSignatureNotFoundError"})}}class _j extends $e{constructor(e,{docsPath:r}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:r,name:"AbiEventNotFoundError"})}}class c1 extends $e{constructor(e,{docsPath:r}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r,name:"AbiFunctionNotFoundError"})}}class rY extends $e{constructor(e,{docsPath:r}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r,name:"AbiFunctionOutputsNotFoundError"})}}class mve extends $e{constructor(e,{docsPath:r}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiFunctionSignatureNotFoundError"})}}class yve extends $e{constructor(e,r){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${Xa(e.abiItem)}\`, and`,`\`${r.type}\` in \`${Xa(r.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let wve=class extends $e{constructor({expectedSize:e,givenSize:r}){super(`Expected bytes${e}, got bytes${r}.`,{name:"BytesSizeMismatchError"})}};class p5 extends $e{constructor({abiItem:e,data:r,params:n,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${c4(n,{includeName:!0})})`,`Data:   ${r} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=r,this.params=n,this.size=i}}class dk extends $e{constructor({abiItem:e,param:r}){super([`Expected a topic for indexed event parameter${r.name?` "${r.name}"`:""} on event "${Xa(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class bve extends $e{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiEncodingType"})}}class vve extends $e{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiDecodingType"})}}let nY=class extends $e{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class xve extends $e{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class Eve extends $e{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}let iY=class extends $e{constructor({offset:e,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${n}).`,{name:"SliceOffsetOutOfBoundsError"})}},sY=class extends $e{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}};class Cj extends $e{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} is expected to be ${r} ${n} long, but is ${e} ${n} long.`,{name:"InvalidBytesLengthError"})}}function J1(t,{dir:e,size:r=32}={}){return typeof t=="string"?qd(t,{dir:e,size:r}):_ve(t,{dir:e,size:r})}function qd(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new sY({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function _ve(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new sY({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const s=e==="right";n[s?i:r-i-1]=t[s?i:t.length-i-1]}return n}let oY=class extends $e{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}},Cve=class extends $e{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class Ave extends $e{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let Sve=class extends $e{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function Vd(t,{dir:e="left"}={}){let r=typeof t=="string"?t.replace("0x",""):t,n=0;for(let i=0;i<r.length-1&&r[e==="left"?i:r.length-i-1].toString()==="0";i++)n++;return r=e==="left"?r.slice(n):r.slice(0,r.length-n),typeof t=="string"?(r.length===1&&e==="right"&&(r=`${r}0`),`0x${r.length%2===1?`0${r}`:r}`):r}function fl(t,{size:e}){if(cn(t)>e)throw new Sve({givenSize:cn(t),maxSize:e})}function So(t,e={}){const{signed:r}=e;e.size&&fl(t,{size:e.size});const n=BigInt(t);if(!r)return n;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return n<=s?n:n-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function $ve(t,e={}){let r=t;if(e.size&&(fl(r,{size:e.size}),r=Vd(r)),Vd(r)==="0x00")return!1;if(Vd(r)==="0x01")return!0;throw new Ave(r)}function tl(t,e={}){return Number(So(t,e))}const Ive=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function pc(t,e={}){return typeof t=="number"||typeof t=="bigint"?ct(t,e):typeof t=="string"?u1(t,e):typeof t=="boolean"?aY(t,e):Fn(t,e)}function aY(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(fl(r,{size:e.size}),J1(r,{size:e.size})):r}function Fn(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=Ive[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(fl(n,{size:e.size}),J1(n,{dir:"right",size:e.size})):n}function ct(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const l=typeof t=="bigint"?"n":"";throw new oY({max:s?`${s}${l}`:void 0,min:`${o}${l}`,signed:r,size:n,value:`${t}${l}`})}const a=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?J1(a,{size:n}):a}const kve=new TextEncoder;function u1(t,e={}){const r=kve.encode(t);return Fn(r,e)}const Tve=new TextEncoder;function Q1(t,e={}){return typeof t=="number"||typeof t=="bigint"?Pve(t,e):typeof t=="boolean"?Nve(t,e):el(t)?gc(t,e):dh(t,e)}function Nve(t,e={}){const r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(fl(r,{size:e.size}),J1(r,{size:e.size})):r}const $c={zero:48,nine:57,A:65,F:70,a:97,f:102};function Aj(t){if(t>=$c.zero&&t<=$c.nine)return t-$c.zero;if(t>=$c.A&&t<=$c.F)return t-($c.A-10);if(t>=$c.a&&t<=$c.f)return t-($c.a-10)}function gc(t,e={}){let r=t;e.size&&(fl(r,{size:e.size}),r=J1(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const i=n.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const l=Aj(n.charCodeAt(a++)),c=Aj(n.charCodeAt(a++));if(l===void 0||c===void 0)throw new $e(`Invalid byte sequence ("${n[a-2]}${n[a-1]}" in "${n}").`);s[o]=l*16+c}return s}function Pve(t,e){const r=ct(t,e);return gc(r)}function dh(t,e={}){const r=Tve.encode(t);return typeof e.size=="number"?(fl(r,{size:e.size}),J1(r,{dir:"right",size:e.size})):r}const Rb=BigInt(2**32-1),Sj=BigInt(32);function Rve(t,e=!1){return e?{h:Number(t&Rb),l:Number(t>>Sj&Rb)}:{h:Number(t>>Sj&Rb)|0,l:Number(t&Rb)|0}}function Ove(t,e=!1){const r=t.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){const{h:o,l:a}=Rve(t[s],e);[n[s],i[s]]=[o,a]}return[n,i]}const jve=(t,e,r)=>t<<r|e>>>32-r,Mve=(t,e,r)=>e<<r|t>>>32-r,Dve=(t,e,r)=>e<<r-32|t>>>64-r,Lve=(t,e,r)=>t<<r-32|e>>>64-r,$p=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Fve(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function d1(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Nh(t,...e){if(!Fve(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Bve(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");d1(t.outputLen),d1(t.blockLen)}function f1(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function lY(t,e){Nh(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function Uve(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function h1(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function CE(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function gl(t,e){return t<<32-e|t>>>e}const Wve=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function zve(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function Hve(t){for(let e=0;e<t.length;e++)t[e]=zve(t[e]);return t}const $j=Wve?t=>t:Hve;function qve(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function u4(t){return typeof t=="string"&&(t=qve(t)),Nh(t),t}function cY(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];Nh(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}let fk=class{};function uY(t){const e=n=>t().update(u4(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function dY(t=32){if($p&&typeof $p.getRandomValues=="function")return $p.getRandomValues(new Uint8Array(t));if($p&&typeof $p.randomBytes=="function")return Uint8Array.from($p.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const Vve=BigInt(0),Ug=BigInt(1),Gve=BigInt(2),Kve=BigInt(7),Yve=BigInt(256),Zve=BigInt(113),fY=[],hY=[],pY=[];for(let t=0,e=Ug,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],fY.push(2*(5*n+r)),hY.push((t+1)*(t+2)/2%64);let i=Vve;for(let s=0;s<7;s++)e=(e<<Ug^(e>>Kve)*Zve)%Yve,e&Gve&&(i^=Ug<<(Ug<<BigInt(s))-Ug);pY.push(i)}const gY=Ove(pY,!0),Jve=gY[0],Qve=gY[1],Ij=(t,e,r)=>r>32?Dve(t,e,r):jve(t,e,r),kj=(t,e,r)=>r>32?Lve(t,e,r):Mve(t,e,r);function Xve(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=r[l],u=r[l+1],f=Ij(c,u,1)^r[a],h=kj(c,u,1)^r[a+1];for(let p=0;p<50;p+=10)t[o+p]^=f,t[o+p+1]^=h}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=hY[o],l=Ij(i,s,a),c=kj(i,s,a),u=fY[o];i=t[u],s=t[u+1],t[u]=l,t[u+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=Jve[n],t[1]^=Qve[n]}h1(r)}let e3e=class mY extends fk{constructor(e,r,n,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,d1(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Uve(this.state)}clone(){return this._cloneInto()}keccak(){$j(this.state32),Xve(this.state32,this.rounds),$j(this.state32),this.posOut=0,this.pos=0}update(e){f1(this),e=u4(e),Nh(e);const{blockLen:r,state:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){f1(this,!1),Nh(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return d1(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(lY(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,h1(this.state)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new mY(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const t3e=(t,e,r)=>uY(()=>new e3e(e,t,r)),hk=t3e(1,136,256/8);function vi(t,e){const r=e||"hex",n=hk(el(t,{strict:!1})?Q1(t):t);return r==="bytes"?n:pc(n)}const r3e=t=>vi(Q1(t));function n3e(t){return r3e(t)}function i3e(t){let e=!0,r="",n=0,i="",s=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&n++,a===")"&&n--,!!e){if(n===0){if(a===" "&&["event","function",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){t[o-1]!==","&&r!==","&&r!==",("&&(r="",e=!1);continue}i+=a,r+=a}}if(!s)throw new $e("Unable to normalize signature.");return i}const s3e=t=>{const e=typeof t=="string"?t:h5(t);return i3e(e)};function yY(t){return n3e(s3e(t))}const d4=yY;let ef=class extends $e{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},X1=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}};const AE=new X1(8192);function tw(t,e){if(AE.has(`${t}.${e}`))return AE.get(`${t}.${e}`);const r=t.substring(2).toLowerCase(),n=vi(dh(r),"bytes"),i=r.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(n[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return AE.set(`${t}.${e}`,s),s}function f4(t,e){if(!ha(t,{strict:!1}))throw new ef({address:t});return tw(t,e)}const o3e=/^0x[a-fA-F0-9]{40}$/,SE=new X1(8192);function ha(t,e){const{strict:r=!0}=e??{},n=`${t}.${r}`;if(SE.has(n))return SE.get(n);const i=o3e.test(t)?t.toLowerCase()===t?!0:r?tw(t)===t:!0:!1;return SE.set(n,i),i}function pa(t){return typeof t[0]=="string"?eg(t):a3e(t)}function a3e(t){let e=0;for(const i of t)e+=i.length;const r=new Uint8Array(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}function eg(t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}function p1(t,e,r,{strict:n}={}){return el(t,{strict:!1})?ZC(t,e,r,{strict:n}):vY(t,e,r,{strict:n})}function wY(t,e){if(typeof e=="number"&&e>0&&e>cn(t)-1)throw new iY({offset:e,position:"start",size:cn(t)})}function bY(t,e,r){if(typeof e=="number"&&typeof r=="number"&&cn(t)!==r-e)throw new iY({offset:r,position:"end",size:cn(t)})}function vY(t,e,r,{strict:n}={}){wY(t,e);const i=t.slice(e,r);return n&&bY(i,e,r),i}function ZC(t,e,r,{strict:n}={}){wY(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(r??t.length)*2)}`;return n&&bY(i,e,r),i}const l3e=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,xY=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function rp(t,e){if(t.length!==e.length)throw new fve({expectedLength:t.length,givenLength:e.length});const r=c3e({params:t,values:e}),n=gk(r);return n.length===0?"0x":n}function c3e({params:t,values:e}){const r=[];for(let n=0;n<t.length;n++)r.push(pk({param:t[n],value:e[n]}));return r}function pk({param:t,value:e}){const r=mk(t.type);if(r){const[n,i]=r;return d3e(e,{length:n,param:{...t,type:i}})}if(t.type==="tuple")return m3e(e,{param:t});if(t.type==="address")return u3e(e);if(t.type==="bool")return h3e(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const n=t.type.startsWith("int"),[,,i="256"]=xY.exec(t.type)??[];return p3e(e,{signed:n,size:Number(i)})}if(t.type.startsWith("bytes"))return f3e(e,{param:t});if(t.type==="string")return g3e(e);throw new bve(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function gk(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?e+=32:e+=cn(a)}const r=[],n=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?(r.push(ct(e+i,{size:32})),n.push(a),i+=cn(a)):r.push(a)}return pa([...r,...n])}function u3e(t){if(!ha(t))throw new ef({address:t});return{dynamic:!1,encoded:qd(t.toLowerCase())}}function d3e(t,{length:e,param:r}){const n=e===null;if(!Array.isArray(t))throw new nY(t);if(!n&&t.length!==e)throw new uve({expectedLength:e,givenLength:t.length,type:`${r.type}[${e}]`});let i=!1;const s=[];for(let o=0;o<t.length;o++){const a=pk({param:r,value:t[o]});a.dynamic&&(i=!0),s.push(a)}if(n||i){const o=gk(s);if(n){const a=ct(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?pa([a,o]):a}}if(i)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:pa(s.map(({encoded:o})=>o))}}function f3e(t,{param:e}){const[,r]=e.type.split("bytes"),n=cn(t);if(!r){let i=t;return n%32!==0&&(i=qd(i,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:pa([qd(ct(n,{size:32})),i])}}if(n!==Number.parseInt(r,10))throw new dve({expectedSize:Number.parseInt(r,10),value:t});return{dynamic:!1,encoded:qd(t,{dir:"right"})}}function h3e(t){if(typeof t!="boolean")throw new $e(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:qd(aY(t))}}function p3e(t,{signed:e,size:r=256}){if(typeof r=="number"){const n=2n**(BigInt(r)-(e?1n:0n))-1n,i=e?-n-1n:0n;if(t>n||t<i)throw new oY({max:n.toString(),min:i.toString(),signed:e,size:r/8,value:t.toString()})}return{dynamic:!1,encoded:ct(t,{size:32,signed:e})}}function g3e(t){const e=u1(t),r=Math.ceil(cn(e)/32),n=[];for(let i=0;i<r;i++)n.push(qd(p1(e,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:pa([qd(ct(cn(e),{size:32})),...n])}}function m3e(t,{param:e}){let r=!1;const n=[];for(let i=0;i<e.components.length;i++){const s=e.components[i],o=Array.isArray(t)?i:s.name,a=pk({param:s,value:t[o]});n.push(a),a.dynamic&&(r=!0)}return{dynamic:r,encoded:r?gk(n):pa(n.map(({encoded:i})=>i))}}function mk(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const rw=t=>p1(yY(t),0,4);function np(t){const{abi:e,args:r=[],name:n}=t,i=el(n,{strict:!1}),s=e.filter(a=>i?a.type==="function"?rw(a)===n:a.type==="event"?d4(a)===n:!1:"name"in a&&a.name===n);if(s.length===0)return;if(s.length===1)return s[0];let o;for(const a of s){if(!("inputs"in a))continue;if(!r||r.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==r.length)continue;if(r.every((c,u)=>{const f="inputs"in a&&a.inputs[u];return f?JC(c,f):!1})){if(o&&"inputs"in o&&o.inputs){const c=EY(a.inputs,o.inputs,r);if(c)throw new yve({abiItem:a,type:c[0]},{abiItem:o,type:c[1]})}o=a}}return o||s[0]}function JC(t,e){const r=typeof t,n=e.type;switch(n){case"address":return ha(t,{strict:!1});case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return n==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>JC(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?r==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)?Array.isArray(t)&&t.every(i=>JC(i,{...e,type:n.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function EY(t,e,r){for(const n in t){const i=t[n],s=e[n];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return EY(i.components,s.components,r[n]);const o=[i.type,s.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?ha(r[n],{strict:!1}):o.includes("address")&&o.includes("bytes")?ha(r[n],{strict:!1}):!1)return o}}const Tj="/docs/contract/encodeEventTopics";function nw(t){var l;const{abi:e,eventName:r,args:n}=t;let i=e[0];if(r){const c=np({abi:e,name:r});if(!c)throw new _j(r,{docsPath:Tj});i=c}if(i.type!=="event")throw new _j(void 0,{docsPath:Tj});const s=Xa(i),o=d4(s);let a=[];if(n&&"inputs"in i){const c=(l=i.inputs)==null?void 0:l.filter(f=>"indexed"in f&&f.indexed),u=Array.isArray(n)?n:Object.values(n).length>0?(c==null?void 0:c.map(f=>n[f.name]))??[]:[];u.length>0&&(a=(c==null?void 0:c.map((f,h)=>Array.isArray(u[h])?u[h].map((p,g)=>Nj({param:f,value:u[h][g]})):typeof u[h]<"u"&&u[h]!==null?Nj({param:f,value:u[h]}):null))??[])}return[o,...a]}function Nj({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return vi(Q1(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new Eve(t.type);return rp([t],[e])}function h4(t,{method:e}){var n,i;const r={};return t.transport.type==="fallback"&&((i=(n=t.transport).onResponse)==null||i.call(n,({method:s,response:o,status:a,transport:l})=>{a==="success"&&e===s&&(r[o]=l.request)})),s=>r[s]||t.request}async function _Y(t,e){const{address:r,abi:n,args:i,eventName:s,fromBlock:o,strict:a,toBlock:l}=e,c=h4(t,{method:"eth_newFilter"}),u=s?nw({abi:n,args:i,eventName:s}):void 0,f=await t.request({method:"eth_newFilter",params:[{address:r,fromBlock:typeof o=="bigint"?ct(o):o,toBlock:typeof l=="bigint"?ct(l):l,topics:u}]});return{abi:n,args:i,eventName:s,id:f,request:c(f),strict:!!a,type:"event"}}function Kr(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const Pj="/docs/contract/encodeFunctionData";function y3e(t){const{abi:e,args:r,functionName:n}=t;let i=e[0];if(n){const s=np({abi:e,args:r,name:n});if(!s)throw new c1(n,{docsPath:Pj});i=s}if(i.type!=="function")throw new c1(void 0,{docsPath:Pj});return{abi:[i],functionName:rw(Xa(i))}}function Qs(t){const{args:e}=t,{abi:r,functionName:n}=(()=>{var a;return t.abi.length===1&&((a=t.functionName)!=null&&a.startsWith("0x"))?t:y3e(t)})(),i=r[0],s=n,o="inputs"in i&&i.inputs?rp(i.inputs,e??[]):void 0;return eg([s,o??"0x"])}const w3e={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},CY={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},b3e={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};let Rj=class extends $e{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}},AY=class extends $e{constructor({length:e,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}},v3e=class extends $e{constructor({count:e,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}};const x3e={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new v3e({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new AY({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new Rj({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new Rj({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const r=e??this.position;return this.assertPosition(r+t-1),this.bytes.subarray(r,r+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const r=this.inspectBytes(t);return this.position+=e??t,r},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function yk(t,{recursiveReadLimit:e=8192}={}){const r=Object.create(x3e);return r.bytes=t,r.dataView=new DataView(t.buffer??t,t.byteOffset,t.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=e,r}function E3e(t,e={}){typeof e.size<"u"&&fl(t,{size:e.size});const r=Fn(t,e);return So(r,e)}function _3e(t,e={}){let r=t;if(typeof e.size<"u"&&(fl(r,{size:e.size}),r=Vd(r)),r.length>1||r[0]>1)throw new Cve(r);return!!r[0]}function pu(t,e={}){typeof e.size<"u"&&fl(t,{size:e.size});const r=Fn(t,e);return tl(r,e)}function C3e(t,e={}){let r=t;return typeof e.size<"u"&&(fl(r,{size:e.size}),r=Vd(r,{dir:"right"})),new TextDecoder().decode(r)}function tg(t,e){const r=typeof e=="string"?gc(e):e,n=yk(r);if(cn(r)===0&&t.length>0)throw new ew;if(cn(e)&&cn(e)<32)throw new eY({data:typeof e=="string"?e:Fn(e),params:t,size:cn(e)});let i=0;const s=[];for(let o=0;o<t.length;++o){const a=t[o];n.setPosition(i);const[l,c]=O0(n,a,{staticPosition:0});i+=c,s.push(l)}return s}function O0(t,e,{staticPosition:r}){const n=mk(e.type);if(n){const[i,s]=n;return S3e(t,{...e,type:s},{length:i,staticPosition:r})}if(e.type==="tuple")return T3e(t,e,{staticPosition:r});if(e.type==="address")return A3e(t);if(e.type==="bool")return $3e(t);if(e.type.startsWith("bytes"))return I3e(t,e,{staticPosition:r});if(e.type.startsWith("uint")||e.type.startsWith("int"))return k3e(t,e);if(e.type==="string")return N3e(t,{staticPosition:r});throw new vve(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const Oj=32,QC=32;function A3e(t){const e=t.readBytes(32);return[tw(Fn(vY(e,-20))),32]}function S3e(t,e,{length:r,staticPosition:n}){if(!r){const o=pu(t.readBytes(QC)),a=n+o,l=a+Oj;t.setPosition(a);const c=pu(t.readBytes(Oj)),u=qy(e);let f=0;const h=[];for(let p=0;p<c;++p){t.setPosition(l+(u?p*32:f));const[g,m]=O0(t,e,{staticPosition:l});f+=m,h.push(g)}return t.setPosition(n+32),[h,32]}if(qy(e)){const o=pu(t.readBytes(QC)),a=n+o,l=[];for(let c=0;c<r;++c){t.setPosition(a+c*32);const[u]=O0(t,e,{staticPosition:a});l.push(u)}return t.setPosition(n+32),[l,32]}let i=0;const s=[];for(let o=0;o<r;++o){const[a,l]=O0(t,e,{staticPosition:n+i});i+=l,s.push(a)}return[s,i]}function $3e(t){return[_3e(t.readBytes(32),{size:32}),32]}function I3e(t,e,{staticPosition:r}){const[n,i]=e.type.split("bytes");if(!i){const o=pu(t.readBytes(32));t.setPosition(r+o);const a=pu(t.readBytes(32));if(a===0)return t.setPosition(r+32),["0x",32];const l=t.readBytes(a);return t.setPosition(r+32),[Fn(l),32]}return[Fn(t.readBytes(Number.parseInt(i,10),32)),32]}function k3e(t,e){const r=e.type.startsWith("int"),n=Number.parseInt(e.type.split("int")[1]||"256",10),i=t.readBytes(32);return[n>48?E3e(i,{signed:r}):pu(i,{signed:r}),32]}function T3e(t,e,{staticPosition:r}){const n=e.components.length===0||e.components.some(({name:o})=>!o),i=n?[]:{};let s=0;if(qy(e)){const o=pu(t.readBytes(QC)),a=r+o;for(let l=0;l<e.components.length;++l){const c=e.components[l];t.setPosition(a+s);const[u,f]=O0(t,c,{staticPosition:a});s+=f,i[n?l:c==null?void 0:c.name]=u}return t.setPosition(r+32),[i,32]}for(let o=0;o<e.components.length;++o){const a=e.components[o],[l,c]=O0(t,a,{staticPosition:r});i[n?o:a==null?void 0:a.name]=l,s+=c}return[i,s]}function N3e(t,{staticPosition:e}){const r=pu(t.readBytes(32)),n=e+r;t.setPosition(n);const i=pu(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const s=t.readBytes(i,32),o=C3e(Vd(s));return t.setPosition(e+32),[o,32]}function qy(t){var n;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(n=t.components)==null?void 0:n.some(qy);const r=mk(t.type);return!!(r&&qy({...t,type:r[1]}))}function P3e(t){const{abi:e,data:r}=t,n=p1(r,0,4);if(n==="0x")throw new ew;const s=[...e||[],CY,b3e].find(o=>o.type==="error"&&n===rw(Xa(o)));if(!s)throw new tY(n,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?tg(s.inputs,p1(r,4)):void 0,errorName:s.name}}const Dn=(t,e,r)=>JSON.stringify(t,(n,i)=>typeof i=="bigint"?i.toString():i,r);function SY({abiItem:t,args:e,includeFunctionName:r=!0,includeName:n=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${r?t.name:""}(${t.inputs.map((i,s)=>`${n&&i.name?`${i.name}: `:""}${typeof e[s]=="object"?Dn(e[s]):e[s]}`).join(", ")})`}const $Y={gwei:9,wei:18},R3e={ether:-9,wei:9};function Vy(t,e){let r=t.toString();const n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(e,"0");let[i,s]=[r.slice(0,r.length-e),r.slice(r.length-e)];return s=s.replace(/(0+)$/,""),`${n?"-":""}${i||"0"}${s?`.${s}`:""}`}function iw(t,e="wei"){return Vy(t,$Y[e])}function Hs(t,e="wei"){return Vy(t,R3e[e])}class O3e extends $e{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class j3e extends $e{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function jj(t){return t.reduce((e,{slot:r,value:n})=>`${e}        ${r}: ${n}
`,"")}function M3e(t){return t.reduce((e,{address:r,...n})=>{let i=`${e}    ${r}:
`;return n.nonce&&(i+=`      nonce: ${n.nonce}
`),n.balance&&(i+=`      balance: ${n.balance}
`),n.code&&(i+=`      code: ${n.code}
`),n.state&&(i+=`      state:
`,i+=jj(n.state)),n.stateDiff&&(i+=`      stateDiff:
`,i+=jj(n.stateDiff)),i},`  State Override:
`).slice(0,-1)}function sw(t){const e=Object.entries(t).map(([n,i])=>i===void 0||i===!1?null:[n,i]).filter(Boolean),r=e.reduce((n,[i])=>Math.max(n,i.length),0);return e.map(([n,i])=>`  ${`${n}:`.padEnd(r+1)}  ${i}`).join(`
`)}class D3e extends $e{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",sw(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class L3e extends $e{constructor(e,{account:r,docsPath:n,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:u,to:f,value:h}){var g;const p=sw({chain:i&&`${i==null?void 0:i.name} (id: ${i==null?void 0:i.id})`,from:r==null?void 0:r.address,to:f,value:typeof h<"u"&&`${iw(h)} ${((g=i==null?void 0:i.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${Hs(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${Hs(l)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${Hs(c)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",p].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class IY extends $e{constructor({blockHash:e,blockNumber:r,blockTag:n,hash:i,index:s}){let o="Transaction";n&&s!==void 0&&(o=`Transaction at block time "${n}" at index "${s}"`),e&&s!==void 0&&(o=`Transaction at block hash "${e}" at index "${s}"`),r&&s!==void 0&&(o=`Transaction at block number "${r}" at index "${s}"`),i&&(o=`Transaction with hash "${i}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class kY extends $e{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class TY extends $e{constructor({receipt:e}){super(`Transaction with hash "${e.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=e}}class F3e extends $e{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const B3e=t=>t,wk=t=>t;class NY extends $e{constructor(e,{account:r,docsPath:n,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:u,to:f,value:h,stateOverride:p}){var w;const g=r?Kr(r):void 0;let m=sw({from:g==null?void 0:g.address,to:f,value:typeof h<"u"&&`${iw(h)} ${((w=i==null?void 0:i.nativeCurrency)==null?void 0:w.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${Hs(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${Hs(l)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${Hs(c)} gwei`,nonce:u});p&&(m+=`
${M3e(p)}`),super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",m].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class PY extends $e{constructor(e,{abi:r,args:n,contractAddress:i,docsPath:s,functionName:o,sender:a}){const l=np({abi:r,args:n,name:o}),c=l?SY({abiItem:l,args:n,includeFunctionName:!1,includeName:!1}):void 0,u=l?Xa(l,{includeName:!0}):void 0,f=sw({address:i&&B3e(i),function:u,args:c&&c!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${c}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:s,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],f&&"Contract Call:",f].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=r,this.args=n,this.cause=e,this.contractAddress=i,this.functionName=o,this.sender=a}}class XC extends $e{constructor({abi:e,data:r,functionName:n,message:i}){let s,o,a,l;if(r&&r!=="0x")try{o=P3e({abi:e,data:r});const{abiItem:u,errorName:f,args:h}=o;if(f==="Error")l=h[0];else if(f==="Panic"){const[p]=h;l=w3e[p]}else{const p=u?Xa(u,{includeName:!0}):void 0,g=u&&h?SY({abiItem:u,args:h,includeFunctionName:!1,includeName:!1}):void 0;a=[p?`Error: ${p}`:"",g&&g!=="()"?`       ${[...Array((f==null?void 0:f.length)??0).keys()].map(()=>" ").join("")}${g}`:""]}}catch(u){s=u}else i&&(l=i);let c;s instanceof tY&&(c=s.signature,a=[`Unable to decode signature "${c}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${c}.`]),super(l&&l!=="execution reverted"||c?[`The contract function "${n}" reverted with the following ${c?"signature":"reason"}:`,l||c].join(`
`):`The contract function "${n}" reverted.`,{cause:s,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=r,this.reason=l,this.signature=c}}class U3e extends $e{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class W3e extends $e{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class p4 extends $e{constructor({data:e,message:r}){super(r||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}class Wm extends $e{constructor({body:e,cause:r,details:n,headers:i,status:s,url:o}){super("HTTP request failed.",{cause:r,details:n,metaMessages:[s&&`Status: ${s}`,`URL: ${wk(o)}`,e&&`Request body: ${Dn(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=o}}class bk extends $e{constructor({body:e,error:r,url:n}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${wk(n)}`,`Request body: ${Dn(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code,this.data=r.data,this.url=n}}class Mj extends $e{constructor({body:e,url:r}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${wk(r)}`,`Request body: ${Dn(e)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=r}}const z3e=-1;class Xs extends $e{constructor(e,{code:r,docsPath:n,metaMessages:i,name:s,shortMessage:o}){super(o,{cause:e,docsPath:n,metaMessages:i||(e==null?void 0:e.metaMessages),name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof bk?e.code:r??z3e}}class jo extends Xs{constructor(e,r){super(e,r),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}}class Gy extends Xs{constructor(e){super(e,{code:Gy.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Gy,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Ky extends Xs{constructor(e){super(e,{code:Ky.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Ky,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Yy extends Xs{constructor(e,{method:r}={}){super(e,{code:Yy.code,name:"MethodNotFoundRpcError",shortMessage:`The method${r?` "${r}"`:""} does not exist / is not available.`})}}Object.defineProperty(Yy,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Zy extends Xs{constructor(e){super(e,{code:Zy.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Zy,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Ph extends Xs{constructor(e){super(e,{code:Ph.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Ph,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class tf extends Xs{constructor(e){super(e,{code:tf.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(tf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Jy extends Xs{constructor(e){super(e,{code:Jy.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Jy,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Qy extends Xs{constructor(e){super(e,{code:Qy.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Qy,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Xy extends Xs{constructor(e){super(e,{code:Xy.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Xy,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Qf extends Xs{constructor(e,{method:r}={}){super(e,{code:Qf.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${r?` "${r}"`:""} is not supported.`})}}Object.defineProperty(Qf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class g1 extends Xs{constructor(e){super(e,{code:g1.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(g1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class e2 extends Xs{constructor(e){super(e,{code:e2.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(e2,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class j0 extends jo{constructor(e){super(e,{code:j0.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(j0,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class t2 extends jo{constructor(e){super(e,{code:t2.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(t2,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class r2 extends jo{constructor(e,{method:r}={}){super(e,{code:r2.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${r?` " ${r}"`:""}.`})}}Object.defineProperty(r2,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class n2 extends jo{constructor(e){super(e,{code:n2.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(n2,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class i2 extends jo{constructor(e){super(e,{code:i2.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(i2,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class s2 extends jo{constructor(e){super(e,{code:s2.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(s2,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class m1 extends jo{constructor(e){super(e,{code:m1.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(m1,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class o2 extends jo{constructor(e){super(e,{code:o2.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(o2,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class a2 extends jo{constructor(e){super(e,{code:a2.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(a2,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class l2 extends jo{constructor(e){super(e,{code:l2.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(l2,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class c2 extends jo{constructor(e){super(e,{code:c2.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(c2,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class u2 extends jo{constructor(e){super(e,{code:u2.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(u2,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class y1 extends jo{constructor(e){super(e,{code:y1.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(y1,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class H3e extends Xs{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const q3e=3;function Rh(t,{abi:e,address:r,args:n,docsPath:i,functionName:s,sender:o}){const a=t instanceof p4?t:t instanceof $e?t.walk(g=>"data"in g)||t.walk():{},{code:l,data:c,details:u,message:f,shortMessage:h}=a,p=t instanceof ew?new U3e({functionName:s}):[q3e,Ph.code].includes(l)&&(c||u||f||h)||l===tf.code&&u==="execution reverted"&&c?new XC({abi:e,data:typeof c=="object"?c.data:c,functionName:s,message:a instanceof bk?u:h??f}):t;return new PY(p,{abi:e,args:n,contractAddress:r,docsPath:i,functionName:s,sender:o})}function V3e(t){const e=vi(`0x${t.substring(4)}`).substring(26);return tw(`0x${e}`)}async function G3e({hash:t,signature:e}){const r=el(t)?t:pc(t),{secp256k1:n}=await hu(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>b8e);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:c,s:u,v:f,yParity:h}=e,p=Number(h??f),g=Dj(p);return new n.Signature(So(c),So(u)).addRecoveryBit(g)}const o=el(e)?e:pc(e);if(cn(o)!==65)throw new Error("invalid signature length");const a=tl(`0x${o.slice(130)}`),l=Dj(a);return n.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(l)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function Dj(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function RY({hash:t,signature:e}){return V3e(await G3e({hash:t,signature:e}))}function K3e(t,e="hex"){const r=OY(t),n=yk(new Uint8Array(r.length));return r.encode(n),e==="hex"?Fn(n.bytes):n.bytes}function OY(t){return Array.isArray(t)?Y3e(t.map(e=>OY(e))):Z3e(t)}function Y3e(t){const e=t.reduce((i,s)=>i+s.length,0),r=jY(e);return{length:e<=55?1+e:1+r+e,encode(i){e<=55?i.pushByte(192+e):(i.pushByte(247+r),r===1?i.pushUint8(e):r===2?i.pushUint16(e):r===3?i.pushUint24(e):i.pushUint32(e));for(const{encode:s}of t)s(i)}}}function Z3e(t){const e=typeof t=="string"?gc(t):t,r=jY(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+r+e.length,encode(i){e.length===1&&e[0]<128?i.pushBytes(e):e.length<=55?(i.pushByte(128+e.length),i.pushBytes(e)):(i.pushByte(183+r),r===1?i.pushUint8(e.length):r===2?i.pushUint16(e.length):r===3?i.pushUint24(e.length):i.pushUint32(e.length),i.pushBytes(e))}}}function jY(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new $e("Length is too large.")}function J3e(t){const{chainId:e,nonce:r,to:n}=t,i=t.contractAddress??t.address,s=vi(eg(["0x05",K3e([e?ct(e):"0x",i,r?ct(r):"0x"])]));return n==="bytes"?gc(s):s}async function g4(t){const{authorization:e,signature:r}=t;return RY({hash:J3e(e),signature:r??e})}class Q3e extends $e{constructor(e,{account:r,docsPath:n,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:u,to:f,value:h}){var g;const p=sw({from:r==null?void 0:r.address,to:f,value:typeof h<"u"&&`${iw(h)} ${((g=i==null?void 0:i.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${Hs(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${Hs(l)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${Hs(c)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",p].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class d0 extends $e{constructor({cause:e,message:r}={}){var i;const n=(i=r==null?void 0:r.replace("execution reverted: ",""))==null?void 0:i.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(d0,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(d0,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted|gas required exceeds allowance/});class g5 extends $e{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${Hs(r)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(g5,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class eA extends $e{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${Hs(r)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(eA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class tA extends $e{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(tA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class rA extends $e{constructor({cause:e,nonce:r}={}){super([`Nonce provided for the transaction ${r?`(${r}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(rA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class nA extends $e{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(nA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class iA extends $e{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(iA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class sA extends $e{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(sA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class oA extends $e{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(oA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class aA extends $e{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(aA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class m5 extends $e{constructor({cause:e,maxPriorityFeePerGas:r,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${r?` = ${Hs(r)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${Hs(n)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(m5,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class ow extends $e{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function m4(t,e){const r=(t.details||"").toLowerCase(),n=t instanceof $e?t.walk(i=>(i==null?void 0:i.code)===d0.code):t;return n instanceof $e?new d0({cause:t,message:n.details}):d0.nodeMessage.test(r)?new d0({cause:t,message:t.details}):g5.nodeMessage.test(r)?new g5({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):eA.nodeMessage.test(r)?new eA({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):tA.nodeMessage.test(r)?new tA({cause:t,nonce:e==null?void 0:e.nonce}):rA.nodeMessage.test(r)?new rA({cause:t,nonce:e==null?void 0:e.nonce}):nA.nodeMessage.test(r)?new nA({cause:t,nonce:e==null?void 0:e.nonce}):iA.nodeMessage.test(r)?new iA({cause:t}):sA.nodeMessage.test(r)?new sA({cause:t,gas:e==null?void 0:e.gas}):oA.nodeMessage.test(r)?new oA({cause:t,gas:e==null?void 0:e.gas}):aA.nodeMessage.test(r)?new aA({cause:t}):m5.nodeMessage.test(r)?new m5({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new ow({cause:t})}function X3e(t,{docsPath:e,...r}){const n=(()=>{const i=m4(t,r);return i instanceof ow?t:i})();return new Q3e(n,{docsPath:e,...r})}function rg(t,{format:e}){if(!e)return{};const r={};function n(s){const o=Object.keys(s);for(const a of o)a in t&&(r[a]=t[a]),s[a]&&typeof s[a]=="object"&&!Array.isArray(s[a])&&n(s[a])}const i=e(t||{});return n(i),r}const e5e={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function gf(t,e){const r={};return typeof t.authorizationList<"u"&&(r.authorizationList=t5e(t.authorizationList)),typeof t.accessList<"u"&&(r.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(r.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?r.blobs=t.blobs.map(n=>Fn(n)):r.blobs=t.blobs),typeof t.data<"u"&&(r.data=t.data),t.account&&(r.from=t.account.address),typeof t.from<"u"&&(r.from=t.from),typeof t.gas<"u"&&(r.gas=ct(t.gas)),typeof t.gasPrice<"u"&&(r.gasPrice=ct(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(r.maxFeePerBlobGas=ct(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(r.maxFeePerGas=ct(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(r.maxPriorityFeePerGas=ct(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(r.nonce=ct(t.nonce)),typeof t.to<"u"&&(r.to=t.to),typeof t.type<"u"&&(r.type=e5e[t.type]),typeof t.value<"u"&&(r.value=ct(t.value)),r}function t5e(t){return t.map(e=>({address:e.address,r:e.r?ct(BigInt(e.r)):e.r,s:e.s?ct(BigInt(e.s)):e.s,chainId:ct(e.chainId),nonce:ct(e.nonce),...typeof e.yParity<"u"?{yParity:ct(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:ct(e.v)}:{}}))}function Lj(t){if(!(!t||t.length===0))return t.reduce((e,{slot:r,value:n})=>{if(r.length!==66)throw new Cj({size:r.length,targetSize:66,type:"hex"});if(n.length!==66)throw new Cj({size:n.length,targetSize:66,type:"hex"});return e[r]=n,e},{})}function r5e(t){const{balance:e,nonce:r,state:n,stateDiff:i,code:s}=t,o={};if(s!==void 0&&(o.code=s),e!==void 0&&(o.balance=ct(e)),r!==void 0&&(o.nonce=ct(r)),n!==void 0&&(o.state=Lj(n)),i!==void 0){if(o.state)throw new j3e;o.stateDiff=Lj(i)}return o}function vk(t){if(!t)return;const e={};for(const{address:r,...n}of t){if(!ha(r,{strict:!1}))throw new ef({address:r});if(e[r])throw new O3e({address:r});e[r]=r5e(n)}return e}const n5e=2n**256n-1n;function Vu(t){const{account:e,maxFeePerGas:r,maxPriorityFeePerGas:n,to:i}=t,s=e?Kr(e):void 0;if(s&&!ha(s.address))throw new ef({address:s.address});if(i&&!ha(i))throw new ef({address:i});if(r&&r>n5e)throw new g5({maxFeePerGas:r});if(n&&r&&n>r)throw new m5({maxFeePerGas:r,maxPriorityFeePerGas:n})}class MY extends $e{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class xk extends $e{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class i5e extends $e{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Hs(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class DY extends $e{constructor({blockHash:e,blockNumber:r}){let n="Block";e&&(n=`Block at hash "${e}"`),r&&(n=`Block at number "${r}"`),super(`${n} could not be found.`,{name:"BlockNotFoundError"})}}const LY={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Ek(t,e){const r={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?tl(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?tl(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?LY[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(r.authorizationList=s5e(t.authorizationList)),r.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof r.v=="bigint"){if(r.v===0n||r.v===27n)return 0;if(r.v===1n||r.v===28n)return 1;if(r.v>=35n)return r.v%2n===0n?1:0}})(),r.type==="legacy"&&(delete r.accessList,delete r.maxFeePerBlobGas,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas,delete r.yParity),r.type==="eip2930"&&(delete r.maxFeePerBlobGas,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas),r.type==="eip1559"&&delete r.maxFeePerBlobGas,r}function s5e(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function FY(t,e){const r=(t.transactions??[]).map(n=>typeof n=="string"?n:Ek(n));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:r,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}async function za(t,{blockHash:e,blockNumber:r,blockTag:n=t.experimental_blockTag??"latest",includeTransactions:i}={}){var c,u,f;const s=i??!1,o=r!==void 0?ct(r):void 0;let a=null;if(e?a=await t.request({method:"eth_getBlockByHash",params:[e,s]},{dedupe:!0}):a=await t.request({method:"eth_getBlockByNumber",params:[o||n,s]},{dedupe:!!o}),!a)throw new DY({blockHash:e,blockNumber:r});return(((f=(u=(c=t.chain)==null?void 0:c.formatters)==null?void 0:u.block)==null?void 0:f.format)||FY)(a,"getBlock")}async function _k(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function o5e(t,e){return BY(t,e)}async function BY(t,e){var s,o;const{block:r,chain:n=t.chain,request:i}=e||{};try{const a=((s=n==null?void 0:n.fees)==null?void 0:s.maxPriorityFeePerGas)??((o=n==null?void 0:n.fees)==null?void 0:o.defaultPriorityFee);if(typeof a=="function"){const c=r||await tt(t,za,"getBlock")({}),u=await a({block:c,client:t,request:i});if(u===null)throw new Error;return u}if(typeof a<"u")return a;const l=await t.request({method:"eth_maxPriorityFeePerGas"});return So(l)}catch{const[a,l]=await Promise.all([r?Promise.resolve(r):tt(t,za,"getBlock")({}),tt(t,_k,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new xk;const c=l-a.baseFeePerGas;return c<0n?0n:c}}async function a5e(t,e){return lA(t,e)}async function lA(t,e){var h,p;const{block:r,chain:n=t.chain,request:i,type:s="eip1559"}=e||{},o=await(async()=>{var g,m;return typeof((g=n==null?void 0:n.fees)==null?void 0:g.baseFeeMultiplier)=="function"?n.fees.baseFeeMultiplier({block:r,client:t,request:i}):((m=n==null?void 0:n.fees)==null?void 0:m.baseFeeMultiplier)??1.2})();if(o<1)throw new MY;const l=10**(((h=o.toString().split(".")[1])==null?void 0:h.length)??0),c=g=>g*BigInt(Math.ceil(o*l))/BigInt(l),u=r||await tt(t,za,"getBlock")({});if(typeof((p=n==null?void 0:n.fees)==null?void 0:p.estimateFeesPerGas)=="function"){const g=await n.fees.estimateFeesPerGas({block:r,client:t,multiply:c,request:i,type:s});if(g!==null)return g}if(s==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new xk;const g=typeof(i==null?void 0:i.maxPriorityFeePerGas)=="bigint"?i.maxPriorityFeePerGas:await BY(t,{block:u,chain:n,request:i}),m=c(u.baseFeePerGas);return{maxFeePerGas:(i==null?void 0:i.maxFeePerGas)??m+g,maxPriorityFeePerGas:g}}return{gasPrice:(i==null?void 0:i.gasPrice)??c(await tt(t,_k,"getGasPrice")({}))}}async function Ck(t,{address:e,blockTag:r="latest",blockNumber:n}){const i=await t.request({method:"eth_getTransactionCount",params:[e,typeof n=="bigint"?ct(n):r]},{dedupe:!!n});return tl(i)}function UY(t){const{kzg:e}=t,r=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),n=typeof t.blobs[0]=="string"?t.blobs.map(s=>gc(s)):t.blobs,i=[];for(const s of n)i.push(Uint8Array.from(e.blobToKzgCommitment(s)));return r==="bytes"?i:i.map(s=>Fn(s))}function WY(t){const{kzg:e}=t,r=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),n=typeof t.blobs[0]=="string"?t.blobs.map(o=>gc(o)):t.blobs,i=typeof t.commitments[0]=="string"?t.commitments.map(o=>gc(o)):t.commitments,s=[];for(let o=0;o<n.length;o++){const a=n[o],l=i[o];s.push(Uint8Array.from(e.computeBlobKzgProof(a,l)))}return r==="bytes"?s:s.map(o=>Fn(o))}function l5e(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),l=n?4:0,c=n?0:4;t.setUint32(e+l,o,n),t.setUint32(e+c,a,n)}function c5e(t,e,r){return t&e^~t&r}function u5e(t,e,r){return t&e^t&r^e&r}class d5e extends fk{constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=CE(this.buffer)}update(e){f1(this),e=u4(e),Nh(e);const{view:r,buffer:n,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=CE(e);for(;i<=s-o;o+=i)this.process(l,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){f1(this),lY(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,h1(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;l5e(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=CE(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,u[f],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}}const nd=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),f5e=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),id=new Uint32Array(64);class h5e extends d5e{constructor(e=32){super(64,e,8,!1),this.A=nd[0]|0,this.B=nd[1]|0,this.C=nd[2]|0,this.D=nd[3]|0,this.E=nd[4]|0,this.F=nd[5]|0,this.G=nd[6]|0,this.H=nd[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:l}=this;return[e,r,n,i,s,o,a,l]}set(e,r,n,i,s,o,a,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,r){for(let f=0;f<16;f++,r+=4)id[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){const h=id[f-15],p=id[f-2],g=gl(h,7)^gl(h,18)^h>>>3,m=gl(p,17)^gl(p,19)^p>>>10;id[f]=m+id[f-7]+g+id[f-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let f=0;f<64;f++){const h=gl(a,6)^gl(a,11)^gl(a,25),p=u+h+c5e(a,l,c)+f5e[f]+id[f]|0,m=(gl(n,2)^gl(n,13)^gl(n,22))+u5e(n,i,s)|0;u=c,c=l,l=a,a=o+p|0,o=s,s=i,i=n,n=p+m|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,i,s,o,a,l,c,u)}roundClean(){h1(id)}destroy(){this.set(0,0,0,0,0,0,0,0),h1(this.buffer)}}const Ak=uY(()=>new h5e),p5e=Ak;function g5e(t,e){return p5e(el(t,{strict:!1})?Q1(t):t)}function m5e(t){const{commitment:e,version:r=1}=t,n=t.to??(typeof e=="string"?"hex":"bytes"),i=g5e(e);return i.set([r],0),n==="bytes"?i:Fn(i)}function y5e(t){const{commitments:e,version:r}=t,n=t.to,i=[];for(const s of e)i.push(m5e({commitment:s,to:n,version:r}));return i}const Fj=6,zY=32,Sk=4096,HY=zY*Sk,Bj=HY*Fj-1-1*Sk*Fj;class w5e extends $e{constructor({maxSize:e,size:r}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${r} bytes`],name:"BlobSizeTooLargeError"})}}class b5e extends $e{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function v5e(t){const e=typeof t.data=="string"?gc(t.data):t.data,r=cn(e);if(!r)throw new b5e;if(r>Bj)throw new w5e({maxSize:Bj,size:r});const n=[];let i=!0,s=0;for(;i;){const o=yk(new Uint8Array(HY));let a=0;for(;a<Sk;){const l=e.slice(s,s+(zY-1));if(o.pushByte(0),o.pushBytes(l),l.length<31){o.pushByte(128),i=!1;break}a++,s+=31}n.push(o)}return n.map(o=>Fn(o.bytes))}function x5e(t){const{data:e,kzg:r,to:n}=t,i=t.blobs??v5e({data:e}),s=t.commitments??UY({blobs:i,kzg:r,to:n}),o=t.proofs??WY({blobs:i,commitments:s,kzg:r,to:n}),a=[];for(let l=0;l<i.length;l++)a.push({blob:i[l],commitment:s[l],proof:o[l]});return a}function E5e(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new D3e({transaction:t})}function y4(t,{docsPath:e,...r}){const n=(()=>{const i=m4(t,r);return i instanceof ow?t:i})();return new L3e(n,{docsPath:e,...r})}async function mf(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return tl(e)}async function $k(t,e){var D,B,H,q,Y;const{account:r=t.account,accessList:n,authorizationList:i,chain:s=t.chain,blobVersionedHashes:o,blobs:a,data:l,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:g,nonceManager:m,to:w,type:y,value:E,...v}=e,b=await(async()=>{if(!r||!m||typeof g<"u")return g;const R=Kr(r),_=s?s.id:await tt(t,mf,"getChainId")({});return await m.consume({address:R.address,chainId:_,client:t})})();Vu(e);const $=(B=(D=s==null?void 0:s.formatters)==null?void 0:D.transactionRequest)==null?void 0:B.format,O=($||gf)({...rg(v,{format:$}),account:r?Kr(r):void 0,accessList:n,authorizationList:i,blobs:a,blobVersionedHashes:o,data:l,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:b,to:w,type:y,value:E},"fillTransaction");try{const R=await t.request({method:"eth_fillTransaction",params:[O]}),x=(((q=(H=s==null?void 0:s.formatters)==null?void 0:H.transaction)==null?void 0:q.format)||Ek)(R.tx);delete x.blockHash,delete x.blockNumber,delete x.r,delete x.s,delete x.transactionIndex,delete x.v,delete x.yParity,x.data=x.input,x.gas&&(x.gas=e.gas??x.gas),x.gasPrice&&(x.gasPrice=e.gasPrice??x.gasPrice),x.maxFeePerBlobGas&&(x.maxFeePerBlobGas=e.maxFeePerBlobGas??x.maxFeePerBlobGas),x.maxFeePerGas&&(x.maxFeePerGas=e.maxFeePerGas??x.maxFeePerGas),x.maxPriorityFeePerGas&&(x.maxPriorityFeePerGas=e.maxPriorityFeePerGas??x.maxPriorityFeePerGas),x.nonce&&(x.nonce=e.nonce??x.nonce);const A=await(async()=>{var M,U;if(typeof((M=s==null?void 0:s.fees)==null?void 0:M.baseFeeMultiplier)=="function"){const S=await tt(t,za,"getBlock")({});return s.fees.baseFeeMultiplier({block:S,client:t,request:e})}return((U=s==null?void 0:s.fees)==null?void 0:U.baseFeeMultiplier)??1.2})();if(A<1)throw new MY;const I=10**(((Y=A.toString().split(".")[1])==null?void 0:Y.length)??0),N=M=>M*BigInt(Math.ceil(A*I))/BigInt(I);return x.maxFeePerGas&&!e.maxFeePerGas&&(x.maxFeePerGas=N(x.maxFeePerGas)),x.gasPrice&&!e.gasPrice&&(x.gasPrice=N(x.gasPrice)),{raw:R.raw,transaction:{from:O.from,...x}}}catch(R){throw y4(R,{...e,chain:t.chain})}}const Ik=["blobVersionedHashes","chainId","fees","gas","nonce","type"],Uj=new Map,$E=new X1(128);async function aw(t,e){var b,$,P;let r=e;r.account??(r.account=t.account),r.parameters??(r.parameters=Ik);const{account:n,chain:i=t.chain,nonceManager:s,parameters:o}=r,a=(()=>{if(typeof(i==null?void 0:i.prepareTransactionRequest)=="function")return{fn:i.prepareTransactionRequest,runAt:["beforeFillTransaction"]};if(Array.isArray(i==null?void 0:i.prepareTransactionRequest))return{fn:i.prepareTransactionRequest[0],runAt:i.prepareTransactionRequest[1].runAt}})();let l;async function c(){return l||(typeof r.chainId<"u"?r.chainId:i?i.id:(l=await tt(t,mf,"getChainId")({}),l))}const u=n&&Kr(n);let f=r.nonce;if(o.includes("nonce")&&typeof f>"u"&&u&&s){const O=await c();f=await s.consume({address:u.address,chainId:O,client:t})}a!=null&&a.fn&&((b=a.runAt)!=null&&b.includes("beforeFillTransaction"))&&(r=await a.fn({...r,chain:i},{phase:"beforeFillTransaction"}),f??(f=r.nonce));const p=((o.includes("blobVersionedHashes")||o.includes("sidecars"))&&r.kzg&&r.blobs||$E.get(t.uid)===!1||!["fees","gas"].some(D=>o.includes(D))?!1:!!(o.includes("chainId")&&typeof r.chainId!="number"||o.includes("nonce")&&typeof f!="number"||o.includes("fees")&&typeof r.gasPrice!="bigint"&&(typeof r.maxFeePerGas!="bigint"||typeof r.maxPriorityFeePerGas!="bigint")||o.includes("gas")&&typeof r.gas!="bigint"))?await tt(t,$k,"fillTransaction")({...r,nonce:f}).then(O=>{const{chainId:D,from:B,gas:H,gasPrice:q,nonce:Y,maxFeePerBlobGas:R,maxFeePerGas:_,maxPriorityFeePerGas:x,type:A,...T}=O.transaction;return $E.set(t.uid,!0),{...r,...B?{from:B}:{},...A?{type:A}:{},...typeof D<"u"?{chainId:D}:{},...typeof H<"u"?{gas:H}:{},...typeof q<"u"?{gasPrice:q}:{},...typeof Y<"u"?{nonce:Y}:{},...typeof R<"u"?{maxFeePerBlobGas:R}:{},...typeof _<"u"?{maxFeePerGas:_}:{},...typeof x<"u"?{maxPriorityFeePerGas:x}:{},..."nonceKey"in T&&typeof T.nonceKey<"u"?{nonceKey:T.nonceKey}:{}}}).catch(O=>{var H;const D=O;return D.name!=="TransactionExecutionError"||((H=D.walk)==null?void 0:H.call(D,q=>{const Y=q;return Y.name==="MethodNotFoundRpcError"||Y.name==="MethodNotSupportedRpcError"}))&&$E.set(t.uid,!1),r}):r;f??(f=p.nonce),r={...p,...u?{from:u==null?void 0:u.address}:{},...f?{nonce:f}:{}};const{blobs:g,gas:m,kzg:w,type:y}=r;a!=null&&a.fn&&(($=a.runAt)!=null&&$.includes("beforeFillParameters"))&&(r=await a.fn({...r,chain:i},{phase:"beforeFillParameters"}));let E;async function v(){return E||(E=await tt(t,za,"getBlock")({blockTag:"latest"}),E)}if(o.includes("nonce")&&typeof f>"u"&&u&&!s&&(r.nonce=await tt(t,Ck,"getTransactionCount")({address:u.address,blockTag:"pending"})),(o.includes("blobVersionedHashes")||o.includes("sidecars"))&&g&&w){const O=UY({blobs:g,kzg:w});if(o.includes("blobVersionedHashes")){const D=y5e({commitments:O,to:"hex"});r.blobVersionedHashes=D}if(o.includes("sidecars")){const D=WY({blobs:g,commitments:O,kzg:w}),B=x5e({blobs:g,commitments:O,proofs:D,to:"hex"});r.sidecars=B}}if(o.includes("chainId")&&(r.chainId=await c()),(o.includes("fees")||o.includes("type"))&&typeof y>"u")try{r.type=E5e(r)}catch{let O=Uj.get(t.uid);if(typeof O>"u"){const D=await v();O=typeof(D==null?void 0:D.baseFeePerGas)=="bigint",Uj.set(t.uid,O)}r.type=O?"eip1559":"legacy"}if(o.includes("fees"))if(r.type!=="legacy"&&r.type!=="eip2930"){if(typeof r.maxFeePerGas>"u"||typeof r.maxPriorityFeePerGas>"u"){const O=await v(),{maxFeePerGas:D,maxPriorityFeePerGas:B}=await lA(t,{block:O,chain:i,request:r});if(typeof r.maxPriorityFeePerGas>"u"&&r.maxFeePerGas&&r.maxFeePerGas<B)throw new i5e({maxPriorityFeePerGas:B});r.maxPriorityFeePerGas=B,r.maxFeePerGas=D}}else{if(typeof r.maxFeePerGas<"u"||typeof r.maxPriorityFeePerGas<"u")throw new xk;if(typeof r.gasPrice>"u"){const O=await v(),{gasPrice:D}=await lA(t,{block:O,chain:i,request:r,type:"legacy"});r.gasPrice=D}}return o.includes("gas")&&typeof m>"u"&&(r.gas=await tt(t,kk,"estimateGas")({...r,account:u,prepare:(u==null?void 0:u.type)==="local"?[]:["blobVersionedHashes"]})),a!=null&&a.fn&&((P=a.runAt)!=null&&P.includes("afterFillParameters"))&&(r=await a.fn({...r,chain:i},{phase:"afterFillParameters"})),Vu(r),delete r.parameters,r}async function kk(t,e){var o,a,l;const{account:r=t.account,prepare:n=!0}=e,i=r?Kr(r):void 0,s=(()=>{if(Array.isArray(n))return n;if((i==null?void 0:i.type)!=="local")return["blobVersionedHashes"]})();try{const c=await(async()=>{if(e.to)return e.to;if(e.authorizationList&&e.authorizationList.length>0)return await g4({authorization:e.authorizationList[0]}).catch(()=>{throw new $e("`to` is required. Could not infer from `authorizationList`")})})(),{accessList:u,authorizationList:f,blobs:h,blobVersionedHashes:p,blockNumber:g,blockTag:m,data:w,gas:y,gasPrice:E,maxFeePerBlobGas:v,maxFeePerGas:b,maxPriorityFeePerGas:$,nonce:P,value:O,stateOverride:D,...B}=n?await aw(t,{...e,parameters:s,to:c}):e;if(y&&e.gas!==y)return y;const q=(typeof g=="bigint"?ct(g):void 0)||m,Y=vk(D);Vu(e);const R=(l=(a=(o=t.chain)==null?void 0:o.formatters)==null?void 0:a.transactionRequest)==null?void 0:l.format,x=(R||gf)({...rg(B,{format:R}),account:i,accessList:u,authorizationList:f,blobs:h,blobVersionedHashes:p,data:w,gasPrice:E,maxFeePerBlobGas:v,maxFeePerGas:b,maxPriorityFeePerGas:$,nonce:P,to:c,value:O},"estimateGas");return BigInt(await t.request({method:"eth_estimateGas",params:Y?[x,q??t.experimental_blockTag??"latest",Y]:q?[x,q]:[x]}))}catch(c){throw X3e(c,{...e,account:i,chain:t.chain})}}async function _5e(t,e){const{abi:r,address:n,args:i,functionName:s,dataSuffix:o,...a}=e,l=Qs({abi:r,args:i,functionName:s});try{return await tt(t,kk,"estimateGas")({data:`${l}${o?o.replace("0x",""):""}`,to:n,...a})}catch(c){const u=a.account?Kr(a.account):void 0;throw Rh(c,{abi:r,address:n,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:u==null?void 0:u.address})}}function lw(t,e){if(!ha(t,{strict:!1}))throw new ef({address:t});if(!ha(e,{strict:!1}))throw new ef({address:e});return t.toLowerCase()===e.toLowerCase()}const Wj="/docs/contract/decodeEventLog";function y5(t){const{abi:e,data:r,strict:n,topics:i}=t,s=n??!0,[o,...a]=i;if(!o)throw new pve({docsPath:Wj});const l=e.find(m=>m.type==="event"&&o===d4(Xa(m)));if(!(l&&"name"in l)||l.type!=="event")throw new gve(o,{docsPath:Wj});const{name:c,inputs:u}=l,f=u==null?void 0:u.some(m=>!("name"in m&&m.name)),h=f?[]:{},p=u.map((m,w)=>[m,w]).filter(([m])=>"indexed"in m&&m.indexed);for(let m=0;m<p.length;m++){const[w,y]=p[m],E=a[m];if(!E)throw new dk({abiItem:l,param:w});h[f?y:w.name||y]=C5e({param:w,value:E})}const g=u.filter(m=>!("indexed"in m&&m.indexed));if(g.length>0){if(r&&r!=="0x")try{const m=tg(g,r);if(m)if(f)for(let w=0;w<u.length;w++)h[w]=h[w]??m.shift();else for(let w=0;w<g.length;w++)h[g[w].name]=m[w]}catch(m){if(s)throw m instanceof eY||m instanceof AY?new p5({abiItem:l,data:r,params:g,size:cn(r)}):m}else if(s)throw new p5({abiItem:l,data:"0x",params:g,size:0})}return{eventName:c,args:Object.values(h).length>0?h:void 0}}function C5e({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(tg([t],e)||[])[0]}function Tk(t){const{abi:e,args:r,logs:n,strict:i=!0}=t,s=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return n.map(o=>{var u;const a=e.filter(f=>f.type==="event"&&o.topics[0]===d4(f));if(a.length===0)return null;let l,c;for(const f of a)try{l=y5({...o,abi:[f],strict:!0}),c=f;break}catch{}if(!l&&!i){c=a[0];try{l=y5({...o,abi:[c],strict:!1})}catch{const f=(u=c.inputs)==null?void 0:u.some(h=>!("name"in h&&h.name));return{...o,args:f?[]:{},eventName:c.name}}}return!l||!c||s&&!s.includes(l.eventName)||!A5e({args:l.args,inputs:c.inputs,matchArgs:r})?null:{...l,...o}}).filter(Boolean)}function A5e(t){const{args:e,inputs:r,matchArgs:n}=t;if(!n)return!0;if(!e)return!1;function i(s,o,a){try{return s.type==="address"?lw(o,a):s.type==="string"||s.type==="bytes"?vi(Q1(o))===a:o===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(n)?n.every((s,o)=>{if(s==null)return!0;const a=r[o];return a?(Array.isArray(s)?s:[s]).some(c=>i(a,c,e[o])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof n=="object"&&!Array.isArray(n)?Object.entries(n).every(([s,o])=>{if(o==null)return!0;const a=r.find(c=>c.name===s);return a?(Array.isArray(o)?o:[o]).some(c=>i(a,c,e[s])):!1}):!1}function Tu(t,{args:e,eventName:r}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,blockTimestamp:t.blockTimestamp?BigInt(t.blockTimestamp):t.blockTimestamp===null?null:void 0,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...r?{args:e,eventName:r}:{}}}async function Nk(t,{address:e,blockHash:r,fromBlock:n,toBlock:i,event:s,events:o,args:a,strict:l}={}){const c=l??!1,u=o??(s?[s]:void 0);let f=[];u&&(f=[u.flatMap(m=>nw({abi:[m],eventName:m.name,args:o?void 0:a}))],s&&(f=f[0]));let h;r?h=await t.request({method:"eth_getLogs",params:[{address:e,topics:f,blockHash:r}]}):h=await t.request({method:"eth_getLogs",params:[{address:e,topics:f,fromBlock:typeof n=="bigint"?ct(n):n,toBlock:typeof i=="bigint"?ct(i):i}]});const p=h.map(g=>Tu(g));return u?Tk({abi:u,args:a,logs:p,strict:c}):p}async function qY(t,e){const{abi:r,address:n,args:i,blockHash:s,eventName:o,fromBlock:a,toBlock:l,strict:c}=e,u=o?np({abi:r,name:o}):void 0,f=u?void 0:r.filter(h=>h.type==="event");return tt(t,Nk,"getLogs")({address:n,args:i,blockHash:s,event:u,events:f,fromBlock:a,toBlock:l,strict:c})}const IE="/docs/contract/decodeFunctionResult";function ip(t){const{abi:e,args:r,functionName:n,data:i}=t;let s=e[0];if(n){const a=np({abi:e,args:r,name:n});if(!a)throw new c1(n,{docsPath:IE});s=a}if(s.type!=="function")throw new c1(void 0,{docsPath:IE});if(!s.outputs)throw new rY(s.name,{docsPath:IE});const o=tg(s.outputs,i);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Pk=BigInt(0),cA=BigInt(1);function cw(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Rk(t){if(!cw(t))throw new Error("Uint8Array expected")}function d2(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Ob(t){const e=t.toString(16);return e.length&1?"0"+e:e}function VY(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Pk:BigInt("0x"+t)}const GY=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",S5e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function f2(t){if(Rk(t),GY)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=S5e[t[r]];return e}const Ic={_0:48,_9:57,A:65,F:70,a:97,f:102};function zj(t){if(t>=Ic._0&&t<=Ic._9)return t-Ic._0;if(t>=Ic.A&&t<=Ic.F)return t-(Ic.A-10);if(t>=Ic.a&&t<=Ic.f)return t-(Ic.a-10)}function w5(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(GY)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=zj(t.charCodeAt(s)),a=zj(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=o*16+a}return n}function fh(t){return VY(f2(t))}function KY(t){return Rk(t),VY(f2(Uint8Array.from(t).reverse()))}function uw(t,e){return w5(t.toString(16).padStart(e*2,"0"))}function YY(t,e){return uw(t,e).reverse()}function Ko(t,e,r){let n;if(typeof e=="string")try{n=w5(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(cw(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function b5(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];Rk(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}const kE=t=>typeof t=="bigint"&&Pk<=t;function Ok(t,e,r){return kE(t)&&kE(e)&&kE(r)&&e<=t&&t<r}function M0(t,e,r,n){if(!Ok(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function $5e(t){let e;for(e=0;t>Pk;t>>=cA,e+=1);return e}const w4=t=>(cA<<BigInt(t))-cA,TE=t=>new Uint8Array(t),Hj=t=>Uint8Array.from(t);function I5e(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=TE(t),i=TE(t),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...f)=>r(i,n,...f),l=(f=TE(0))=>{i=a(Hj([0]),f),n=a(),f.length!==0&&(i=a(Hj([1]),f),n=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const h=[];for(;f<e;){n=a();const p=n.slice();h.push(p),f+=n.length}return b5(...h)};return(f,h)=>{o(),l(f);let p;for(;!(p=h(c()));)l();return o(),p}}const k5e={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||cw(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function b4(t,e,r={}){const n=(i,s,o)=>{const a=k5e[s];if(typeof a!="function")throw new Error("invalid validator function");const l=t[i];if(!(o&&l===void 0)&&!a(l,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+l)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}function qj(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}const T5e="0.1.1";function N5e(){return T5e}let Ut=class Uc extends Error{static setStaticOptions(e){Uc.prototype.docsOrigin=e.docsOrigin,Uc.prototype.showVersion=e.showVersion,Uc.prototype.version=e.version}constructor(e,r={}){const n=(()=>{var u;if(r.cause instanceof Uc){if(r.cause.details)return r.cause.details;if(r.cause.shortMessage)return r.cause.shortMessage}return r.cause&&"details"in r.cause&&typeof r.cause.details=="string"?r.cause.details:(u=r.cause)!=null&&u.message?r.cause.message:r.details})(),i=r.cause instanceof Uc&&r.cause.docsPath||r.docsPath,s=r.docsOrigin??Uc.prototype.docsOrigin,o=`${s}${i??""}`,a=!!(r.version??Uc.prototype.showVersion),l=r.version??Uc.prototype.version,c=[e||"An error occurred.",...r.metaMessages?["",...r.metaMessages]:[],...n||i||a?["",n?`Details: ${n}`:void 0,i?`See: ${o}`:void 0,a?`Version: ${l}`:void 0]:[]].filter(u=>typeof u=="string").join(`
`);super(c,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsOrigin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.cause=r.cause,this.details=n,this.docs=o,this.docsOrigin=s,this.docsPath=i,this.shortMessage=e,this.showVersion=a,this.version=l}walk(e){return ZY(this,e)}};Object.defineProperty(Ut,"defaultStaticOptions",{enumerable:!0,configurable:!0,writable:!0,value:{docsOrigin:"https://oxlib.sh",showVersion:!1,version:`ox@${N5e()}`}});Ut.setStaticOptions(Ut.defaultStaticOptions);function ZY(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?ZY(t.cause,e):e?null:t}function dw(t,e){if(f0(t)>e)throw new K5e({givenSize:f0(t),maxSize:e})}const kc={zero:48,nine:57,A:65,F:70,a:97,f:102};function Vj(t){if(t>=kc.zero&&t<=kc.nine)return t-kc.zero;if(t>=kc.A&&t<=kc.F)return t-(kc.A-10);if(t>=kc.a&&t<=kc.f)return t-(kc.a-10)}function P5e(t,e={}){const{dir:r,size:n=32}=e;if(n===0)return t;if(t.length>n)throw new Y5e({size:t.length,targetSize:n,type:"Bytes"});const i=new Uint8Array(n);for(let s=0;s<n;s++){const o=r==="right";i[o?s:n-s-1]=t[o?s:t.length-s-1]}return i}function JY(t,e={}){const{dir:r="left"}=e;let n=t,i=0;for(let s=0;s<n.length-1&&n[r==="left"?s:n.length-s-1].toString()==="0";s++)i++;return n=r==="left"?n.slice(i):n.slice(0,n.length-i),n}function v4(t,e){if($o(t)>e)throw new t6e({givenSize:$o(t),maxSize:e})}function R5e(t,e){if(typeof e=="number"&&e>0&&e>$o(t)-1)throw new oZ({offset:e,position:"start",size:$o(t)})}function O5e(t,e,r){if(typeof e=="number"&&typeof r=="number"&&$o(t)!==r-e)throw new oZ({offset:r,position:"end",size:$o(t)})}function QY(t,e={}){const{dir:r,size:n=32}=e;if(n===0)return t;const i=t.replace("0x","");if(i.length>n*2)throw new r6e({size:Math.ceil(i.length/2),targetSize:n,type:"Hex"});return`0x${i[r==="right"?"padEnd":"padStart"](n*2,"0")}`}const j5e="#__bigint";function XY(t,e,r){return JSON.stringify(t,(n,i)=>typeof i=="bigint"?i.toString()+j5e:i,r)}const M5e=new TextDecoder,D5e=new TextEncoder;function L5e(t){return t instanceof Uint8Array?t:typeof t=="string"?eZ(t):F5e(t)}function F5e(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function eZ(t,e={}){const{size:r}=e;let n=t;r&&(v4(t,r),n=jh(t,r));let i=n.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,o=new Uint8Array(s);for(let a=0,l=0;a<s;a++){const c=Vj(i.charCodeAt(l++)),u=Vj(i.charCodeAt(l++));if(c===void 0||u===void 0)throw new Ut(`Invalid byte sequence ("${i[l-2]}${i[l-1]}" in "${i}").`);o[a]=c<<4|u}return o}function B5e(t,e={}){const{size:r}=e,n=D5e.encode(t);return typeof r=="number"?(dw(n,r),U5e(n,r)):n}function U5e(t,e){return P5e(t,{dir:"right",size:e})}function f0(t){return t.length}function W5e(t,e,r,n={}){const{strict:i}=n;return t.slice(e,r)}function z5e(t,e={}){const{size:r}=e;typeof r<"u"&&dw(t,r);const n=nl(t,e);return nZ(n,e)}function H5e(t,e={}){const{size:r}=e;let n=t;if(typeof r<"u"&&(dw(n,r),n=tZ(n)),n.length>1||n[0]>1)throw new G5e(n);return!!n[0]}function gu(t,e={}){const{size:r}=e;typeof r<"u"&&dw(t,r);const n=nl(t,e);return iZ(n,e)}function q5e(t,e={}){const{size:r}=e;let n=t;return typeof r<"u"&&(dw(n,r),n=V5e(n)),M5e.decode(n)}function tZ(t){return JY(t,{dir:"left"})}function V5e(t){return JY(t,{dir:"right"})}class G5e extends Ut{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let K5e=class extends Ut{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},Y5e=class extends Ut{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const Z5e=new TextEncoder,J5e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Q5e(t,e={}){const{strict:r=!1}=e;if(!t)throw new Gj(t);if(typeof t!="string")throw new Gj(t);if(r&&!/^0x[0-9a-fA-F]*$/.test(t))throw new Kj(t);if(!t.startsWith("0x"))throw new Kj(t)}function rl(...t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}function X5e(t){return t instanceof Uint8Array?nl(t):Array.isArray(t)?nl(new Uint8Array(t)):t}function rZ(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(v4(r,e.size),Oh(r,e.size)):r}function nl(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=J5e[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(v4(n,e.size),jh(n,e.size)):n}function ns(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new sZ({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:r,size:n,value:`${t}${c}`})}const l=`0x${(r&&i<0?BigInt.asUintN(n*8,BigInt(i)):i).toString(16)}`;return n?Oh(l,n):l}function jk(t,e={}){return nl(Z5e.encode(t),e)}function Oh(t,e){return QY(t,{dir:"left",size:e})}function jh(t,e){return QY(t,{dir:"right",size:e})}function Xl(t,e,r,n={}){const{strict:i}=n;R5e(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(r??t.length)*2)}`;return i&&O5e(s,e,r),s}function $o(t){return Math.ceil((t.length-2)/2)}function nZ(t,e={}){const{signed:r}=e;e.size&&v4(t,e.size);const n=BigInt(t);if(!r)return n;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n)-1n,o=s>>1n;return n<=o?n:n-s-1n}function iZ(t,e={}){const{signed:r,size:n}=e;return Number(!r&&!n?t:nZ(t,e))}function e6e(t,e={}){const{strict:r=!1}=e;try{return Q5e(t,{strict:r}),!0}catch{return!1}}let sZ=class extends Ut{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${n?" signed":" unsigned"} integer range ${e?`(\`${r}\` to \`${e}\`)`:`(above \`${r}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}},Gj=class extends Ut{constructor(e){super(`Value \`${typeof e=="object"?XY(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}},Kj=class extends Ut{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}},t6e=class extends Ut{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}},oZ=class extends Ut{constructor({offset:e,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}},r6e=class extends Ut{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function n6e(t){return{address:t.address,amount:ns(t.amount),index:ns(t.index),validatorIndex:ns(t.validatorIndex)}}function aZ(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:ns(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:ns(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:ns(t.gasLimit)},...typeof t.number=="bigint"&&{number:ns(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:ns(t.prevRandao)},...typeof t.time=="bigint"&&{time:ns(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(n6e)}}}const v5=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],uA=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],lZ=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],cZ=[...lZ,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],i6e=[...lZ,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],Yj=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],Zj=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],uZ=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],Jj=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],y0t=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],s6e="0x82ad56cb",dZ="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",o6e="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",a6e="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Mk="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class dA extends $e{constructor({blockNumber:e,chain:r,contract:n}){super(`Chain "${r.name}" does not support contract "${n.name}".`,{metaMessages:["This could be due to any of the following:",...e&&n.blockCreated&&n.blockCreated>e?[`- The contract "${n.name}" was not deployed until block ${n.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${n.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class l6e extends $e{constructor({chain:e,currentChainId:r}){super(`The current chain of the wallet (id: ${r}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${r}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class c6e extends $e{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class fZ extends $e{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}const NE="/docs/contract/encodeDeployData";function x4(t){const{abi:e,args:r,bytecode:n}=t;if(!r||r.length===0)return n;const i=e.find(o=>"type"in o&&o.type==="constructor");if(!i)throw new cve({docsPath:NE});if(!("inputs"in i))throw new xj({docsPath:NE});if(!i.inputs||i.inputs.length===0)throw new xj({docsPath:NE});const s=rp(i.inputs,r);return eg([n,s])}function ng({blockNumber:t,chain:e,contract:r}){var i;const n=(i=e==null?void 0:e.contracts)==null?void 0:i[r];if(!n)throw new dA({chain:e,contract:{name:r}});if(t&&n.blockCreated&&n.blockCreated>t)throw new dA({blockNumber:t,chain:e,contract:{name:r,blockCreated:n.blockCreated}});return n.address}function hZ(t,{docsPath:e,...r}){const n=(()=>{const i=m4(t,r);return i instanceof ow?t:i})();return new NY(n,{docsPath:e,...r})}function Dk(){let t=()=>{},e=()=>{};return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}}const PE=new Map;function pZ({fn:t,id:e,shouldSplitBatch:r,wait:n=0,sort:i}){const s=async()=>{const u=l();o();const f=u.map(({args:h})=>h);f.length!==0&&t(f).then(h=>{i&&Array.isArray(h)&&h.sort(i);for(let p=0;p<u.length;p++){const{resolve:g}=u[p];g==null||g([h[p],h])}}).catch(h=>{for(let p=0;p<u.length;p++){const{reject:g}=u[p];g==null||g(h)}})},o=()=>PE.delete(e),a=()=>l().map(({args:u})=>u),l=()=>PE.get(e)||[],c=u=>PE.set(e,[...l(),u]);return{flush:o,async schedule(u){const{promise:f,resolve:h,reject:p}=Dk();return(r==null?void 0:r([...a(),u]))&&s(),l().length>0?(c({args:u,resolve:h,reject:p}),f):(c({args:u,resolve:h,reject:p}),setTimeout(s,n),f)}}}async function E4(t,e){var R,_,x,A;const{account:r=t.account,authorizationList:n,batch:i=!!((R=t.batch)!=null&&R.multicall),blockNumber:s,blockTag:o=t.experimental_blockTag??"latest",accessList:a,blobs:l,blockOverrides:c,code:u,data:f,factory:h,factoryData:p,gas:g,gasPrice:m,maxFeePerBlobGas:w,maxFeePerGas:y,maxPriorityFeePerGas:E,nonce:v,to:b,value:$,stateOverride:P,...O}=e,D=r?Kr(r):void 0;if(u&&(h||p))throw new $e("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&b)throw new $e("Cannot provide both `code` & `to` as parameters.");const B=u&&f,H=h&&p&&b&&f,q=B||H,Y=B?gZ({code:u,data:f}):H?f6e({data:f,factory:h,factoryData:p,to:b}):f;try{Vu(e);const I=(typeof s=="bigint"?ct(s):void 0)||o,N=c?aZ(c):void 0,M=vk(P),U=(A=(x=(_=t.chain)==null?void 0:_.formatters)==null?void 0:x.transactionRequest)==null?void 0:A.format,F=(U||gf)({...rg(O,{format:U}),accessList:a,account:D,authorizationList:n,blobs:l,data:Y,gas:g,gasPrice:m,maxFeePerBlobGas:w,maxFeePerGas:y,maxPriorityFeePerGas:E,nonce:v,to:q?void 0:b,value:$},"call");if(i&&u6e({request:F})&&!M&&!N)try{return await d6e(t,{...F,blockNumber:s,blockTag:o})}catch(W){if(!(W instanceof fZ)&&!(W instanceof dA))throw W}const Q=(()=>{const W=[F,I];return M&&N?[...W,M,N]:M?[...W,M]:N?[...W,{},N]:W})(),k=await t.request({method:"eth_call",params:Q});return k==="0x"?{data:void 0}:{data:k}}catch(T){const I=h6e(T),{offchainLookup:N,offchainLookupSignature:M}=await hu(async()=>{const{offchainLookup:U,offchainLookupSignature:S}=await import("./ccip-DC7wBV7M.js");return{offchainLookup:U,offchainLookupSignature:S}},[]);if(t.ccipRead!==!1&&(I==null?void 0:I.slice(0,10))===M&&b)return{data:await N(t,{data:I,to:b})};throw q&&(I==null?void 0:I.slice(0,10))==="0x101bb98d"?new W3e({factory:h}):hZ(T,{...e,account:D,chain:t.chain})}}function u6e({request:t}){const{data:e,to:r,...n}=t;return!(!e||e.startsWith(s6e)||!r||Object.values(n).filter(i=>typeof i<"u").length>0)}async function d6e(t,e){var m;const{batchSize:r=1024,deployless:n=!1,wait:i=0}=typeof((m=t.batch)==null?void 0:m.multicall)=="object"?t.batch.multicall:{},{blockNumber:s,blockTag:o=t.experimental_blockTag??"latest",data:a,to:l}=e,c=(()=>{if(n)return null;if(e.multicallAddress)return e.multicallAddress;if(t.chain)return ng({blockNumber:s,chain:t.chain,contract:"multicall3"});throw new fZ})(),f=(typeof s=="bigint"?ct(s):void 0)||o,{schedule:h}=pZ({id:`${t.uid}.${f}`,wait:i,shouldSplitBatch(w){return w.reduce((E,{data:v})=>E+(v.length-2),0)>r*2},fn:async w=>{const y=w.map(b=>({allowFailure:!0,callData:b.data,target:b.to})),E=Qs({abi:v5,args:[y],functionName:"aggregate3"}),v=await t.request({method:"eth_call",params:[{...c===null?{data:gZ({code:Mk,data:E})}:{to:c,data:E}},f]});return ip({abi:v5,args:[y],functionName:"aggregate3",data:v||"0x"})}}),[{returnData:p,success:g}]=await h({data:a,to:l});if(!g)throw new p4({data:p});return p==="0x"?{data:void 0}:{data:p}}function gZ(t){const{code:e,data:r}=t;return x4({abi:JK(["constructor(bytes, bytes)"]),bytecode:dZ,args:[e,r]})}function f6e(t){const{data:e,factory:r,factoryData:n,to:i}=t;return x4({abi:JK(["constructor(address, bytes, address, bytes)"]),bytecode:o6e,args:[i,e,r,n]})}function h6e(t){var r;if(!(t instanceof $e))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(r=e.data)==null?void 0:r.data:e.data}async function il(t,e){const{abi:r,address:n,args:i,functionName:s,...o}=e,a=Qs({abi:r,args:i,functionName:s});try{const{data:l}=await tt(t,E4,"call")({...o,data:a,to:n});return ip({abi:r,args:i,functionName:s,data:l||"0x"})}catch(l){throw Rh(l,{abi:r,address:n,args:i,docsPath:"/docs/contract/readContract",functionName:s})}}async function p6e(t,e){const{abi:r,address:n,args:i,dataSuffix:s,functionName:o,...a}=e,l=a.account?Kr(a.account):t.account,c=Qs({abi:r,args:i,functionName:o});try{const{data:u}=await tt(t,E4,"call")({batch:!1,data:`${c}${s?s.replace("0x",""):""}`,to:n,...a,account:l}),f=ip({abi:r,args:i,functionName:o,data:u||"0x"}),h=r.filter(p=>"name"in p&&p.name===e.functionName);return{result:f,request:{abi:h,address:n,args:i,dataSuffix:s,functionName:o,...a,account:l}}}catch(u){throw Rh(u,{abi:r,address:n,args:i,docsPath:"/docs/contract/simulateContract",functionName:o,sender:l==null?void 0:l.address})}}const RE=new Map,Qj=new Map;let g6e=0;function Nu(t,e,r){const n=++g6e,i=()=>RE.get(t)||[],s=()=>{const u=i();RE.set(t,u.filter(f=>f.id!==n))},o=()=>{const u=i();if(!u.some(h=>h.id===n))return;const f=Qj.get(t);if(u.length===1&&f){const h=f();h instanceof Promise&&h.catch(()=>{})}s()},a=i();if(RE.set(t,[...a,{id:n,fns:e}]),a&&a.length>0)return o;const l={};for(const u in e)l[u]=(...f)=>{var p,g;const h=i();if(h.length!==0)for(const m of h)(g=(p=m.fns)[u])==null||g.call(p,...f)};const c=r(l);return typeof c=="function"&&Qj.set(t,c),o}async function fA(t){return new Promise(e=>setTimeout(e,t))}function ig(t,{emitOnBegin:e,initialWaitTime:r,interval:n}){let i=!0;const s=()=>i=!1;return(async()=>{let a;e&&(a=await t({unpoll:s}));const l=await(r==null?void 0:r(a))??n;await fA(l);const c=async()=>{i&&(await t({unpoll:s}),await fA(n),c())};c()})(),s}const m6e=new Map,y6e=new Map;function w6e(t){const e=(i,s)=>({clear:()=>s.delete(i),get:()=>s.get(i),set:o=>s.set(i,o)}),r=e(t,m6e),n=e(t,y6e);return{clear:()=>{r.clear(),n.clear()},promise:r,response:n}}async function b6e(t,{cacheKey:e,cacheTime:r=Number.POSITIVE_INFINITY}){const n=w6e(e),i=n.response.get();if(i&&r>0&&Date.now()-i.created.getTime()<r)return i.data;let s=n.promise.get();s||(s=t(),n.promise.set(s));try{const o=await s;return n.response.set({created:new Date,data:o}),o}finally{n.promise.clear()}}const v6e=t=>`blockNumber.${t}`;async function fw(t,{cacheTime:e=t.cacheTime}={}){const r=await b6e(()=>t.request({method:"eth_blockNumber"}),{cacheKey:v6e(t.uid),cacheTime:e});return BigInt(r)}async function _4(t,{filter:e}){const r="strict"in e&&e.strict,n=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof n[0]=="string")return n;const i=n.map(s=>Tu(s));return!("abi"in e)||!e.abi?i:Tk({abi:e.abi,logs:i,strict:r})}async function C4(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function x6e(t,e){const{abi:r,address:n,args:i,batch:s=!0,eventName:o,fromBlock:a,onError:l,onLogs:c,poll:u,pollingInterval:f=t.pollingInterval,strict:h}=e;return(typeof u<"u"?u:typeof a=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")))?(()=>{const w=h??!1,y=Dn(["watchContractEvent",n,i,s,t.uid,o,f,w,a]);return Nu(y,{onLogs:c,onError:l},E=>{let v;a!==void 0&&(v=a-1n);let b,$=!1;const P=ig(async()=>{var O;if(!$){try{b=await tt(t,_Y,"createContractEventFilter")({abi:r,address:n,args:i,eventName:o,strict:w,fromBlock:a})}catch{}$=!0;return}try{let D;if(b)D=await tt(t,_4,"getFilterChanges")({filter:b});else{const B=await tt(t,fw,"getBlockNumber")({});v&&v<B?D=await tt(t,qY,"getContractEvents")({abi:r,address:n,args:i,eventName:o,fromBlock:v+1n,toBlock:B,strict:w}):D=[],v=B}if(D.length===0)return;if(s)E.onLogs(D);else for(const B of D)E.onLogs([B])}catch(D){b&&D instanceof tf&&($=!1),(O=E.onError)==null||O.call(E,D)}},{emitOnBegin:!0,interval:f});return async()=>{b&&await tt(t,C4,"uninstallFilter")({filter:b}),P()}})})():(()=>{const w=h??!1,y=Dn(["watchContractEvent",n,i,s,t.uid,o,f,w]);let E=!0,v=()=>E=!1;return Nu(y,{onLogs:c,onError:l},b=>((async()=>{try{const $=(()=>{if(t.transport.type==="fallback"){const D=t.transport.transports.find(B=>B.config.type==="webSocket"||B.config.type==="ipc");return D?D.value:t.transport}return t.transport})(),P=o?nw({abi:r,eventName:o,args:i}):[],{unsubscribe:O}=await $.subscribe({params:["logs",{address:n,topics:P}],onData(D){var H;if(!E)return;const B=D.result;try{const{eventName:q,args:Y}=y5({abi:r,data:B.data,topics:B.topics,strict:h}),R=Tu(B,{args:Y,eventName:q});b.onLogs([R])}catch(q){let Y,R;if(q instanceof p5||q instanceof dk){if(h)return;Y=q.abiItem.name,R=(H=q.abiItem.inputs)==null?void 0:H.some(x=>!("name"in x&&x.name))}const _=Tu(B,{args:R?[]:{},eventName:Y});b.onLogs([_])}},onError(D){var B;(B=b.onError)==null||B.call(b,D)}});v=O,E||v()}catch($){l==null||l($)}})(),()=>v()))})()}class yf extends $e{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class hh extends $e{constructor({docsPath:e,metaMessages:r,type:n}){super(`Account type "${n}" is not supported.`,{docsPath:e,metaMessages:r,name:"AccountTypeNotSupportedError"})}}function Lk({chain:t,currentChainId:e}){if(!t)throw new c6e;if(e!==t.id)throw new l6e({chain:t,currentChainId:e})}async function Fk(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const OE=new X1(128);async function A4(t,e){var E,v,b,$;const{account:r=t.account,chain:n=t.chain,accessList:i,authorizationList:s,blobs:o,data:a,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:h,nonce:p,type:g,value:m,...w}=e;if(typeof r>"u")throw new yf({docsPath:"/docs/actions/wallet/sendTransaction"});const y=r?Kr(r):null;try{Vu(e);const P=await(async()=>{if(e.to)return e.to;if(e.to!==null&&s&&s.length>0)return await g4({authorization:s[0]}).catch(()=>{throw new $e("`to` is required. Could not infer from `authorizationList`.")})})();if((y==null?void 0:y.type)==="json-rpc"||y===null){let O;n!==null&&(O=await tt(t,mf,"getChainId")({}),Lk({currentChainId:O,chain:n}));const D=(b=(v=(E=t.chain)==null?void 0:E.formatters)==null?void 0:v.transactionRequest)==null?void 0:b.format,H=(D||gf)({...rg(w,{format:D}),accessList:i,account:y,authorizationList:s,blobs:o,chainId:O,data:a,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:h,nonce:p,to:P,type:g,value:m},"sendTransaction"),q=OE.get(t.uid),Y=q?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:Y,params:[H]},{retryCount:0})}catch(R){if(q===!1)throw R;const _=R;if(_.name==="InvalidInputRpcError"||_.name==="InvalidParamsRpcError"||_.name==="MethodNotFoundRpcError"||_.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[H]},{retryCount:0}).then(x=>(OE.set(t.uid,!0),x)).catch(x=>{const A=x;throw A.name==="MethodNotFoundRpcError"||A.name==="MethodNotSupportedRpcError"?(OE.set(t.uid,!1),_):A});throw _}}if((y==null?void 0:y.type)==="local"){const O=await tt(t,aw,"prepareTransactionRequest")({account:y,accessList:i,authorizationList:s,blobs:o,chain:n,data:a,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:h,nonce:p,nonceManager:y.nonceManager,parameters:[...Ik,"sidecars"],type:g,value:m,...w,to:P}),D=($=n==null?void 0:n.serializers)==null?void 0:$.transaction,B=await y.signTransaction(O,{serializer:D});return await tt(t,Fk,"sendRawTransaction")({serializedTransaction:B})}throw(y==null?void 0:y.type)==="smart"?new hh({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new hh({docsPath:"/docs/actions/wallet/sendTransaction",type:y==null?void 0:y.type})}catch(P){throw P instanceof hh?P:y4(P,{...e,account:y,chain:e.chain||void 0})}}async function h2(t,e){return h2.internal(t,A4,"sendTransaction",e)}(function(t){async function e(r,n,i,s){const{abi:o,account:a=r.account,address:l,args:c,dataSuffix:u,functionName:f,...h}=s;if(typeof a>"u")throw new yf({docsPath:"/docs/contract/writeContract"});const p=a?Kr(a):null,g=Qs({abi:o,args:c,functionName:f});try{return await tt(r,n,i)({data:`${g}${u?u.replace("0x",""):""}`,to:l,account:p,...h})}catch(m){throw Rh(m,{abi:o,address:l,args:c,docsPath:"/docs/contract/writeContract",functionName:f,sender:p==null?void 0:p.address})}}t.internal=e})(h2||(h2={}));class E6e extends $e{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}function x5(t,{delay:e=100,retryCount:r=2,shouldRetry:n=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const l=async({error:c})=>{const u=typeof e=="function"?e({count:a,error:c}):e;u&&await fA(u),o({count:a+1})};try{const c=await t();i(c)}catch(c){if(a<r&&await n({count:a,error:c}))return l({error:c});s(c)}};o()})}const mZ={"0x0":"reverted","0x1":"success"};function yZ(t,e){const r={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(n=>Tu(n)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?tl(t.transactionIndex):null,status:t.status?mZ[t.status]:null,type:t.type?LY[t.type]||t.type:null};return t.blobGasPrice&&(r.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(r.blobGasUsed=BigInt(t.blobGasUsed)),r}const wZ="0x5792579257925792579257925792579257925792579257925792579257925792",bZ=ct(0,{size:32});async function vZ(t,e){const{account:r=t.account,capabilities:n,chain:i=t.chain,experimental_fallback:s,experimental_fallbackDelay:o=32,forceAtomic:a=!1,id:l,version:c="2.0.0"}=e,u=r?Kr(r):null,f=e.calls.map(h=>{const p=h,g=p.abi?Qs({abi:p.abi,functionName:p.functionName,args:p.args}):p.data;return{data:p.dataSuffix&&g?pa([g,p.dataSuffix]):g,to:p.to,value:p.value?ct(p.value):void 0}});try{const h=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:f,capabilities:n,chainId:ct(i.id),from:u==null?void 0:u.address,id:l,version:c}]},{retryCount:0});return typeof h=="string"?{id:h}:h}catch(h){const p=h;if(s&&(p.name==="MethodNotFoundRpcError"||p.name==="MethodNotSupportedRpcError"||p.name==="UnknownRpcError"||p.details.toLowerCase().includes("does not exist / is not available")||p.details.toLowerCase().includes("missing or invalid. request()")||p.details.toLowerCase().includes("did not match any variant of untagged enum")||p.details.toLowerCase().includes("account upgraded to unsupported contract")||p.details.toLowerCase().includes("eip-7702 not supported")||p.details.toLowerCase().includes("unsupported wc_ method")||p.details.toLowerCase().includes("feature toggled misconfigured")||p.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(n&&Object.values(n).some(E=>!E.optional)){const E="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new m1(new $e(E,{details:E}))}if(a&&f.length>1){const y="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new y1(new $e(y,{details:y}))}const g=[];for(const y of f){const E=A4(t,{account:u,chain:i,data:y.data,to:y.to,value:y.value?So(y.value):void 0});g.push(E),o>0&&await new Promise(v=>setTimeout(v,o))}const m=await Promise.allSettled(g);if(m.every(y=>y.status==="rejected"))throw m[0].reason;const w=m.map(y=>y.status==="fulfilled"?y.value:bZ);return{id:pa([...w,ct(i.id,{size:32}),wZ])}}throw y4(h,{...e,account:u,chain:e.chain})}}async function xZ(t,e){async function r(u){if(u.endsWith(wZ.slice(2))){const h=Vd(ZC(u,-64,-32)),p=ZC(u,0,-64).slice(2).match(/.{1,64}/g),g=await Promise.all(p.map(w=>bZ.slice(2)!==w?t.request({method:"eth_getTransactionReceipt",params:[`0x${w}`]},{dedupe:!0}):void 0)),m=g.some(w=>w===null)?100:g.every(w=>(w==null?void 0:w.status)==="0x1")?200:g.every(w=>(w==null?void 0:w.status)==="0x0")?500:600;return{atomic:!1,chainId:tl(h),receipts:g.filter(Boolean),status:m,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[u]})}const{atomic:n=!1,chainId:i,receipts:s,version:o="2.0.0",...a}=await r(e.id),[l,c]=(()=>{const u=a.status;return u>=100&&u<200?["pending",u]:u>=200&&u<300?["success",u]:u>=300&&u<700?["failure",u]:u==="CONFIRMED"?["success",200]:u==="PENDING"?["pending",100]:[void 0,u]})();return{...a,atomic:n,chainId:i?tl(i):void 0,receipts:(s==null?void 0:s.map(u=>({...u,blockNumber:So(u.blockNumber),gasUsed:So(u.gasUsed),status:mZ[u.status]})))??[],statusCode:c,status:l,version:o}}async function EZ(t,e){const{id:r,pollingInterval:n=t.pollingInterval,status:i=({statusCode:m})=>m===200||m>=300,retryCount:s=4,retryDelay:o=({count:m})=>~~(1<<m)*200,timeout:a=6e4,throwOnFailure:l=!1}=e,c=Dn(["waitForCallsStatus",t.uid,r]),{promise:u,resolve:f,reject:h}=Dk();let p;const g=Nu(c,{resolve:f,reject:h},m=>{const w=ig(async()=>{const y=E=>{clearTimeout(p),w(),E(),g()};try{const E=await x5(async()=>{const v=await tt(t,xZ,"getCallsStatus")({id:r});if(l&&v.status==="failure")throw new E6e(v);return v},{retryCount:s,delay:o});if(!i(E))return;y(()=>m.resolve(E))}catch(E){y(()=>m.reject(E))}},{interval:n,emitOnBegin:!0});return w});return p=a?setTimeout(()=>{g(),clearTimeout(p),h(new _6e({id:r}))},a):void 0,await u}class _6e extends $e{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const hA=256;let jb=hA,Mb;function _Z(t=11){if(!Mb||jb+t>hA*2){Mb="",jb=0;for(let e=0;e<hA;e++)Mb+=(256+Math.random()*256|0).toString(16).substring(1)}return Mb.substring(jb,jb+++t)}function CZ(t){const{batch:e,chain:r,ccipRead:n,key:i="base",name:s="Base Client",type:o="base"}=t,a=t.experimental_blockTag??(typeof(r==null?void 0:r.experimental_preconfirmationTime)=="number"?"pending":void 0),l=(r==null?void 0:r.blockTime)??12e3,c=Math.min(Math.max(Math.floor(l/2),500),4e3),u=t.pollingInterval??c,f=t.cacheTime??u,h=t.account?Kr(t.account):void 0,{config:p,request:g,value:m}=t.transport({account:h,chain:r,pollingInterval:u}),w={...p,...m},y={account:h,batch:e,cacheTime:f,ccipRead:n,chain:r,key:i,name:s,pollingInterval:u,request:g,transport:w,type:o,uid:_Z(),...a?{experimental_blockTag:a}:{}};function E(v){return b=>{const $=b(v);for(const O in y)delete $[O];const P={...v,...$};return Object.assign(P,{extend:E(P)})}}return Object.assign(y,{extend:E(y)})}function Bk(t){var r,n,i,s,o,a;if(!(t instanceof $e))return!1;const e=t.walk(l=>l instanceof XC);return e instanceof XC?((r=e.data)==null?void 0:r.errorName)==="HttpError"||((n=e.data)==null?void 0:n.errorName)==="ResolverError"||((i=e.data)==null?void 0:i.errorName)==="ResolverNotContract"||((s=e.data)==null?void 0:s.errorName)==="ResolverNotFound"||((o=e.data)==null?void 0:o.errorName)==="ReverseAddressMismatch"||((a=e.data)==null?void 0:a.errorName)==="UnsupportedResolverProfile":!1}function AZ(t){const{abi:e,data:r}=t,n=p1(r,0,4),i=e.find(s=>s.type==="function"&&n===rw(Xa(s)));if(!i)throw new mve(n,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:i.name,args:"inputs"in i&&i.inputs&&i.inputs.length>0?tg(i.inputs,p1(r,4)):void 0}}const jE="/docs/contract/encodeErrorResult";function Xj(t){const{abi:e,errorName:r,args:n}=t;let i=e[0];if(r){const l=np({abi:e,args:n,name:r});if(!l)throw new Ej(r,{docsPath:jE});i=l}if(i.type!=="error")throw new Ej(void 0,{docsPath:jE});const s=Xa(i),o=rw(s);let a="0x";if(n&&n.length>0){if(!i.inputs)throw new hve(i.name,{docsPath:jE});a=rp(i.inputs,n)}return eg([o,a])}const ME="/docs/contract/encodeFunctionResult";function C6e(t){const{abi:e,functionName:r,result:n}=t;let i=e[0];if(r){const o=np({abi:e,name:r});if(!o)throw new c1(r,{docsPath:ME});i=o}if(i.type!=="function")throw new c1(void 0,{docsPath:ME});if(!i.outputs)throw new rY(i.name,{docsPath:ME});const s=(()=>{if(i.outputs.length===0)return[];if(i.outputs.length===1)return[n];if(Array.isArray(n))return n;throw new nY(n)})();return rp(i.outputs,s)}const S4="x-batch-gateway:true";async function A6e(t){const{data:e,ccipRequest:r}=t,{args:[n]}=AZ({abi:uA,data:e}),i=[],s=[];return await Promise.all(n.map(async(o,a)=>{try{s[a]=o.urls.includes(S4)?await A6e({data:o.data,ccipRequest:r}):await r(o),i[a]=!1}catch(l){i[a]=!0,s[a]=S6e(l)}})),C6e({abi:uA,functionName:"query",result:[i,s]})}function S6e(t){return t.name==="HttpRequestError"&&t.status?Xj({abi:uA,errorName:"HttpError",args:[t.status,t.shortMessage]}):Xj({abi:[CY],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}function SZ(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return el(e)?e:null}function pA(t){let e=new Uint8Array(32).fill(0);if(!t)return Fn(e);const r=t.split(".");for(let n=r.length-1;n>=0;n-=1){const i=SZ(r[n]),s=i?Q1(i):vi(dh(r[n]),"bytes");e=vi(pa([e,s]),"bytes")}return Fn(e)}function $6e(t){return`[${t.slice(2)}]`}function I6e(t){const e=new Uint8Array(32).fill(0);return t?SZ(t)||vi(dh(t)):Fn(e)}function Uk(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const r=new Uint8Array(dh(e).byteLength+2);let n=0;const i=e.split(".");for(let s=0;s<i.length;s++){let o=dh(i[s]);o.byteLength>255&&(o=dh($6e(I6e(i[s])))),r[n]=o.length,r.set(o,n+1),n+=o.length+1}return r.byteLength!==n+1?r.slice(0,n+1):r}async function k6e(t,e){const{blockNumber:r,blockTag:n,coinType:i,name:s,gatewayUrls:o,strict:a}=e,{chain:l}=t,c=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return ng({blockNumber:r,chain:l,contract:"ensUniversalResolver"})})(),u=l==null?void 0:l.ensTlds;if(u&&!u.some(h=>s.endsWith(h)))return null;const f=i!=null?[pA(s),BigInt(i)]:[pA(s)];try{const h=Qs({abi:Zj,functionName:"addr",args:f}),p={address:c,abi:cZ,functionName:"resolveWithGateways",args:[pc(Uk(s)),h,o??[S4]],blockNumber:r,blockTag:n},m=await tt(t,il,"readContract")(p);if(m[0]==="0x")return null;const w=ip({abi:Zj,args:f,functionName:"addr",data:m[0]});return w==="0x"||Vd(w)==="0x00"?null:w}catch(h){if(a)throw h;if(Bk(h))return null;throw h}}class T6e extends $e{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class Wg extends $e{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class Wk extends $e{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class N6e extends $e{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const P6e=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,R6e=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,O6e=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,j6e=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function M6e(t){try{const e=await fetch(t,{method:"HEAD"});if(e.status===200){const r=e.headers.get("content-type");return r==null?void 0:r.startsWith("image/")}return!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(r=>{const n=new Image;n.onload=()=>{r(!0)},n.onerror=()=>{r(!1)},n.src=t})}}function eM(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function $Z({uri:t,gatewayUrls:e}){const r=O6e.test(t);if(r)return{uri:t,isOnChain:!0,isEncoded:r};const n=eM(e==null?void 0:e.ipfs,"https://ipfs.io"),i=eM(e==null?void 0:e.arweave,"https://arweave.net"),s=t.match(P6e),{protocol:o,subpath:a,target:l,subtarget:c=""}=(s==null?void 0:s.groups)||{},u=o==="ipns:/"||a==="ipns/",f=o==="ipfs:/"||a==="ipfs/"||R6e.test(t);if(t.startsWith("http")&&!u&&!f){let p=t;return e!=null&&e.arweave&&(p=t.replace(/https:\/\/arweave.net/g,e==null?void 0:e.arweave)),{uri:p,isOnChain:!1,isEncoded:!1}}if((u||f)&&l)return{uri:`${n}/${u?"ipns":"ipfs"}/${l}${c}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&l)return{uri:`${i}/${l}${c||""}`,isOnChain:!1,isEncoded:!1};let h=t.replace(j6e,"");if(h.startsWith("<svg")&&(h=`data:image/svg+xml;base64,${btoa(h)}`),h.startsWith("data:")||h.startsWith("{"))return{uri:h,isOnChain:!0,isEncoded:!1};throw new Wk({uri:t})}function IZ(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new T6e({data:t});return t.image||t.image_url||t.image_data}async function D6e({gatewayUrls:t,uri:e}){try{const r=await fetch(e).then(i=>i.json());return await zk({gatewayUrls:t,uri:IZ(r)})}catch{throw new Wk({uri:e})}}async function zk({gatewayUrls:t,uri:e}){const{uri:r,isOnChain:n}=$Z({uri:e,gatewayUrls:t});if(n||await M6e(r))return r;throw new Wk({uri:e})}function L6e(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[r,n,i]=e.split("/"),[s,o]=r.split(":"),[a,l]=n.split(":");if(!s||s.toLowerCase()!=="eip155")throw new Wg({reason:"Only EIP-155 supported"});if(!o)throw new Wg({reason:"Chain ID not found"});if(!l)throw new Wg({reason:"Contract address not found"});if(!i)throw new Wg({reason:"Token ID not found"});if(!a)throw new Wg({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o,10),namespace:a.toLowerCase(),contractAddress:l,tokenID:i}}async function F6e(t,{nft:e}){if(e.namespace==="erc721")return il(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return il(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new N6e({namespace:e.namespace})}async function B6e(t,{gatewayUrls:e,record:r}){return/eip155:/i.test(r)?U6e(t,{gatewayUrls:e,record:r}):zk({uri:r,gatewayUrls:e})}async function U6e(t,{gatewayUrls:e,record:r}){const n=L6e(r),i=await F6e(t,{nft:n}),{uri:s,isOnChain:o,isEncoded:a}=$Z({uri:i,gatewayUrls:e});if(o&&(s.includes("data:application/json;base64,")||s.startsWith("{"))){const c=a?atob(s.replace("data:application/json;base64,","")):s,u=JSON.parse(c);return zk({uri:IZ(u),gatewayUrls:e})}let l=n.tokenID;return n.namespace==="erc1155"&&(l=l.replace("0x","").padStart(64,"0")),D6e({gatewayUrls:e,uri:s.replace(/(?:0x)?{id}/,l)})}async function kZ(t,e){const{blockNumber:r,blockTag:n,key:i,name:s,gatewayUrls:o,strict:a}=e,{chain:l}=t,c=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return ng({blockNumber:r,chain:l,contract:"ensUniversalResolver"})})(),u=l==null?void 0:l.ensTlds;if(u&&!u.some(f=>s.endsWith(f)))return null;try{const f={address:c,abi:cZ,args:[pc(Uk(s)),Qs({abi:Yj,functionName:"text",args:[pA(s),i]}),o??[S4]],functionName:"resolveWithGateways",blockNumber:r,blockTag:n},p=await tt(t,il,"readContract")(f);if(p[0]==="0x")return null;const g=ip({abi:Yj,functionName:"text",data:p[0]});return g===""?null:g}catch(f){if(a)throw f;if(Bk(f))return null;throw f}}async function W6e(t,{blockNumber:e,blockTag:r,assetGatewayUrls:n,name:i,gatewayUrls:s,strict:o,universalResolverAddress:a}){const l=await tt(t,kZ,"getEnsText")({blockNumber:e,blockTag:r,key:"avatar",name:i,universalResolverAddress:a,gatewayUrls:s,strict:o});if(!l)return null;try{return await B6e(t,{record:l,gatewayUrls:n})}catch{return null}}async function z6e(t,e){const{address:r,blockNumber:n,blockTag:i,coinType:s=60n,gatewayUrls:o,strict:a}=e,{chain:l}=t,c=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return ng({blockNumber:n,chain:l,contract:"ensUniversalResolver"})})();try{const u={address:c,abi:i6e,args:[r,s,o??[S4]],functionName:"reverseWithGateways",blockNumber:n,blockTag:i},f=tt(t,il,"readContract"),[h]=await f(u);return h||null}catch(u){if(a)throw u;if(Bk(u))return null;throw u}}async function H6e(t,e){const{blockNumber:r,blockTag:n,name:i}=e,{chain:s}=t,o=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!s)throw new Error("client chain not configured. universalResolverAddress is required.");return ng({blockNumber:r,chain:s,contract:"ensUniversalResolver"})})(),a=s==null?void 0:s.ensTlds;if(a&&!a.some(c=>i.endsWith(c)))throw new Error(`${i} is not a valid ENS TLD (${a==null?void 0:a.join(", ")}) for chain "${s.name}" (id: ${s.id}).`);const[l]=await tt(t,il,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[pc(Uk(i))],blockNumber:r,blockTag:n});return l}async function TZ(t,e){var w,y,E;const{account:r=t.account,blockNumber:n,blockTag:i="latest",blobs:s,data:o,gas:a,gasPrice:l,maxFeePerBlobGas:c,maxFeePerGas:u,maxPriorityFeePerGas:f,to:h,value:p,...g}=e,m=r?Kr(r):void 0;try{Vu(e);const b=(typeof n=="bigint"?ct(n):void 0)||i,$=(E=(y=(w=t.chain)==null?void 0:w.formatters)==null?void 0:y.transactionRequest)==null?void 0:E.format,O=($||gf)({...rg(g,{format:$}),account:m,blobs:s,data:o,gas:a,gasPrice:l,maxFeePerBlobGas:c,maxFeePerGas:u,maxPriorityFeePerGas:f,to:h,value:p},"createAccessList"),D=await t.request({method:"eth_createAccessList",params:[O,b]});return{accessList:D.accessList,gasUsed:BigInt(D.gasUsed)}}catch(v){throw hZ(v,{...e,account:m,chain:t.chain})}}async function q6e(t){const e=h4(t,{method:"eth_newBlockFilter"}),r=await t.request({method:"eth_newBlockFilter"});return{id:r,request:e(r),type:"block"}}async function NZ(t,{address:e,args:r,event:n,events:i,fromBlock:s,strict:o,toBlock:a}={}){const l=i??(n?[n]:void 0),c=h4(t,{method:"eth_newFilter"});let u=[];l&&(u=[l.flatMap(p=>nw({abi:[p],eventName:p.name,args:r}))],n&&(u=u[0]));const f=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof s=="bigint"?ct(s):s,toBlock:typeof a=="bigint"?ct(a):a,...u.length?{topics:u}:{}}]});return{abi:l,args:r,eventName:n?n.name:void 0,fromBlock:s,id:f,request:c(f),strict:!!o,toBlock:a,type:"event"}}async function PZ(t){const e=h4(t,{method:"eth_newPendingTransactionFilter"}),r=await t.request({method:"eth_newPendingTransactionFilter"});return{id:r,request:e(r),type:"transaction"}}async function V6e(t,{address:e,blockNumber:r,blockTag:n=t.experimental_blockTag??"latest"}){const i=typeof r=="bigint"?ct(r):void 0,s=await t.request({method:"eth_getBalance",params:[e,i||n]});return BigInt(s)}async function G6e(t){const e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}async function K6e(t,{blockHash:e,blockNumber:r,blockTag:n="latest"}={}){const i=r!==void 0?ct(r):void 0;let s;return e?s=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):s=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[i||n]},{dedupe:!!i}),tl(s)}async function gA(t,{address:e,blockNumber:r,blockTag:n="latest"}){const i=r!==void 0?ct(r):void 0,s=await t.request({method:"eth_getCode",params:[e,i||n]},{dedupe:!!i});if(s!=="0x")return s}class Y6e extends $e{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function Z6e(t,e){const{address:r,factory:n,factoryData:i}=e;try{const[s,o,a,l,c,u,f]=await tt(t,il,"readContract")({abi:J6e,address:r,functionName:"eip712Domain",factory:n,factoryData:i});return{domain:{name:o,version:a,chainId:Number(l),verifyingContract:c,salt:u},extensions:f,fields:s}}catch(s){const o=s;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new Y6e({address:r}):o}}const J6e=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function Q6e(t){var e;return{baseFeePerGas:t.baseFeePerGas.map(r=>BigInt(r)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:(e=t.reward)==null?void 0:e.map(r=>r.map(n=>BigInt(n)))}}async function X6e(t,{blockCount:e,blockNumber:r,blockTag:n="latest",rewardPercentiles:i}){const s=typeof r=="bigint"?ct(r):void 0,o=await t.request({method:"eth_feeHistory",params:[ct(e),s||n,i]},{dedupe:!!s});return Q6e(o)}async function e4e(t,{filter:e}){const r=e.strict??!1,i=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(s=>Tu(s));return e.abi?Tk({abi:e.abi,logs:i,strict:r}):i}async function t4e({address:t,authorization:e,signature:r}){return lw(f4(t),await g4({authorization:e,signature:r}))}const Db=new X1(8192);function r4e(t,{enabled:e=!0,id:r}){if(!e||!r)return t();if(Db.get(r))return Db.get(r);const n=t().finally(()=>Db.delete(r));return Db.set(r,n),n}function n4e(t,e={}){return async(r,n={})=>{var f;const{dedupe:i=!1,methods:s,retryDelay:o=150,retryCount:a=3,uid:l}={...e,...n},{method:c}=r;if((f=s==null?void 0:s.exclude)!=null&&f.includes(c))throw new Qf(new Error("method not supported"),{method:c});if(s!=null&&s.include&&!s.include.includes(c))throw new Qf(new Error("method not supported"),{method:c});const u=i?u1(`${l}.${Dn(r)}`):void 0;return r4e(()=>x5(async()=>{try{return await t(r)}catch(h){const p=h;switch(p.code){case Gy.code:throw new Gy(p);case Ky.code:throw new Ky(p);case Yy.code:throw new Yy(p,{method:r.method});case Zy.code:throw new Zy(p);case Ph.code:throw new Ph(p);case tf.code:throw new tf(p);case Jy.code:throw new Jy(p);case Qy.code:throw new Qy(p);case Xy.code:throw new Xy(p);case Qf.code:throw new Qf(p,{method:r.method});case g1.code:throw new g1(p);case e2.code:throw new e2(p);case j0.code:throw new j0(p);case t2.code:throw new t2(p);case r2.code:throw new r2(p);case n2.code:throw new n2(p);case i2.code:throw new i2(p);case s2.code:throw new s2(p);case m1.code:throw new m1(p);case o2.code:throw new o2(p);case a2.code:throw new a2(p);case l2.code:throw new l2(p);case c2.code:throw new c2(p);case u2.code:throw new u2(p);case y1.code:throw new y1(p);case 5e3:throw new j0(p);default:throw h instanceof $e?h:new H3e(p)}}},{delay:({count:h,error:p})=>{var g;if(p&&p instanceof Wm){const m=(g=p==null?void 0:p.headers)==null?void 0:g.get("Retry-After");if(m!=null&&m.match(/\d/))return Number.parseInt(m,10)*1e3}return~~(1<<h)*o},retryCount:a,shouldRetry:({error:h})=>i4e(h)}),{enabled:i,id:u})}}function i4e(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===g1.code||t.code===Ph.code:t instanceof Wm&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function s4e(t,{errorInstance:e=new Error("timed out"),timeout:r,signal:n}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;r>0&&(o=setTimeout(()=>{n&&a.abort()},r)),i(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&s(e),s(a)}finally{clearTimeout(o)}})()})}function o4e(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const tM=o4e();function a4e(t,e={}){return{async request(r){var h;const{body:n,fetchFn:i=e.fetchFn??fetch,onRequest:s=e.onRequest,onResponse:o=e.onResponse,timeout:a=e.timeout??1e4}=r,l={...e.fetchOptions??{},...r.fetchOptions??{}},{headers:c,method:u,signal:f}=l;try{const p=await s4e(async({signal:m})=>{const w={...l,body:Array.isArray(n)?Dn(n.map(b=>({jsonrpc:"2.0",id:b.id??tM.take(),...b}))):Dn({jsonrpc:"2.0",id:n.id??tM.take(),...n}),headers:{"Content-Type":"application/json",...c},method:u||"POST",signal:f||(a>0?m:null)},y=new Request(t,w),E=await(s==null?void 0:s(y,w))??{...w,url:t};return await i(E.url??t,E)},{errorInstance:new Mj({body:n,url:t}),timeout:a,signal:!0});o&&await o(p);let g;if((h=p.headers.get("Content-Type"))!=null&&h.startsWith("application/json"))g=await p.json();else{g=await p.text();try{g=JSON.parse(g||"{}")}catch(m){if(p.ok)throw m;g={error:g}}}if(!p.ok)throw new Wm({body:n,details:Dn(g.error)||p.statusText,headers:p.headers,status:p.status,url:t});return g}catch(p){throw p instanceof Wm||p instanceof Mj?p:new Wm({body:n,cause:p,url:t})}}}}const l4e=`Ethereum Signed Message:
`;function c4e(t){const e=typeof t=="string"?u1(t):typeof t.raw=="string"?t.raw:Fn(t.raw),r=u1(`${l4e}${cn(e)}`);return pa([r,e])}function RZ(t,e){return vi(c4e(t),e)}class u4e extends $e{constructor({domain:e}){super(`Invalid domain "${Dn(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class d4e extends $e{constructor({primaryType:e,types:r}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(r))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class f4e extends $e{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function h4e(t){const{domain:e,message:r,primaryType:n,types:i}=t,s=(l,c)=>{const u={...c};for(const f of l){const{name:h,type:p}=f;p==="address"&&(u[h]=u[h].toLowerCase())}return u},o=i.EIP712Domain?e?s(i.EIP712Domain,e):{}:{},a=(()=>{if(n!=="EIP712Domain")return s(i[n],r)})();return Dn({domain:o,message:a,primaryType:n,types:i})}function OZ(t){const{domain:e,message:r,primaryType:n,types:i}=t,s=(o,a)=>{for(const l of o){const{name:c,type:u}=l,f=a[c],h=u.match(xY);if(h&&(typeof f=="number"||typeof f=="bigint")){const[m,w,y]=h;ct(f,{signed:w==="int",size:Number.parseInt(y,10)/8})}if(u==="address"&&typeof f=="string"&&!ha(f))throw new ef({address:f});const p=u.match(l3e);if(p){const[m,w]=p;if(w&&cn(f)!==Number.parseInt(w,10))throw new wve({expectedSize:Number.parseInt(w,10),givenSize:cn(f)})}const g=i[u];g&&(p4e(u),s(g,f))}};if(i.EIP712Domain&&e){if(typeof e!="object")throw new u4e({domain:e});s(i.EIP712Domain,e)}if(n!=="EIP712Domain")if(i[n])s(i[n],r);else throw new d4e({primaryType:n,types:i})}function jZ({domain:t}){return[typeof(t==null?void 0:t.name)=="string"&&{name:"name",type:"string"},(t==null?void 0:t.version)&&{name:"version",type:"string"},(typeof(t==null?void 0:t.chainId)=="number"||typeof(t==null?void 0:t.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(t==null?void 0:t.verifyingContract)&&{name:"verifyingContract",type:"address"},(t==null?void 0:t.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function p4e(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new f4e({type:t})}function g4e(t){const{domain:e={},message:r,primaryType:n}=t,i={EIP712Domain:jZ({domain:e}),...t.types};OZ({domain:e,message:r,primaryType:n,types:i});const s=["0x1901"];return e&&s.push(m4e({domain:e,types:i})),n!=="EIP712Domain"&&s.push(MZ({data:r,primaryType:n,types:i})),vi(pa(s))}function m4e({domain:t,types:e}){return MZ({data:t,primaryType:"EIP712Domain",types:e})}function MZ({data:t,primaryType:e,types:r}){const n=DZ({data:t,primaryType:e,types:r});return vi(n)}function DZ({data:t,primaryType:e,types:r}){const n=[{type:"bytes32"}],i=[y4e({primaryType:e,types:r})];for(const s of r[e]){const[o,a]=FZ({types:r,name:s.name,type:s.type,value:t[s.name]});n.push(o),i.push(a)}return rp(n,i)}function y4e({primaryType:t,types:e}){const r=pc(w4e({primaryType:t,types:e}));return vi(r)}function w4e({primaryType:t,types:e}){let r="";const n=LZ({primaryType:t,types:e});n.delete(t);const i=[t,...Array.from(n).sort()];for(const s of i)r+=`${s}(${e[s].map(({name:o,type:a})=>`${a} ${o}`).join(",")})`;return r}function LZ({primaryType:t,types:e},r=new Set){const n=t.match(/^\w*/u),i=n==null?void 0:n[0];if(r.has(i)||e[i]===void 0)return r;r.add(i);for(const s of e[i])LZ({primaryType:s.type,types:e},r);return r}function FZ({types:t,name:e,type:r,value:n}){if(t[r]!==void 0)return[{type:"bytes32"},vi(DZ({data:n,primaryType:r,types:t}))];if(r==="bytes")return[{type:"bytes32"},vi(n)];if(r==="string")return[{type:"bytes32"},vi(pc(n))];if(r.lastIndexOf("]")===r.length-1){const i=r.slice(0,r.lastIndexOf("[")),s=n.map(o=>FZ({name:e,type:i,types:t,value:o}));return[{type:"bytes32"},vi(rp(s.map(([o])=>o),s.map(([,o])=>o)))]}return[{type:r},n]}let b4e=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}};const v4e={checksum:new b4e(8192)},DE=v4e.checksum;function BZ(t,e={}){const{as:r=typeof t=="string"?"Hex":"Bytes"}=e,n=hk(L5e(t));return r==="Bytes"?n:nl(n)}const x4e=/^0x[a-fA-F0-9]{40}$/;function $4(t,e={}){const{strict:r=!0}=e;if(!x4e.test(t))throw new rM({address:t,cause:new E4e});if(r){if(t.toLowerCase()===t)return;if(UZ(t)!==t)throw new rM({address:t,cause:new _4e})}}function UZ(t){if(DE.has(t))return DE.get(t);$4(t,{strict:!1});const e=t.substring(2).toLowerCase(),r=BZ(B5e(e),{as:"Bytes"}),n=e.split("");for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&n[s]&&(n[s]=n[s].toUpperCase()),(r[s>>1]&15)>=8&&n[s+1]&&(n[s+1]=n[s+1].toUpperCase());const i=`0x${n.join("")}`;return DE.set(t,i),i}function mA(t,e={}){const{strict:r=!0}=e??{};try{return $4(t,{strict:r}),!0}catch{return!1}}let rM=class extends Ut{constructor({address:e,cause:r}){super(`Address "${e}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}},E4e=class extends Ut{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}},_4e=class extends Ut{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}};const C4e=/^(.*)\[([0-9]*)\]$/,A4e=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,WZ=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,nM=2n**256n-1n;function D0(t,e,r){const{checksumAddress:n,staticPosition:i}=r,s=Vk(e.type);if(s){const[o,a]=s;return $4e(t,{...e,type:a},{checksumAddress:n,length:o,staticPosition:i})}if(e.type==="tuple")return N4e(t,e,{checksumAddress:n,staticPosition:i});if(e.type==="address")return S4e(t,{checksum:n});if(e.type==="bool")return I4e(t);if(e.type.startsWith("bytes"))return k4e(t,e,{staticPosition:i});if(e.type.startsWith("uint")||e.type.startsWith("int"))return T4e(t,e);if(e.type==="string")return P4e(t,{staticPosition:i});throw new Kk(e.type)}const iM=32,yA=32;function S4e(t,e={}){const{checksum:r=!1}=e,n=t.readBytes(32);return[(s=>r?UZ(s):s)(nl(W5e(n,-20))),32]}function $4e(t,e,r){const{checksumAddress:n,length:i,staticPosition:s}=r;if(!i){const l=gu(t.readBytes(yA)),c=s+l,u=c+iM;t.setPosition(c);const f=gu(t.readBytes(iM)),h=p2(e);let p=0;const g=[];for(let m=0;m<f;++m){t.setPosition(u+(h?m*32:p));const[w,y]=D0(t,e,{checksumAddress:n,staticPosition:u});p+=y,g.push(w)}return t.setPosition(s+32),[g,32]}if(p2(e)){const l=gu(t.readBytes(yA)),c=s+l,u=[];for(let f=0;f<i;++f){t.setPosition(c+f*32);const[h]=D0(t,e,{checksumAddress:n,staticPosition:c});u.push(h)}return t.setPosition(s+32),[u,32]}let o=0;const a=[];for(let l=0;l<i;++l){const[c,u]=D0(t,e,{checksumAddress:n,staticPosition:s+o});o+=u,a.push(c)}return[a,o]}function I4e(t){return[H5e(t.readBytes(32),{size:32}),32]}function k4e(t,e,{staticPosition:r}){const[n,i]=e.type.split("bytes");if(!i){const o=gu(t.readBytes(32));t.setPosition(r+o);const a=gu(t.readBytes(32));if(a===0)return t.setPosition(r+32),["0x",32];const l=t.readBytes(a);return t.setPosition(r+32),[nl(l),32]}return[nl(t.readBytes(Number.parseInt(i,10),32)),32]}function T4e(t,e){const r=e.type.startsWith("int"),n=Number.parseInt(e.type.split("int")[1]||"256",10),i=t.readBytes(32);return[n>48?z5e(i,{signed:r}):gu(i,{signed:r}),32]}function N4e(t,e,r){const{checksumAddress:n,staticPosition:i}=r,s=e.components.length===0||e.components.some(({name:l})=>!l),o=s?[]:{};let a=0;if(p2(e)){const l=gu(t.readBytes(yA)),c=i+l;for(let u=0;u<e.components.length;++u){const f=e.components[u];t.setPosition(c+a);const[h,p]=D0(t,f,{checksumAddress:n,staticPosition:c});a+=p,o[s?u:f==null?void 0:f.name]=h}return t.setPosition(i+32),[o,32]}for(let l=0;l<e.components.length;++l){const c=e.components[l],[u,f]=D0(t,c,{checksumAddress:n,staticPosition:i});o[s?l:c==null?void 0:c.name]=u,a+=f}return[o,a]}function P4e(t,{staticPosition:e}){const r=gu(t.readBytes(32)),n=e+r;t.setPosition(n);const i=gu(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const s=t.readBytes(i,32),o=q5e(tZ(s));return t.setPosition(e+32),[o,32]}function R4e({checksumAddress:t,parameters:e,values:r}){const n=[];for(let i=0;i<e.length;i++)n.push(Hk({checksumAddress:t,parameter:e[i],value:r[i]}));return n}function Hk({checksumAddress:t=!1,parameter:e,value:r}){const n=e,i=Vk(n.type);if(i){const[s,o]=i;return j4e(r,{checksumAddress:t,length:s,parameter:{...n,type:o}})}if(n.type==="tuple")return B4e(r,{checksumAddress:t,parameter:n});if(n.type==="address")return O4e(r,{checksum:t});if(n.type==="bool")return D4e(r);if(n.type.startsWith("uint")||n.type.startsWith("int")){const s=n.type.startsWith("int"),[,,o="256"]=WZ.exec(n.type)??[];return L4e(r,{signed:s,size:Number(o)})}if(n.type.startsWith("bytes"))return M4e(r,{type:n.type});if(n.type==="string")return F4e(r);throw new Kk(n.type)}function qk(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?e+=32:e+=$o(a)}const r=[],n=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?(r.push(ns(e+i,{size:32})),n.push(a),i+=$o(a)):r.push(a)}return rl(...r,...n)}function O4e(t,e){const{checksum:r=!1}=e;return $4(t,{strict:r}),{dynamic:!1,encoded:Oh(t.toLowerCase())}}function j4e(t,e){const{checksumAddress:r,length:n,parameter:i}=e,s=n===null;if(!Array.isArray(t))throw new Y4e(t);if(!s&&t.length!==n)throw new K4e({expectedLength:n,givenLength:t.length,type:`${i.type}[${n}]`});let o=!1;const a=[];for(let l=0;l<t.length;l++){const c=Hk({checksumAddress:r,parameter:i,value:t[l]});c.dynamic&&(o=!0),a.push(c)}if(s||o){const l=qk(a);if(s){const c=ns(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?rl(c,l):c}}if(o)return{dynamic:!0,encoded:l}}return{dynamic:!1,encoded:rl(...a.map(({encoded:l})=>l))}}function M4e(t,{type:e}){const[,r]=e.split("bytes"),n=$o(t);if(!r){let i=t;return n%32!==0&&(i=jh(i,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:rl(Oh(ns(n,{size:32})),i)}}if(n!==Number.parseInt(r,10))throw new HZ({expectedSize:Number.parseInt(r,10),value:t});return{dynamic:!1,encoded:jh(t)}}function D4e(t){if(typeof t!="boolean")throw new Ut(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Oh(rZ(t))}}function L4e(t,{signed:e,size:r}){if(typeof r=="number"){const n=2n**(BigInt(r)-(e?1n:0n))-1n,i=e?-n-1n:0n;if(t>n||t<i)throw new sZ({max:n.toString(),min:i.toString(),signed:e,size:r/8,value:t.toString()})}return{dynamic:!1,encoded:ns(t,{size:32,signed:e})}}function F4e(t){const e=jk(t),r=Math.ceil($o(e)/32),n=[];for(let i=0;i<r;i++)n.push(jh(Xl(e,i*32,(i+1)*32)));return{dynamic:!0,encoded:rl(jh(ns($o(e),{size:32})),...n)}}function B4e(t,e){const{checksumAddress:r,parameter:n}=e;let i=!1;const s=[];for(let o=0;o<n.components.length;o++){const a=n.components[o],l=Array.isArray(t)?o:a.name,c=Hk({checksumAddress:r,parameter:a,value:t[l]});s.push(c),c.dynamic&&(i=!0)}return{dynamic:i,encoded:i?qk(s):rl(...s.map(({encoded:o})=>o))}}function Vk(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function p2(t){var n;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(n=t.components)==null?void 0:n.some(p2);const r=Vk(t.type);return!!(r&&p2({...t,type:r[1]}))}const U4e={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new H4e({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new z4e({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new sM({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new sM({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const r=e??this.position;return this.assertPosition(r+t-1),this.bytes.subarray(r,r+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const r=this.inspectBytes(t);return this.position+=e??t,r},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function W4e(t,{recursiveReadLimit:e=8192}={}){const r=Object.create(U4e);return r.bytes=t,r.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=e,r}class sM extends Ut{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class z4e extends Ut{constructor({length:e,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class H4e extends Ut{constructor({count:e,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function q4e(t,e,r={}){const{as:n="Array",checksumAddress:i=!1}=r,s=typeof e=="string"?eZ(e):e,o=W4e(s);if(f0(s)===0&&t.length>0)throw new G4e;if(f0(s)&&f0(s)<32)throw new V4e({data:typeof e=="string"?e:nl(e),parameters:t,size:f0(s)});let a=0;const l=n==="Array"?[]:{};for(let c=0;c<t.length;++c){const u=t[c];o.setPosition(a);const[f,h]=D0(o,u,{checksumAddress:i,staticPosition:0});a+=h,n==="Array"?l.push(f):l[u.name??c]=f}return l}function Gk(t,e,r){const{checksumAddress:n=!1}={};if(t.length!==e.length)throw new qZ({expectedLength:t.length,givenLength:e.length});const i=R4e({checksumAddress:n,parameters:t,values:e}),s=qk(i);return s.length===0?"0x":s}function wA(t,e){if(t.length!==e.length)throw new qZ({expectedLength:t.length,givenLength:e.length});const r=[];for(let n=0;n<t.length;n++){const i=t[n],s=e[n];r.push(wA.encode(i,s))}return rl(...r)}(function(t){function e(r,n,i=!1){if(r==="address"){const l=n;return $4(l),Oh(l.toLowerCase(),i?32:0)}if(r==="string")return jk(n);if(r==="bytes")return n;if(r==="bool")return Oh(rZ(n),i?32:1);const s=r.match(WZ);if(s){const[l,c,u="256"]=s,f=Number.parseInt(u,10)/8;return ns(n,{size:i?32:f,signed:c==="int"})}const o=r.match(A4e);if(o){const[l,c]=o;if(Number.parseInt(c,10)!==(n.length-2)/2)throw new HZ({expectedSize:Number.parseInt(c,10),value:n});return jh(n,i?32:0)}const a=r.match(C4e);if(a&&Array.isArray(n)){const[l,c]=a,u=[];for(let f=0;f<n.length;f++)u.push(e(c,n[f],!0));return u.length===0?"0x":rl(...u)}throw new Kk(r)}t.encode=e})(wA||(wA={}));function zZ(t){return Array.isArray(t)&&typeof t[0]=="string"||typeof t=="string"?vj(t):t}class V4e extends Ut{constructor({data:e,parameters:r,size:n}){super(`Data size of ${n} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Vp(r)})`,`Data:   ${e} (${n} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class G4e extends Ut{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class K4e extends Ut{constructor({expectedLength:e,givenLength:r,type:n}){super(`Array length mismatch for type \`${n}\`. Expected: \`${e}\`. Given: \`${r}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class HZ extends Ut{constructor({expectedSize:e,value:r}){super(`Size of bytes "${r}" (bytes${$o(r)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class qZ extends Ut{constructor({expectedLength:e,givenLength:r}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class Y4e extends Ut{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class Kk extends Ut{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}class VZ extends fk{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,Bve(e);const n=u4(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),h1(s)}update(e){return f1(this),this.iHash.update(e),this}digestInto(e){f1(this),Nh(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Yk=(t,e,r)=>new VZ(t,e).update(r).digest();Yk.create=(t,e)=>new VZ(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ds=BigInt(0),us=BigInt(1),Xf=BigInt(2),Z4e=BigInt(3),GZ=BigInt(4),KZ=BigInt(5),YZ=BigInt(8);function Ts(t,e){const r=t%e;return r>=Ds?r:e+r}function Fo(t,e,r){let n=t;for(;e-- >Ds;)n*=n,n%=r;return n}function bA(t,e){if(t===Ds)throw new Error("invert: expected non-zero number");if(e<=Ds)throw new Error("invert: expected positive modulus, got "+e);let r=Ts(t,e),n=e,i=Ds,s=us;for(;r!==Ds;){const a=n/r,l=n%r,c=i-s*a;n=r,r=l,i=s,s=c}if(n!==us)throw new Error("invert: does not exist");return Ts(i,e)}function ZZ(t,e){const r=(t.ORDER+us)/GZ,n=t.pow(e,r);if(!t.eql(t.sqr(n),e))throw new Error("Cannot find square root");return n}function J4e(t,e){const r=(t.ORDER-KZ)/YZ,n=t.mul(e,Xf),i=t.pow(n,r),s=t.mul(e,i),o=t.mul(t.mul(s,Xf),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function Q4e(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-us,r=0;for(;e%Xf===Ds;)e/=Xf,r++;let n=Xf;const i=Zk(t);for(;oM(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return ZZ;let s=i.pow(n,e);const o=(e+us)/Xf;return function(l,c){if(l.is0(c))return c;if(oM(l,c)!==1)throw new Error("Cannot find square root");let u=r,f=l.mul(l.ONE,s),h=l.pow(c,e),p=l.pow(c,o);for(;!l.eql(h,l.ONE);){if(l.is0(h))return l.ZERO;let g=1,m=l.sqr(h);for(;!l.eql(m,l.ONE);)if(g++,m=l.sqr(m),g===u)throw new Error("Cannot find square root");const w=us<<BigInt(u-g-1),y=l.pow(f,w);u=g,f=l.sqr(y),h=l.mul(h,f),p=l.mul(p,y)}return p}}function X4e(t){return t%GZ===Z4e?ZZ:t%YZ===KZ?J4e:Q4e(t)}const e8e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function t8e(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=e8e.reduce((n,i)=>(n[i]="function",n),e);return b4(t,r)}function r8e(t,e,r){if(r<Ds)throw new Error("invalid exponent, negatives unsupported");if(r===Ds)return t.ONE;if(r===us)return e;let n=t.ONE,i=e;for(;r>Ds;)r&us&&(n=t.mul(n,i)),i=t.sqr(i),r>>=us;return n}function JZ(t,e,r=!1){const n=new Array(e.length).fill(r?t.ZERO:void 0),i=e.reduce((o,a,l)=>t.is0(a)?o:(n[l]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,l)=>t.is0(a)?o:(n[l]=t.mul(o,n[l]),t.mul(o,a)),s),n}function oM(t,e){const r=(t.ORDER-us)/Xf,n=t.pow(e,r),i=t.eql(n,t.ONE),s=t.eql(n,t.ZERO),o=t.eql(n,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function QZ(t,e){e!==void 0&&d1(e);const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Zk(t,e,r=!1,n={}){if(t<=Ds)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=QZ(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:r,BITS:i,BYTES:s,MASK:w4(i),ZERO:Ds,ONE:us,create:l=>Ts(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return Ds<=l&&l<t},is0:l=>l===Ds,isOdd:l=>(l&us)===us,neg:l=>Ts(-l,t),eql:(l,c)=>l===c,sqr:l=>Ts(l*l,t),add:(l,c)=>Ts(l+c,t),sub:(l,c)=>Ts(l-c,t),mul:(l,c)=>Ts(l*c,t),pow:(l,c)=>r8e(a,l,c),div:(l,c)=>Ts(l*bA(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>bA(l,t),sqrt:n.sqrt||(l=>(o||(o=X4e(t)),o(a,l))),toBytes:l=>r?YY(l,s):uw(l,s),fromBytes:l=>{if(l.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+l.length);return r?KY(l):fh(l)},invertBatch:l=>JZ(a,l),cmov:(l,c,u)=>u?c:l});return Object.freeze(a)}function XZ(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function eJ(t){const e=XZ(t);return e+Math.ceil(e/2)}function n8e(t,e,r=!1){const n=t.length,i=XZ(e),s=eJ(e);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=r?KY(t):fh(t),a=Ts(o,e-us)+us;return r?YY(a,i):uw(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const aM=BigInt(0),vA=BigInt(1);function LE(t,e){const r=e.negate();return t?r:e}function tJ(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function FE(t,e){tJ(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1),i=2**t,s=w4(t),o=BigInt(t);return{windows:r,windowSize:n,mask:s,maxNumber:i,shiftBy:o}}function lM(t,e,r){const{windowSize:n,mask:i,maxNumber:s,shiftBy:o}=r;let a=Number(t&i),l=t>>o;a>n&&(a-=s,l+=vA);const c=e*n,u=c+Math.abs(a)-1,f=a===0,h=a<0,p=e%2!==0;return{nextN:l,offset:u,isZero:f,isNeg:h,isNegF:p,offsetF:c}}function i8e(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function s8e(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const BE=new WeakMap,rJ=new WeakMap;function UE(t){return rJ.get(t)||1}function o8e(t,e){return{constTimeNegate:LE,hasPrecomputes(r){return UE(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>aM;)n&vA&&(i=i.add(s)),s=s.double(),n>>=vA;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=FE(n,e),o=[];let a=r,l=a;for(let c=0;c<i;c++){l=a,o.push(l);for(let u=1;u<s;u++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(r,n,i){let s=t.ZERO,o=t.BASE;const a=FE(r,e);for(let l=0;l<a.windows;l++){const{nextN:c,offset:u,isZero:f,isNeg:h,isNegF:p,offsetF:g}=lM(i,l,a);i=c,f?o=o.add(LE(p,n[g])):s=s.add(LE(h,n[u]))}return{p:s,f:o}},wNAFUnsafe(r,n,i,s=t.ZERO){const o=FE(r,e);for(let a=0;a<o.windows&&i!==aM;a++){const{nextN:l,offset:c,isZero:u,isNeg:f}=lM(i,a,o);if(i=l,!u){const h=n[c];s=s.add(f?h.negate():h)}}return s},getPrecomputes(r,n,i){let s=BE.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&BE.set(n,i(s))),s},wNAFCached(r,n,i){const s=UE(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=UE(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){tJ(n,e),rJ.set(r,n),BE.delete(r)}}}function a8e(t,e,r,n){i8e(r,t),s8e(n,e);const i=r.length,s=n.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=$5e(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=w4(l),u=new Array(Number(c)+1).fill(o),f=Math.floor((e.BITS-1)/l)*l;let h=o;for(let p=f;p>=0;p-=l){u.fill(o);for(let m=0;m<s;m++){const w=n[m],y=Number(w>>BigInt(p)&c);u[y]=u[y].add(r[m])}let g=o;for(let m=u.length-1,w=o;m>0;m--)w=w.add(u[m]),g=g.add(w);if(h=h.add(g),p!==0)for(let m=0;m<l;m++)h=h.double()}return h}function nJ(t){return t8e(t.Fp),b4(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...QZ(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function cM(t){t.lowS!==void 0&&d2("lowS",t.lowS),t.prehash!==void 0&&d2("prehash",t.prehash)}function l8e(t){const e=nJ(t);b4(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}let c8e=class extends Error{constructor(e=""){super(e)}};const Jc={Err:c8e,_tlv:{encode:(t,e)=>{const{Err:r}=Jc;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,i=Ob(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?Ob(i.length/2|128):"";return Ob(t)+s+i+e},decode(t,e){const{Err:r}=Jc;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const i=e[n++],s=!!(i&128);let o=0;if(!s)o=i;else{const l=i&127;if(!l)throw new r("tlv.decode(long): indefinite length not supported");if(l>4)throw new r("tlv.decode(long): byte length is too big");const c=e.subarray(n,n+l);if(c.length!==l)throw new r("tlv.decode: length bytes not complete");if(c[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const u of c)o=o<<8|u;if(n+=l,o<128)throw new r("tlv.decode(long): not minimal encoding")}const a=e.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+o)}}},_int:{encode(t){const{Err:e}=Jc;if(t<nu)throw new e("integer: negative integers are not allowed");let r=Ob(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=Jc;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return fh(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=Jc,i=Ko("signature",t),{v:s,l:o}=n.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=n.decode(2,s),{v:c,l:u}=n.decode(2,l);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(c)}},hexFromSig(t){const{_tlv:e,_int:r}=Jc,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s)),s=n+i;return e.encode(48,s)}};function WE(t,e){return f2(uw(t,e))}const nu=BigInt(0),Kn=BigInt(1);BigInt(2);const zE=BigInt(3),u8e=BigInt(4);function d8e(t){const e=l8e(t),{Fp:r}=e,n=Zk(e.n,e.nBitLength),i=e.toBytes||((v,b,$)=>{const P=b.toAffine();return b5(Uint8Array.from([4]),r.toBytes(P.x),r.toBytes(P.y))}),s=e.fromBytes||(v=>{const b=v.subarray(1),$=r.fromBytes(b.subarray(0,r.BYTES)),P=r.fromBytes(b.subarray(r.BYTES,2*r.BYTES));return{x:$,y:P}});function o(v){const{a:b,b:$}=e,P=r.sqr(v),O=r.mul(P,v);return r.add(r.add(O,r.mul(v,b)),$)}function a(v,b){const $=r.sqr(b),P=o(v);return r.eql($,P)}if(!a(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const l=r.mul(r.pow(e.a,zE),u8e),c=r.mul(r.sqr(e.b),BigInt(27));if(r.is0(r.add(l,c)))throw new Error("bad curve params: a or b");function u(v){return Ok(v,Kn,e.n)}function f(v){const{allowedPrivateKeyLengths:b,nByteLength:$,wrapPrivateKey:P,n:O}=e;if(b&&typeof v!="bigint"){if(cw(v)&&(v=f2(v)),typeof v!="string"||!b.includes(v.length))throw new Error("invalid private key");v=v.padStart($*2,"0")}let D;try{D=typeof v=="bigint"?v:fh(Ko("private key",v,$))}catch{throw new Error("invalid private key, expected hex or "+$+" bytes, got "+typeof v)}return P&&(D=Ts(D,O)),M0("private key",D,Kn,O),D}function h(v){if(!(v instanceof m))throw new Error("ProjectivePoint expected")}const p=qj((v,b)=>{const{px:$,py:P,pz:O}=v;if(r.eql(O,r.ONE))return{x:$,y:P};const D=v.is0();b==null&&(b=D?r.ONE:r.inv(O));const B=r.mul($,b),H=r.mul(P,b),q=r.mul(O,b);if(D)return{x:r.ZERO,y:r.ZERO};if(!r.eql(q,r.ONE))throw new Error("invZ was invalid");return{x:B,y:H}}),g=qj(v=>{if(v.is0()){if(e.allowInfinityPoint&&!r.is0(v.py))return;throw new Error("bad point: ZERO")}const{x:b,y:$}=v.toAffine();if(!r.isValid(b)||!r.isValid($))throw new Error("bad point: x or y not FE");if(!a(b,$))throw new Error("bad point: equation left != right");if(!v.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class m{constructor(b,$,P){if(b==null||!r.isValid(b))throw new Error("x required");if($==null||!r.isValid($)||r.is0($))throw new Error("y required");if(P==null||!r.isValid(P))throw new Error("z required");this.px=b,this.py=$,this.pz=P,Object.freeze(this)}static fromAffine(b){const{x:$,y:P}=b||{};if(!b||!r.isValid($)||!r.isValid(P))throw new Error("invalid affine point");if(b instanceof m)throw new Error("projective point not allowed");const O=D=>r.eql(D,r.ZERO);return O($)&&O(P)?m.ZERO:new m($,P,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(b){const $=JZ(r,b.map(P=>P.pz));return b.map((P,O)=>P.toAffine($[O])).map(m.fromAffine)}static fromHex(b){const $=m.fromAffine(s(Ko("pointHex",b)));return $.assertValidity(),$}static fromPrivateKey(b){return m.BASE.multiply(f(b))}static msm(b,$){return a8e(m,n,b,$)}_setWindowSize(b){E.setWindowSize(this,b)}assertValidity(){g(this)}hasEvenY(){const{y:b}=this.toAffine();if(r.isOdd)return!r.isOdd(b);throw new Error("Field doesn't support isOdd")}equals(b){h(b);const{px:$,py:P,pz:O}=this,{px:D,py:B,pz:H}=b,q=r.eql(r.mul($,H),r.mul(D,O)),Y=r.eql(r.mul(P,H),r.mul(B,O));return q&&Y}negate(){return new m(this.px,r.neg(this.py),this.pz)}double(){const{a:b,b:$}=e,P=r.mul($,zE),{px:O,py:D,pz:B}=this;let H=r.ZERO,q=r.ZERO,Y=r.ZERO,R=r.mul(O,O),_=r.mul(D,D),x=r.mul(B,B),A=r.mul(O,D);return A=r.add(A,A),Y=r.mul(O,B),Y=r.add(Y,Y),H=r.mul(b,Y),q=r.mul(P,x),q=r.add(H,q),H=r.sub(_,q),q=r.add(_,q),q=r.mul(H,q),H=r.mul(A,H),Y=r.mul(P,Y),x=r.mul(b,x),A=r.sub(R,x),A=r.mul(b,A),A=r.add(A,Y),Y=r.add(R,R),R=r.add(Y,R),R=r.add(R,x),R=r.mul(R,A),q=r.add(q,R),x=r.mul(D,B),x=r.add(x,x),R=r.mul(x,A),H=r.sub(H,R),Y=r.mul(x,_),Y=r.add(Y,Y),Y=r.add(Y,Y),new m(H,q,Y)}add(b){h(b);const{px:$,py:P,pz:O}=this,{px:D,py:B,pz:H}=b;let q=r.ZERO,Y=r.ZERO,R=r.ZERO;const _=e.a,x=r.mul(e.b,zE);let A=r.mul($,D),T=r.mul(P,B),I=r.mul(O,H),N=r.add($,P),M=r.add(D,B);N=r.mul(N,M),M=r.add(A,T),N=r.sub(N,M),M=r.add($,O);let U=r.add(D,H);return M=r.mul(M,U),U=r.add(A,I),M=r.sub(M,U),U=r.add(P,O),q=r.add(B,H),U=r.mul(U,q),q=r.add(T,I),U=r.sub(U,q),R=r.mul(_,M),q=r.mul(x,I),R=r.add(q,R),q=r.sub(T,R),R=r.add(T,R),Y=r.mul(q,R),T=r.add(A,A),T=r.add(T,A),I=r.mul(_,I),M=r.mul(x,M),T=r.add(T,I),I=r.sub(A,I),I=r.mul(_,I),M=r.add(M,I),A=r.mul(T,M),Y=r.add(Y,A),A=r.mul(U,M),q=r.mul(N,q),q=r.sub(q,A),A=r.mul(N,T),R=r.mul(U,R),R=r.add(R,A),new m(q,Y,R)}subtract(b){return this.add(b.negate())}is0(){return this.equals(m.ZERO)}wNAF(b){return E.wNAFCached(this,b,m.normalizeZ)}multiplyUnsafe(b){const{endo:$,n:P}=e;M0("scalar",b,nu,P);const O=m.ZERO;if(b===nu)return O;if(this.is0()||b===Kn)return this;if(!$||E.hasPrecomputes(this))return E.wNAFCachedUnsafe(this,b,m.normalizeZ);let{k1neg:D,k1:B,k2neg:H,k2:q}=$.splitScalar(b),Y=O,R=O,_=this;for(;B>nu||q>nu;)B&Kn&&(Y=Y.add(_)),q&Kn&&(R=R.add(_)),_=_.double(),B>>=Kn,q>>=Kn;return D&&(Y=Y.negate()),H&&(R=R.negate()),R=new m(r.mul(R.px,$.beta),R.py,R.pz),Y.add(R)}multiply(b){const{endo:$,n:P}=e;M0("scalar",b,Kn,P);let O,D;if($){const{k1neg:B,k1:H,k2neg:q,k2:Y}=$.splitScalar(b);let{p:R,f:_}=this.wNAF(H),{p:x,f:A}=this.wNAF(Y);R=E.constTimeNegate(B,R),x=E.constTimeNegate(q,x),x=new m(r.mul(x.px,$.beta),x.py,x.pz),O=R.add(x),D=_.add(A)}else{const{p:B,f:H}=this.wNAF(b);O=B,D=H}return m.normalizeZ([O,D])[0]}multiplyAndAddUnsafe(b,$,P){const O=m.BASE,D=(H,q)=>q===nu||q===Kn||!H.equals(O)?H.multiplyUnsafe(q):H.multiply(q),B=D(this,$).add(D(b,P));return B.is0()?void 0:B}toAffine(b){return p(this,b)}isTorsionFree(){const{h:b,isTorsionFree:$}=e;if(b===Kn)return!0;if($)return $(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:b,clearCofactor:$}=e;return b===Kn?this:$?$(m,this):this.multiplyUnsafe(e.h)}toRawBytes(b=!0){return d2("isCompressed",b),this.assertValidity(),i(m,this,b)}toHex(b=!0){return d2("isCompressed",b),f2(this.toRawBytes(b))}}m.BASE=new m(e.Gx,e.Gy,r.ONE),m.ZERO=new m(r.ZERO,r.ONE,r.ZERO);const{endo:w,nBitLength:y}=e,E=o8e(m,w?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:m,normPrivateKeyToScalar:f,weierstrassEquation:o,isWithinCurveOrder:u}}function f8e(t){const e=nJ(t);return b4(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function h8e(t){const e=f8e(t),{Fp:r,n,nByteLength:i,nBitLength:s}=e,o=r.BYTES+1,a=2*r.BYTES+1;function l(x){return Ts(x,n)}function c(x){return bA(x,n)}const{ProjectivePoint:u,normPrivateKeyToScalar:f,weierstrassEquation:h,isWithinCurveOrder:p}=d8e({...e,toBytes(x,A,T){const I=A.toAffine(),N=r.toBytes(I.x),M=b5;return d2("isCompressed",T),T?M(Uint8Array.from([A.hasEvenY()?2:3]),N):M(Uint8Array.from([4]),N,r.toBytes(I.y))},fromBytes(x){const A=x.length,T=x[0],I=x.subarray(1);if(A===o&&(T===2||T===3)){const N=fh(I);if(!Ok(N,Kn,r.ORDER))throw new Error("Point is not on curve");const M=h(N);let U;try{U=r.sqrt(M)}catch(Q){const k=Q instanceof Error?": "+Q.message:"";throw new Error("Point is not on curve"+k)}const S=(U&Kn)===Kn;return(T&1)===1!==S&&(U=r.neg(U)),{x:N,y:U}}else if(A===a&&T===4){const N=r.fromBytes(I.subarray(0,r.BYTES)),M=r.fromBytes(I.subarray(r.BYTES,2*r.BYTES));return{x:N,y:M}}else{const N=o,M=a;throw new Error("invalid Point, expected length of "+N+", or uncompressed "+M+", got "+A)}}});function g(x){const A=n>>Kn;return x>A}function m(x){return g(x)?l(-x):x}const w=(x,A,T)=>fh(x.slice(A,T));class y{constructor(A,T,I){M0("r",A,Kn,n),M0("s",T,Kn,n),this.r=A,this.s=T,I!=null&&(this.recovery=I),Object.freeze(this)}static fromCompact(A){const T=i;return A=Ko("compactSignature",A,T*2),new y(w(A,0,T),w(A,T,2*T))}static fromDER(A){const{r:T,s:I}=Jc.toSig(Ko("DER",A));return new y(T,I)}assertValidity(){}addRecoveryBit(A){return new y(this.r,this.s,A)}recoverPublicKey(A){const{r:T,s:I,recovery:N}=this,M=O(Ko("msgHash",A));if(N==null||![0,1,2,3].includes(N))throw new Error("recovery id invalid");const U=N===2||N===3?T+e.n:T;if(U>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const S=N&1?"03":"02",F=u.fromHex(S+WE(U,r.BYTES)),Q=c(U),k=l(-M*Q),W=l(I*Q),V=u.BASE.multiplyAndAddUnsafe(F,k,W);if(!V)throw new Error("point at infinify");return V.assertValidity(),V}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return w5(this.toDERHex())}toDERHex(){return Jc.hexFromSig(this)}toCompactRawBytes(){return w5(this.toCompactHex())}toCompactHex(){const A=i;return WE(this.r,A)+WE(this.s,A)}}const E={isValidPrivateKey(x){try{return f(x),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const x=eJ(e.n);return n8e(e.randomBytes(x),e.n)},precompute(x=8,A=u.BASE){return A._setWindowSize(x),A.multiply(BigInt(3)),A}};function v(x,A=!0){return u.fromPrivateKey(x).toRawBytes(A)}function b(x){if(typeof x=="bigint")return!1;if(x instanceof u)return!0;const T=Ko("key",x).length,I=r.BYTES,N=I+1,M=2*I+1;if(!(e.allowedPrivateKeyLengths||i===N))return T===N||T===M}function $(x,A,T=!0){if(b(x)===!0)throw new Error("first arg must be private key");if(b(A)===!1)throw new Error("second arg must be public key");return u.fromHex(A).multiply(f(x)).toRawBytes(T)}const P=e.bits2int||function(x){if(x.length>8192)throw new Error("input is too large");const A=fh(x),T=x.length*8-s;return T>0?A>>BigInt(T):A},O=e.bits2int_modN||function(x){return l(P(x))},D=w4(s);function B(x){return M0("num < 2^"+s,x,nu,D),uw(x,i)}function H(x,A,T=q){if(["recovered","canonical"].some(te=>te in T))throw new Error("sign() legacy options not supported");const{hash:I,randomBytes:N}=e;let{lowS:M,prehash:U,extraEntropy:S}=T;M==null&&(M=!0),x=Ko("msgHash",x),cM(T),U&&(x=Ko("prehashed msgHash",I(x)));const F=O(x),Q=f(A),k=[B(Q),B(F)];if(S!=null&&S!==!1){const te=S===!0?N(r.BYTES):S;k.push(Ko("extraEntropy",te))}const W=b5(...k),V=F;function ee(te){const ce=P(te);if(!p(ce))return;const K=c(ce),G=u.BASE.multiply(ce).toAffine(),pe=l(G.x);if(pe===nu)return;const de=l(K*l(V+pe*Q));if(de===nu)return;let ye=(G.x===pe?0:2)|Number(G.y&Kn),Ne=de;return M&&g(de)&&(Ne=m(de),ye^=1),new y(pe,Ne,ye)}return{seed:W,k2sig:ee}}const q={lowS:e.lowS,prehash:!1},Y={lowS:e.lowS,prehash:!1};function R(x,A,T=q){const{seed:I,k2sig:N}=H(x,A,T),M=e;return I5e(M.hash.outputLen,M.nByteLength,M.hmac)(I,N)}u.BASE._setWindowSize(8);function _(x,A,T,I=Y){var ye;const N=x;A=Ko("msgHash",A),T=Ko("publicKey",T);const{lowS:M,prehash:U,format:S}=I;if(cM(I),"strict"in I)throw new Error("options.strict was renamed to lowS");if(S!==void 0&&S!=="compact"&&S!=="der")throw new Error("format must be compact or der");const F=typeof N=="string"||cw(N),Q=!F&&!S&&typeof N=="object"&&N!==null&&typeof N.r=="bigint"&&typeof N.s=="bigint";if(!F&&!Q)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let k,W;try{if(Q&&(k=new y(N.r,N.s)),F){try{S!=="compact"&&(k=y.fromDER(N))}catch(Ne){if(!(Ne instanceof Jc.Err))throw Ne}!k&&S!=="der"&&(k=y.fromCompact(N))}W=u.fromHex(T)}catch{return!1}if(!k||M&&k.hasHighS())return!1;U&&(A=e.hash(A));const{r:V,s:ee}=k,te=O(A),ce=c(ee),K=l(te*ce),G=l(V*ce),pe=(ye=u.BASE.multiplyAndAddUnsafe(W,K,G))==null?void 0:ye.toAffine();return pe?l(pe.x)===V:!1}return{CURVE:e,getPublicKey:v,getSharedSecret:$,sign:R,verify:_,ProjectivePoint:u,Signature:y,utils:E}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function p8e(t){return{hash:t,hmac:(e,...r)=>Yk(t,e,cY(...r)),randomBytes:dY}}function g8e(t,e){const r=n=>h8e({...t,...p8e(n)});return{...r(e),create:r}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const iJ=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),uM=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),m8e=BigInt(0),y8e=BigInt(1),xA=BigInt(2),dM=(t,e)=>(t+e/xA)/e;function w8e(t){const e=iJ,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,u=c*c*t%e,f=Fo(u,r,e)*u%e,h=Fo(f,r,e)*u%e,p=Fo(h,xA,e)*c%e,g=Fo(p,i,e)*p%e,m=Fo(g,s,e)*g%e,w=Fo(m,a,e)*m%e,y=Fo(w,l,e)*w%e,E=Fo(y,a,e)*m%e,v=Fo(E,r,e)*u%e,b=Fo(v,o,e)*g%e,$=Fo(b,n,e)*c%e,P=Fo($,xA,e);if(!EA.eql(EA.sqr(P),t))throw new Error("Cannot find square root");return P}const EA=Zk(iJ,void 0,void 0,{sqrt:w8e}),sJ=g8e({a:m8e,b:BigInt(7),Fp:EA,n:uM,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=uM,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-y8e*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=dM(s*t,e),l=dM(-n*t,e);let c=Ts(t-a*r-l*i,e),u=Ts(-a*n-l*s,e);const f=c>o,h=u>o;if(f&&(c=e-c),h&&(u=e-u),c>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:c,k2neg:h,k2:u}}}},Ak),b8e=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:sJ},Symbol.toStringTag,{value:"Module"}));function oJ(t,e={}){const{recovered:r}=e;if(typeof t.r>"u")throw new HE({signature:t});if(typeof t.s>"u")throw new HE({signature:t});if(r&&typeof t.yParity>"u")throw new HE({signature:t});if(t.r<0n||t.r>nM)throw new S8e({value:t.r});if(t.s<0n||t.s>nM)throw new $8e({value:t.s});if(typeof t.yParity=="number"&&t.yParity!==0&&t.yParity!==1)throw new Qk({value:t.yParity})}function v8e(t){return aJ(nl(t))}function aJ(t){if(t.length!==130&&t.length!==132)throw new A8e({signature:t});const e=BigInt(Xl(t,0,32)),r=BigInt(Xl(t,32,64)),n=(()=>{const i=+`0x${t.slice(130)}`;if(!Number.isNaN(i))try{return Jk(i)}catch{throw new Qk({value:i})}})();return typeof n>"u"?{r:e,s:r}:{r:e,s:r,yParity:n}}function x8e(t){if(!(typeof t.r>"u")&&!(typeof t.s>"u"))return E8e(t)}function E8e(t){const e=typeof t=="string"?aJ(t):t instanceof Uint8Array?v8e(t):typeof t.r=="string"?C8e(t):t.v?_8e(t):{r:t.r,s:t.s,...typeof t.yParity<"u"?{yParity:t.yParity}:{}};return oJ(e),e}function _8e(t){return{r:t.r,s:t.s,yParity:Jk(t.v)}}function C8e(t){const e=(()=>{const r=t.v?Number(t.v):void 0;let n=t.yParity?Number(t.yParity):void 0;if(typeof r=="number"&&typeof n!="number"&&(n=Jk(r)),typeof n!="number")throw new Qk({value:t.yParity});return n})();return{r:BigInt(t.r),s:BigInt(t.s),yParity:e}}function Jk(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new I8e({value:t})}let A8e=class extends Ut{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${$o(X5e(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}};class HE extends Ut{constructor({signature:e}){super(`Signature \`${XY(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class S8e extends Ut{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class $8e extends Ut{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}let Qk=class extends Ut{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}},I8e=class extends Ut{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}};function k8e(t,e={}){return typeof t.chainId=="string"?T8e(t):{...t,...e.signature}}function T8e(t){const{address:e,chainId:r,nonce:n}=t,i=x8e(t);return{address:e,chainId:Number(r),nonce:BigInt(n),...i}}const N8e="0x8010801080108010801080108010801080108010801080108010801080108010",P8e=zZ("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function lJ(t){if(typeof t=="string"){if(Xl(t,-32)!==N8e)throw new j8e(t)}else oJ(t.authorization)}function R8e(t){lJ(t);const e=iZ(Xl(t,-64,-32)),r=Xl(t,-e-64,-64),n=Xl(t,0,-e-64),[i,s,o]=q4e(P8e,r);return{authorization:k8e({address:i.delegation,chainId:Number(i.chainId),nonce:i.nonce,yParity:i.yParity,r:i.r,s:i.s}),signature:n,...o&&o!=="0x"?{data:o,to:s}:{}}}function O8e(t){try{return lJ(t),!0}catch{return!1}}let j8e=class extends Ut{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};class M8e extends $e{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function D8e(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new M8e({value:t});let[r,n="0"]=t.split(".");const i=r.startsWith("-");if(i&&(r=r.slice(1)),n=n.replace(/(0+)$/,""),e===0)Math.round(+`.${n}`)===1&&(r=`${BigInt(r)+1n}`),n="";else if(n.length>e){const[s,o,a]=[n.slice(0,e-1),n.slice(e-1,e),n.slice(e)],l=Math.round(+`${o}.${a}`);l>9?n=`${BigInt(s)+BigInt(1)}0`.padStart(s.length+1,"0"):n=`${s}${l}`,n.length>e&&(n=n.slice(1),r=`${BigInt(r)+1n}`),n=n.slice(0,e)}else n=n.padEnd(e,"0");return BigInt(`${i?"-":""}${r}${n}`)}function cJ(t,e="wei"){return D8e(t,$Y[e])}function L8e(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function F8e(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?tl(t.nonce):void 0,storageProof:t.storageProof?L8e(t.storageProof):void 0}}async function B8e(t,{address:e,blockNumber:r,blockTag:n,storageKeys:i}){const s=n??"latest",o=r!==void 0?ct(r):void 0,a=await t.request({method:"eth_getProof",params:[e,i,o||s]});return F8e(a)}async function U8e(t,{address:e,blockNumber:r,blockTag:n="latest",slot:i}){const s=r!==void 0?ct(r):void 0;return await t.request({method:"eth_getStorageAt",params:[e,i,s||n]})}async function Xk(t,{blockHash:e,blockNumber:r,blockTag:n,hash:i,index:s,sender:o,nonce:a}){var h,p,g;const l=n||"latest",c=r!==void 0?ct(r):void 0;let u=null;if(i?u=await t.request({method:"eth_getTransactionByHash",params:[i]},{dedupe:!0}):e?u=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,ct(s)]},{dedupe:!0}):typeof s=="number"?u=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[c||l,ct(s)]},{dedupe:!!c}):o&&typeof a=="number"&&(u=await t.request({method:"eth_getTransactionBySenderAndNonce",params:[o,ct(a)]},{dedupe:!0})),!u)throw new IY({blockHash:e,blockNumber:r,blockTag:l,hash:i,index:s});return(((g=(p=(h=t.chain)==null?void 0:h.formatters)==null?void 0:p.transaction)==null?void 0:g.format)||Ek)(u,"getTransaction")}async function W8e(t,{hash:e,transactionReceipt:r}){const[n,i]=await Promise.all([tt(t,fw,"getBlockNumber")({}),e?tt(t,Xk,"getTransaction")({hash:e}):void 0]),s=(r==null?void 0:r.blockNumber)||(i==null?void 0:i.blockNumber);return s?n-s+1n:0n}async function e3(t,{hash:e}){var i,s,o;const r=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!r)throw new kY({hash:e});return(((o=(s=(i=t.chain)==null?void 0:i.formatters)==null?void 0:s.transactionReceipt)==null?void 0:o.format)||yZ)(r,"getTransactionReceipt")}async function z8e(t,e){var E;const{account:r,authorizationList:n,allowFailure:i=!0,blockNumber:s,blockOverrides:o,blockTag:a,stateOverride:l}=e,c=e.contracts,{batchSize:u=e.batchSize??1024,deployless:f=e.deployless??!1}=typeof((E=t.batch)==null?void 0:E.multicall)=="object"?t.batch.multicall:{},h=(()=>{if(e.multicallAddress)return e.multicallAddress;if(f)return null;if(t.chain)return ng({blockNumber:s,chain:t.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),p=[[]];let g=0,m=0;for(let v=0;v<c.length;v++){const{abi:b,address:$,args:P,functionName:O}=c[v];try{const D=Qs({abi:b,args:P,functionName:O});m+=(D.length-2)/2,u>0&&m>u&&p[g].length>0&&(g++,m=(D.length-2)/2,p[g]=[]),p[g]=[...p[g],{allowFailure:!0,callData:D,target:$}]}catch(D){const B=Rh(D,{abi:b,address:$,args:P,docsPath:"/docs/contract/multicall",functionName:O,sender:r});if(!i)throw B;p[g]=[...p[g],{allowFailure:!0,callData:"0x",target:$}]}}const w=await Promise.allSettled(p.map(v=>tt(t,il,"readContract")({...h===null?{code:Mk}:{address:h},abi:v5,account:r,args:[v],authorizationList:n,blockNumber:s,blockOverrides:o,blockTag:a,functionName:"aggregate3",stateOverride:l}))),y=[];for(let v=0;v<w.length;v++){const b=w[v];if(b.status==="rejected"){if(!i)throw b.reason;for(let P=0;P<p[v].length;P++)y.push({status:"failure",error:b.reason,result:void 0});continue}const $=b.value;for(let P=0;P<$.length;P++){const{returnData:O,success:D}=$[P],{callData:B}=p[v][P],{abi:H,address:q,functionName:Y,args:R}=c[y.length];try{if(B==="0x")throw new ew;if(!D)throw new p4({data:O});const _=ip({abi:H,args:R,data:O,functionName:Y});y.push(i?{result:_,status:"success"}:_)}catch(_){const x=Rh(_,{abi:H,address:q,args:R,docsPath:"/docs/contract/multicall",functionName:Y});if(!i)throw x;y.push({error:x,result:void 0,status:"failure"})}}}if(y.length!==c.length)throw new $e("multicall results mismatch");return y}async function _A(t,e){const{blockNumber:r,blockTag:n=t.experimental_blockTag??"latest",blocks:i,returnFullTransactions:s,traceTransfers:o,validation:a}=e;try{const l=[];for(const h of i){const p=h.blockOverrides?aZ(h.blockOverrides):void 0,g=h.calls.map(w=>{const y=w,E=y.account?Kr(y.account):void 0,v=y.abi?Qs(y):y.data,b={...y,account:E,data:y.dataSuffix?pa([v||"0x",y.dataSuffix]):v,from:y.from??(E==null?void 0:E.address)};return Vu(b),gf(b)}),m=h.stateOverrides?vk(h.stateOverrides):void 0;l.push({blockOverrides:p,calls:g,stateOverrides:m})}const u=(typeof r=="bigint"?ct(r):void 0)||n;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:l,returnFullTransactions:s,traceTransfers:o,validation:a},u]})).map((h,p)=>({...FY(h),calls:h.calls.map((g,m)=>{var H,q;const{abi:w,args:y,functionName:E,to:v}=i[p].calls[m],b=((H=g.error)==null?void 0:H.data)??g.returnData,$=BigInt(g.gasUsed),P=(q=g.logs)==null?void 0:q.map(Y=>Tu(Y)),O=g.status==="0x1"?"success":"failure",D=w&&O==="success"&&b!=="0x"?ip({abi:w,data:b,functionName:E}):null,B=(()=>{var R;if(O==="success")return;let Y;if(((R=g.error)==null?void 0:R.data)==="0x"?Y=new ew:g.error&&(Y=new p4(g.error)),!!Y)return Rh(Y,{abi:w??[],address:v??"0x",args:y,functionName:E??"<unknown>"})})();return{data:b,gasUsed:$,logs:P,status:O,...O==="success"?{result:D}:{error:B}}})}))}catch(l){const c=l,u=m4(c,{});throw u instanceof ow?c:u}}function CA(t){let e=!0,r="",n=0,i="",s=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&n++,a===")"&&n--,!!e){if(n===0){if(a===" "&&["event","function","error",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){t[o-1]!==","&&r!==","&&r!==",("&&(r="",e=!1);continue}i+=a,r+=a}}if(!s)throw new Ut("Unable to normalize signature.");return i}function AA(t,e){const r=typeof t,n=e.type;switch(n){case"address":return mA(t,{strict:!1});case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return n==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>AA(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?r==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)?Array.isArray(t)&&t.every(i=>AA(i,{...e,type:n.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function uJ(t,e,r){for(const n in t){const i=t[n],s=e[n];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return uJ(i.components,s.components,r[n]);const o=[i.type,s.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?mA(r[n],{strict:!1}):o.includes("address")&&o.includes("bytes")?mA(r[n],{strict:!1}):!1)return o}}function dJ(t,e={}){const{prepare:r=!0}=e,n=Array.isArray(t)||typeof t=="string"?bj(t):t;return{...n,...r?{hash:h0(n)}:{}}}function I4(t,e,r){const{args:n=[],prepare:i=!0}=r??{},s=e6e(e,{strict:!1}),o=t.filter(c=>s?c.type==="function"||c.type==="error"?fJ(c)===Xl(e,0,4):c.type==="event"?h0(c)===e:!1:"name"in c&&c.name===e);if(o.length===0)throw new E5({name:e});if(o.length===1)return{...o[0],...i?{hash:h0(o[0])}:{}};let a;for(const c of o){if(!("inputs"in c))continue;if(!n||n.length===0){if(!c.inputs||c.inputs.length===0)return{...c,...i?{hash:h0(c)}:{}};continue}if(!c.inputs||c.inputs.length===0||c.inputs.length!==n.length)continue;if(n.every((f,h)=>{const p="inputs"in c&&c.inputs[h];return p?AA(f,p):!1})){if(a&&"inputs"in a&&a.inputs){const f=uJ(c.inputs,a.inputs,n);if(f)throw new q8e({abiItem:c,type:f[0]},{abiItem:a,type:f[1]})}a=c}}const l=(()=>{if(a)return a;const[c,...u]=o;return{...c,overloads:u}})();if(!l)throw new E5({name:e});return{...l,...i?{hash:h0(l)}:{}}}function fJ(...t){const e=(()=>{if(Array.isArray(t[0])){const[r,n]=t;return I4(r,n)}return t[0]})();return Xl(h0(e),0,4)}function H8e(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,i]=t;return I4(n,i)}return t[0]})(),r=typeof e=="string"?e:h5(e);return CA(r)}function h0(...t){const e=(()=>{if(Array.isArray(t[0])){const[r,n]=t;return I4(r,n)}return t[0]})();return typeof e!="string"&&"hash"in e&&e.hash?e.hash:BZ(jk(H8e(e)))}class q8e extends Ut{constructor(e,r){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${CA(h5(e.abiItem))}\`, and`,`\`${r.type}\` in \`${CA(h5(r.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class E5 extends Ut{constructor({name:e,data:r,type:n="item"}){const i=e?` with name "${e}"`:r?` with data "${r}"`:"";super(`ABI ${n}${i} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function V8e(...t){var s;const[e,r]=(()=>{if(Array.isArray(t[0])){const[o,a]=t;return[K8e(o),a]}return t})(),{bytecode:n,args:i}=r;return rl(n,(s=e.inputs)!=null&&s.length&&(i!=null&&i.length)?Gk(e.inputs,i):"0x")}function G8e(t){return dJ(t)}function K8e(t){const e=t.find(r=>r.type==="constructor");if(!e)throw new E5({name:"constructor"});return e}function Y8e(...t){const[e,r=[]]=(()=>{if(Array.isArray(t[0])){const[c,u,f]=t;return[fM(c,u,{args:f}),f]}const[a,l]=t;return[a,l]})(),{overloads:n}=e,i=n?fM([e,...n],e.name,{args:r}):e,s=Z8e(i),o=r.length>0?Gk(i.inputs,r):void 0;return o?rl(s,o):s}function Ip(t,e={}){return dJ(t,e)}function fM(t,e,r){const n=I4(t,e,r);if(n.type!=="function")throw new E5({name:e,type:"function"});return n}function Z8e(t){return fJ(t)}const J8e="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",ml="0x0000000000000000000000000000000000000000",Q8e="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function X8e(t,e){const{blockNumber:r,blockTag:n,calls:i,stateOverrides:s,traceAssetChanges:o,traceTransfers:a,validation:l}=e,c=e.account?Kr(e.account):void 0;if(o&&!c)throw new $e("`account` is required when `traceAssetChanges` is true");const u=c?V8e(G8e("constructor(bytes, bytes)"),{bytecode:dZ,args:[Q8e,Y8e(Ip("function getBalance(address)"),[c.address])]}):void 0,f=o?await Promise.all(e.calls.map(async I=>{if(!I.data&&!I.abi)return;const{accessList:N}=await TZ(t,{account:c.address,...I,data:I.abi?Qs(I):I.data});return N.map(({address:M,storageKeys:U})=>U.length>0?M:null)})).then(I=>I.flat().filter(Boolean)):[],h=await _A(t,{blockNumber:r,blockTag:n,blocks:[...o?[{calls:[{data:u}],stateOverrides:s},{calls:f.map((I,N)=>({abi:[Ip("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[c.address],to:I,from:ml,nonce:N})),stateOverrides:[{address:ml,nonce:0}]}]:[],{calls:[...i,{}].map(I=>({...I,from:c==null?void 0:c.address})),stateOverrides:s},...o?[{calls:[{data:u}]},{calls:f.map((I,N)=>({abi:[Ip("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[c.address],to:I,from:ml,nonce:N})),stateOverrides:[{address:ml,nonce:0}]},{calls:f.map((I,N)=>({to:I,abi:[Ip("function decimals() returns (uint256)")],functionName:"decimals",from:ml,nonce:N})),stateOverrides:[{address:ml,nonce:0}]},{calls:f.map((I,N)=>({to:I,abi:[Ip("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:ml,nonce:N})),stateOverrides:[{address:ml,nonce:0}]},{calls:f.map((I,N)=>({to:I,abi:[Ip("function symbol() returns (string)")],functionName:"symbol",from:ml,nonce:N})),stateOverrides:[{address:ml,nonce:0}]}]:[]],traceTransfers:a,validation:l}),p=o?h[2]:h[0],[g,m,,w,y,E,v,b]=o?h:[],{calls:$,...P}=p,O=$.slice(0,-1)??[],D=(g==null?void 0:g.calls)??[],B=(m==null?void 0:m.calls)??[],H=[...D,...B].map(I=>I.status==="success"?So(I.data):null),q=(w==null?void 0:w.calls)??[],Y=(y==null?void 0:y.calls)??[],R=[...q,...Y].map(I=>I.status==="success"?So(I.data):null),_=((E==null?void 0:E.calls)??[]).map(I=>I.status==="success"?I.result:null),x=((b==null?void 0:b.calls)??[]).map(I=>I.status==="success"?I.result:null),A=((v==null?void 0:v.calls)??[]).map(I=>I.status==="success"?I.result:null),T=[];for(const[I,N]of R.entries()){const M=H[I];if(typeof N!="bigint"||typeof M!="bigint")continue;const U=_[I-1],S=x[I-1],F=A[I-1],Q=I===0?{address:J8e,decimals:18,symbol:"ETH"}:{address:f[I-1],decimals:F||U?Number(U??1):void 0,symbol:S??void 0};T.some(k=>k.token.address===Q.address)||T.push({token:Q,value:{pre:M,post:N,diff:N-M}})}return{assetChanges:T,block:P,results:O}}const hJ="0x6492649264926492649264926492649264926492649264926492649264926492";function exe(t){if(Xl(t,-32)!==hJ)throw new nxe(t)}function txe(t){const{data:e,signature:r,to:n}=t;return rl(Gk(zZ("address, bytes, bytes"),[n,e,r]),hJ)}function rxe(t){try{return exe(t),!0}catch{return!1}}class nxe extends Ut{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function ixe({r:t,s:e,to:r="hex",v:n,yParity:i}){const s=(()=>{if(i===0||i===1)return i;if(n&&(n===27n||n===28n||n>=35n))return n%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new sJ.Signature(So(t),So(e)).toCompactHex()}${s===0?"1b":"1c"}`;return r==="hex"?o:gc(o)}async function k4(t,e){var l,c,u,f;const{address:r,chain:n=t.chain,hash:i,erc6492VerifierAddress:s=e.universalSignatureVerifierAddress??((c=(l=n==null?void 0:n.contracts)==null?void 0:l.erc6492Verifier)==null?void 0:c.address),multicallAddress:o=e.multicallAddress??((f=(u=n==null?void 0:n.contracts)==null?void 0:u.multicall3)==null?void 0:f.address)}=e;if(n!=null&&n.verifyHash)return await n.verifyHash(t,e);const a=(()=>{const h=e.signature;return el(h)?h:typeof h=="object"&&"r"in h&&"s"in h?ixe(h):Fn(h)})();try{return O8e(a)?await sxe(t,{...e,multicallAddress:o,signature:a}):await oxe(t,{...e,verifierAddress:s,signature:a})}catch(h){try{if(lw(f4(r),await RY({hash:i,signature:a})))return!0}catch{}if(h instanceof Mh)return!1;throw h}}async function sxe(t,e){var w;const{address:r,blockNumber:n,blockTag:i,hash:s,multicallAddress:o}=e,{authorization:a,data:l,signature:c,to:u}=R8e(e.signature);if(await gA(t,{address:r,blockNumber:n,blockTag:i})===eg(["0xef0100",a.address]))return await axe(t,{address:r,blockNumber:n,blockTag:i,hash:s,signature:c});const h={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:ct(a.r,{size:32}),s:ct(a.s,{size:32}),yParity:a.yParity};if(!await t4e({address:r,authorization:h}))throw new Mh;const g=await tt(t,il,"readContract")({...o?{address:o}:{code:Mk},authorizationList:[h],abi:v5,blockNumber:n,blockTag:"pending",functionName:"aggregate3",args:[[...l?[{allowFailure:!0,target:u??r,callData:l}]:[],{allowFailure:!0,target:r,callData:Qs({abi:uZ,functionName:"isValidSignature",args:[s,c]})}]]}),m=(w=g[g.length-1])==null?void 0:w.returnData;if(m!=null&&m.startsWith("0x1626ba7e"))return!0;throw new Mh}async function oxe(t,e){const{address:r,factory:n,factoryData:i,hash:s,signature:o,verifierAddress:a,...l}=e,c=await(async()=>!n&&!i||rxe(o)?o:txe({data:i,signature:o,to:n}))(),u=a?{to:a,data:Qs({abi:Jj,functionName:"isValidSig",args:[r,s,c]}),...l}:{data:x4({abi:Jj,args:[r,s,c],bytecode:a6e}),...l},{data:f}=await tt(t,E4,"call")(u).catch(h=>{throw h instanceof NY?new Mh:h});if($ve(f??"0x0"))return!0;throw new Mh}async function axe(t,e){const{address:r,blockNumber:n,blockTag:i,hash:s,signature:o}=e;if((await tt(t,il,"readContract")({address:r,abi:uZ,args:[s,o],blockNumber:n,blockTag:i,functionName:"isValidSignature"}).catch(l=>{throw l instanceof PY?new Mh:l})).startsWith("0x1626ba7e"))return!0;throw new Mh}class Mh extends Error{}async function lxe(t,{address:e,message:r,factory:n,factoryData:i,signature:s,...o}){const a=RZ(r);return tt(t,k4,"verifyHash")({address:e,factory:n,factoryData:i,hash:a,signature:s,...o})}async function cxe(t,e){const{address:r,factory:n,factoryData:i,signature:s,message:o,primaryType:a,types:l,domain:c,...u}=e,f=g4e({message:o,primaryType:a,types:l,domain:c});return tt(t,k4,"verifyHash")({address:r,factory:n,factoryData:i,hash:f,signature:s,...u})}function pJ(t,{emitOnBegin:e=!1,emitMissed:r=!1,onBlockNumber:n,onError:i,poll:s,pollingInterval:o=t.pollingInterval}){const a=typeof s<"u"?s:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc"));let l;return a?(()=>{const f=Dn(["watchBlockNumber",t.uid,e,r,o]);return Nu(f,{onBlockNumber:n,onError:i},h=>ig(async()=>{var p;try{const g=await tt(t,fw,"getBlockNumber")({cacheTime:0});if(l!==void 0){if(g===l)return;if(g-l>1&&r)for(let m=l+1n;m<g;m++)h.onBlockNumber(m,l),l=m}(l===void 0||g>l)&&(h.onBlockNumber(g,l),l=g)}catch(g){(p=h.onError)==null||p.call(h,g)}},{emitOnBegin:e,interval:o}))})():(()=>{const f=Dn(["watchBlockNumber",t.uid,e,r]);return Nu(f,{onBlockNumber:n,onError:i},h=>{let p=!0,g=()=>p=!1;return(async()=>{try{const m=(()=>{if(t.transport.type==="fallback"){const y=t.transport.transports.find(E=>E.config.type==="webSocket"||E.config.type==="ipc");return y?y.value:t.transport}return t.transport})(),{unsubscribe:w}=await m.subscribe({params:["newHeads"],onData(y){var v;if(!p)return;const E=So((v=y.result)==null?void 0:v.number);h.onBlockNumber(E,l),l=E},onError(y){var E;(E=h.onError)==null||E.call(h,y)}});g=w,p||g()}catch(m){i==null||i(m)}})(),()=>g()})})()}async function gJ(t,e){const{checkReplacement:r=!0,confirmations:n=1,hash:i,onReplaced:s,retryCount:o=6,retryDelay:a=({count:$})=>~~(1<<$)*200,timeout:l=18e4}=e,c=Dn(["waitForTransactionReceipt",t.uid,i]),u=(()=>{var $;return e.pollingInterval?e.pollingInterval:($=t.chain)!=null&&$.experimental_preconfirmationTime?t.chain.experimental_preconfirmationTime:t.pollingInterval})();let f,h,p,g=!1,m,w;const{promise:y,resolve:E,reject:v}=Dk(),b=l?setTimeout(()=>{w==null||w(),m==null||m(),v(new F3e({hash:i}))},l):void 0;return m=Nu(c,{onReplaced:s,resolve:E,reject:v},async $=>{if(p=await tt(t,e3,"getTransactionReceipt")({hash:i}).catch(()=>{}),p&&n<=1){clearTimeout(b),$.resolve(p),m==null||m();return}w=tt(t,pJ,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:u,async onBlockNumber(P){const O=B=>{clearTimeout(b),w==null||w(),B(),m==null||m()};let D=P;if(!g)try{if(p){if(n>1&&(!p.blockNumber||D-p.blockNumber+1n<n))return;O(()=>$.resolve(p));return}if(r&&!f&&(g=!0,await x5(async()=>{f=await tt(t,Xk,"getTransaction")({hash:i}),f.blockNumber&&(D=f.blockNumber)},{delay:a,retryCount:o}),g=!1),p=await tt(t,e3,"getTransactionReceipt")({hash:i}),n>1&&(!p.blockNumber||D-p.blockNumber+1n<n))return;O(()=>$.resolve(p))}catch(B){if(B instanceof IY||B instanceof kY){if(!f){g=!1;return}try{h=f,g=!0;const H=await x5(()=>tt(t,za,"getBlock")({blockNumber:D,includeTransactions:!0}),{delay:a,retryCount:o,shouldRetry:({error:R})=>R instanceof DY});g=!1;const q=H.transactions.find(({from:R,nonce:_})=>R===h.from&&_===h.nonce);if(!q||(p=await tt(t,e3,"getTransactionReceipt")({hash:q.hash}),n>1&&(!p.blockNumber||D-p.blockNumber+1n<n)))return;let Y="replaced";q.to===h.to&&q.value===h.value&&q.input===h.input?Y="repriced":q.from===q.to&&q.value===0n&&(Y="cancelled"),O(()=>{var R;(R=$.onReplaced)==null||R.call($,{reason:Y,replacedTransaction:h,transaction:q,transactionReceipt:p}),$.resolve(p)})}catch(H){O(()=>$.reject(H))}}else O(()=>$.reject(B))}}})}),y}function uxe(t,{blockTag:e=t.experimental_blockTag??"latest",emitMissed:r=!1,emitOnBegin:n=!1,onBlock:i,onError:s,includeTransactions:o,poll:a,pollingInterval:l=t.pollingInterval}){const c=typeof a<"u"?a:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),u=o??!1;let f;return c?(()=>{const g=Dn(["watchBlocks",t.uid,e,r,n,u,l]);return Nu(g,{onBlock:i,onError:s},m=>ig(async()=>{var w;try{const y=await tt(t,za,"getBlock")({blockTag:e,includeTransactions:u});if(y.number!==null&&(f==null?void 0:f.number)!=null){if(y.number===f.number)return;if(y.number-f.number>1&&r)for(let E=(f==null?void 0:f.number)+1n;E<y.number;E++){const v=await tt(t,za,"getBlock")({blockNumber:E,includeTransactions:u});m.onBlock(v,f),f=v}}((f==null?void 0:f.number)==null||e==="pending"&&(y==null?void 0:y.number)==null||y.number!==null&&y.number>f.number)&&(m.onBlock(y,f),f=y)}catch(y){(w=m.onError)==null||w.call(m,y)}},{emitOnBegin:n,interval:l}))})():(()=>{let g=!0,m=!0,w=()=>g=!1;return(async()=>{try{n&&tt(t,za,"getBlock")({blockTag:e,includeTransactions:u}).then(v=>{g&&m&&(i(v,void 0),m=!1)}).catch(s);const y=(()=>{if(t.transport.type==="fallback"){const v=t.transport.transports.find(b=>b.config.type==="webSocket"||b.config.type==="ipc");return v?v.value:t.transport}return t.transport})(),{unsubscribe:E}=await y.subscribe({params:["newHeads"],async onData(v){var $;if(!g)return;const b=await tt(t,za,"getBlock")({blockNumber:($=v.result)==null?void 0:$.number,includeTransactions:u}).catch(()=>{});g&&(i(b,f),m=!1,f=b)},onError(v){s==null||s(v)}});w=E,g||w()}catch(y){s==null||s(y)}})(),()=>w()})()}function dxe(t,{address:e,args:r,batch:n=!0,event:i,events:s,fromBlock:o,onError:a,onLogs:l,poll:c,pollingInterval:u=t.pollingInterval,strict:f}){const h=typeof c<"u"?c:typeof o=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),p=f??!1;return h?(()=>{const w=Dn(["watchEvent",e,r,n,t.uid,i,u,o]);return Nu(w,{onLogs:l,onError:a},y=>{let E;o!==void 0&&(E=o-1n);let v,b=!1;const $=ig(async()=>{var P;if(!b){try{v=await tt(t,NZ,"createEventFilter")({address:e,args:r,event:i,events:s,strict:p,fromBlock:o})}catch{}b=!0;return}try{let O;if(v)O=await tt(t,_4,"getFilterChanges")({filter:v});else{const D=await tt(t,fw,"getBlockNumber")({});E&&E!==D?O=await tt(t,Nk,"getLogs")({address:e,args:r,event:i,events:s,fromBlock:E+1n,toBlock:D}):O=[],E=D}if(O.length===0)return;if(n)y.onLogs(O);else for(const D of O)y.onLogs([D])}catch(O){v&&O instanceof tf&&(b=!1),(P=y.onError)==null||P.call(y,O)}},{emitOnBegin:!0,interval:u});return async()=>{v&&await tt(t,C4,"uninstallFilter")({filter:v}),$()}})})():(()=>{let w=!0,y=()=>w=!1;return(async()=>{try{const E=(()=>{if(t.transport.type==="fallback"){const P=t.transport.transports.find(O=>O.config.type==="webSocket"||O.config.type==="ipc");return P?P.value:t.transport}return t.transport})(),v=s??(i?[i]:void 0);let b=[];v&&(b=[v.flatMap(O=>nw({abi:[O],eventName:O.name,args:r}))],i&&(b=b[0]));const{unsubscribe:$}=await E.subscribe({params:["logs",{address:e,topics:b}],onData(P){var D;if(!w)return;const O=P.result;try{const{eventName:B,args:H}=y5({abi:v??[],data:O.data,topics:O.topics,strict:p}),q=Tu(O,{args:H,eventName:B});l([q])}catch(B){let H,q;if(B instanceof p5||B instanceof dk){if(f)return;H=B.abiItem.name,q=(D=B.abiItem.inputs)==null?void 0:D.some(R=>!("name"in R&&R.name))}const Y=Tu(O,{args:q?[]:{},eventName:H});l([Y])}},onError(P){a==null||a(P)}});y=$,w||y()}catch(E){a==null||a(E)}})(),()=>y()})()}function fxe(t,{batch:e=!0,onError:r,onTransactions:n,poll:i,pollingInterval:s=t.pollingInterval}){return(typeof i<"u"?i:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{const c=Dn(["watchPendingTransactions",t.uid,e,s]);return Nu(c,{onTransactions:n,onError:r},u=>{let f;const h=ig(async()=>{var p;try{if(!f)try{f=await tt(t,PZ,"createPendingTransactionFilter")({});return}catch(m){throw h(),m}const g=await tt(t,_4,"getFilterChanges")({filter:f});if(g.length===0)return;if(e)u.onTransactions(g);else for(const m of g)u.onTransactions([m])}catch(g){(p=u.onError)==null||p.call(u,g)}},{emitOnBegin:!0,interval:s});return async()=>{f&&await tt(t,C4,"uninstallFilter")({filter:f}),h()}})})():(()=>{let c=!0,u=()=>c=!1;return(async()=>{try{const{unsubscribe:f}=await t.transport.subscribe({params:["newPendingTransactions"],onData(h){if(!c)return;const p=h.result;n([p])},onError(h){r==null||r(h)}});u=f,c||u()}catch(f){r==null||r(f)}})(),()=>u()})()}function hxe(t){var f,h,p;const{scheme:e,statement:r,...n}=((f=t.match(pxe))==null?void 0:f.groups)??{},{chainId:i,expirationTime:s,issuedAt:o,notBefore:a,requestId:l,...c}=((h=t.match(gxe))==null?void 0:h.groups)??{},u=(p=t.split("Resources:")[1])==null?void 0:p.split(`
- `).slice(1);return{...n,...c,...i?{chainId:Number(i)}:{},...s?{expirationTime:new Date(s)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...l?{requestId:l}:{},...u?{resources:u}:{},...e?{scheme:e}:{},...r?{statement:r}:{}}}const pxe=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,gxe=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function mxe(t){const{address:e,domain:r,message:n,nonce:i,scheme:s,time:o=new Date}=t;if(r&&n.domain!==r||i&&n.nonce!==i||s&&n.scheme!==s||n.expirationTime&&o>=n.expirationTime||n.notBefore&&o<n.notBefore)return!1;try{if(!n.address||!ha(n.address,{strict:!1})||e&&!lw(n.address,e))return!1}catch{return!1}return!0}async function yxe(t,e){const{address:r,domain:n,message:i,nonce:s,scheme:o,signature:a,time:l=new Date,...c}=e,u=hxe(i);if(!u.address||!mxe({address:r,domain:n,message:u,nonce:s,scheme:o,time:l}))return!1;const h=RZ(i);return k4(t,{address:u.address,hash:h,signature:a,...c})}async function eT(t,{serializedTransaction:e,throwOnReceiptRevert:r,timeout:n}){var a,l,c;const i=await t.request({method:"eth_sendRawTransactionSync",params:n?[e,ct(n)]:[e]},{retryCount:0}),o=(((c=(l=(a=t.chain)==null?void 0:a.formatters)==null?void 0:l.transactionReceipt)==null?void 0:c.format)||yZ)(i);if(o.status==="reverted"&&r)throw new TY({receipt:o});return o}function tT(t){return{call:e=>E4(t,e),createAccessList:e=>TZ(t,e),createBlockFilter:()=>q6e(t),createContractEventFilter:e=>_Y(t,e),createEventFilter:e=>NZ(t,e),createPendingTransactionFilter:()=>PZ(t),estimateContractGas:e=>_5e(t,e),estimateGas:e=>kk(t,e),getBalance:e=>V6e(t,e),getBlobBaseFee:()=>G6e(t),getBlock:e=>za(t,e),getBlockNumber:e=>fw(t,e),getBlockTransactionCount:e=>K6e(t,e),getBytecode:e=>gA(t,e),getChainId:()=>mf(t),getCode:e=>gA(t,e),getContractEvents:e=>qY(t,e),getEip712Domain:e=>Z6e(t,e),getEnsAddress:e=>k6e(t,e),getEnsAvatar:e=>W6e(t,e),getEnsName:e=>z6e(t,e),getEnsResolver:e=>H6e(t,e),getEnsText:e=>kZ(t,e),getFeeHistory:e=>X6e(t,e),estimateFeesPerGas:e=>a5e(t,e),getFilterChanges:e=>_4(t,e),getFilterLogs:e=>e4e(t,e),getGasPrice:()=>_k(t),getLogs:e=>Nk(t,e),getProof:e=>B8e(t,e),estimateMaxPriorityFeePerGas:e=>o5e(t,e),fillTransaction:e=>$k(t,e),getStorageAt:e=>U8e(t,e),getTransaction:e=>Xk(t,e),getTransactionConfirmations:e=>W8e(t,e),getTransactionCount:e=>Ck(t,e),getTransactionReceipt:e=>e3(t,e),multicall:e=>z8e(t,e),prepareTransactionRequest:e=>aw(t,e),readContract:e=>il(t,e),sendRawTransaction:e=>Fk(t,e),sendRawTransactionSync:e=>eT(t,e),simulate:e=>_A(t,e),simulateBlocks:e=>_A(t,e),simulateCalls:e=>X8e(t,e),simulateContract:e=>p6e(t,e),verifyHash:e=>k4(t,e),verifyMessage:e=>lxe(t,e),verifySiweMessage:e=>yxe(t,e),verifyTypedData:e=>cxe(t,e),uninstallFilter:e=>C4(t,e),waitForTransactionReceipt:e=>gJ(t,e),watchBlocks:e=>uxe(t,e),watchBlockNumber:e=>pJ(t,e),watchContractEvent:e=>x6e(t,e),watchEvent:e=>dxe(t,e),watchPendingTransactions:e=>fxe(t,e)}}function Dh(t){const{key:e="public",name:r="Public Client"}=t;return CZ({...t,key:e,name:r,type:"publicClient"}).extend(tT)}async function wxe(t,{chain:e}){const{id:r,name:n,nativeCurrency:i,rpcUrls:s,blockExplorers:o}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:ct(r),chainName:n,nativeCurrency:i,rpcUrls:s.default.http,blockExplorerUrls:o?Object.values(o).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function bxe(t,e){const{abi:r,args:n,bytecode:i,...s}=e,o=x4({abi:r,args:n,bytecode:i});return A4(t,{...s,...s.authorizationList?{to:null}:{},data:o})}async function vxe(t){var r;return((r=t.account)==null?void 0:r.type)==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(n=>tw(n))}async function xxe(t,e={}){const{account:r=t.account,chainId:n}=e,i=r?Kr(r):void 0,s=n?[i==null?void 0:i.address,[ct(n)]]:[i==null?void 0:i.address],o=await t.request({method:"wallet_getCapabilities",params:s}),a={};for(const[l,c]of Object.entries(o)){a[Number(l)]={};for(let[u,f]of Object.entries(c))u==="addSubAccount"&&(u="unstable_addSubAccount"),a[Number(l)][u]=f}return typeof n=="number"?a[n]:a}async function Exe(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function mJ(t,e){var l;const{account:r=t.account,chainId:n,nonce:i}=e;if(!r)throw new yf({docsPath:"/docs/eip7702/prepareAuthorization"});const s=Kr(r),o=(()=>{if(e.executor)return e.executor==="self"?e.executor:Kr(e.executor)})(),a={address:e.contractAddress??e.address,chainId:n,nonce:i};return typeof a.chainId>"u"&&(a.chainId=((l=t.chain)==null?void 0:l.id)??await tt(t,mf,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await tt(t,Ck,"getTransactionCount")({address:s.address,blockTag:"pending"}),(o==="self"||o!=null&&o.address&&lw(o.address,s.address))&&(a.nonce+=1)),a}async function _xe(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(r=>f4(r))}async function Cxe(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function Axe(t,e){const{chain:r=t.chain}=e,n=e.timeout??Math.max(((r==null?void 0:r.blockTime)??0)*3,5e3),i=await vZ(t,e);return await EZ(t,{...e,id:i.id,timeout:n})}const qE=new X1(128);async function yJ(t,e){var $,P,O,D;const{account:r=t.account,chain:n=t.chain,accessList:i,authorizationList:s,blobs:o,data:a,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:h,nonce:p,pollingInterval:g,throwOnReceiptRevert:m,type:w,value:y,...E}=e,v=e.timeout??Math.max(((n==null?void 0:n.blockTime)??0)*3,5e3);if(typeof r>"u")throw new yf({docsPath:"/docs/actions/wallet/sendTransactionSync"});const b=r?Kr(r):null;try{Vu(e);const B=await(async()=>{if(e.to)return e.to;if(e.to!==null&&s&&s.length>0)return await g4({authorization:s[0]}).catch(()=>{throw new $e("`to` is required. Could not infer from `authorizationList`.")})})();if((b==null?void 0:b.type)==="json-rpc"||b===null){let H;n!==null&&(H=await tt(t,mf,"getChainId")({}),Lk({currentChainId:H,chain:n}));const q=(O=(P=($=t.chain)==null?void 0:$.formatters)==null?void 0:P.transactionRequest)==null?void 0:O.format,R=(q||gf)({...rg(E,{format:q}),accessList:i,account:b,authorizationList:s,blobs:o,chainId:H,data:a,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:h,nonce:p,to:B,type:w,value:y},"sendTransaction"),_=qE.get(t.uid),x=_?"wallet_sendTransaction":"eth_sendTransaction",A=await(async()=>{try{return await t.request({method:x,params:[R]},{retryCount:0})}catch(I){if(_===!1)throw I;const N=I;if(N.name==="InvalidInputRpcError"||N.name==="InvalidParamsRpcError"||N.name==="MethodNotFoundRpcError"||N.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[R]},{retryCount:0}).then(M=>(qE.set(t.uid,!0),M)).catch(M=>{const U=M;throw U.name==="MethodNotFoundRpcError"||U.name==="MethodNotSupportedRpcError"?(qE.set(t.uid,!1),N):U});throw N}})(),T=await tt(t,gJ,"waitForTransactionReceipt")({checkReplacement:!1,hash:A,pollingInterval:g,timeout:v});if(m&&T.status==="reverted")throw new TY({receipt:T});return T}if((b==null?void 0:b.type)==="local"){const H=await tt(t,aw,"prepareTransactionRequest")({account:b,accessList:i,authorizationList:s,blobs:o,chain:n,data:a,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:h,nonce:p,nonceManager:b.nonceManager,parameters:[...Ik,"sidecars"],type:w,value:y,...E,to:B}),q=(D=n==null?void 0:n.serializers)==null?void 0:D.transaction,Y=await b.signTransaction(H,{serializer:q});return await tt(t,eT,"sendRawTransactionSync")({serializedTransaction:Y,throwOnReceiptRevert:m})}throw(b==null?void 0:b.type)==="smart"?new hh({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new hh({docsPath:"/docs/actions/wallet/sendTransactionSync",type:b==null?void 0:b.type})}catch(B){throw B instanceof hh?B:y4(B,{...e,account:b,chain:e.chain||void 0})}}async function Sxe(t,e){const{id:r}=e;await t.request({method:"wallet_showCallsStatus",params:[r]})}async function $xe(t,e){const{account:r=t.account}=e;if(!r)throw new yf({docsPath:"/docs/eip7702/signAuthorization"});const n=Kr(r);if(!n.signAuthorization)throw new hh({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:n.type});const i=await mJ(t,e);return n.signAuthorization(i)}async function Ixe(t,{account:e=t.account,message:r}){if(!e)throw new yf({docsPath:"/docs/actions/wallet/signMessage"});const n=Kr(e);if(n.signMessage)return n.signMessage({message:r});const i=typeof r=="string"?u1(r):r.raw instanceof Uint8Array?pc(r.raw):r.raw;return t.request({method:"personal_sign",params:[i,n.address]},{retryCount:0})}async function kxe(t,e){var c,u,f,h;const{account:r=t.account,chain:n=t.chain,...i}=e;if(!r)throw new yf({docsPath:"/docs/actions/wallet/signTransaction"});const s=Kr(r);Vu({account:s,...e});const o=await tt(t,mf,"getChainId")({});n!==null&&Lk({currentChainId:o,chain:n});const a=(n==null?void 0:n.formatters)||((c=t.chain)==null?void 0:c.formatters),l=((u=a==null?void 0:a.transactionRequest)==null?void 0:u.format)||gf;return s.signTransaction?s.signTransaction({...i,chainId:o},{serializer:(h=(f=t.chain)==null?void 0:f.serializers)==null?void 0:h.transaction}):await t.request({method:"eth_signTransaction",params:[{...l({...i,account:s},"signTransaction"),chainId:ct(o),from:s.address}]},{retryCount:0})}async function Txe(t,e){const{account:r=t.account,domain:n,message:i,primaryType:s}=e;if(!r)throw new yf({docsPath:"/docs/actions/wallet/signTypedData"});const o=Kr(r),a={EIP712Domain:jZ({domain:n}),...e.types};if(OZ({domain:n,message:i,primaryType:s,types:a}),o.signTypedData)return o.signTypedData({domain:n,message:i,primaryType:s,types:a});const l=h4e({domain:n,message:i,primaryType:s,types:a});return t.request({method:"eth_signTypedData_v4",params:[o.address,l]},{retryCount:0})}async function Nxe(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:ct(e)}]},{retryCount:0})}async function Pxe(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}async function Rxe(t,e){return h2.internal(t,yJ,"sendTransactionSync",e)}function Oxe(t){return{addChain:e=>wxe(t,e),deployContract:e=>bxe(t,e),fillTransaction:e=>$k(t,e),getAddresses:()=>vxe(t),getCallsStatus:e=>xZ(t,e),getCapabilities:e=>xxe(t,e),getChainId:()=>mf(t),getPermissions:()=>Exe(t),prepareAuthorization:e=>mJ(t,e),prepareTransactionRequest:e=>aw(t,e),requestAddresses:()=>_xe(t),requestPermissions:e=>Cxe(t,e),sendCalls:e=>vZ(t,e),sendCallsSync:e=>Axe(t,e),sendRawTransaction:e=>Fk(t,e),sendRawTransactionSync:e=>eT(t,e),sendTransaction:e=>A4(t,e),sendTransactionSync:e=>yJ(t,e),showCallsStatus:e=>Sxe(t,e),signAuthorization:e=>$xe(t,e),signMessage:e=>Ixe(t,e),signTransaction:e=>kxe(t,e),signTypedData:e=>Txe(t,e),switchChain:e=>Nxe(t,e),waitForCallsStatus:e=>EZ(t,e),watchAsset:e=>Pxe(t,e),writeContract:e=>h2(t,e),writeContractSync:e=>Rxe(t,e)}}function wJ(t){const{key:e="wallet",name:r="Wallet Client",transport:n}=t;return CZ({...t,key:e,name:r,transport:n,type:"walletClient"}).extend(Oxe)}function bJ({key:t,methods:e,name:r,request:n,retryCount:i=3,retryDelay:s=150,timeout:o,type:a},l){const c=_Z();return{config:{key:t,methods:e,name:r,request:n,retryCount:i,retryDelay:s,timeout:o,type:a},request:n4e(n,{methods:e,retryCount:i,retryDelay:s,uid:c}),value:l}}function vJ(t,e={}){const{key:r="custom",methods:n,name:i="Custom Provider",retryDelay:s}=e;return({retryCount:o})=>bJ({key:r,methods:n,name:i,request:t.request.bind(t),retryCount:e.retryCount??o,retryDelay:s,type:"custom"})}class jxe extends $e{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function Lh(t,e={}){const{batch:r,fetchFn:n,fetchOptions:i,key:s="http",methods:o,name:a="HTTP JSON-RPC",onFetchRequest:l,onFetchResponse:c,retryDelay:u,raw:f}=e;return({chain:h,retryCount:p,timeout:g})=>{const{batchSize:m=1e3,wait:w=0}=typeof r=="object"?r:{},y=e.retryCount??p,E=g??e.timeout??1e4,v=t||(h==null?void 0:h.rpcUrls.default.http[0]);if(!v)throw new jxe;const b=a4e(v,{fetchFn:n,fetchOptions:i,onRequest:l,onResponse:c,timeout:E});return bJ({key:s,methods:o,name:a,async request({method:$,params:P}){const O={method:$,params:P},{schedule:D}=pZ({id:v,wait:w,shouldSplitBatch(Y){return Y.length>m},fn:Y=>b.request({body:Y}),sort:(Y,R)=>Y.id-R.id}),B=async Y=>r?D(Y):[await b.request({body:Y})],[{error:H,result:q}]=await B(O);if(f)return{error:H,result:q};if(H)throw new bk({body:O,error:H,url:v});return q},retryCount:y,retryDelay:u,timeout:E,type:"http"},{fetchOptions:i,url:v})}}function hM(t){return t?`${t.slice(0,5)}${t.slice(-4)}`:""}function Mxe({wei:t,precision:e=3}){return parseFloat(iw(t)).toFixed(e).replace(/0+$/,"").replace(/\.$/,"")}function pM({amount:t,decimals:e}){return Vy(BigInt(t),e)}const Dxe=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Lxe=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Fxe=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Bxe(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){Uxe(t);return}return e}function Uxe(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function mm(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const r=t.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!Fxe.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(Dxe.test(t)||Lxe.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,Bxe)}return JSON.parse(t)}catch(n){if(e.strict)throw n;return t}}const Wxe=/#/g,zxe=/&/g,Hxe=/\//g,qxe=/=/g,rT=/\+/g,Vxe=/%5e/gi,Gxe=/%60/gi,Kxe=/%7c/gi,Yxe=/%20/gi;function Zxe(t){return encodeURI(""+t).replace(Kxe,"|")}function SA(t){return Zxe(typeof t=="string"?t:JSON.stringify(t)).replace(rT,"%2B").replace(Yxe,"+").replace(Wxe,"%23").replace(zxe,"%26").replace(Gxe,"`").replace(Vxe,"^").replace(Hxe,"%2F")}function VE(t){return SA(t).replace(qxe,"%3D")}function xJ(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function Jxe(t){return xJ(t.replace(rT," "))}function Qxe(t){return xJ(t.replace(rT," "))}function Xxe(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const r of t.split("&")){const n=r.match(/([^=]+)=?(.*)/)||[];if(n.length<2)continue;const i=Jxe(n[1]);if(i==="__proto__"||i==="constructor")continue;const s=Qxe(n[2]||"");e[i]===void 0?e[i]=s:Array.isArray(e[i])?e[i].push(s):e[i]=[e[i],s]}return e}function eEe(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(r=>`${VE(t)}=${SA(r)}`).join("&"):`${VE(t)}=${SA(e)}`:VE(t)}function tEe(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>eEe(e,t[e])).filter(Boolean).join("&")}const rEe=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,nEe=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,iEe=/^([/\\]\s*){2,}[^/\\]/,sEe=/^\.?\//;function EJ(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?rEe.test(t):nEe.test(t)||(e.acceptRelative?iEe.test(t):!1)}function oEe(t="",e){return t.endsWith("/")}function aEe(t="",e){return(oEe(t)?t.slice(0,-1):t)||"/"}function lEe(t="",e){return t.endsWith("/")?t:t+"/"}function cEe(t,e){if(dEe(e)||EJ(t))return t;const r=aEe(e);return t.startsWith(r)?t:hEe(r,t)}function uEe(t,e){const r=pEe(t),n={...Xxe(r.search),...e};return r.search=tEe(n),gEe(r)}function dEe(t){return!t||t==="/"}function fEe(t){return t&&t!=="/"}function hEe(t,...e){let r=t||"";for(const n of e.filter(i=>fEe(i)))if(r){const i=n.replace(sEe,"");r=lEe(r)+i}else r=n;return r}const _J=Symbol.for("ufo:protocolRelative");function pEe(t="",e){const r=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(r){const[,f,h=""]=r;return{protocol:f.toLowerCase(),pathname:h,href:f+h,auth:"",host:"",search:"",hash:""}}if(!EJ(t,{acceptRelative:!0}))return gM(t);const[,n="",i,s=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,o="",a=""]=s.match(/([^#/?]*)(.*)?/)||[];n==="file:"&&(a=a.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:l,search:c,hash:u}=gM(a);return{protocol:n.toLowerCase(),auth:i?i.slice(0,Math.max(0,i.length-1)):"",host:o,pathname:l,search:c,hash:u,[_J]:!n}}function gM(t=""){const[e="",r="",n=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:r,hash:n}}function gEe(t){const e=t.pathname||"",r=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",n=t.hash||"",i=t.auth?t.auth+"@":"",s=t.host||"";return(t.protocol||t[_J]?(t.protocol||"")+"//":"")+i+s+e+r+n}class CJ extends Error{constructor(e,r){super(e,r),this.name="FetchError",r!=null&&r.cause&&!this.cause&&(this.cause=r.cause)}}function mEe(t){var l,c,u,f,h;const e=((l=t.error)==null?void 0:l.message)||((c=t.error)==null?void 0:c.toString())||"",r=((u=t.request)==null?void 0:u.method)||((f=t.options)==null?void 0:f.method)||"GET",n=((h=t.request)==null?void 0:h.url)||String(t.request)||"/",i=`[${r}] ${JSON.stringify(n)}`,s=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",o=`${i}: ${s}${e?` ${e}`:""}`,a=new CJ(o,t.error?{cause:t.error}:void 0);for(const p of["request","options","response"])Object.defineProperty(a,p,{get(){return t[p]}});for(const[p,g]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(a,p,{get(){return t.response&&t.response[g]}});return a}const yEe=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function mM(t="GET"){return yEe.has(t.toUpperCase())}function wEe(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer||t instanceof FormData||t instanceof URLSearchParams?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const bEe=new Set(["image/svg","application/xml","application/xhtml","application/html"]),vEe=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function xEe(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return vEe.test(e)?"json":e==="text/event-stream"?"stream":bEe.has(e)||e.startsWith("text/")?"text":"blob"}function EEe(t,e,r,n){const i=_Ee((e==null?void 0:e.headers)??(t==null?void 0:t.headers),r==null?void 0:r.headers,n);let s;return(r!=null&&r.query||r!=null&&r.params||e!=null&&e.params||e!=null&&e.query)&&(s={...r==null?void 0:r.params,...r==null?void 0:r.query,...e==null?void 0:e.params,...e==null?void 0:e.query}),{...r,...e,query:s,params:s,headers:i}}function _Ee(t,e,r){if(!e)return new r(t);const n=new r(e);if(t)for(const[i,s]of Symbol.iterator in t||Array.isArray(t)?t:new r(t))n.set(i,s);return n}async function Lb(t,e){if(e)if(Array.isArray(e))for(const r of e)await r(t);else await e(t)}const CEe=new Set([408,409,425,429,500,502,503,504]),AEe=new Set([101,204,205,304]);function AJ(t={}){const{fetch:e=globalThis.fetch,Headers:r=globalThis.Headers,AbortController:n=globalThis.AbortController}=t;async function i(a){const l=a.error&&a.error.name==="AbortError"&&!a.options.timeout||!1;if(a.options.retry!==!1&&!l){let u;typeof a.options.retry=="number"?u=a.options.retry:u=mM(a.options.method)?0:1;const f=a.response&&a.response.status||500;if(u>0&&(Array.isArray(a.options.retryStatusCodes)?a.options.retryStatusCodes.includes(f):CEe.has(f))){const h=typeof a.options.retryDelay=="function"?a.options.retryDelay(a):a.options.retryDelay||0;return h>0&&await new Promise(p=>setTimeout(p,h)),s(a.request,{...a.options,retry:u-1})}}const c=mEe(a);throw Error.captureStackTrace&&Error.captureStackTrace(c,s),c}const s=async function(l,c={}){const u={request:l,options:EEe(l,c,t.defaults,r),response:void 0,error:void 0};if(u.options.method&&(u.options.method=u.options.method.toUpperCase()),u.options.onRequest&&(await Lb(u,u.options.onRequest),u.options.headers instanceof r||(u.options.headers=new r(u.options.headers||{}))),typeof u.request=="string"&&(u.options.baseURL&&(u.request=cEe(u.request,u.options.baseURL)),u.options.query&&(u.request=uEe(u.request,u.options.query),delete u.options.query),"query"in u.options&&delete u.options.query,"params"in u.options&&delete u.options.params),u.options.body&&mM(u.options.method))if(wEe(u.options.body)){const p=u.options.headers.get("content-type");typeof u.options.body!="string"&&(u.options.body=p==="application/x-www-form-urlencoded"?new URLSearchParams(u.options.body).toString():JSON.stringify(u.options.body)),p||u.options.headers.set("content-type","application/json"),u.options.headers.has("accept")||u.options.headers.set("accept","application/json")}else("pipeTo"in u.options.body&&typeof u.options.body.pipeTo=="function"||typeof u.options.body.pipe=="function")&&("duplex"in u.options||(u.options.duplex="half"));let f;if(!u.options.signal&&u.options.timeout){const p=new n;f=setTimeout(()=>{const g=new Error("[TimeoutError]: The operation was aborted due to timeout");g.name="TimeoutError",g.code=23,p.abort(g)},u.options.timeout),u.options.signal=p.signal}try{u.response=await e(u.request,u.options)}catch(p){return u.error=p,u.options.onRequestError&&await Lb(u,u.options.onRequestError),await i(u)}finally{f&&clearTimeout(f)}if((u.response.body||u.response._bodyInit)&&!AEe.has(u.response.status)&&u.options.method!=="HEAD"){const p=(u.options.parseResponse?"json":u.options.responseType)||xEe(u.response.headers.get("content-type")||"");switch(p){case"json":{const g=await u.response.text(),m=u.options.parseResponse||mm;u.response._data=m(g);break}case"stream":{u.response._data=u.response.body||u.response._bodyInit;break}default:u.response._data=await u.response[p]()}}return u.options.onResponse&&await Lb(u,u.options.onResponse),!u.options.ignoreResponseError&&u.response.status>=400&&u.response.status<600?(u.options.onResponseError&&await Lb(u,u.options.onResponseError),await i(u)):u.response},o=async function(l,c){return(await s(l,c))._data};return o.raw=s,o.native=(...a)=>e(...a),o.create=(a={},l={})=>AJ({...t,...l,defaults:{...t.defaults,...l.defaults,...a}}),o}const _5=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof bt<"u")return bt;throw new Error("unable to locate global object")}(),SEe=_5.fetch?(...t)=>_5.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),$Ee=_5.Headers,IEe=_5.AbortController,SJ=AJ({fetch:SEe,Headers:$Ee,AbortController:IEe});var xt;let Ks=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,r,n){super(e),r instanceof Error&&(this.cause=r),this.privyErrorCode=n}},Qo=class extends Ks{constructor(e,r,n,i,s,o){super(n,i,s),this.type=e,this.status=r,this.data=o}},le=class extends Ks{constructor(e,r,n){super(e,r,n),this.type="client_error"}},kEe=class extends le{constructor(){super("Request timed out",void 0,"client_request_timeout")}},Ur=class extends Ks{constructor(e,r,n){super(e,r,n),this.type="connector_error"}};const Xt=t=>{if(t instanceof Ks)return t;if(!(t instanceof CJ))return Pr(t);if(!t.response)return new Qo("api_error",null,t.message,t);let{type:e,message:r,error:n,code:i}=t.data;return new Qo(e||"ApiError",t.response.status,r||n,t,i,t.data)},Pr=t=>t instanceof Ks?t:t instanceof Error?new le(t.message,t):new le(`Internal error: ${t}`);var ue=((xt={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",xt.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",xt.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",xt.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",xt.INVALID_DATA="invalid_data",xt.INVALID_CAPTCHA="invalid_captcha",xt.LINKED_TO_ANOTHER_USER="linked_to_another_user",xt.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",xt.FAILED_TO_LINK_ACCOUNT="failed_to_link_account",xt.FAILED_TO_UPDATE_ACCOUNT="failed_to_update_account",xt.USER_EXITED_UPDATE_FLOW="exited_update_flow",xt.ALLOWLIST_REJECTED="allowlist_rejected",xt.OAUTH_USER_DENIED="oauth_user_denied",xt.OAUTH_UNEXPECTED="oauth_unexpected",xt.UNKNOWN_AUTH_ERROR="unknown_auth_error",xt.USER_EXITED_AUTH_FLOW="exited_auth_flow",xt.USER_EXITED_LINK_FLOW="exited_link_flow",xt.USER_EXITED_SET_PASSWORD_FLOW="user_exited_set_password_flow",xt.MUST_BE_AUTHENTICATED="must_be_authenticated",xt.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",xt.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",xt.CLIENT_REQUEST_TIMEOUT="client_request_timeout",xt.INVALID_CREDENTIALS="invalid_credentials",xt.MISSING_MFA_CREDENTIALS="missing_or_invalid_mfa",xt.UNKNOWN_MFA_ERROR="unknown_mfa_error",xt.EMBEDDED_WALLET_ALREADY_EXISTS="embedded_wallet_already_exists",xt.EMBEDDED_WALLET_NOT_FOUND="embedded_wallet_not_found",xt.EMBEDDED_WALLET_CREATE_ERROR="embedded_wallet_create_error",xt.UNKNOWN_EMBEDDED_WALLET_ERROR="unknown_embedded_wallet_error",xt.EMBEDDED_WALLET_PASSWORD_UNCONFIRMED="embedded_wallet_password_unconfirmed",xt.EMBEDDED_WALLET_PASSWORD_ALREADY_EXISTS="embedded_wallet_password_already_exists",xt.EMBEDDED_WALLET_RECOVERY_ALREADY_EXISTS="embedded_wallet_recovery_already_exists",xt.TRANSACTION_FAILURE="transaction_failure",xt.UNSUPPORTED_CHAIN_ID="unsupported_chain_id",xt.NOT_SUPPORTED="not_supported",xt.CAPTCHA_TIMEOUT="captcha_timeout",xt.INVALID_MESSAGE="invalid_message",xt.UNABLE_TO_SIGN="unable_to_sign",xt.CAPTCHA_FAILURE="captcha_failure",xt.CAPTCHA_DISABLED="captcha_disabled",xt.SESSION_STORAGE_UNAVAILABLE="session_storage_unavailable",xt.TOO_MANY_REQUESTS="too_many_requests",xt.USER_LIMIT_REACHED="max_accounts_reached",xt.DISALLOWED_LOGIN_METHOD="disallowed_login_method",xt.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",xt.PASSKEY_NOT_ALLOWED="passkey_not_allowed",xt.USER_DOES_NOT_EXIST="user_does_not_exist",xt.INSUFFICIENT_BALANCE="insufficient_balance",xt.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",xt);let If=class extends le{constructor(){super("Method called before `ready`. Ensure you wait until `ready` is true before calling.")}},Gd=class extends le{constructor(e="Embedded wallet error",r){super(e,r,"unknown_embedded_wallet_error")}},TEe=class extends le{constructor(e="User must be authenticated"){super(e,void 0,"must_be_authenticated")}},hw=class extends le{constructor(e){super("This application is in development mode and must be upgraded to production to log in new users.",e,"max_accounts_reached")}};const $J="/api/v1/sessions",IJ="/api/v1/sessions/logout",NEe="/api/v1/sessions/fork",kJ="/api/v1/sessions/fork/recover",PEe="/api/v1/siwe/init",REe="/api/v1/siwe/authenticate",OEe="/api/v1/siwe/link",jEe="/api/v1/siwe/link_smart_wallet",MEe="/api/v1/siwe/unlink",DEe="/api/v1/siwe/transfer",LEe="/api/v1/siws/init",FEe="/api/v1/siws/authenticate",BEe="/api/v1/siws/link",UEe="/api/v1/siws/unlink",WEe="/api/v1/farcaster/init",zEe="/api/v1/farcaster/authenticate",HEe="/api/v1/farcaster/link",qEe="/api/v1/farcaster/status",VEe="/api/v1/farcaster/unlink",GEe="/api/v1/farcaster/transfer",KEe="/api/v1/passwordless/init",YEe="/api/v1/passwordless/authenticate",ZEe="/api/v1/passwordless/link",JEe="/api/v1/passwordless/unlink",QEe="/api/v1/passwordless/update",XEe="/api/v1/passwordless/transfer",e9e="/api/v1/passwordless_sms/init",t9e="/api/v1/passwordless_sms/link",r9e="/api/v1/passwordless_sms/unlink",n9e="/api/v1/passwordless_sms/authenticate",i9e="/api/v1/passwordless_sms/update",s9e="/api/v1/passwordless_sms/transfer",TJ="/api/v1/oauth/init",NJ="/api/v1/oauth/authenticate",PJ="/api/v1/oauth/link",o9e="/api/v1/oauth/unlink",a9e="/api/v1/oauth/transfer",l9e="/api/v1/recovery/oauth/init",c9e="/api/v1/recovery/oauth/init_icloud",u9e="/api/v1/recovery/oauth/authenticate",d9e="/api/v1/passkeys/link/init",f9e="/api/v1/passkeys/authenticate/init",h9e="/api/v1/passkeys/register/init",p9e="/api/v1/passkeys/link",g9e="/api/v1/passkeys/authenticate",m9e="/api/v1/passkeys/register",y9e="/api/v1/passkeys/unlink",w9e="/api/v1/telegram/authenticate",b9e="/api/v1/telegram/link",v9e="/api/v1/telegram/unlink",x9e="/api/v1/telegram/transfer",E9e="/api/v1/mfa/passwordless_sms/init",_9e="/api/v1/mfa/passkeys/init",C9e="/api/v1/users/me/accept_terms",RJ="/api/v1/analytics_events",A9e="/api/v1/custom_jwt_account/authenticate",S9e="/api/v1/guest/authenticate",$9e="/api/v1/plugins/moonpay_on_ramp/sign",I9e="/api/v1/funding/coinbase_on_ramp/init",k9e="/api/v1/funding/coinbase_on_ramp/status",T9e="/api/v1/wallets/revoke";let OJ=class{async authenticate(){if(!this.api)throw new le("Auth flow has no API instance");try{return await this.api.post(A9e,{token:this.meta.token})}catch(e){throw Xt(e)}}async link(){throw Error("Unimplemented")}constructor(e){this.meta={token:e}}};function g2(t){return t?{"privy-ui":"t"}:void 0}let p0=class{async authenticate(){if(!this.api)throw new le("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new le("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(YEe,{email:this.meta.email,code:this.meta.emailCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw Xt(e)}}async link(){if(!this.api)throw new le("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new le("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(ZEe,{email:this.meta.email,code:this.meta.emailCode})}catch(e){throw Xt(e)}}async sendCodeEmail({email:e,captchaToken:r,withPrivyUi:n}){if(!this.api)throw new le("Auth flow has no API instance");if(e&&(this.meta.email=e),r&&(this.meta.captchaToken=r),!this.meta.email)throw new le("Email must be set when initialzing authentication.");let i=g2(n);try{return await this.api.post(KEe,{email:this.meta.email,token:this.meta.captchaToken},{headers:{...i}})}catch(s){throw Xt(s)}}constructor({email:e,captchaToken:r,disableSignup:n}){this.meta={email:e,captchaToken:r,disableSignup:n??!1}}},N9e=class extends p0{async link(){if(!this.api)throw new le("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode||!this.meta.oldAddress)throw new le("Email, email code, and an old email address must be set prior to calling update.");try{return await this.api.post(QEe,{oldAddress:this.meta.oldAddress,newAddress:this.meta.email,code:this.meta.emailCode})}catch(e){throw Xt(e)}}constructor(e,r,n){super({email:r,captchaToken:n}),this.meta={email:r,captchaToken:n,oldAddress:e,disableSignup:!1}}},P9e=class{get(e){return this._cache[e]}put(e,r){r!==void 0?this._cache[e]=r:this.del(e)}del(e){delete this._cache[e]}getKeys(){return Object.keys(this._cache)}constructor(){this._cache={}}},jJ=class{get(e){let r=localStorage.getItem(e);return r===null?void 0:JSON.parse(r)}put(e,r){r!==void 0?localStorage.setItem(e,JSON.stringify(r)):this.del(e)}del(e){localStorage.removeItem(e)}getKeys(){return Object.entries(localStorage).map(([e])=>e)}};function $A(){try{let t="privy:__session_storage__test",e=new jJ;return e.put(t,"blobby"),e.del(t),!0}catch{return!1}}var lt=typeof window<"u"&&window.localStorage?new jJ:new P9e;function R9e(){var n;let t=window,e=t.ethereum;if(!e)return[];let r=[];if((n=e.providers)!=null&&n.length)for(let i of e.providers)i&&r.push(i);return r.push(t.ethereum),r}const MJ=t=>t.isApexWallet?"Apex Wallet":t.isAvalanche?"Core Wallet":t.isBackpack?"Backpack":t.isBifrost?"Bifrost Wallet":t.isBitKeep?"BitKeep":t.isBitski?"Bitski":t.isBlockWallet?"BlockWallet":t.isBraveWallet?"Brave Wallet":t.isClover?"Clover":t.isCoin98?"Coin98 Wallet":t.isCoinbaseWallet?"Coinbase Wallet":t.isDawn?"Dawn Wallet":t.isDefiant?"Defiant":t.isDesig?"Desig Wallet":t.isEnkrypt?"Enkrypt":t.isExodus?"Exodus":t.isFordefi?"Fordefi":t.isFrame?"Frame":t.isFrontier?"Frontier Wallet":t.isGamestop?"GameStop Wallet":t.isHaqqWallet?"HAQQ Wallet":t.isHyperPay?"HyperPay Wallet":t.isImToken?"ImToken":t.isHaloWallet?"Halo Wallet":t.isKuCoinWallet?"KuCoin Wallet":t.isMathWallet?"MathWallet":t.isNovaWallet?"Nova Wallet":t.isOkxWallet||t.isOKExWallet?"OKX Wallet":t.isOneInchIOSWallet||t.isOneInchAndroidWallet?"1inch Wallet":t.isOneKey?"OneKey Wallet":t.isOpera?"Opera":t.isPhantom?"Phantom":t.isPortal?"Ripio Portal":t.isRabby?"Rabby Wallet":t.isRainbow?"Rainbow":t.isSafePal?"SafePal Wallet":t.isStatus?"Status":t.isSubWallet?"SubWallet":t.isTalisman?"Talisman":t.isTally||t.isTaho?"Taho":t.isTokenPocket?"TokenPocket":t.isTokenary?"Tokenary":t.isTrust||t.isTrustWallet?"Trust Wallet":t.isTTWallet?"TTWallet":t.isXDEFI?"XDEFI Wallet":t.isZeal?"Zeal":t.isZerion?"Zerion":t.isMetaMask?"MetaMask":void 0,DJ=(t,e)=>{if(!t.isMetaMask)return!1;if(t.isMetaMask&&!e)return!0;if(t.isBraveWallet&&!t._events&&!t._state||MJ(t)!=="MetaMask")return!1;if(t.providers){for(let r of t.providers)if(!DJ(r))return!1}return!0},T4=()=>{var t,e,r,n,i,s;if("phantom"in window){let o=window;if((e=(t=o==null?void 0:o.phantom)==null?void 0:t.ethereum)!=null&&e.isPhantom&&((n=(r=o==null?void 0:o.phantom)==null?void 0:r.ethereum)!=null&&n.chainId)||(s=(i=o==null?void 0:o.phantom)==null?void 0:i.solana)!=null&&s.isPhantom)return!0}return!1},LJ=()=>{let t=window;if(!t.ethereum)return!1;if(t.ethereum.isCoinbaseWallet)return!0;if(t.ethereum.providers){for(let e of t.ethereum.providers)if(e&&e.isCoinbaseWallet)return!0}return!1},O9e=(t,e)=>{let r=[],n=[];for(let[i,s]of t.entries())i<e?r.push(s):n.push(s);return[r,n]},FJ=t=>!!String(t).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),j9e=(t,e)=>{let r=t.slice(0),n=[];for(;r.length;)n.push(r.splice(0,e));return n},os=(t,e=3,r=4,n="ethereum")=>{if(!t)return"";let i=n==="ethereum"?2:0;return e+r+i+3>=t.length?t:`${t.slice(0,i+e)}...${t.slice(t.length-r,t.length)}`},GE=(t,e=3,r=4)=>os(t,e,r,"solana"),BJ=t=>new Promise(e=>setTimeout(e,t));function M9e(t,{interval:e=100,timeout:r=5e3}={}){return new Promise((n,i)=>{let s,o=0,a=()=>{o>=r?i("Max attempts reached without result"):(s=t(),o+=e,s==null?setTimeout(a,e):n(s))};a()})}const IA=(t,e={})=>{let r=e.delayMs||150,n=e.maxAttempts||270;return new Promise(async(i,s)=>{var l;let o=!1,a=0;for(;!o&&a<n;){if((l=e.abortSignal)!=null&&l.aborted)return;t().then(c=>{o=!0,i(c)},(...c)=>{o=!0,s(...c)}),a+=1,await BJ(r)}o||s(Error("Exceeded max attempts before resolving function"))})},UJ=(t,e,r={},n={})=>{let i=new URL(e,t);for(let[o,a]of Object.entries(r))a!==void 0&&i.searchParams.set(o,a);let s=Object.entries(n);if(s.length>0){let o=new URLSearchParams;for(let[a,l]of s)o.append(a,l);i.hash=o.toString()}return i.href},D9e=t=>t.replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,""),C5=t=>typeof t=="string"?t:"0x"+t.toString(16);async function L9e({store:t,walletList:e,externalWalletConfig:r,walletChainType:n,timeout:i=3e3}){let s=!1,o=window;return new Promise(a=>{function l(){if(s)return;s=!0,window.removeEventListener("ethereum#initialized",l);let c=t.getProviders();console.debug("Detected injected providers:",c.map(f=>f.info));let u=[];for(let f of c)e.includes("coinbase_wallet")&&f.info.rdns==="com.coinbase.wallet"||n==="solana-only"&&f.info.rdns==="app.phantom"||u.push({type:f.info.name.toLowerCase().replace(/\s/g,"_"),eip6963InjectedProvider:f});if(n!=="solana-only")for(let f of R9e()){let h=MJ(f);if(!c.some(p=>p.info.name===h)){if(DJ(f,!0)&&!u.find(p=>p.type==="metamask")){u.push({type:"metamask",legacyInjectedProvider:f});continue}if(h==="Phantom"&&!u.find(p=>p.type==="phantom")){u.push({type:"phantom",legacyInjectedProvider:f});continue}if(h==="Coinbase Wallet"&&!u.find(p=>{var g;return p.type==="coinbase_wallet"&&((g=r.coinbaseWallet)==null?void 0:g.connectionOptions)!=="smartWalletOnly"})){u.push({type:"coinbase_wallet",legacyInjectedProvider:f});continue}u.find(p=>p.type==="unknown_browser_extension")||u.push({type:"unknown_browser_extension",legacyInjectedProvider:f})}}a(u)}o.ethereum?l():(window.addEventListener("ethereum#initialized",l,{once:!0}),setTimeout(()=>{l()},i))})}function t3(t){return`eip155:${String(Number(t))}`}const F9e=(t,e,r,n)=>{let i=Number(t),s=e.find(o=>o.id===i);if(!s)throw new Ur(`Unsupported chainId ${t}`,4901);return rf(s,r,n)},rf=(t,e,r)=>{var o,a,l;let n,i=t.id,s=Number(t.id);if(t.rpcUrls.privyWalletOverride&&t.rpcUrls.privyWalletOverride.http[0])n=t.rpcUrls.privyWalletOverride.http[0];else if(e.rpcUrls&&e.rpcUrls[s])n=e.rpcUrls[s];else if((o=t.rpcUrls.privy)!=null&&o.http[0]){let c=new URL(t.rpcUrls.privy.http[0]);c.searchParams.append("privyAppId",r),n=c.toString()}else n=(a=t.rpcUrls.public)!=null&&a.http[0]?t.rpcUrls.public.http[0]:(l=t.rpcUrls.default)==null?void 0:l.http[0];if(!n)throw new Ur(`No RPC url found for ${i}`);return n},B9e=(t,e)=>{var i;let r=Number(t),n=e.find(s=>s.id===r);if(!n)throw new Ur(`Unsupported chainId ${t}`,4901);return(i=n.blockExplorers)==null?void 0:i.default.url},w1=(t,e,r,n)=>{var o,a,l;let i=Number(t),s=e.find(c=>c.id===i);if(!s)throw new Ur(`Unsupported chainId ${t}`,4901);return new F0e(s.rpcUrls.privyWalletOverride&&s.rpcUrls.privyWalletOverride.http[0]?s.rpcUrls.privyWalletOverride.http[0]:r.rpcUrls&&r.rpcUrls[i]?r.rpcUrls[i]:(o=s.rpcUrls.privy)!=null&&o.http[0]?{url:s.rpcUrls.privy.http[0],headers:{"privy-app-id":n.appId}}:(a=s.rpcUrls.public)!=null&&a.http[0]?s.rpcUrls.public.http[0]:(l=s.rpcUrls.default)==null?void 0:l.http[0])},kA=t=>{let e={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},r=t.types.EIP712Domain??Object.entries(t.domain).map(([n,i])=>{if(i!=null&&typeof n=="string"&&n in e)return{name:n,type:e[n]}}).filter(n=>n!==void 0);return{...t,types:{...t.types,EIP712Domain:r}}};function U9e(t,{min:e,max:r}){return Math.min(Math.max(t,e),r)}const KE=t=>{let e;try{e=new URL(t).hostname}catch{return}for(let[r,n]of Object.entries(TA))if(e.includes(n.hostname))return{walletClientType:r,entry:n}},TA={metamask:{id:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",displayName:"MetaMask",hostname:"metamask.io",mobile:{native:"metamask://",universal:"https://metamask.app.link"}},trust:{id:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",displayName:"Trust",hostname:"trustwallet.com",mobile:{universal:"https://link.trustwallet.com"}},safe:{id:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",displayName:"Safe",hostname:"safe.global",mobile:{universal:"https://app.safe.global/"}},rainbow:{id:"1ae92b26df02f0abca6304df07debccd18262fdf5fe82daa81593582dac9a369",displayName:"Rainbow",hostname:"rainbow.me",mobile:{native:"rainbow://",universal:"https://rnbwapp.com"}},uniswap:{id:"c03dfee351b6fcc421b4494ea33b9d4b92a984f87aa76d1663bb28705e95034a",displayName:"Uniswap",hostname:"uniswap.org",mobile:{universal:"https://uniswap.org/app",native:"uniswap://"}},zerion:{id:"ecc4036f814562b41a5268adc86270fba1365471402006302e70169465b7ac18",displayName:"Zerion",hostname:"zerion.io",mobile:{native:"zerion://",universal:"https://wallet.zerion.io"}},argent:{id:"bc949c5d968ae81310268bf9193f9c9fb7bb4e1283e1284af8f2bd4992535fd6",displayName:"Argent",hostname:"www.argent.xyz",mobile:{universal:"https://www.argent.xyz/app"}},spot:{id:"74f8092562bd79675e276d8b2062a83601a4106d30202f2d509195e30e19673d",displayName:"Spot",hostname:"www.spot-wallet.com",mobile:{universal:"https://spot.so"}},omni:{id:"afbd95522f4041c71dd4f1a065f971fd32372865b416f95a0b1db759ae33f2a7",displayName:"Omni",hostname:"omni.app",mobile:{universal:"https://links.omni.app"}},cryptocom:{id:"f2436c67184f158d1beda5df53298ee84abfc367581e4505134b5bcf5f46697d",displayName:"Crypto.com",hostname:"crypto.com",mobile:{universal:"https://wallet.crypto.com",native:"dfw://"}},blockchain:{id:"84b43e8ddfcd18e5fcb5d21e7277733f9cccef76f7d92c836d0e481db0c70c04",displayName:"Blockchain",hostname:"www.blockchain.com",mobile:{universal:"https://www.blockchain.com"}},safepal:{id:"0b415a746fb9ee99cce155c2ceca0c6f6061b1dbca2d722b3ba16381d0562150",displayName:"SafePal",hostname:"safepal.com",mobile:{universal:"https://link.safepal.io"}},bitkeep:{id:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",displayName:"BitKeep",hostname:"bitkeep.com",mobile:{universal:"https://bkapp.vip"}},zengo:{id:"9414d5a85c8f4eabc1b5b15ebe0cd399e1a2a9d35643ab0ad22a6e4a32f596f0",displayName:"ZenGo",hostname:"zengo.com",mobile:{universal:"https://get.zengo.com/"}},"1inch":{id:"c286eebc742a537cd1d6818363e9dc53b21759a1e8e5d9b263d0c03ec7703576",displayName:"1inch",hostname:"wallet.1inch.io",mobile:{universal:"https://wallet.1inch.io/wc/"}},binance:{id:"8a0ee50d1f22f6651afcae7eb4253e52a3310b90af5daef78a8c4929a9bb99d4",displayName:"Binance",hostname:"www.binance.com",mobile:{universal:"https://app.binance.com/cedefi"}},exodus:{id:"e9ff15be73584489ca4a66f64d32c4537711797e30b6660dbcb71ea72a42b1f4",displayName:"Exodus",hostname:"exodus.com",mobile:{universal:"https://exodus.com/m"}},mew_wallet:{id:"f5b4eeb6015d66be3f5940a895cbaa49ef3439e518cd771270e6b553b48f31d2",displayName:"MEW wallet",hostname:"mewwallet.com",mobile:{universal:"https://mewwallet.com"}},alphawallet:{id:"138f51c8d00ac7b9ac9d8dc75344d096a7dfe370a568aa167eabc0a21830ed98",displayName:"AlphaWallet",hostname:"alphawallet.com",mobile:{universal:"https://aw.app"}},keyring_pro:{id:"47bb07617af518642f3413a201ec5859faa63acb1dd175ca95085d35d38afb83",displayName:"KEYRING PRO",hostname:"keyring.app",mobile:{universal:"https://keyring.app/"}},mathwallet:{id:"7674bb4e353bf52886768a3ddc2a4562ce2f4191c80831291218ebd90f5f5e26",displayName:"MathWallet",hostname:"mathwallet.org",mobile:{universal:"https://www.mathwallet.org"}},unstoppable:{id:"8308656f4548bb81b3508afe355cfbb7f0cb6253d1cc7f998080601f838ecee3",displayName:"Unstoppable",hostname:"unstoppabledomains.com",mobile:{universal:"https://unstoppabledomains.com/mobile"}},obvious:{id:"031f0187049b7f96c6f039d1c9c8138ff7a17fd75d38b34350c7182232cc29aa",displayName:"Obvious",hostname:"obvious.technology",mobile:{universal:"https://wallet.obvious.technology"}},ambire:{id:"2c81da3add65899baeac53758a07e652eea46dbb5195b8074772c62a77bbf568",displayName:"Ambire",hostname:"www.ambire.com",mobile:{universal:"https://mobile.ambire.com"}},internet_money_wallet:{id:"dd43441a6368ec9046540c46c5fdc58f79926d17ce61a176444568ca7c970dcd",displayName:"Internet Money Wallet",hostname:"internetmoney.io",mobile:{universal:"https://internetmoney.io"}},coin98:{id:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",displayName:"Coin98",hostname:"coin98.com",mobile:{universal:"https://coin98.services"}},abc_wallet:{id:"b956da9052132e3dabdcd78feb596d5194c99b7345d8c4bd7a47cabdcb69a25f",displayName:"ABC Wallet",hostname:"myabcwallet.io",mobile:{universal:"https://abcwalletconnect.page.link"}},arculus_wallet:{id:"0e4915107da5b3408b38e248f7a710f4529d54cd30e9d12ff0eb886d45c18e92",displayName:"Arculus Wallet",hostname:"www.getarculus.com",mobile:{universal:"https://gw.arculus.co/app"}},haha:{id:"719bd888109f5e8dd23419b20e749900ce4d2fc6858cf588395f19c82fd036b3",displayName:"HaHa",hostname:"www.haha.me",mobile:{universal:"https://haha.me"}},cling_wallet:{id:"942d0e22a7e6b520b0a03abcafc4dbe156a1fc151876e3c4a842f914277278ef",displayName:"Cling Wallet",hostname:"clingon.io",mobile:{universal:"https://cling.carrieverse.com/apple-app-site-association"}},broearn:{id:"8ff6eccefefa7506339201bc33346f92a43118d6ff7d6e71d499d8187a1c56a2",displayName:"Broearn",hostname:"www.broearn.com",mobile:{universal:"https://www.broearn.com/link/wallet/"}},copiosa:{id:"07f99a5d9849bb049d74830012b286f8b238e72b0337933ef22b84947409db80",displayName:"Copiosa",hostname:"copiosa.io",mobile:{universal:"https://copiosa.io/action/"}},burrito_wallet:{id:"8821748c25de9dbc4f72a691b25a6ddad9d7df12fa23333fd9c8b5fdc14cc819",displayName:"Burrito Wallet",hostname:"burritowallet.com",mobile:{universal:"https://burritowallet.com/wc?uri="}},enjin_wallet:{id:"bdc9433ffdaee55d31737d83b931caa1f17e30666f5b8e03eea794bac960eb4a",displayName:"Enjin Wallet",hostname:"enjin.io",mobile:{universal:"https://deeplink.wallet.enjin.io/"}},plasma_wallet:{id:"cbe13eb482c76f1fa401ff4c84d9acd0b8bc9af311ca0620a0b192fb28359b4e",displayName:"Plasma Wallet",hostname:"plasma-wallet.com",mobile:{universal:"https://plasma-wallet.com"}},avacus:{id:"94f785c0c8fb8c4f38cd9cd704416430bcaa2137f27e1468782d624bcd155a43",displayName:"Avacus",hostname:"avacus.cc",mobile:{universal:"https://avacus.app.link"}},bee:{id:"2cca8c1b0bea04ba37dee4017991d348cdb7b826804ab2bd31073254f345b715",displayName:"Bee",hostname:"www.beewallet.app",mobile:{universal:"https://beewallet.app/wc"}},pitaka:{id:"14e5d957c6eb62d3ee8fc6239703ac2d537d7e3552154836ca0beef775f630bc",displayName:"Pitaka",hostname:"pitaka.io",mobile:{universal:"https://app.pitaka.io"}},pltwallet:{id:"576c90ceaea34f29ff0104837cf2b2e23d201be43be1433feeb18d375430e1fd",displayName:"PLTwallet",hostname:"pltwallet.io",mobile:{universal:"https://pltwallet.io/"}},minerva:{id:"49bb9d698dbdf2c3d4627d66f99dd9fe90bba1eec84b143f56c64a51473c60bd",displayName:"Minerva",hostname:"minerva.digital",mobile:{universal:"https://minerva.digital"}},kryptogo:{id:"19418ecfd44963883e4d6abca1adeb2036f3b5ffb9bee0ec61f267a9641f878b",displayName:"KryptoGO",hostname:"kryptogo.com",mobile:{universal:"https://kryptogo.page.link"}},prema:{id:"5b8e33346dfb2a532748c247876db8d596734da8977905a27b947ba1e2cf465b",displayName:"PREMA",hostname:"premanft.com",mobile:{universal:"https://premanft.com"}},slingshot:{id:"d23de318f0f56038c5edb730a083216ff0cce00c1514e619ab32231cc9ec484b",displayName:"Slingshot",hostname:"slingshot.finance",mobile:{universal:"https://app.slingshot.finance"}},kriptonio:{id:"50df7da345f84e5a79aaf617df5167335a4b6751626df2e8a38f07029b3dde7b",displayName:"Kriptonio",hostname:"kriptonio.com",mobile:{universal:"https://app.kriptonio.com/mobile"}},timeless:{id:"9751385960bca290c13b443155288f892f62ee920337eda8c5a8874135daaea8",displayName:"Timeless",hostname:"timelesswallet.xyz",mobile:{universal:"https://timelesswallet.xyz"}},secux:{id:"6464873279d46030c0b6b005b33da6be5ed57a752be3ef1f857dc10eaf8028aa",displayName:"SecuX",hostname:"secuxtech.com",mobile:{universal:"https://wsweb.secuxtech.com"}},bitizen:{id:"41f20106359ff63cf732adf1f7dc1a157176c9b02fd266b50da6dcc1e9b86071",displayName:"Bitizen",hostname:"bitizen.org",mobile:{universal:"https://bitizen.org/wallet"}},blocto:{id:"14e7176536cb3706e221daaa3cfd7b88b7da8c7dfb64d1d241044164802c6bdd",displayName:"Blocto",hostname:"blocto.io",mobile:{universal:"https://blocto.app"}},safemoon:{id:"a0e04f1086aac204d4ebdd5f985c12ed226cd0006323fd8143715f9324da58d1",displayName:"SafeMoon",hostname:"safemoon.com",mobile:{universal:"https://safemoon.com/wc"}},okx_wallet:{id:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",displayName:"OKX Wallet",hostname:"okx.com",mobile:{native:"okex://main"}},rabby_wallet:{id:"18388be9ac2d02726dbac9777c96efaac06d744b2f6d580fccdd4127a6d01fd1",displayName:"Rabby Wallet",hostname:"rabby.io",mobile:{}},bybit_wallet:{id:"15c8b91ade1a4e58f3ce4e7a0dd7f42b47db0c8df7e0d84f63eb39bcb96c4e0f",displayName:"Bybit Wallet",hostname:"bybit.com",mobile:{}}};function WJ(t){return{name:t.displayName||"",universalLink:t.mobile.universal,deepLink:t.mobile.native}}function W9e(t,e){let r=WJ(e);if(r.deepLink)return qJ(r.deepLink,t);if(r.universalLink)return nT(r.universalLink,t);throw new le(`Unsupported wallet ${e.id}`)}function z9e(t,e){let r=WJ(e);if(r.universalLink)return nT(r.universalLink,t)}let zJ="WALLETCONNECT_DEEPLINK_CHOICE";function H9e(){try{localStorage.removeItem(zJ)}catch{}}function q9e({href:t,name:e}){try{localStorage.setItem(zJ,JSON.stringify({href:t,name:e}))}catch{}}function HJ(t){return t.startsWith("http://")||t.startsWith("https://")}function qJ(t,e){if(HJ(t))return nT(t,e);let r=t;return r.includes("://")||(r=t.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),{redirect:`${r}wc?uri=${encodeURIComponent(e)}`,href:r}}function nT(t,e){if(!HJ(t))return qJ(t,e);let r=t;return r.endsWith("/")||(r=`${r}/`),{redirect:`${r}wc?uri=${encodeURIComponent(e)}`,href:r}}function VJ(t,e){window.open(t,e,"noreferrer noopener")}let Vi=class{execute(e){return this.promise===null&&(this.promise=(async()=>{try{return await this.fn(e)}finally{this.promise=null}})()),this.promise}constructor(e){this.promise=null,this.fn=e}},yM=class{get meta(){return this._meta}async authenticate(){if(!this.api)throw new le("Auth flow has no API instance");if(!this.meta.channelToken)throw new le("Auth flow must be initialized first");try{let e=await this.api.post(zEe,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});if(!e)throw new le("No response from authentication");return e}catch(e){throw Xt(e)}}async link(){if(!this.api)throw new le("Auth flow has no API instance");try{return await this.api.post(HEe,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid})}catch(e){throw Xt(e)}}async _startChannelOnce(){if(!this.api)throw new le("Auth flow has no API instance");let e=await this.api.post(WEe,{token:this.captchaToken});bi&&!XI&&e.connect_uri&&VJ(e.connect_uri,"_blank"),this._meta={...this._meta,connectUri:e.connect_uri,channelToken:e.channel_token}}async initializeFarcasterConnect(){if(!this.api)throw new le("Auth flow has no API instance");await this.startChannelOnce.execute()}async _pollForReady(){if(!this.api)throw new le("Auth flow has no API instance");if(!this.meta.channelToken)throw new le("Auth flow must be initialized first");let e=await this.api.get(qEe,{headers:{"farcaster-channel-token":this.meta.channelToken}});return e.state==="completed"&&(this.message=e.message,this.signature=e.signature,this.fid=e.fid,!0)}constructor(e,r=!1){this._meta={disableSignup:!1},this.captchaToken=e,this.startChannelOnce=new Vi(this._startChannelOnce.bind(this)),this.pollForReady=new Vi(this._pollForReady.bind(this)),this._meta.disableSignup=r}};const V9e="34357d3c125c2bcf2ce2bc3309d98715",NA="https://auth.privy.io",G9e=2e4,zr=1400,iT=2500,N4=4e3,K9e="1.99.1",ym="privy:token",wM="privy-token",YE="privy:refresh_token",Y9e="privy-refresh-token",r3="privy:pat",bM="privy:id_token",vM="privy-id-token",ZE="privy-session",PA="privy:session_transfer_token",RA="privy:caid",GJ=t=>`privy:guest:${t}`,Fb=t=>`privy:cross-app:${t}`,A5="privy:state_code",wm="privy:code_verifier",S5="privy:headless_oauth",$5="privy:oauth_disable_signup",JE=t=>`privy:wallet:${t}`,xM="privy:connectors",KJ="privy:connections",P4=12e4,m2=1,EM="0x1",sT=3e4,Z9e="https://api.moonpay.com/v1",J9e="https://api.moonpay.com/v1",Q9e="pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL",X9e="pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI",e7e="deprecated";async function t7e(t){let e=new TextEncoder().encode(t);return new Uint8Array(await crypto.subtle.digest("SHA-256",e))}function OA(t){return crypto.getRandomValues(new Uint8Array(t))}let YJ=class{getOrCreateGuestCredential(e){let r=GJ(e);if($A()){if(lt.get(r))return lt.get(r);{let n=f5(OA(32));return lt.put(r,n),n}}return f5(OA(32))}async authenticate(){if(!this.api)throw new le("Auth flow has no API instance");try{return await this.api.post(S9e,{guest_credential:this.meta.guestCredential})}catch(e){throw Xt(e)}}async link(){throw Error("Linking is not supported for the guest flow")}constructor(e){this.meta={guestCredential:this.getOrCreateGuestCredential(e)}}},kp=class{async initRegisterFlow(e){if(!this.api)throw new le("Auth flow has no API instance");this.authenticateForRegistration=!0,this.meta.initRegisterResponse=await this.initRegisterOnce.execute(e)}async initAuthenticationFlow(e){if(!this.api)throw new le("Auth flow has no API instance");this.authenticateForRegistration=!1,this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute(e)}async initLinkFlow(){if(!this.api)throw new le("Auth flow has no API instance");this.meta.initLinkResponse=await this.initLinkOnce.execute()}async register(){var r,n;let e=await hu(()=>import("./index-Bjltdz_y.js"),[]);if(!this.api)throw new le("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new le("WebAuthn is not supported in this browser");this.meta.initRegisterResponse||(this.meta.initRegisterResponse=await this.initRegisterOnce.execute());try{let i=this.meta.initRegisterResponse.options,s=await e.startRegistration(this._transformInitLinkOptionsToCamelCase(i));return(n=(r=this.meta).setPasskeyAuthState)==null||n.call(r,{status:"submitting-response"}),await this.api.post(m9e,{relying_party:this.meta.initRegisterResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(s)})}catch(i){throw i.name==="NotAllowedError"?new le("Passkey request timed out or rejected by user.",void 0,ue.PASSKEY_NOT_ALLOWED):Xt(i)}}async authenticate(){var r,n;if(this.authenticateForRegistration)return this.register();let e=await hu(()=>import("./index-Bjltdz_y.js"),[]);if(!this.api)throw new le("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new le("WebAuthn is not supported in this browser");this.meta.initAuthenticateResponse||(this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute());try{let i=await e.startAuthentication(this._transformInitAuthenticateOptionsToCamelCase(this.meta.initAuthenticateResponse.options));return(n=(r=this.meta).setPasskeyAuthState)==null||n.call(r,{status:"submitting-response"}),await this.api.post(g9e,{relying_party:this.meta.initAuthenticateResponse.relying_party,challenge:this.meta.initAuthenticateResponse.options.challenge,authenticator_response:this._transformAuthenticationResponseToSnakeCase(i)})}catch(i){throw i.name==="NotAllowedError"?new le("Passkey request timed out or rejected by user.",void 0,ue.PASSKEY_NOT_ALLOWED):Xt(i)}}async link(){var r,n;let e=await hu(()=>import("./index-Bjltdz_y.js"),[]);if(!this.api)throw new le("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new le("WebAuthn is not supported in this browser");this.meta.initLinkResponse||(this.meta.initLinkResponse=await this.initLinkOnce.execute());try{let i=this.meta.initLinkResponse.options,s=await e.startRegistration(this._transformInitLinkOptionsToCamelCase(i));return(n=(r=this.meta).setPasskeyAuthState)==null||n.call(r,{status:"submitting-response"}),await this.api.post(p9e,{relying_party:this.meta.initLinkResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(s)})}catch(i){throw i.name==="NotAllowedError"?new le("Passkey request timed out or rejected by user.",void 0,ue.PASSKEY_NOT_ALLOWED):Xt(i)}}async _initRegisterOnce(e){if(!this.api)throw new le("Auth flow has no API instance");let r=g2(e);return await this.api.post(h9e,{token:this.meta.captchaToken},{headers:{...r}})}async _initAuthenticateOnce(e){if(!this.api)throw new le("Auth flow has no API instance");let r=g2(e);return await this.api.post(f9e,{token:this.meta.captchaToken},{headers:{...r}})}async _initLinkOnce(){if(!this.api)throw new le("Auth flow has no API instance");return await this.api.post(d9e,{})}_transformInitLinkOptionsToCamelCase(e){var r,n,i,s,o,a,l,c,u;return{rp:e.rp,user:{id:e.user.id,name:e.user.name,displayName:e.user.display_name},challenge:e.challenge,pubKeyCredParams:e.pub_key_cred_params.map(f=>({type:f.type,alg:f.alg})),timeout:e.timeout,excludeCredentials:(r=e.exclude_credentials)==null?void 0:r.map(f=>({id:f.id,type:f.type,transports:f.transports})),authenticatorSelection:{authenticatorAttachment:(n=e.authenticator_selection)==null?void 0:n.authenticator_attachment,requireResidentKey:(i=e.authenticator_selection)==null?void 0:i.require_resident_key,residentKey:(s=e.authenticator_selection)==null?void 0:s.resident_key,userVerification:(o=e.authenticator_selection)==null?void 0:o.user_verification},attestation:e.attestation,extensions:{appid:(a=e.extensions)==null?void 0:a.app_id,credProps:(c=(l=e.extensions)==null?void 0:l.cred_props)==null?void 0:c.rk,hmacCreateSecret:(u=e.extensions)==null?void 0:u.hmac_create_secret}}}_transformRegistrationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}_transformInitAuthenticateOptionsToCamelCase(e){var r,n,i,s;return{rpId:e.rp_id,challenge:e.challenge,allowCredentials:((r=e.allow_credentials)==null?void 0:r.map(o=>({id:o.id,type:o.type,transports:o.transports})))||[],timeout:e.timeout,extensions:{appid:(n=e.extensions)==null?void 0:n.app_id,credProps:(i=e.extensions)==null?void 0:i.cred_props,hmacCreateSecret:(s=e.extensions)==null?void 0:s.hmac_create_secret},userVerification:e.user_verification}}_transformAuthenticationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,signature:e.response.signature,user_handle:e.response.userHandle},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}constructor({captchaToken:e,setPasskeyAuthState:r}){this.authenticateForRegistration=!1,this.initRegisterOnce=new Vi(this._initRegisterOnce.bind(this)),this.initAuthenticateOnce=new Vi(this._initAuthenticateOnce.bind(this)),this.initLinkOnce=new Vi(this._initLinkOnce.bind(this)),this.meta={captchaToken:e,setPasskeyAuthState:r}}};const jA=({address:t,chainId:e,nonce:r})=>`${window.location.host} wants you to sign in with your Ethereum account:
${t}

By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.

URI: ${window.location.origin}
Version: 1
Chain ID: ${e}
Nonce: ${r}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`;let I5=class{get meta(){return{connectorType:this.wallet.connectorType,walletClientType:this.wallet.walletClientType,chainId:this.wallet.chainId,address:this.wallet.address,disableSignup:this._meta.disableSignup}}async authenticate(){if(!this.client)throw new le("SiweFlow has no client instance");try{let{message:e,signature:r}=await this.sign();return await this.client.authenticateWithSiweInternal({message:e,signature:r,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw Xt(e)}}async link(){if(!this.client)throw new le("SiweFlow has no client instance");try{let{message:e,signature:r}=await this.sign();return await this.client.linkWithSiweInternal({message:e,signature:r,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType})}catch(e){throw Xt(e)}}async sign(){if(!this.client)throw new le("SiweFlow has no client instance");if(await this.buildMessage(),!this.preparedMessage)throw new le("Could not prepare SIWE message");let e=await this.wallet.sign(this.preparedMessage);return{message:this.preparedMessage,signature:e}}async _getNonceOnce(){if(!this.client)throw new le("SiweFlow has no client instance");return await this.client.generateSiweNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new le("SiweFlow has no client instance");let e=this.wallet.address,r=this.wallet.chainId.replace("eip155:","");return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.preparedMessage=jA({address:e,chainId:r,nonce:this.nonce}),this.preparedMessage}constructor(e,r,n,i=!1){this._meta={disableSignup:!1},this.getNonceOnce=new Vi(this._getNonceOnce.bind(this)),this.wallet=e,this.captchaToken=n,this.client=r,this._meta.disableSignup=i}};const r7e=({address:t,nonce:e})=>`${window.location.host} wants you to sign in with your Solana account:
${t}

${`You are proving you own ${t}.`}

URI: ${window.location.origin}
Version: 1
Chain ID: mainnet
Nonce: ${e}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`;let MA=class{get meta(){return{connectorType:this.wallet.connectorType,walletClientType:this.wallet.walletClientType,disableSignup:this._meta.disableSignup}}async authenticate(){if(!this.client)throw new le("SiwsFlow has no client instance");try{let{message:e,signature:r}=await this.sign();return await this.client.authenticateWithSiwsInternal({message:e,signature:r,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw Xt(e)}}async link(){if(!this.client)throw new le("SiwsFlow has no client instance");try{let{message:e,signature:r}=await this.sign();return await this.client.linkWithSiwsInternal({message:e,signature:r,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType})}catch(e){throw Xt(e)}}async sign(){if(!this.client)throw new le("SiwsFlow has no client instance");if(await this.buildMessage(),!this.preparedMessage)throw new le("Could not prepare SIWS message");if(!this.wallet.signMessage)throw new le("Wallet does not support signMessage");let e=await this.wallet.signMessage(Ke.from(this.preparedMessage));return{message:this.preparedMessage,signature:Ke.from(e).toString("base64")}}async _getNonceOnce(){if(!this.client)throw new le("SiwsFlow has no client instance");return await this.client.generateSiwsNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new le("SiwsFlow has no client instance");let e=this.wallet.address;return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.preparedMessage=r7e({address:e,nonce:this.nonce}),this.preparedMessage}constructor(e,r,n,i=!1){this._meta={disableSignup:!1},this.getNonceOnce=new Vi(this._getNonceOnce.bind(this)),this.wallet=e,this.captchaToken=n,this.client=r,this._meta.disableSignup=i}},g0=class{async authenticate(){if(!this.api)throw new le("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new le("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(n9e,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw Xt(e)}}async link(){if(!this.api)throw new le("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new le("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(t9e,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw Xt(e)}}async sendSmsCode({phoneNumber:e,captchaToken:r,withPrivyUi:n}){if(!this.api)throw new le("Auth flow has no API instance");if(e&&(this.meta.phoneNumber=e),r&&(this.meta.captchaToken=r),!this.meta.phoneNumber)throw new le("phone nNumber must be set when initialzing authentication.");let i=g2(n);try{return await this.api.post(e9e,{phoneNumber:this.meta.phoneNumber,token:this.meta.captchaToken},{headers:{...i}})}catch(s){throw Xt(s)}}constructor({phoneNumber:e,captchaToken:r,disableSignup:n}){this.meta={phoneNumber:e,captchaToken:r,disableSignup:n??!1}}},n7e=class extends g0{async link(){if(!this.api)throw new le("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode||!this.meta.oldPhoneNumber)throw new le("Phone number, sms code, and an old phone number must be set prior to calling update.");try{return await this.api.post(i9e,{old_phone_number:this.meta.oldPhoneNumber,new_phone_number:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw Xt(e)}}constructor(e,r,n){super({phoneNumber:r,captchaToken:n}),this.meta={phoneNumber:r,captchaToken:n,oldPhoneNumber:e,disableSignup:!1}}};const ve=()=>{throw Error("You need to wrap your application with the <PrivyProvider> initialized with your app id.")},Bb=t=>()=>{throw Error(t.trim())},ZJ=C.createContext({siteKey:"",enabled:!1,appId:void 0,token:void 0,error:void 0,status:"disabled",setToken:ve,setError:ve,setExecuting:ve,waitForResult:()=>Promise.resolve(""),ref:{current:null},remove:ve,reset:ve,execute:ve});let R4=class extends Ks{constructor(e,r,n){super(e||"Captcha failed"),this.type="Captcha",r instanceof Error&&(this.cause=r),this.privyErrorCode=n}};const i7e=({children:t,id:e,captchaSiteKey:r,captchaEnabled:n})=>{let i=C.useRef(null),[s,o]=C.useState(),[a,l]=C.useState(),[c,u]=C.useState(!1),f=C.useMemo(()=>n?c||s||a?!c||s||a?s&&!a?{status:"success",token:s}:a?{status:"error",error:a}:{status:"ready"}:{status:"loading"}:{status:"ready"}:{status:"disabled"},[n,s,a,c]);return d.jsx(ZJ.Provider,{value:{...f,ref:i,enabled:n,siteKey:r,appId:e,setToken:o,setError:l,setExecuting:u,remove(){var h;n&&((h=i.current)==null||h.remove(),u(!1),l(void 0),o(void 0))},reset(){var h;n&&((h=i.current)==null||h.reset(),u(!1),l(void 0),o(void 0))},execute(){var h;n&&(u(!0),(h=i.current)==null||h.execute())},async waitForResult(){if(!n)return"";try{return await M9e(()=>{var h;return(h=i.current)==null?void 0:h.getResponse()},{interval:200,timeout:2e4})}catch{throw new R4("Captcha failed",null,ue.CAPTCHA_TIMEOUT)}}},children:t})},eo=()=>C.useContext(ZJ);let zg=class{async authenticate(){if(!this.api)throw new le("Auth flow has no API instance");try{return await this.api.post(w9e,{captcha_token:this.meta.captchaToken,telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw Xt(e)}}async link(){if(!this.api)throw new le("Auth flow has no API instance");try{return await this.api.post(b9e,{telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData})}catch(e){throw Xt(e)}}constructor(e,r=!1){this.meta={disableSignup:!1},this.meta={captchaToken:e,disableSignup:!1},this.meta.disableSignup=r}};function _M(t){let e={detail:"",retryable:!1};return(t==null?void 0:t.privyErrorCode)===ue.LINKED_TO_ANOTHER_USER&&(e.detail="This account has already been linked to another user."),(t==null?void 0:t.privyErrorCode)===ue.DISALLOWED_LOGIN_METHOD&&(e.detail="Login with Telegram not allowed."),(t==null?void 0:t.privyErrorCode)===ue.INVALID_DATA&&(e.retryable=!0,e.detail="Something went wrong. Try again."),(t==null?void 0:t.privyErrorCode)===ue.CANNOT_LINK_MORE_OF_TYPE&&(e.retryable=!0,e.detail="Something went wrong. Try again."),(t==null?void 0:t.privyErrorCode)===ue.INVALID_CREDENTIALS&&(e.retryable=!0,e.detail="Something went wrong. Try again."),(t==null?void 0:t.privyErrorCode)===ue.TOO_MANY_REQUESTS&&(e.detail="Too many requests. Please wait before trying again."),(t==null?void 0:t.privyErrorCode)===ue.TOO_MANY_REQUESTS&&t.message.includes("rate limit")&&(e.detail="Request limit reached for Telegram. Please wait a moment and try again."),t instanceof R4&&(e.retryable=!0,e.detail="Something went wrong. Try again."),e}function s7e(){let t;return(t=function(){let e=new URLSearchParams(window.location.search),r=Number(e.get("id")||""),n=e.get("hash"),i=Number(e.get("auth_date")||""),s=e.get("first_name");if(r&&s&&i&&n)return Object.fromEntries(e.entries())}())?(CM(),{flowType:"login-url",authData:t}):(t=function(){let e=window.location.hash;if(!e||!e.startsWith("#tgWebAppData"))return;let r=JJ(e.replace("#tgWebAppData=","")),{user:n,auth_date:i,hash:s}=r;return n&&i&&s?r:void 0}())?(CM(),{flowType:"web-app",authData:t}):void 0}function JJ(t){return Object.fromEntries(decodeURIComponent(t).split("&").map(e=>e.split("=").map(decodeURIComponent)))}function CM(){let t=new URL(window.location.href);t.searchParams.delete("id"),t.searchParams.delete("hash"),t.searchParams.delete("auth_date"),t.searchParams.delete("first_name"),t.searchParams.delete("last_name"),t.searchParams.delete("username"),t.searchParams.delete("photo_url"),t.hash="",window.history.replaceState({},"",t)}let Gp=class QJ{static parse(e){try{return new QJ(e)}catch{return null}}static throwIfNotWellFormedJwt(e){return mj(e),e}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=mj(e)}},o7e=class XJ extends Gp{static parse(e){try{return new XJ(e)}catch{return null}}get appId(){return this._decoded.aid?this._decoded.aid:this.audience}};function pt(t){return t?new Date(1e3*t):null}function Xi(t,e){return t.slice().sort((r,n)=>(n.firstVerifiedAt??n.verifiedAt).getTime()-(r.firstVerifiedAt??r.verifiedAt).getTime()).find(r=>r.type===e)}const ks=t=>(t==null?void 0:t.linkedAccounts.find(e=>e.type==="wallet"&&e.walletClientType==="privy"&&!e.imported&&e.chainType==="ethereum"&&e.walletIndex===0))||null,n3=t=>((t==null?void 0:t.linkedAccounts)??[]).filter(e=>e.type==="wallet"&&e.walletClientType==="privy"&&!e.imported&&e.chainType==="ethereum"),a7e=t=>n3(t).reduce((e,r)=>!e||e.walletIndex<r.walletIndex?r:e,null),eQ=(t,e)=>((t==null?void 0:t.linkedAccounts)??[]).filter(r=>r.type==="wallet"&&r.walletClientType==="privy"&&r.chainType===e),i3=t=>((t==null?void 0:t.linkedAccounts)??[]).filter(e=>e.type==="wallet"&&e.walletClientType==="privy"&&!e.imported&&e.chainType==="solana"),Ul=t=>(t==null?void 0:t.linkedAccounts.find(e=>e.type==="wallet"&&e.walletClientType==="privy"&&!e.imported&&e.chainType==="solana"&&e.walletIndex===0))||null,l7e=t=>i3(t).reduce((e,r)=>!e||e.walletIndex<r.walletIndex?r:e,null),k5=t=>(t==null?void 0:t.linkedAccounts.find(e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.imported&&e.chainType==="ethereum"))||null,zm=t=>(t==null?void 0:t.linkedAccounts.find(e=>e.type==="wallet"&&e.imported&&e.walletClientType==="privy"&&e.chainType==="solana"))||null,T5=(t,e)=>(t==null?void 0:t.linkedAccounts.find(r=>r.type==="wallet"&&r.walletClientType==="privy"&&r.address===e))||null,Is=t=>ks(t)??Ul(t),Qr=t=>{if(t.chainType==="ethereum")return{entropyId:t.address,entropyIdVerifier:"ethereum-address-verifier"};if(t.chainType==="solana")return{entropyId:t.address,entropyIdVerifier:"solana-address-verifier"};throw Error("Failed to get account entropy details")},c7e=t=>{let e=Is(t);if(!e)throw Error("Failed to find primary wallet");return Qr(e)},Ub=(t,e)=>{let r=eQ(t,"ethereum").find(n=>Dt(n.address)===Dt(e));return{signingWallet:r,rootWallet:r?r.imported?r:ks(t):void 0}},s3=(t,e)=>{let r=eQ(t,"solana").find(n=>n.address===e);return r?r.imported||r.walletIndex===0?{signingWallet:r,rootWallet:r}:{signingWallet:r,rootWallet:Ul(t)}:{}},Pu=(t,e)=>{var r;return!(ks(t)||Ul(t)||e!=="all-users"&&(e!=="users-without-wallets"||(r=(n=>n.linkedAccounts.filter(i=>i.type==="wallet"))(t))!=null&&r.length))};function Mi(t){if(!t)return null;let e=function(E){let v=[];for(let b of E){let $=b.type;switch(b.type){case"wallet":let P={address:b.address,type:b.type,imported:b.imported,delegated:b.delegated,verifiedAt:pt(b.verified_at),firstVerifiedAt:pt(b.first_verified_at),latestVerifiedAt:pt(b.latest_verified_at),chainType:b.chain_type,chainId:b.chain_id,walletClient:b.wallet_client_type==="privy"?"privy":"unknown",walletClientType:b.wallet_client_type,connectorType:b.connector_type,recoveryMethod:b.recovery_method,walletIndex:b.wallet_index};v.push(P);break;case"smart_wallet":let O={address:b.address,type:b.type,verifiedAt:pt(b.verified_at),firstVerifiedAt:pt(b.first_verified_at),latestVerifiedAt:pt(b.latest_verified_at),smartWalletType:b.smart_wallet_type};v.push(O);break;case"cross_app":let D={type:b.type,subject:b.subject,embeddedWallets:b.embedded_wallets,smartWallets:b.smart_wallets,providerApp:{id:b.provider_app_id},verifiedAt:pt(b.verified_at),firstVerifiedAt:pt(b.first_verified_at),latestVerifiedAt:pt(b.latest_verified_at)};v.push(D);break;case"email":let B={address:b.address,type:b.type,verifiedAt:pt(b.verified_at),firstVerifiedAt:pt(b.first_verified_at),latestVerifiedAt:pt(b.latest_verified_at)};v.push(B);break;case"phone":let H={number:b.phoneNumber,type:b.type,verifiedAt:pt(b.verified_at),firstVerifiedAt:pt(b.first_verified_at),latestVerifiedAt:pt(b.latest_verified_at)};v.push(H);break;case"google_oauth":let q={subject:b.subject,email:b.email,name:b.name,type:b.type,verifiedAt:pt(b.verified_at),firstVerifiedAt:pt(b.first_verified_at),latestVerifiedAt:pt(b.latest_verified_at)};v.push(q);break;case"spotify_oauth":let Y={subject:b.subject,email:b.email,name:b.name,type:b.type,verifiedAt:pt(b.verified_at),firstVerifiedAt:pt(b.first_verified_at),latestVerifiedAt:pt(b.latest_verified_at)};v.push(Y);break;case"instagram_oauth":let R={subject:b.subject,username:b.username,type:b.type,verifiedAt:pt(b.verified_at),firstVerifiedAt:pt(b.first_verified_at),latestVerifiedAt:pt(b.latest_verified_at)};v.push(R);break;case"twitter_oauth":let _={subject:b.subject,username:b.username,name:b.name,type:b.type,profilePictureUrl:b.profile_picture_url,verifiedAt:pt(b.verified_at),firstVerifiedAt:pt(b.first_verified_at),latestVerifiedAt:pt(b.latest_verified_at)};v.push(_);break;case"discord_oauth":let x={subject:b.subject,username:b.username,email:b.email,type:b.type,verifiedAt:pt(b.verified_at),firstVerifiedAt:pt(b.first_verified_at),latestVerifiedAt:pt(b.latest_verified_at)};v.push(x);break;case"github_oauth":let A={subject:b.subject,username:b.username,name:b.name,email:b.email,type:b.type,verifiedAt:pt(b.verified_at),firstVerifiedAt:pt(b.first_verified_at),latestVerifiedAt:pt(b.latest_verified_at)};v.push(A);break;case"tiktok_oauth":let T={subject:b.subject,username:b.username,name:b.name,type:b.type,verifiedAt:pt(b.verified_at),firstVerifiedAt:pt(b.first_verified_at),latestVerifiedAt:pt(b.latest_verified_at)};v.push(T);break;case"linkedin_oauth":let I={subject:b.subject,name:b.name,email:b.email,vanityName:b.vanity_name,type:b.type,verifiedAt:pt(b.verified_at),firstVerifiedAt:pt(b.first_verified_at),latestVerifiedAt:pt(b.latest_verified_at)};v.push(I);break;case"apple_oauth":let N={subject:b.subject,email:b.email,type:b.type,verifiedAt:pt(b.verified_at),firstVerifiedAt:pt(b.first_verified_at),latestVerifiedAt:pt(b.latest_verified_at)};v.push(N);break;case"custom_auth":v.push({type:b.type,customUserId:b.custom_user_id,verifiedAt:pt(b.verified_at),firstVerifiedAt:pt(b.first_verified_at),latestVerifiedAt:pt(b.latest_verified_at)});break;case"farcaster":let M={type:b.type,fid:b.fid,ownerAddress:b.owner_address,displayName:b.display_name,username:b.username,bio:b.bio,pfp:b.profile_picture_url,url:b.homepage_url,verifiedAt:pt(b.verified_at),firstVerifiedAt:pt(b.first_verified_at),latestVerifiedAt:pt(b.latest_verified_at),signerPublicKey:b.signer_public_key};v.push(M);break;case"passkey":let U={type:b.type,enrolledInMfa:b.enrolled_in_mfa,credentialId:b.credential_id,authenticatorName:b.authenticator_name,createdWithDevice:b.created_with_device,createdWithOs:b.created_with_os,createdWithBrowser:b.created_with_browser,verifiedAt:pt(b.verified_at),firstVerifiedAt:pt(b.first_verified_at),latestVerifiedAt:pt(b.latest_verified_at)};v.push(U);break;case"telegram":let S={type:b.type,telegramUserId:b.telegram_user_id,firstName:b.first_name,lastName:b.last_name,username:b.username,photoUrl:b.photo_url,verifiedAt:pt(b.first_verified_at),firstVerifiedAt:pt(b.first_verified_at),latestVerifiedAt:pt(b.latest_verified_at)};v.push(S);break;default:console.warn(`Unrecognized account type: ${$}. Please consider upgrading the Privy SDK.`)}}return v}(t.linked_accounts),r=Xi(e,"wallet"),n=Xi(e,"smart_wallet"),i=Xi(e,"email"),s=Xi(e,"phone"),o=Xi(e,"google_oauth"),a=Xi(e,"twitter_oauth"),l=Xi(e,"discord_oauth"),c=Xi(e,"github_oauth"),u=Xi(e,"spotify_oauth"),f=Xi(e,"instagram_oauth"),h=Xi(e,"tiktok_oauth"),p=Xi(e,"linkedin_oauth"),g=Xi(e,"apple_oauth"),m=Xi(e,"farcaster"),w=Xi(e,"telegram"),y=t.mfa_methods.map(({type:E,verified_at:v})=>({type:E,verifiedAt:pt(v)}));return{id:t.id,createdAt:pt(t.created_at),linkedAccounts:e,email:i&&{address:i==null?void 0:i.address},phone:s&&{number:s==null?void 0:s.number},wallet:r&&{address:r.address,chainType:r.chainType,chainId:r.chainId,walletClient:r.walletClient,walletClientType:r.walletClientType,connectorType:r.connectorType,recoveryMethod:r.recoveryMethod,imported:r.imported,delegated:r.delegated,walletIndex:r.walletIndex},smartWallet:n&&{address:n.address,smartWalletType:n.smartWalletType},google:o&&{subject:o.subject,email:o.email,name:o.name},twitter:a&&{subject:a.subject,username:a.username,name:a.name,profilePictureUrl:a.profilePictureUrl},discord:l&&{subject:l.subject,username:l.username,email:l.email},github:c&&{subject:c.subject,username:c.username,name:c.name,email:c.email},spotify:u&&{subject:u.subject,email:u.email,name:u.name},instagram:f&&{subject:f.subject,username:f.username},tiktok:h&&{subject:h.subject,username:h.username,name:h.name},linkedin:p&&{subject:p.subject,name:p.name,email:p.email,vanityName:p.vanityName},apple:g&&{subject:g.subject,email:g.email},farcaster:m&&{fid:m.fid,ownerAddress:m.ownerAddress,displayName:m.displayName,username:m.username,bio:m.bio,pfp:m.pfp,url:m.url,signerPublicKey:m.signerPublicKey},telegram:w&&{telegramUserId:w.telegramUserId,firstName:w.firstName,lastName:w.lastName,username:w.username,photoUrl:w.photoUrl},delegatedWallets:[],mfaMethods:y.map(E=>E.type),hasAcceptedTerms:t.has_accepted_terms??!1,isGuest:t.is_guest,customMetadata:t.custom_metadata}}var tQ={},y2={},O4={};Object.defineProperty(O4,"__esModule",{value:!0});O4.walletLogo=void 0;const u7e=(t,e)=>{let r;switch(t){case"standard":return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};O4.walletLogo=u7e;var j4={};const d7e=Qh(Vwe);var vc={},Ru={};Object.defineProperty(Ru,"__esModule",{value:!0});Ru.errorValues=Ru.standardErrorCodes=void 0;Ru.standardErrorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}};Ru.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}};var M4={},oT={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serialize=t.getErrorCode=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=Ru,r="Unspecified error message.";t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function n(h,p=r){if(h&&Number.isInteger(h)){const g=h.toString();if(u(e.errorValues,g))return e.errorValues[g].message;if(l(h))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return p}t.getMessageFromCode=n;function i(h){if(!Number.isInteger(h))return!1;const p=h.toString();return!!(e.errorValues[p]||l(h))}t.isValidCode=i;function s(h){var p;if(typeof h=="number")return h;if(o(h))return(p=h.code)!==null&&p!==void 0?p:h.errorCode}t.getErrorCode=s;function o(h){return typeof h=="object"&&h!==null&&(typeof h.code=="number"||typeof h.errorCode=="number")}function a(h,{shouldIncludeStack:p=!1}={}){const g={};if(h&&typeof h=="object"&&!Array.isArray(h)&&u(h,"code")&&i(h.code)){const m=h;g.code=m.code,m.message&&typeof m.message=="string"?(g.message=m.message,u(m,"data")&&(g.data=m.data)):(g.message=n(g.code),g.data={originalError:c(h)})}else g.code=e.standardErrorCodes.rpc.internal,g.message=f(h,"message")?h.message:r,g.data={originalError:c(h)};return p&&(g.stack=f(h,"stack")?h.stack:void 0),g}t.serialize=a;function l(h){return h>=-32099&&h<=-32e3}function c(h){return h&&typeof h=="object"&&!Array.isArray(h)?Object.assign({},h):h}function u(h,p){return Object.prototype.hasOwnProperty.call(h,p)}function f(h,p){return typeof h=="object"&&h!==null&&p in h&&typeof h[p]=="string"}})(oT);Object.defineProperty(M4,"__esModule",{value:!0});M4.standardErrors=void 0;const ui=Ru,rQ=oT;M4.standardErrors={rpc:{parse:t=>Bo(ui.standardErrorCodes.rpc.parse,t),invalidRequest:t=>Bo(ui.standardErrorCodes.rpc.invalidRequest,t),invalidParams:t=>Bo(ui.standardErrorCodes.rpc.invalidParams,t),methodNotFound:t=>Bo(ui.standardErrorCodes.rpc.methodNotFound,t),internal:t=>Bo(ui.standardErrorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Bo(e,t)},invalidInput:t=>Bo(ui.standardErrorCodes.rpc.invalidInput,t),resourceNotFound:t=>Bo(ui.standardErrorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>Bo(ui.standardErrorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>Bo(ui.standardErrorCodes.rpc.transactionRejected,t),methodNotSupported:t=>Bo(ui.standardErrorCodes.rpc.methodNotSupported,t),limitExceeded:t=>Bo(ui.standardErrorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Tp(ui.standardErrorCodes.provider.userRejectedRequest,t),unauthorized:t=>Tp(ui.standardErrorCodes.provider.unauthorized,t),unsupportedMethod:t=>Tp(ui.standardErrorCodes.provider.unsupportedMethod,t),disconnected:t=>Tp(ui.standardErrorCodes.provider.disconnected,t),chainDisconnected:t=>Tp(ui.standardErrorCodes.provider.chainDisconnected,t),unsupportedChain:t=>Tp(ui.standardErrorCodes.provider.unsupportedChain,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new sQ(e,r,n)}}};function Bo(t,e){const[r,n]=nQ(e);return new iQ(t,r||(0,rQ.getMessageFromCode)(t),n)}function Tp(t,e){const[r,n]=nQ(e);return new sQ(t,r||(0,rQ.getMessageFromCode)(t),n)}function nQ(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}class iQ extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}}class sQ extends iQ{constructor(e,r,n){if(!f7e(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}function f7e(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.standardErrors=t.standardErrorCodes=void 0;var e=Ru;Object.defineProperty(t,"standardErrorCodes",{enumerable:!0,get:function(){return e.standardErrorCodes}});var r=M4;Object.defineProperty(t,"standardErrors",{enumerable:!0,get:function(){return r.standardErrors}})})(vc);var D4={},sg={};Object.defineProperty(sg,"__esModule",{value:!0});sg.isErrorResponse=void 0;function h7e(t){return t.errorMessage!==void 0}sg.isErrorResponse=h7e;var sp={};Object.defineProperty(sp,"__esModule",{value:!0});sp.LIB_VERSION=void 0;sp.LIB_VERSION="4.0.3";Object.defineProperty(D4,"__esModule",{value:!0});D4.serializeError=void 0;const p7e=sg,g7e=sp,m7e=Ru,y7e=oT;function w7e(t,e){const r=(0,y7e.serialize)(b7e(t),{shouldIncludeStack:!0}),n=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");n.searchParams.set("version",g7e.LIB_VERSION),n.searchParams.set("code",r.code.toString());const i=v7e(r.data,e);return i&&n.searchParams.set("method",i),n.searchParams.set("message",r.message),Object.assign(Object.assign({},r),{docUrl:n.href})}D4.serializeError=w7e;function b7e(t){return typeof t=="string"?{message:t,code:m7e.standardErrorCodes.rpc.internal}:(0,p7e.isErrorResponse)(t)?Object.assign(Object.assign({},t),{message:t.errorMessage,code:t.errorCode,data:{method:t.method}}):t}function v7e(t,e){const r=t==null?void 0:t.method;if(r)return r;if(e!==void 0){if(typeof e=="string")return e;if(Array.isArray(e)){if(e.length>0)return e[0].method}else return e.method}}var Hi={};Object.defineProperty(Hi,"__esModule",{value:!0});Hi.RegExpString=Hi.IntNumber=Hi.BigIntString=Hi.AddressString=Hi.HexString=Hi.OpaqueType=void 0;function pw(){return t=>t}Hi.OpaqueType=pw;Hi.HexString=pw();Hi.AddressString=pw();Hi.BigIntString=pw();function x7e(t){return Math.floor(t)}Hi.IntNumber=x7e;Hi.RegExpString=pw();var gt={};Object.defineProperty(gt,"__esModule",{value:!0});gt.areAddressArraysEqual=gt.getFavicon=gt.range=gt.isBigNumber=gt.ensureParsedJSONObject=gt.ensureBigInt=gt.ensureRegExpString=gt.ensureIntNumber=gt.ensureBuffer=gt.ensureAddressString=gt.ensureEvenLengthHexString=gt.ensureHexString=gt.isHexString=gt.prepend0x=gt.strip0x=gt.has0xPrefix=gt.hexStringFromIntNumber=gt.intNumberFromHexString=gt.bigIntStringFromBigInt=gt.hexStringFromBuffer=gt.hexStringToUint8Array=gt.uint8ArrayToHex=gt.randomBytesHex=void 0;const op=vc,aa=Hi,oQ=/^[0-9]*$/,aQ=/^[a-f0-9]*$/;function E7e(t){return lQ(crypto.getRandomValues(new Uint8Array(t)))}gt.randomBytesHex=E7e;function lQ(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}gt.uint8ArrayToHex=lQ;function _7e(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}gt.hexStringToUint8Array=_7e;function C7e(t,e=!1){const r=t.toString("hex");return(0,aa.HexString)(e?`0x${r}`:r)}gt.hexStringFromBuffer=C7e;function A7e(t){return(0,aa.BigIntString)(t.toString(10))}gt.bigIntStringFromBigInt=A7e;function S7e(t){return(0,aa.IntNumber)(Number(BigInt(mw(t,!0))))}gt.intNumberFromHexString=S7e;function $7e(t){return(0,aa.HexString)(`0x${BigInt(t).toString(16)}`)}gt.hexStringFromIntNumber=$7e;function aT(t){return t.startsWith("0x")||t.startsWith("0X")}gt.has0xPrefix=aT;function L4(t){return aT(t)?t.slice(2):t}gt.strip0x=L4;function cQ(t){return aT(t)?`0x${t.slice(2)}`:`0x${t}`}gt.prepend0x=cQ;function gw(t){if(typeof t!="string")return!1;const e=L4(t).toLowerCase();return aQ.test(e)}gt.isHexString=gw;function uQ(t,e=!1){if(typeof t=="string"){const r=L4(t).toLowerCase();if(aQ.test(r))return(0,aa.HexString)(e?`0x${r}`:r)}throw op.standardErrors.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}gt.ensureHexString=uQ;function mw(t,e=!1){let r=uQ(t,!1);return r.length%2===1&&(r=(0,aa.HexString)(`0${r}`)),e?(0,aa.HexString)(`0x${r}`):r}gt.ensureEvenLengthHexString=mw;function I7e(t){if(typeof t=="string"){const e=L4(t).toLowerCase();if(gw(e)&&e.length===40)return(0,aa.AddressString)(cQ(e))}throw op.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}gt.ensureAddressString=I7e;function k7e(t){if(Ke.isBuffer(t))return t;if(typeof t=="string"){if(gw(t)){const e=mw(t,!1);return Ke.from(e,"hex")}return Ke.from(t,"utf8")}throw op.standardErrors.rpc.invalidParams(`Not binary data: ${String(t)}`)}gt.ensureBuffer=k7e;function dQ(t){if(typeof t=="number"&&Number.isInteger(t))return(0,aa.IntNumber)(t);if(typeof t=="string"){if(oQ.test(t))return(0,aa.IntNumber)(Number(t));if(gw(t))return(0,aa.IntNumber)(Number(BigInt(mw(t,!0))))}throw op.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}gt.ensureIntNumber=dQ;function T7e(t){if(t instanceof RegExp)return(0,aa.RegExpString)(t.toString());throw op.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(t)}`)}gt.ensureRegExpString=T7e;function N7e(t){if(t!==null&&(typeof t=="bigint"||fQ(t)))return BigInt(t.toString(10));if(typeof t=="number")return BigInt(dQ(t));if(typeof t=="string"){if(oQ.test(t))return BigInt(t);if(gw(t))return BigInt(mw(t,!0))}throw op.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}gt.ensureBigInt=N7e;function P7e(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw op.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}gt.ensureParsedJSONObject=P7e;function fQ(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}gt.isBigNumber=fQ;function R7e(t,e){return Array.from({length:e-t},(r,n)=>t+n)}gt.range=R7e;function O7e(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:r}=document.location,n=t?t.getAttribute("href"):null;return!n||n.startsWith("javascript:")||n.startsWith("vbscript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?e+n:`${e}//${r}${n}`}gt.getFavicon=O7e;function j7e(t,e){return t.length===e.length&&t.every((r,n)=>r===e[n])}gt.areAddressArraysEqual=j7e;var Hl={},F4={},B4={},Pn={};Object.defineProperty(Pn,"__esModule",{value:!0});Pn.decryptContent=Pn.encryptContent=Pn.importKeyFromHexString=Pn.exportKeyToHexString=Pn.decrypt=Pn.encrypt=Pn.deriveSharedSecret=Pn.generateKeyPair=void 0;const hQ=gt;async function M7e(){return crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}Pn.generateKeyPair=M7e;async function D7e(t,e){return crypto.subtle.deriveKey({name:"ECDH",public:e},t,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}Pn.deriveSharedSecret=D7e;async function pQ(t,e){const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.encrypt({name:"AES-GCM",iv:r},t,new TextEncoder().encode(e));return{iv:r,cipherText:n}}Pn.encrypt=pQ;async function gQ(t,{iv:e,cipherText:r}){const n=await crypto.subtle.decrypt({name:"AES-GCM",iv:e},t,r);return new TextDecoder().decode(n)}Pn.decrypt=gQ;function mQ(t){switch(t){case"public":return"spki";case"private":return"pkcs8"}}async function L7e(t,e){const r=mQ(t),n=await crypto.subtle.exportKey(r,e);return(0,hQ.uint8ArrayToHex)(new Uint8Array(n))}Pn.exportKeyToHexString=L7e;async function F7e(t,e){const r=mQ(t),n=(0,hQ.hexStringToUint8Array)(e).buffer;return await crypto.subtle.importKey(r,n,{name:"ECDH",namedCurve:"P-256"},!0,t==="private"?["deriveKey"]:[])}Pn.importKeyFromHexString=F7e;async function B7e(t,e){const r=JSON.stringify(t,(n,i)=>{if(!(i instanceof Error))return i;const s=i;return Object.assign(Object.assign({},s.code?{code:s.code}:{}),{message:s.message})});return pQ(e,r)}Pn.encryptContent=B7e;async function U7e(t,e){return JSON.parse(await gQ(e,t))}Pn.decryptContent=U7e;var xc={};Object.defineProperty(xc,"__esModule",{value:!0});xc.ScopedLocalStorage=void 0;class N5{constructor(e,r){this.scope=e,this.module=r}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`-${this.scope}${this.module?`:${this.module}`:""}:${e}`}static clearAll(){new N5("CBWSDK").clear(),new N5("walletlink").clear()}}xc.ScopedLocalStorage=N5;Object.defineProperty(B4,"__esModule",{value:!0});B4.SCWKeyManager=void 0;const Wb=Pn,W7e=xc,QE={storageKey:"ownPrivateKey",keyType:"private"},XE={storageKey:"ownPublicKey",keyType:"public"},e9={storageKey:"peerPublicKey",keyType:"public"};class z7e{constructor(){this.storage=new W7e.ScopedLocalStorage("CBWSDK","SCWKeyManager"),this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null}async getOwnPublicKey(){return await this.loadKeysIfNeeded(),this.ownPublicKey}async getSharedSecret(){return await this.loadKeysIfNeeded(),this.sharedSecret}async setPeerPublicKey(e){this.sharedSecret=null,this.peerPublicKey=e,await this.storeKey(e9,e),await this.loadKeysIfNeeded()}async clear(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,this.storage.removeItem(XE.storageKey),this.storage.removeItem(QE.storageKey),this.storage.removeItem(e9.storageKey)}async generateKeyPair(){const e=await(0,Wb.generateKeyPair)();this.ownPrivateKey=e.privateKey,this.ownPublicKey=e.publicKey,await this.storeKey(QE,e.privateKey),await this.storeKey(XE,e.publicKey)}async loadKeysIfNeeded(){if(this.ownPrivateKey===null&&(this.ownPrivateKey=await this.loadKey(QE)),this.ownPublicKey===null&&(this.ownPublicKey=await this.loadKey(XE)),(this.ownPrivateKey===null||this.ownPublicKey===null)&&await this.generateKeyPair(),this.peerPublicKey===null&&(this.peerPublicKey=await this.loadKey(e9)),this.sharedSecret===null){if(this.ownPrivateKey===null||this.peerPublicKey===null)return;this.sharedSecret=await(0,Wb.deriveSharedSecret)(this.ownPrivateKey,this.peerPublicKey)}}async loadKey(e){const r=this.storage.getItem(e.storageKey);return r?(0,Wb.importKeyFromHexString)(e.keyType,r):null}async storeKey(e,r){const n=await(0,Wb.exportKeyToHexString)(e.keyType,r);this.storage.setItem(e.storageKey,n)}}B4.SCWKeyManager=z7e;var U4={};Object.defineProperty(U4,"__esModule",{value:!0});U4.SCWStateManager=void 0;const H7e=xc,AM="accounts",SM="activeChain",$M="availableChains",IM="walletCapabilities";class q7e{get accounts(){return this._accounts}get activeChain(){return this._activeChain}get walletCapabilities(){return this._walletCapabilities}constructor(e){var r,n;this.storage=new H7e.ScopedLocalStorage("CBWSDK","SCWStateManager"),this.updateListener=e.updateListener,this.availableChains=this.loadItemFromStorage($M),this._walletCapabilities=this.loadItemFromStorage(IM);const i=this.loadItemFromStorage(AM),s=this.loadItemFromStorage(SM);i&&this.updateListener.onAccountsUpdate({accounts:i,source:"storage"}),s&&this.updateListener.onChainUpdate({chain:s,source:"storage"}),this._accounts=i||[],this._activeChain=s||{id:(n=(r=e.appChainIds)===null||r===void 0?void 0:r[0])!==null&&n!==void 0?n:1}}updateAccounts(e){this._accounts=e,this.storeItemToStorage(AM,e),this.updateListener.onAccountsUpdate({accounts:e,source:"wallet"})}switchChain(e){var r;const n=(r=this.availableChains)===null||r===void 0?void 0:r.find(i=>i.id===e);return n?(n===this._activeChain||(this._activeChain=n,this.storeItemToStorage(SM,n),this.updateListener.onChainUpdate({chain:n,source:"wallet"})),!0):!1}updateAvailableChains(e){if(!e||Object.keys(e).length===0)return;const r=Object.entries(e).map(([n,i])=>({id:Number(n),rpcUrl:i}));this.availableChains=r,this.storeItemToStorage($M,r),this.switchChain(this._activeChain.id)}updateWalletCapabilities(e){this._walletCapabilities=e,this.storeItemToStorage(IM,e)}storeItemToStorage(e,r){this.storage.setItem(e,JSON.stringify(r))}loadItemFromStorage(e){const r=this.storage.getItem(e);return r?JSON.parse(r):void 0}clear(){this.storage.clear()}}U4.SCWStateManager=q7e;Object.defineProperty(F4,"__esModule",{value:!0});F4.SCWSigner=void 0;const V7e=B4,G7e=U4,zb=vc,kM=gt,Hb=Pn;class K7e{constructor(e){this.metadata=e.metadata,this.communicator=e.communicator,this.keyManager=new V7e.SCWKeyManager,this.stateManager=new G7e.SCWStateManager({appChainIds:this.metadata.appChainIds,updateListener:e.updateListener}),this.handshake=this.handshake.bind(this),this.request=this.request.bind(this),this.createRequestMessage=this.createRequestMessage.bind(this),this.decryptResponseMessage=this.decryptResponseMessage.bind(this)}async handshake(){const e=await this.createRequestMessage({handshake:{method:"eth_requestAccounts",params:this.metadata}}),r=await this.communicator.postRequestAndWaitForResponse(e);if("failure"in r.content)throw r.content.failure;const n=await(0,Hb.importKeyFromHexString)("public",r.sender);await this.keyManager.setPeerPublicKey(n);const i=await this.decryptResponseMessage(r);this.updateInternalState({method:"eth_requestAccounts"},i);const s=i.result;if("error"in s)throw s.error;return this.stateManager.accounts}async request(e){const r=this.tryLocalHandling(e);if(r!==void 0){if(r instanceof Error)throw r;return r}await this.communicator.waitForPopupLoaded();const n=await this.sendEncryptedRequest(e),i=await this.decryptResponseMessage(n);this.updateInternalState(e,i);const s=i.result;if("error"in s)throw s.error;return s.value}async disconnect(){this.stateManager.clear(),await this.keyManager.clear()}tryLocalHandling(e){var r;switch(e.method){case"wallet_switchEthereumChain":{const n=e.params;if(!n||!(!((r=n[0])===null||r===void 0)&&r.chainId))throw zb.standardErrors.rpc.invalidParams();const i=(0,kM.ensureIntNumber)(n[0].chainId);return this.stateManager.switchChain(i)?null:void 0}case"wallet_getCapabilities":{const n=this.stateManager.walletCapabilities;if(!n)throw zb.standardErrors.provider.unauthorized("No wallet capabilities found, please disconnect and reconnect");return n}default:return}}async sendEncryptedRequest(e){const r=await this.keyManager.getSharedSecret();if(!r)throw zb.standardErrors.provider.unauthorized("No valid session found, try requestAccounts before other methods");const n=await(0,Hb.encryptContent)({action:e,chainId:this.stateManager.activeChain.id},r),i=await this.createRequestMessage({encrypted:n});return this.communicator.postRequestAndWaitForResponse(i)}async createRequestMessage(e){const r=await(0,Hb.exportKeyToHexString)("public",await this.keyManager.getOwnPublicKey());return{id:crypto.randomUUID(),sender:r,content:e,timestamp:new Date}}async decryptResponseMessage(e){const r=e.content;if("failure"in r)throw r.failure;const n=await this.keyManager.getSharedSecret();if(!n)throw zb.standardErrors.provider.unauthorized("Invalid session");return(0,Hb.decryptContent)(r.encrypted,n)}updateInternalState(e,r){var n,i;const s=(n=r.data)===null||n===void 0?void 0:n.chains;s&&this.stateManager.updateAvailableChains(s);const o=(i=r.data)===null||i===void 0?void 0:i.capabilities;o&&this.stateManager.updateWalletCapabilities(o);const a=r.result;if(!("error"in a))switch(e.method){case"eth_requestAccounts":{const l=a.value;this.stateManager.updateAccounts(l);break}case"wallet_switchEthereumChain":{if(a.value!==null)return;const l=e.params,c=(0,kM.ensureIntNumber)(l[0].chainId);this.stateManager.switchChain(c);break}}}}F4.SCWSigner=K7e;var W4={},DA={exports:{}},lT={exports:{}},L0=typeof Reflect=="object"?Reflect:null,TM=L0&&typeof L0.apply=="function"?L0.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},o3;L0&&typeof L0.ownKeys=="function"?o3=L0.ownKeys:Object.getOwnPropertySymbols?o3=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:o3=function(e){return Object.getOwnPropertyNames(e)};function Y7e(t){console&&console.warn&&console.warn(t)}var yQ=Number.isNaN||function(e){return e!==e};function $r(){$r.init.call(this)}lT.exports=$r;lT.exports.once=X7e;$r.EventEmitter=$r;$r.prototype._events=void 0;$r.prototype._eventsCount=0;$r.prototype._maxListeners=void 0;var NM=10;function z4(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty($r,"defaultMaxListeners",{enumerable:!0,get:function(){return NM},set:function(t){if(typeof t!="number"||t<0||yQ(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");NM=t}});$r.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};$r.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||yQ(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function wQ(t){return t._maxListeners===void 0?$r.defaultMaxListeners:t._maxListeners}$r.prototype.getMaxListeners=function(){return wQ(this)};$r.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var l=s[e];if(l===void 0)return!1;if(typeof l=="function")TM(l,this,r);else for(var c=l.length,u=_Q(l,c),n=0;n<c;++n)TM(u[n],this,r);return!0};function bQ(t,e,r,n){var i,s,o;if(z4(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),o===void 0)o=s[e]=r,++t._eventsCount;else if(typeof o=="function"?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=wQ(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,Y7e(a)}return t}$r.prototype.addListener=function(e,r){return bQ(this,e,r,!1)};$r.prototype.on=$r.prototype.addListener;$r.prototype.prependListener=function(e,r){return bQ(this,e,r,!0)};function Z7e(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function vQ(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=Z7e.bind(n);return i.listener=r,n.wrapFn=i,i}$r.prototype.once=function(e,r){return z4(r),this.on(e,vQ(this,e,r)),this};$r.prototype.prependOnceListener=function(e,r){return z4(r),this.prependListener(e,vQ(this,e,r)),this};$r.prototype.removeListener=function(e,r){var n,i,s,o,a;if(z4(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){a=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():J7e(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||r)}return this};$r.prototype.off=$r.prototype.removeListener;$r.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function xQ(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?Q7e(i):_Q(i,i.length)}$r.prototype.listeners=function(e){return xQ(this,e,!0)};$r.prototype.rawListeners=function(e){return xQ(this,e,!1)};$r.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):EQ.call(t,e)};$r.prototype.listenerCount=EQ;function EQ(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}$r.prototype.eventNames=function(){return this._eventsCount>0?o3(this._events):[]};function _Q(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function J7e(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function Q7e(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function X7e(t,e){return new Promise(function(r,n){function i(o){t.removeListener(e,s),n(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}CQ(t,e,s,{once:!0}),e!=="error"&&e_e(t,i,{once:!0})})}function e_e(t,e,r){typeof t.on=="function"&&CQ(t,"error",e,r)}function CQ(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){n.once&&t.removeEventListener(e,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var ys=lT.exports;const cT=wc(ys);var AQ=ys.EventEmitter,uT={},SQ={},t9,PM;function $Q(){return PM||(PM=1,t9=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,r);if(a.value!==i||a.enumerable!==!0)return!1}return!0}),t9}var r9,RM;function H4(){if(RM)return r9;RM=1;var t=$Q();return r9=function(){return t()&&!!Symbol.toStringTag},r9}var IQ=Object,t_e=Error,r_e=EvalError,n_e=RangeError,i_e=ReferenceError,kQ=SyntaxError,og=TypeError,s_e=URIError,o_e=Math.abs,a_e=Math.floor,l_e=Math.max,c_e=Math.min,u_e=Math.pow,d_e=Math.round,f_e=Number.isNaN||function(e){return e!==e},h_e=f_e,p_e=function(e){return h_e(e)||e===0?e:e<0?-1:1},g_e=Object.getOwnPropertyDescriptor,a3=g_e;if(a3)try{a3([],"length")}catch{a3=null}var ag=a3,l3=Object.defineProperty||!1;if(l3)try{l3({},"a",{value:1})}catch{l3=!1}var q4=l3,n9,OM;function m_e(){if(OM)return n9;OM=1;var t=typeof Symbol<"u"&&Symbol,e=$Q();return n9=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},n9}var i9,jM;function TQ(){return jM||(jM=1,i9=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),i9}var s9,MM;function NQ(){if(MM)return s9;MM=1;var t=IQ;return s9=t.getPrototypeOf||null,s9}var y_e="Function.prototype.bind called on incompatible ",w_e=Object.prototype.toString,b_e=Math.max,v_e="[object Function]",DM=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},x_e=function(e,r){for(var n=[],i=r,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},E_e=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},__e=function(e){var r=this;if(typeof r!="function"||w_e.apply(r)!==v_e)throw new TypeError(y_e+r);for(var n=x_e(arguments,1),i,s=function(){if(this instanceof i){var u=r.apply(this,DM(n,arguments));return Object(u)===u?u:this}return r.apply(e,DM(n,arguments))},o=b_e(0,r.length-n.length),a=[],l=0;l<o;l++)a[l]="$"+l;if(i=Function("binder","return function ("+E_e(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var c=function(){};c.prototype=r.prototype,i.prototype=new c,c.prototype=null}return i},C_e=__e,yw=Function.prototype.bind||C_e,dT=Function.prototype.call,o9,LM;function fT(){return LM||(LM=1,o9=Function.prototype.apply),o9}var A_e=typeof Reflect<"u"&&Reflect&&Reflect.apply,S_e=yw,$_e=fT(),I_e=dT,k_e=A_e,PQ=k_e||S_e.call(I_e,$_e),T_e=yw,N_e=og,P_e=dT,R_e=PQ,hT=function(e){if(e.length<1||typeof e[0]!="function")throw new N_e("a function is required");return R_e(T_e,P_e,e)},a9,FM;function O_e(){if(FM)return a9;FM=1;var t=hT,e=ag,r;try{r=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var n=!!r&&e&&e(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return a9=n&&typeof n.get=="function"?t([n.get]):typeof s=="function"?function(a){return s(a==null?a:i(a))}:!1,a9}var l9,BM;function pT(){if(BM)return l9;BM=1;var t=TQ(),e=NQ(),r=O_e();return l9=t?function(i){return t(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:r?function(i){return r(i)}:null,l9}var c9,UM;function RQ(){if(UM)return c9;UM=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=yw;return c9=r.call(t,e),c9}var Wt,j_e=IQ,M_e=t_e,D_e=r_e,L_e=n_e,F_e=i_e,b1=kQ,F0=og,B_e=s_e,U_e=o_e,W_e=a_e,z_e=l_e,H_e=c_e,q_e=u_e,V_e=d_e,G_e=p_e,OQ=Function,u9=function(t){try{return OQ('"use strict"; return ('+t+").constructor;")()}catch{}},w2=ag,K_e=q4,d9=function(){throw new F0},Y_e=w2?function(){try{return arguments.callee,d9}catch{try{return w2(arguments,"callee").get}catch{return d9}}}():d9,Np=m_e()(),Yn=pT(),Z_e=NQ(),J_e=TQ(),jQ=fT(),ww=dT,Kp={},Q_e=typeof Uint8Array>"u"||!Yn?Wt:Yn(Uint8Array),ph={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Wt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Wt:ArrayBuffer,"%ArrayIteratorPrototype%":Np&&Yn?Yn([][Symbol.iterator]()):Wt,"%AsyncFromSyncIteratorPrototype%":Wt,"%AsyncFunction%":Kp,"%AsyncGenerator%":Kp,"%AsyncGeneratorFunction%":Kp,"%AsyncIteratorPrototype%":Kp,"%Atomics%":typeof Atomics>"u"?Wt:Atomics,"%BigInt%":typeof BigInt>"u"?Wt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Wt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Wt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Wt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":M_e,"%eval%":eval,"%EvalError%":D_e,"%Float16Array%":typeof Float16Array>"u"?Wt:Float16Array,"%Float32Array%":typeof Float32Array>"u"?Wt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Wt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Wt:FinalizationRegistry,"%Function%":OQ,"%GeneratorFunction%":Kp,"%Int8Array%":typeof Int8Array>"u"?Wt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Wt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Wt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Np&&Yn?Yn(Yn([][Symbol.iterator]())):Wt,"%JSON%":typeof JSON=="object"?JSON:Wt,"%Map%":typeof Map>"u"?Wt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Np||!Yn?Wt:Yn(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":j_e,"%Object.getOwnPropertyDescriptor%":w2,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Wt:Promise,"%Proxy%":typeof Proxy>"u"?Wt:Proxy,"%RangeError%":L_e,"%ReferenceError%":F_e,"%Reflect%":typeof Reflect>"u"?Wt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Wt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Np||!Yn?Wt:Yn(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Wt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Np&&Yn?Yn(""[Symbol.iterator]()):Wt,"%Symbol%":Np?Symbol:Wt,"%SyntaxError%":b1,"%ThrowTypeError%":Y_e,"%TypedArray%":Q_e,"%TypeError%":F0,"%Uint8Array%":typeof Uint8Array>"u"?Wt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Wt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Wt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Wt:Uint32Array,"%URIError%":B_e,"%WeakMap%":typeof WeakMap>"u"?Wt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Wt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Wt:WeakSet,"%Function.prototype.call%":ww,"%Function.prototype.apply%":jQ,"%Object.defineProperty%":K_e,"%Object.getPrototypeOf%":Z_e,"%Math.abs%":U_e,"%Math.floor%":W_e,"%Math.max%":z_e,"%Math.min%":H_e,"%Math.pow%":q_e,"%Math.round%":V_e,"%Math.sign%":G_e,"%Reflect.getPrototypeOf%":J_e};if(Yn)try{null.error}catch(t){var X_e=Yn(Yn(t));ph["%Error.prototype%"]=X_e}var eCe=function t(e){var r;if(e==="%AsyncFunction%")r=u9("async function () {}");else if(e==="%GeneratorFunction%")r=u9("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=u9("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Yn&&(r=Yn(i.prototype))}return ph[e]=r,r},WM={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bw=yw,P5=RQ(),tCe=bw.call(ww,Array.prototype.concat),rCe=bw.call(jQ,Array.prototype.splice),zM=bw.call(ww,String.prototype.replace),R5=bw.call(ww,String.prototype.slice),nCe=bw.call(ww,RegExp.prototype.exec),iCe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,sCe=/\\(\\)?/g,oCe=function(e){var r=R5(e,0,1),n=R5(e,-1);if(r==="%"&&n!=="%")throw new b1("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new b1("invalid intrinsic syntax, expected opening `%`");var i=[];return zM(e,iCe,function(s,o,a,l){i[i.length]=a?zM(l,sCe,"$1"):o||s}),i},aCe=function(e,r){var n=e,i;if(P5(WM,n)&&(i=WM[n],n="%"+i[0]+"%"),P5(ph,n)){var s=ph[n];if(s===Kp&&(s=eCe(n)),typeof s>"u"&&!r)throw new F0("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new b1("intrinsic "+e+" does not exist!")},MQ=function(e,r){if(typeof e!="string"||e.length===0)throw new F0("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new F0('"allowMissing" argument must be a boolean');if(nCe(/^%?[^%]*%?$/,e)===null)throw new b1("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=oCe(e),i=n.length>0?n[0]:"",s=aCe("%"+i+"%",r),o=s.name,a=s.value,l=!1,c=s.alias;c&&(i=c[0],rCe(n,tCe([0,1],c)));for(var u=1,f=!0;u<n.length;u+=1){var h=n[u],p=R5(h,0,1),g=R5(h,-1);if((p==='"'||p==="'"||p==="`"||g==='"'||g==="'"||g==="`")&&p!==g)throw new b1("property names with quotes must have matching quotes");if((h==="constructor"||!f)&&(l=!0),i+="."+h,o="%"+i+"%",P5(ph,o))a=ph[o];else if(a!=null){if(!(h in a)){if(!r)throw new F0("base intrinsic for "+e+" exists, but the property is not available.");return}if(w2&&u+1>=n.length){var m=w2(a,h);f=!!m,f&&"get"in m&&!("originalValue"in m.get)?a=m.get:a=a[h]}else f=P5(a,h),a=a[h];f&&!l&&(ph[o]=a)}}return a},DQ=MQ,LQ=hT,lCe=LQ([DQ("%String.prototype.indexOf%")]),lg=function(e,r){var n=DQ(e,!!r);return typeof n=="function"&&lCe(e,".prototype.")>-1?LQ([n]):n},cCe=H4()(),uCe=lg,LA=uCe("Object.prototype.toString"),V4=function(e){return cCe&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:LA(e)==="[object Arguments]"},FQ=function(e){return V4(e)?!0:e!==null&&typeof e=="object"&&"length"in e&&typeof e.length=="number"&&e.length>=0&&LA(e)!=="[object Array]"&&"callee"in e&&LA(e.callee)==="[object Function]"},dCe=function(){return V4(arguments)}();V4.isLegacyArguments=FQ;var fCe=dCe?V4:FQ,HM=lg,hCe=H4()(),pCe=RQ(),gCe=ag,FA;if(hCe){var mCe=HM("RegExp.prototype.exec"),qM={},f9=function(){throw qM},VM={toString:f9,valueOf:f9};typeof Symbol.toPrimitive=="symbol"&&(VM[Symbol.toPrimitive]=f9),FA=function(e){if(!e||typeof e!="object")return!1;var r=gCe(e,"lastIndex"),n=r&&pCe(r,"value");if(!n)return!1;try{mCe(e,VM)}catch(i){return i===qM}}}else{var yCe=HM("Object.prototype.toString"),wCe="[object RegExp]";FA=function(e){return!e||typeof e!="object"&&typeof e!="function"?!1:yCe(e)===wCe}}var bCe=FA,vCe=lg,xCe=bCe,ECe=vCe("RegExp.prototype.exec"),_Ce=og,CCe=function(e){if(!xCe(e))throw new _Ce("`regex` must be a RegExp");return function(n){return ECe(e,n)!==null}},h9,GM;function ACe(){if(GM)return h9;GM=1;const t=(function*(){}).constructor;return h9=()=>t,h9}var BQ=lg,SCe=CCe,$Ce=SCe(/^\s*(?:function)?\*/),ICe=H4()(),KM=pT(),kCe=BQ("Object.prototype.toString"),TCe=BQ("Function.prototype.toString"),NCe=ACe(),PCe=function(e){if(typeof e!="function")return!1;if($Ce(TCe(e)))return!0;if(!ICe){var r=kCe(e);return r==="[object GeneratorFunction]"}if(!KM)return!1;var n=NCe();return n&&KM(e)===n.prototype},p9,YM;function RCe(){if(YM)return p9;YM=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},e(function(){throw 42},null,r)}catch(E){E!==n&&(e=null)}else e=null;var i=/^\s*class\b/,s=function(v){try{var b=t.call(v);return i.test(b)}catch{return!1}},o=function(v){try{return s(v)?!1:(t.call(v),!0)}catch{return!1}},a=Object.prototype.toString,l="[object Object]",c="[object Function]",u="[object GeneratorFunction]",f="[object HTMLAllCollection]",h="[object HTML document.all class]",p="[object HTMLCollection]",g=typeof Symbol=="function"&&!!Symbol.toStringTag,m=!(0 in[,]),w=function(){return!1};if(typeof document=="object"){var y=document.all;a.call(y)===a.call(document.all)&&(w=function(v){if((m||!v)&&(typeof v>"u"||typeof v=="object"))try{var b=a.call(v);return(b===f||b===h||b===p||b===l)&&v("")==null}catch{}return!1})}return p9=e?function(v){if(w(v))return!0;if(!v||typeof v!="function"&&typeof v!="object")return!1;try{e(v,null,r)}catch(b){if(b!==n)return!1}return!s(v)&&o(v)}:function(v){if(w(v))return!0;if(!v||typeof v!="function"&&typeof v!="object")return!1;if(g)return o(v);if(s(v))return!1;var b=a.call(v);return b!==c&&b!==u&&!/^\[object HTML/.test(b)?!1:o(v)},p9}var g9,ZM;function OCe(){if(ZM)return g9;ZM=1;var t=RCe(),e=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(l,c,u){for(var f=0,h=l.length;f<h;f++)r.call(l,f)&&(u==null?c(l[f],f,l):c.call(u,l[f],f,l))},i=function(l,c,u){for(var f=0,h=l.length;f<h;f++)u==null?c(l.charAt(f),f,l):c.call(u,l.charAt(f),f,l)},s=function(l,c,u){for(var f in l)r.call(l,f)&&(u==null?c(l[f],f,l):c.call(u,l[f],f,l))};function o(a){return e.call(a)==="[object Array]"}return g9=function(l,c,u){if(!t(c))throw new TypeError("iterator must be a function");var f;arguments.length>=3&&(f=u),o(l)?n(l,c,f):typeof l=="string"?i(l,c,f):s(l,c,f)},g9}var m9,JM;function jCe(){return JM||(JM=1,m9=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),m9}var y9,QM;function MCe(){if(QM)return y9;QM=1;var t=jCe(),e=typeof globalThis>"u"?nr:globalThis;return y9=function(){for(var n=[],i=0;i<t.length;i++)typeof e[t[i]]=="function"&&(n[n.length]=t[i]);return n},y9}var w9={exports:{}},b9,XM;function DCe(){if(XM)return b9;XM=1;var t=q4,e=kQ,r=og,n=ag;return b9=function(s,o,a){if(!s||typeof s!="object"&&typeof s!="function")throw new r("`obj` must be an object or a function`");if(typeof o!="string"&&typeof o!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var l=arguments.length>3?arguments[3]:null,c=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,f=arguments.length>6?arguments[6]:!1,h=!!n&&n(s,o);if(t)t(s,o,{configurable:u===null&&h?h.configurable:!u,enumerable:l===null&&h?h.enumerable:!l,value:a,writable:c===null&&h?h.writable:!c});else if(f||!l&&!c&&!u)s[o]=a;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},b9}var v9,eD;function LCe(){if(eD)return v9;eD=1;var t=q4,e=function(){return!!t};return e.hasArrayLengthDefineBug=function(){if(!t)return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},v9=e,v9}var x9,tD;function FCe(){if(tD)return x9;tD=1;var t=MQ,e=DCe(),r=LCe()(),n=ag,i=og,s=t("%Math.floor%");return x9=function(a,l){if(typeof a!="function")throw new i("`fn` is not a function");if(typeof l!="number"||l<0||l>4294967295||s(l)!==l)throw new i("`length` must be a positive 32-bit integer");var c=arguments.length>2&&!!arguments[2],u=!0,f=!0;if("length"in a&&n){var h=n(a,"length");h&&!h.configurable&&(u=!1),h&&!h.writable&&(f=!1)}return(u||f||!c)&&(r?e(a,"length",l,!0,!0):e(a,"length",l)),a},x9}var E9,rD;function BCe(){if(rD)return E9;rD=1;var t=yw,e=fT(),r=PQ;return E9=function(){return r(t,e,arguments)},E9}var nD;function UCe(){return nD||(nD=1,function(t){var e=FCe(),r=q4,n=hT,i=BCe();t.exports=function(o){var a=n(arguments),l=o.length-(arguments.length-1);return e(a,1+(l>0?l:0),!0)},r?r(t.exports,"apply",{value:i}):t.exports.apply=i}(w9)),w9.exports}var _9,iD;function UQ(){if(iD)return _9;iD=1;var t=OCe(),e=MCe(),r=UCe(),n=lg,i=ag,s=pT(),o=n("Object.prototype.toString"),a=H4()(),l=typeof globalThis>"u"?nr:globalThis,c=e(),u=n("String.prototype.slice"),f=n("Array.prototype.indexOf",!0)||function(w,y){for(var E=0;E<w.length;E+=1)if(w[E]===y)return E;return-1},h={__proto__:null};a&&i&&s?t(c,function(m){var w=new l[m];if(Symbol.toStringTag in w&&s){var y=s(w),E=i(y,Symbol.toStringTag);if(!E&&y){var v=s(y);E=i(v,Symbol.toStringTag)}h["$"+m]=r(E.get)}}):t(c,function(m){var w=new l[m],y=w.slice||w.set;y&&(h["$"+m]=r(y))});var p=function(w){var y=!1;return t(h,function(E,v){if(!y)try{"$"+E(w)===v&&(y=u(v,1))}catch{}}),y},g=function(w){var y=!1;return t(h,function(E,v){if(!y)try{E(w),y=u(v,1)}catch{}}),y};return _9=function(w){if(!w||typeof w!="object")return!1;if(!a){var y=u(o(w),8,-1);return f(c,y)>-1?y:y!=="Object"?!1:g(w)}return i?p(w):null},_9}var C9,sD;function WQ(){if(sD)return C9;sD=1;var t=UQ();return C9=function(r){return!!t(r)},C9}(function(t){var e=fCe,r=PCe,n=UQ(),i=WQ();function s(xe){return xe.call.bind(xe)}var o=typeof BigInt<"u",a=typeof Symbol<"u",l=s(Object.prototype.toString),c=s(Number.prototype.valueOf),u=s(String.prototype.valueOf),f=s(Boolean.prototype.valueOf);if(o)var h=s(BigInt.prototype.valueOf);if(a)var p=s(Symbol.prototype.valueOf);function g(xe,he){if(typeof xe!="object")return!1;try{return he(xe),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=i;function m(xe){return typeof Promise<"u"&&xe instanceof Promise||xe!==null&&typeof xe=="object"&&typeof xe.then=="function"&&typeof xe.catch=="function"}t.isPromise=m;function w(xe){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(xe):i(xe)||F(xe)}t.isArrayBufferView=w;function y(xe){return n(xe)==="Uint8Array"}t.isUint8Array=y;function E(xe){return n(xe)==="Uint8ClampedArray"}t.isUint8ClampedArray=E;function v(xe){return n(xe)==="Uint16Array"}t.isUint16Array=v;function b(xe){return n(xe)==="Uint32Array"}t.isUint32Array=b;function $(xe){return n(xe)==="Int8Array"}t.isInt8Array=$;function P(xe){return n(xe)==="Int16Array"}t.isInt16Array=P;function O(xe){return n(xe)==="Int32Array"}t.isInt32Array=O;function D(xe){return n(xe)==="Float32Array"}t.isFloat32Array=D;function B(xe){return n(xe)==="Float64Array"}t.isFloat64Array=B;function H(xe){return n(xe)==="BigInt64Array"}t.isBigInt64Array=H;function q(xe){return n(xe)==="BigUint64Array"}t.isBigUint64Array=q;function Y(xe){return l(xe)==="[object Map]"}Y.working=typeof Map<"u"&&Y(new Map);function R(xe){return typeof Map>"u"?!1:Y.working?Y(xe):xe instanceof Map}t.isMap=R;function _(xe){return l(xe)==="[object Set]"}_.working=typeof Set<"u"&&_(new Set);function x(xe){return typeof Set>"u"?!1:_.working?_(xe):xe instanceof Set}t.isSet=x;function A(xe){return l(xe)==="[object WeakMap]"}A.working=typeof WeakMap<"u"&&A(new WeakMap);function T(xe){return typeof WeakMap>"u"?!1:A.working?A(xe):xe instanceof WeakMap}t.isWeakMap=T;function I(xe){return l(xe)==="[object WeakSet]"}I.working=typeof WeakSet<"u"&&I(new WeakSet);function N(xe){return I(xe)}t.isWeakSet=N;function M(xe){return l(xe)==="[object ArrayBuffer]"}M.working=typeof ArrayBuffer<"u"&&M(new ArrayBuffer);function U(xe){return typeof ArrayBuffer>"u"?!1:M.working?M(xe):xe instanceof ArrayBuffer}t.isArrayBuffer=U;function S(xe){return l(xe)==="[object DataView]"}S.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&S(new DataView(new ArrayBuffer(1),0,1));function F(xe){return typeof DataView>"u"?!1:S.working?S(xe):xe instanceof DataView}t.isDataView=F;var Q=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function k(xe){return l(xe)==="[object SharedArrayBuffer]"}function W(xe){return typeof Q>"u"?!1:(typeof k.working>"u"&&(k.working=k(new Q)),k.working?k(xe):xe instanceof Q)}t.isSharedArrayBuffer=W;function V(xe){return l(xe)==="[object AsyncFunction]"}t.isAsyncFunction=V;function ee(xe){return l(xe)==="[object Map Iterator]"}t.isMapIterator=ee;function te(xe){return l(xe)==="[object Set Iterator]"}t.isSetIterator=te;function ce(xe){return l(xe)==="[object Generator]"}t.isGeneratorObject=ce;function K(xe){return l(xe)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=K;function G(xe){return g(xe,c)}t.isNumberObject=G;function pe(xe){return g(xe,u)}t.isStringObject=pe;function de(xe){return g(xe,f)}t.isBooleanObject=de;function ye(xe){return o&&g(xe,h)}t.isBigIntObject=ye;function Ne(xe){return a&&g(xe,p)}t.isSymbolObject=Ne;function je(xe){return G(xe)||pe(xe)||de(xe)||ye(xe)||Ne(xe)}t.isBoxedPrimitive=je;function Qe(xe){return typeof Uint8Array<"u"&&(U(xe)||W(xe))}t.isAnyArrayBuffer=Qe,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(xe){Object.defineProperty(t,xe,{enumerable:!1,value:function(){throw new Error(xe+" is not supported in userland")}})})})(SQ);var WCe=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"};(function(t){var e={},r=Object.getOwnPropertyDescriptors||function(Q){for(var k=Object.keys(Q),W={},V=0;V<k.length;V++)W[k[V]]=Object.getOwnPropertyDescriptor(Q,k[V]);return W},n=/%[sdj%]/g;t.format=function(F){if(!P(F)){for(var Q=[],k=0;k<arguments.length;k++)Q.push(a(arguments[k]));return Q.join(" ")}for(var k=1,W=arguments,V=W.length,ee=String(F).replace(n,function(ce){if(ce==="%%")return"%";if(k>=V)return ce;switch(ce){case"%s":return String(W[k++]);case"%d":return Number(W[k++]);case"%j":try{return JSON.stringify(W[k++])}catch{return"[Circular]"}default:return ce}}),te=W[k];k<V;te=W[++k])v(te)||!H(te)?ee+=" "+te:ee+=" "+a(te);return ee},t.deprecate=function(F,Q){if(typeof mt<"u"&&mt.noDeprecation===!0)return F;if(typeof mt>"u")return function(){return t.deprecate(F,Q).apply(this,arguments)};var k=!1;function W(){if(!k){if(mt.throwDeprecation)throw new Error(Q);mt.traceDeprecation?console.trace(Q):console.error(Q),k=!0}return F.apply(this,arguments)}return W};var i={},s=/^$/;if(e.NODE_DEBUG){var o=e.NODE_DEBUG;o=o.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),s=new RegExp("^"+o+"$","i")}t.debuglog=function(F){if(F=F.toUpperCase(),!i[F])if(s.test(F)){var Q=mt.pid;i[F]=function(){var k=t.format.apply(t,arguments);console.error("%s %d: %s",F,Q,k)}}else i[F]=function(){};return i[F]};function a(F,Q){var k={seen:[],stylize:c};return arguments.length>=3&&(k.depth=arguments[2]),arguments.length>=4&&(k.colors=arguments[3]),E(Q)?k.showHidden=Q:Q&&t._extend(k,Q),D(k.showHidden)&&(k.showHidden=!1),D(k.depth)&&(k.depth=2),D(k.colors)&&(k.colors=!1),D(k.customInspect)&&(k.customInspect=!0),k.colors&&(k.stylize=l),f(k,F,k.depth)}t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function l(F,Q){var k=a.styles[Q];return k?"\x1B["+a.colors[k][0]+"m"+F+"\x1B["+a.colors[k][1]+"m":F}function c(F,Q){return F}function u(F){var Q={};return F.forEach(function(k,W){Q[k]=!0}),Q}function f(F,Q,k){if(F.customInspect&&Q&&R(Q.inspect)&&Q.inspect!==t.inspect&&!(Q.constructor&&Q.constructor.prototype===Q)){var W=Q.inspect(k,F);return P(W)||(W=f(F,W,k)),W}var V=h(F,Q);if(V)return V;var ee=Object.keys(Q),te=u(ee);if(F.showHidden&&(ee=Object.getOwnPropertyNames(Q)),Y(Q)&&(ee.indexOf("message")>=0||ee.indexOf("description")>=0))return p(Q);if(ee.length===0){if(R(Q)){var ce=Q.name?": "+Q.name:"";return F.stylize("[Function"+ce+"]","special")}if(B(Q))return F.stylize(RegExp.prototype.toString.call(Q),"regexp");if(q(Q))return F.stylize(Date.prototype.toString.call(Q),"date");if(Y(Q))return p(Q)}var K="",G=!1,pe=["{","}"];if(y(Q)&&(G=!0,pe=["[","]"]),R(Q)){var de=Q.name?": "+Q.name:"";K=" [Function"+de+"]"}if(B(Q)&&(K=" "+RegExp.prototype.toString.call(Q)),q(Q)&&(K=" "+Date.prototype.toUTCString.call(Q)),Y(Q)&&(K=" "+p(Q)),ee.length===0&&(!G||Q.length==0))return pe[0]+K+pe[1];if(k<0)return B(Q)?F.stylize(RegExp.prototype.toString.call(Q),"regexp"):F.stylize("[Object]","special");F.seen.push(Q);var ye;return G?ye=g(F,Q,k,te,ee):ye=ee.map(function(Ne){return m(F,Q,k,te,Ne,G)}),F.seen.pop(),w(ye,K,pe)}function h(F,Q){if(D(Q))return F.stylize("undefined","undefined");if(P(Q)){var k="'"+JSON.stringify(Q).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return F.stylize(k,"string")}if($(Q))return F.stylize(""+Q,"number");if(E(Q))return F.stylize(""+Q,"boolean");if(v(Q))return F.stylize("null","null")}function p(F){return"["+Error.prototype.toString.call(F)+"]"}function g(F,Q,k,W,V){for(var ee=[],te=0,ce=Q.length;te<ce;++te)N(Q,String(te))?ee.push(m(F,Q,k,W,String(te),!0)):ee.push("");return V.forEach(function(K){K.match(/^\d+$/)||ee.push(m(F,Q,k,W,K,!0))}),ee}function m(F,Q,k,W,V,ee){var te,ce,K;if(K=Object.getOwnPropertyDescriptor(Q,V)||{value:Q[V]},K.get?K.set?ce=F.stylize("[Getter/Setter]","special"):ce=F.stylize("[Getter]","special"):K.set&&(ce=F.stylize("[Setter]","special")),N(W,V)||(te="["+V+"]"),ce||(F.seen.indexOf(K.value)<0?(v(k)?ce=f(F,K.value,null):ce=f(F,K.value,k-1),ce.indexOf(`
`)>-1&&(ee?ce=ce.split(`
`).map(function(G){return"  "+G}).join(`
`).slice(2):ce=`
`+ce.split(`
`).map(function(G){return"   "+G}).join(`
`))):ce=F.stylize("[Circular]","special")),D(te)){if(ee&&V.match(/^\d+$/))return ce;te=JSON.stringify(""+V),te.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(te=te.slice(1,-1),te=F.stylize(te,"name")):(te=te.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),te=F.stylize(te,"string"))}return te+": "+ce}function w(F,Q,k){var W=F.reduce(function(V,ee){return ee.indexOf(`
`)>=0,V+ee.replace(/\u001b\[\d\d?m/g,"").length+1},0);return W>60?k[0]+(Q===""?"":Q+`
 `)+" "+F.join(`,
  `)+" "+k[1]:k[0]+Q+" "+F.join(", ")+" "+k[1]}t.types=SQ;function y(F){return Array.isArray(F)}t.isArray=y;function E(F){return typeof F=="boolean"}t.isBoolean=E;function v(F){return F===null}t.isNull=v;function b(F){return F==null}t.isNullOrUndefined=b;function $(F){return typeof F=="number"}t.isNumber=$;function P(F){return typeof F=="string"}t.isString=P;function O(F){return typeof F=="symbol"}t.isSymbol=O;function D(F){return F===void 0}t.isUndefined=D;function B(F){return H(F)&&x(F)==="[object RegExp]"}t.isRegExp=B,t.types.isRegExp=B;function H(F){return typeof F=="object"&&F!==null}t.isObject=H;function q(F){return H(F)&&x(F)==="[object Date]"}t.isDate=q,t.types.isDate=q;function Y(F){return H(F)&&(x(F)==="[object Error]"||F instanceof Error)}t.isError=Y,t.types.isNativeError=Y;function R(F){return typeof F=="function"}t.isFunction=R;function _(F){return F===null||typeof F=="boolean"||typeof F=="number"||typeof F=="string"||typeof F=="symbol"||typeof F>"u"}t.isPrimitive=_,t.isBuffer=WCe;function x(F){return Object.prototype.toString.call(F)}function A(F){return F<10?"0"+F.toString(10):F.toString(10)}var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function I(){var F=new Date,Q=[A(F.getHours()),A(F.getMinutes()),A(F.getSeconds())].join(":");return[F.getDate(),T[F.getMonth()],Q].join(" ")}t.log=function(){console.log("%s - %s",I(),t.format.apply(t,arguments))},t.inherits=Po,t._extend=function(F,Q){if(!Q||!H(Q))return F;for(var k=Object.keys(Q),W=k.length;W--;)F[k[W]]=Q[k[W]];return F};function N(F,Q){return Object.prototype.hasOwnProperty.call(F,Q)}var M=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(Q){if(typeof Q!="function")throw new TypeError('The "original" argument must be of type Function');if(M&&Q[M]){var k=Q[M];if(typeof k!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(k,M,{value:k,enumerable:!1,writable:!1,configurable:!0}),k}function k(){for(var W,V,ee=new Promise(function(K,G){W=K,V=G}),te=[],ce=0;ce<arguments.length;ce++)te.push(arguments[ce]);te.push(function(K,G){K?V(K):W(G)});try{Q.apply(this,te)}catch(K){V(K)}return ee}return Object.setPrototypeOf(k,Object.getPrototypeOf(Q)),M&&Object.defineProperty(k,M,{value:k,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(k,r(Q))},t.promisify.custom=M;function U(F,Q){if(!F){var k=new Error("Promise was rejected with a falsy value");k.reason=F,F=k}return Q(F)}function S(F){if(typeof F!="function")throw new TypeError('The "original" argument must be of type Function');function Q(){for(var k=[],W=0;W<arguments.length;W++)k.push(arguments[W]);var V=k.pop();if(typeof V!="function")throw new TypeError("The last argument must be of type Function");var ee=this,te=function(){return V.apply(ee,arguments)};F.apply(this,k).then(function(ce){mt.nextTick(te.bind(null,null,ce))},function(ce){mt.nextTick(U.bind(null,ce,te))})}return Object.setPrototypeOf(Q,Object.getPrototypeOf(F)),Object.defineProperties(Q,r(F)),Q}t.callbackify=S})(uT);var A9,oD;function zCe(){if(oD)return A9;oD=1;function t(g,m){var w=Object.keys(g);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(g);m&&(y=y.filter(function(E){return Object.getOwnPropertyDescriptor(g,E).enumerable})),w.push.apply(w,y)}return w}function e(g){for(var m=1;m<arguments.length;m++){var w=arguments[m]!=null?arguments[m]:{};m%2?t(Object(w),!0).forEach(function(y){r(g,y,w[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(w)):t(Object(w)).forEach(function(y){Object.defineProperty(g,y,Object.getOwnPropertyDescriptor(w,y))})}return g}function r(g,m,w){return m=o(m),m in g?Object.defineProperty(g,m,{value:w,enumerable:!0,configurable:!0,writable:!0}):g[m]=w,g}function n(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function i(g,m){for(var w=0;w<m.length;w++){var y=m[w];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,o(y.key),y)}}function s(g,m,w){return m&&i(g.prototype,m),Object.defineProperty(g,"prototype",{writable:!1}),g}function o(g){var m=a(g,"string");return typeof m=="symbol"?m:String(m)}function a(g,m){if(typeof g!="object"||g===null)return g;var w=g[Symbol.toPrimitive];if(w!==void 0){var y=w.call(g,m);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(g)}var l=q2,c=l.Buffer,u=uT,f=u.inspect,h=f&&f.custom||"inspect";function p(g,m,w){c.prototype.copy.call(g,m,w)}return A9=function(){function g(){n(this,g),this.head=null,this.tail=null,this.length=0}return s(g,[{key:"push",value:function(w){var y={data:w,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}},{key:"unshift",value:function(w){var y={data:w,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}},{key:"shift",value:function(){if(this.length!==0){var w=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,w}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(w){if(this.length===0)return"";for(var y=this.head,E=""+y.data;y=y.next;)E+=w+y.data;return E}},{key:"concat",value:function(w){if(this.length===0)return c.alloc(0);for(var y=c.allocUnsafe(w>>>0),E=this.head,v=0;E;)p(E.data,y,v),v+=E.data.length,E=E.next;return y}},{key:"consume",value:function(w,y){var E;return w<this.head.data.length?(E=this.head.data.slice(0,w),this.head.data=this.head.data.slice(w)):w===this.head.data.length?E=this.shift():E=y?this._getString(w):this._getBuffer(w),E}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(w){var y=this.head,E=1,v=y.data;for(w-=v.length;y=y.next;){var b=y.data,$=w>b.length?b.length:w;if($===b.length?v+=b:v+=b.slice(0,w),w-=$,w===0){$===b.length?(++E,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=b.slice($));break}++E}return this.length-=E,v}},{key:"_getBuffer",value:function(w){var y=c.allocUnsafe(w),E=this.head,v=1;for(E.data.copy(y),w-=E.data.length;E=E.next;){var b=E.data,$=w>b.length?b.length:w;if(b.copy(y,y.length-w,0,$),w-=$,w===0){$===b.length?(++v,E.next?this.head=E.next:this.head=this.tail=null):(this.head=E,E.data=b.slice($));break}++v}return this.length-=v,y}},{key:h,value:function(w,y){return f(this,e(e({},y),{},{depth:0,customInspect:!1}))}}]),g}(),A9}function HCe(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,mt.nextTick(BA,this,t)):mt.nextTick(BA,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?mt.nextTick(c3,r):(r._writableState.errorEmitted=!0,mt.nextTick(aD,r,s)):mt.nextTick(aD,r,s):e?(mt.nextTick(c3,r),e(s)):mt.nextTick(c3,r)}),this)}function aD(t,e){BA(t,e),c3(t)}function c3(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function qCe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function BA(t,e){t.emit("error",e)}function VCe(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var zQ={destroy:HCe,undestroy:qCe,errorOrDestroy:VCe},ap={};function GCe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var HQ={};function xa(t,e,r){r||(r=Error);function n(s,o,a){return typeof e=="string"?e:e(s,o,a)}var i=function(s){GCe(o,s);function o(a,l,c){return s.call(this,n(a,l,c))||this}return o}(r);i.prototype.name=r.name,i.prototype.code=t,HQ[t]=i}function lD(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function KCe(t,e,r){return t.substr(0,e.length)===e}function YCe(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function ZCe(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}xa("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);xa("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&KCe(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(YCe(t," argument"))i="The ".concat(t," ").concat(n," ").concat(lD(e,"type"));else{var s=ZCe(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(lD(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);xa("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");xa("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});xa("ERR_STREAM_PREMATURE_CLOSE","Premature close");xa("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});xa("ERR_MULTIPLE_CALLBACK","Callback called multiple times");xa("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");xa("ERR_STREAM_WRITE_AFTER_END","write after end");xa("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);xa("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);xa("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");ap.codes=HQ;var JCe=ap.codes.ERR_INVALID_OPT_VALUE;function QCe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function XCe(t,e,r,n){var i=QCe(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new JCe(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var qQ={getHighWaterMark:XCe},eAe=tAe;function tAe(t,e){if(S9("noDeprecation"))return t;var r=!1;function n(){if(!r){if(S9("throwDeprecation"))throw new Error(e);S9("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function S9(t){try{if(!nr.localStorage)return!1}catch{return!1}var e=nr.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var $9,cD;function VQ(){if(cD)return $9;cD=1,$9=D;function t(W){var V=this;this.next=null,this.entry=null,this.finish=function(){k(V,W)}}var e;D.WritableState=P;var r={deprecate:eAe},n=AQ,i=q2.Buffer,s=(typeof nr<"u"?nr:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(W){return i.from(W)}function a(W){return i.isBuffer(W)||W instanceof s}var l=zQ,c=qQ,u=c.getHighWaterMark,f=ap.codes,h=f.ERR_INVALID_ARG_TYPE,p=f.ERR_METHOD_NOT_IMPLEMENTED,g=f.ERR_MULTIPLE_CALLBACK,m=f.ERR_STREAM_CANNOT_PIPE,w=f.ERR_STREAM_DESTROYED,y=f.ERR_STREAM_NULL_VALUES,E=f.ERR_STREAM_WRITE_AFTER_END,v=f.ERR_UNKNOWN_ENCODING,b=l.errorOrDestroy;Po(D,n);function $(){}function P(W,V,ee){e=e||v1(),W=W||{},typeof ee!="boolean"&&(ee=V instanceof e),this.objectMode=!!W.objectMode,ee&&(this.objectMode=this.objectMode||!!W.writableObjectMode),this.highWaterMark=u(this,W,"writableHighWaterMark",ee),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var te=W.decodeStrings===!1;this.decodeStrings=!te,this.defaultEncoding=W.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ce){A(V,ce)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=W.emitClose!==!1,this.autoDestroy=!!W.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}P.prototype.getBuffer=function(){for(var V=this.bufferedRequest,ee=[];V;)ee.push(V),V=V.next;return ee},function(){try{Object.defineProperty(P.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var O;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(O=Function.prototype[Symbol.hasInstance],Object.defineProperty(D,Symbol.hasInstance,{value:function(V){return O.call(this,V)?!0:this!==D?!1:V&&V._writableState instanceof P}})):O=function(V){return V instanceof this};function D(W){e=e||v1();var V=this instanceof e;if(!V&&!O.call(D,this))return new D(W);this._writableState=new P(W,this,V),this.writable=!0,W&&(typeof W.write=="function"&&(this._write=W.write),typeof W.writev=="function"&&(this._writev=W.writev),typeof W.destroy=="function"&&(this._destroy=W.destroy),typeof W.final=="function"&&(this._final=W.final)),n.call(this)}D.prototype.pipe=function(){b(this,new m)};function B(W,V){var ee=new E;b(W,ee),mt.nextTick(V,ee)}function H(W,V,ee,te){var ce;return ee===null?ce=new y:typeof ee!="string"&&!V.objectMode&&(ce=new h("chunk",["string","Buffer"],ee)),ce?(b(W,ce),mt.nextTick(te,ce),!1):!0}D.prototype.write=function(W,V,ee){var te=this._writableState,ce=!1,K=!te.objectMode&&a(W);return K&&!i.isBuffer(W)&&(W=o(W)),typeof V=="function"&&(ee=V,V=null),K?V="buffer":V||(V=te.defaultEncoding),typeof ee!="function"&&(ee=$),te.ending?B(this,ee):(K||H(this,te,W,ee))&&(te.pendingcb++,ce=Y(this,te,K,W,V,ee)),ce},D.prototype.cork=function(){this._writableState.corked++},D.prototype.uncork=function(){var W=this._writableState;W.corked&&(W.corked--,!W.writing&&!W.corked&&!W.bufferProcessing&&W.bufferedRequest&&N(this,W))},D.prototype.setDefaultEncoding=function(V){if(typeof V=="string"&&(V=V.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((V+"").toLowerCase())>-1))throw new v(V);return this._writableState.defaultEncoding=V,this},Object.defineProperty(D.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function q(W,V,ee){return!W.objectMode&&W.decodeStrings!==!1&&typeof V=="string"&&(V=i.from(V,ee)),V}Object.defineProperty(D.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Y(W,V,ee,te,ce,K){if(!ee){var G=q(V,te,ce);te!==G&&(ee=!0,ce="buffer",te=G)}var pe=V.objectMode?1:te.length;V.length+=pe;var de=V.length<V.highWaterMark;if(de||(V.needDrain=!0),V.writing||V.corked){var ye=V.lastBufferedRequest;V.lastBufferedRequest={chunk:te,encoding:ce,isBuf:ee,callback:K,next:null},ye?ye.next=V.lastBufferedRequest:V.bufferedRequest=V.lastBufferedRequest,V.bufferedRequestCount+=1}else R(W,V,!1,pe,te,ce,K);return de}function R(W,V,ee,te,ce,K,G){V.writelen=te,V.writecb=G,V.writing=!0,V.sync=!0,V.destroyed?V.onwrite(new w("write")):ee?W._writev(ce,V.onwrite):W._write(ce,K,V.onwrite),V.sync=!1}function _(W,V,ee,te,ce){--V.pendingcb,ee?(mt.nextTick(ce,te),mt.nextTick(F,W,V),W._writableState.errorEmitted=!0,b(W,te)):(ce(te),W._writableState.errorEmitted=!0,b(W,te),F(W,V))}function x(W){W.writing=!1,W.writecb=null,W.length-=W.writelen,W.writelen=0}function A(W,V){var ee=W._writableState,te=ee.sync,ce=ee.writecb;if(typeof ce!="function")throw new g;if(x(ee),V)_(W,ee,te,V,ce);else{var K=M(ee)||W.destroyed;!K&&!ee.corked&&!ee.bufferProcessing&&ee.bufferedRequest&&N(W,ee),te?mt.nextTick(T,W,ee,K,ce):T(W,ee,K,ce)}}function T(W,V,ee,te){ee||I(W,V),V.pendingcb--,te(),F(W,V)}function I(W,V){V.length===0&&V.needDrain&&(V.needDrain=!1,W.emit("drain"))}function N(W,V){V.bufferProcessing=!0;var ee=V.bufferedRequest;if(W._writev&&ee&&ee.next){var te=V.bufferedRequestCount,ce=new Array(te),K=V.corkedRequestsFree;K.entry=ee;for(var G=0,pe=!0;ee;)ce[G]=ee,ee.isBuf||(pe=!1),ee=ee.next,G+=1;ce.allBuffers=pe,R(W,V,!0,V.length,ce,"",K.finish),V.pendingcb++,V.lastBufferedRequest=null,K.next?(V.corkedRequestsFree=K.next,K.next=null):V.corkedRequestsFree=new t(V),V.bufferedRequestCount=0}else{for(;ee;){var de=ee.chunk,ye=ee.encoding,Ne=ee.callback,je=V.objectMode?1:de.length;if(R(W,V,!1,je,de,ye,Ne),ee=ee.next,V.bufferedRequestCount--,V.writing)break}ee===null&&(V.lastBufferedRequest=null)}V.bufferedRequest=ee,V.bufferProcessing=!1}D.prototype._write=function(W,V,ee){ee(new p("_write()"))},D.prototype._writev=null,D.prototype.end=function(W,V,ee){var te=this._writableState;return typeof W=="function"?(ee=W,W=null,V=null):typeof V=="function"&&(ee=V,V=null),W!=null&&this.write(W,V),te.corked&&(te.corked=1,this.uncork()),te.ending||Q(this,te,ee),this},Object.defineProperty(D.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function M(W){return W.ending&&W.length===0&&W.bufferedRequest===null&&!W.finished&&!W.writing}function U(W,V){W._final(function(ee){V.pendingcb--,ee&&b(W,ee),V.prefinished=!0,W.emit("prefinish"),F(W,V)})}function S(W,V){!V.prefinished&&!V.finalCalled&&(typeof W._final=="function"&&!V.destroyed?(V.pendingcb++,V.finalCalled=!0,mt.nextTick(U,W,V)):(V.prefinished=!0,W.emit("prefinish")))}function F(W,V){var ee=M(V);if(ee&&(S(W,V),V.pendingcb===0&&(V.finished=!0,W.emit("finish"),V.autoDestroy))){var te=W._readableState;(!te||te.autoDestroy&&te.endEmitted)&&W.destroy()}return ee}function Q(W,V,ee){V.ending=!0,F(W,V),ee&&(V.finished?mt.nextTick(ee):W.once("finish",ee)),V.ended=!0,W.writable=!1}function k(W,V,ee){var te=W.entry;for(W.entry=null;te;){var ce=te.callback;V.pendingcb--,ce(ee),te=te.next}V.corkedRequestsFree.next=W}return Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(V){this._writableState&&(this._writableState.destroyed=V)}}),D.prototype.destroy=l.destroy,D.prototype._undestroy=l.undestroy,D.prototype._destroy=function(W,V){V(W)},$9}var I9,uD;function v1(){if(uD)return I9;uD=1;var t=Object.keys||function(c){var u=[];for(var f in c)u.push(f);return u};I9=o;var e=KQ(),r=VQ();Po(o,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var s=n[i];o.prototype[s]||(o.prototype[s]=r.prototype[s])}function o(c){if(!(this instanceof o))return new o(c);e.call(this,c),r.call(this,c),this.allowHalfOpen=!0,c&&(c.readable===!1&&(this.readable=!1),c.writable===!1&&(this.writable=!1),c.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||mt.nextTick(l,this)}function l(c){c.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(u){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=u,this._writableState.destroyed=u)}}),I9}var k9={},UA={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=q2,n=r.Buffer;function i(o,a){for(var l in o)a[l]=o[l]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,a,l){return n(o,a,l)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,a,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,l)},s.alloc=function(o,a,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=n(o);return a!==void 0?typeof l=="string"?c.fill(a,l):c.fill(a):c.fill(0),c},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(UA,UA.exports);var Gu=UA.exports,dD;function fD(){if(dD)return k9;dD=1;var t=Gu.Buffer,e=t.isEncoding||function(y){switch(y=""+y,y&&y.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(y){if(!y)return"utf8";for(var E;;)switch(y){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return y;default:if(E)return;y=(""+y).toLowerCase(),E=!0}}function n(y){var E=r(y);if(typeof E!="string"&&(t.isEncoding===e||!e(y)))throw new Error("Unknown encoding: "+y);return E||y}k9.StringDecoder=i;function i(y){this.encoding=n(y);var E;switch(this.encoding){case"utf16le":this.text=f,this.end=h,E=4;break;case"utf8":this.fillLast=l,E=4;break;case"base64":this.text=p,this.end=g,E=3;break;default:this.write=m,this.end=w;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(E)}i.prototype.write=function(y){if(y.length===0)return"";var E,v;if(this.lastNeed){if(E=this.fillLast(y),E===void 0)return"";v=this.lastNeed,this.lastNeed=0}else v=0;return v<y.length?E?E+this.text(y,v):this.text(y,v):E||""},i.prototype.end=u,i.prototype.text=c,i.prototype.fillLast=function(y){if(this.lastNeed<=y.length)return y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,y.length),this.lastNeed-=y.length};function s(y){return y<=127?0:y>>5===6?2:y>>4===14?3:y>>3===30?4:y>>6===2?-1:-2}function o(y,E,v){var b=E.length-1;if(b<v)return 0;var $=s(E[b]);return $>=0?($>0&&(y.lastNeed=$-1),$):--b<v||$===-2?0:($=s(E[b]),$>=0?($>0&&(y.lastNeed=$-2),$):--b<v||$===-2?0:($=s(E[b]),$>=0?($>0&&($===2?$=0:y.lastNeed=$-3),$):0))}function a(y,E,v){if((E[0]&192)!==128)return y.lastNeed=0,"";if(y.lastNeed>1&&E.length>1){if((E[1]&192)!==128)return y.lastNeed=1,"";if(y.lastNeed>2&&E.length>2&&(E[2]&192)!==128)return y.lastNeed=2,""}}function l(y){var E=this.lastTotal-this.lastNeed,v=a(this,y);if(v!==void 0)return v;if(this.lastNeed<=y.length)return y.copy(this.lastChar,E,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,E,0,y.length),this.lastNeed-=y.length}function c(y,E){var v=o(this,y,E);if(!this.lastNeed)return y.toString("utf8",E);this.lastTotal=v;var b=y.length-(v-this.lastNeed);return y.copy(this.lastChar,0,b),y.toString("utf8",E,b)}function u(y){var E=y&&y.length?this.write(y):"";return this.lastNeed?E+"":E}function f(y,E){if((y.length-E)%2===0){var v=y.toString("utf16le",E);if(v){var b=v.charCodeAt(v.length-1);if(b>=55296&&b<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1],v.slice(0,-1)}return v}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=y[y.length-1],y.toString("utf16le",E,y.length-1)}function h(y){var E=y&&y.length?this.write(y):"";if(this.lastNeed){var v=this.lastTotal-this.lastNeed;return E+this.lastChar.toString("utf16le",0,v)}return E}function p(y,E){var v=(y.length-E)%3;return v===0?y.toString("base64",E):(this.lastNeed=3-v,this.lastTotal=3,v===1?this.lastChar[0]=y[y.length-1]:(this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1]),y.toString("base64",E,y.length-v))}function g(y){var E=y&&y.length?this.write(y):"";return this.lastNeed?E+this.lastChar.toString("base64",0,3-this.lastNeed):E}function m(y){return y.toString(this.encoding)}function w(y){return y&&y.length?this.write(y):""}return k9}var hD=ap.codes.ERR_STREAM_PREMATURE_CLOSE;function rAe(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function nAe(){}function iAe(t){return t.setHeader&&typeof t.abort=="function"}function GQ(t,e,r){if(typeof e=="function")return GQ(t,null,e);e||(e={}),r=rAe(r||nAe);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){i=!1,o=!0,n||r.call(t)},l=t._readableState&&t._readableState.endEmitted,c=function(){n=!1,l=!0,i||r.call(t)},u=function(g){r.call(t,g)},f=function(){var g;if(n&&!l)return(!t._readableState||!t._readableState.ended)&&(g=new hD),r.call(t,g);if(i&&!o)return(!t._writableState||!t._writableState.ended)&&(g=new hD),r.call(t,g)},h=function(){t.req.on("finish",a)};return iAe(t)?(t.on("complete",a),t.on("abort",f),t.req?h():t.on("request",h)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",c),t.on("finish",a),e.error!==!1&&t.on("error",u),t.on("close",f),function(){t.removeListener("complete",a),t.removeListener("abort",f),t.removeListener("request",h),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",c),t.removeListener("error",u),t.removeListener("close",f)}}var gT=GQ,T9,pD;function sAe(){if(pD)return T9;pD=1;var t;function e(v,b,$){return b=r(b),b in v?Object.defineProperty(v,b,{value:$,enumerable:!0,configurable:!0,writable:!0}):v[b]=$,v}function r(v){var b=n(v,"string");return typeof b=="symbol"?b:String(b)}function n(v,b){if(typeof v!="object"||v===null)return v;var $=v[Symbol.toPrimitive];if($!==void 0){var P=$.call(v,b);if(typeof P!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(v)}var i=gT,s=Symbol("lastResolve"),o=Symbol("lastReject"),a=Symbol("error"),l=Symbol("ended"),c=Symbol("lastPromise"),u=Symbol("handlePromise"),f=Symbol("stream");function h(v,b){return{value:v,done:b}}function p(v){var b=v[s];if(b!==null){var $=v[f].read();$!==null&&(v[c]=null,v[s]=null,v[o]=null,b(h($,!1)))}}function g(v){mt.nextTick(p,v)}function m(v,b){return function($,P){v.then(function(){if(b[l]){$(h(void 0,!0));return}b[u]($,P)},P)}}var w=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((t={get stream(){return this[f]},next:function(){var b=this,$=this[a];if($!==null)return Promise.reject($);if(this[l])return Promise.resolve(h(void 0,!0));if(this[f].destroyed)return new Promise(function(B,H){mt.nextTick(function(){b[a]?H(b[a]):B(h(void 0,!0))})});var P=this[c],O;if(P)O=new Promise(m(P,this));else{var D=this[f].read();if(D!==null)return Promise.resolve(h(D,!1));O=new Promise(this[u])}return this[c]=O,O}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var b=this;return new Promise(function($,P){b[f].destroy(null,function(O){if(O){P(O);return}$(h(void 0,!0))})})}),t),w),E=function(b){var $,P=Object.create(y,($={},e($,f,{value:b,writable:!0}),e($,s,{value:null,writable:!0}),e($,o,{value:null,writable:!0}),e($,a,{value:null,writable:!0}),e($,l,{value:b._readableState.endEmitted,writable:!0}),e($,u,{value:function(D,B){var H=P[f].read();H?(P[c]=null,P[s]=null,P[o]=null,D(h(H,!1))):(P[s]=D,P[o]=B)},writable:!0}),$));return P[c]=null,i(b,function(O){if(O&&O.code!=="ERR_STREAM_PREMATURE_CLOSE"){var D=P[o];D!==null&&(P[c]=null,P[s]=null,P[o]=null,D(O)),P[a]=O;return}var B=P[s];B!==null&&(P[c]=null,P[s]=null,P[o]=null,B(h(void 0,!0))),P[l]=!0}),b.on("readable",g.bind(null,P)),P};return T9=E,T9}var N9,gD;function oAe(){return gD||(gD=1,N9=function(){throw new Error("Readable.from is not available in the browser")}),N9}var P9,mD;function KQ(){if(mD)return P9;mD=1,P9=B;var t;B.ReadableState=D,ys.EventEmitter;var e=function(G,pe){return G.listeners(pe).length},r=AQ,n=q2.Buffer,i=(typeof nr<"u"?nr:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(K){return n.from(K)}function o(K){return n.isBuffer(K)||K instanceof i}var a=uT,l;a&&a.debuglog?l=a.debuglog("stream"):l=function(){};var c=zCe(),u=zQ,f=qQ,h=f.getHighWaterMark,p=ap.codes,g=p.ERR_INVALID_ARG_TYPE,m=p.ERR_STREAM_PUSH_AFTER_EOF,w=p.ERR_METHOD_NOT_IMPLEMENTED,y=p.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,E,v,b;Po(B,r);var $=u.errorOrDestroy,P=["error","close","destroy","pause","resume"];function O(K,G,pe){if(typeof K.prependListener=="function")return K.prependListener(G,pe);!K._events||!K._events[G]?K.on(G,pe):Array.isArray(K._events[G])?K._events[G].unshift(pe):K._events[G]=[pe,K._events[G]]}function D(K,G,pe){t=t||v1(),K=K||{},typeof pe!="boolean"&&(pe=G instanceof t),this.objectMode=!!K.objectMode,pe&&(this.objectMode=this.objectMode||!!K.readableObjectMode),this.highWaterMark=h(this,K,"readableHighWaterMark",pe),this.buffer=new c,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=K.emitClose!==!1,this.autoDestroy=!!K.autoDestroy,this.destroyed=!1,this.defaultEncoding=K.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,K.encoding&&(E||(E=fD().StringDecoder),this.decoder=new E(K.encoding),this.encoding=K.encoding)}function B(K){if(t=t||v1(),!(this instanceof B))return new B(K);var G=this instanceof t;this._readableState=new D(K,this,G),this.readable=!0,K&&(typeof K.read=="function"&&(this._read=K.read),typeof K.destroy=="function"&&(this._destroy=K.destroy)),r.call(this)}Object.defineProperty(B.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(G){this._readableState&&(this._readableState.destroyed=G)}}),B.prototype.destroy=u.destroy,B.prototype._undestroy=u.undestroy,B.prototype._destroy=function(K,G){G(K)},B.prototype.push=function(K,G){var pe=this._readableState,de;return pe.objectMode?de=!0:typeof K=="string"&&(G=G||pe.defaultEncoding,G!==pe.encoding&&(K=n.from(K,G),G=""),de=!0),H(this,K,G,!1,de)},B.prototype.unshift=function(K){return H(this,K,null,!0,!1)};function H(K,G,pe,de,ye){l("readableAddChunk",G);var Ne=K._readableState;if(G===null)Ne.reading=!1,A(K,Ne);else{var je;if(ye||(je=Y(Ne,G)),je)$(K,je);else if(Ne.objectMode||G&&G.length>0)if(typeof G!="string"&&!Ne.objectMode&&Object.getPrototypeOf(G)!==n.prototype&&(G=s(G)),de)Ne.endEmitted?$(K,new y):q(K,Ne,G,!0);else if(Ne.ended)$(K,new m);else{if(Ne.destroyed)return!1;Ne.reading=!1,Ne.decoder&&!pe?(G=Ne.decoder.write(G),Ne.objectMode||G.length!==0?q(K,Ne,G,!1):N(K,Ne)):q(K,Ne,G,!1)}else de||(Ne.reading=!1,N(K,Ne))}return!Ne.ended&&(Ne.length<Ne.highWaterMark||Ne.length===0)}function q(K,G,pe,de){G.flowing&&G.length===0&&!G.sync?(G.awaitDrain=0,K.emit("data",pe)):(G.length+=G.objectMode?1:pe.length,de?G.buffer.unshift(pe):G.buffer.push(pe),G.needReadable&&T(K)),N(K,G)}function Y(K,G){var pe;return!o(G)&&typeof G!="string"&&G!==void 0&&!K.objectMode&&(pe=new g("chunk",["string","Buffer","Uint8Array"],G)),pe}B.prototype.isPaused=function(){return this._readableState.flowing===!1},B.prototype.setEncoding=function(K){E||(E=fD().StringDecoder);var G=new E(K);this._readableState.decoder=G,this._readableState.encoding=this._readableState.decoder.encoding;for(var pe=this._readableState.buffer.head,de="";pe!==null;)de+=G.write(pe.data),pe=pe.next;return this._readableState.buffer.clear(),de!==""&&this._readableState.buffer.push(de),this._readableState.length=de.length,this};var R=1073741824;function _(K){return K>=R?K=R:(K--,K|=K>>>1,K|=K>>>2,K|=K>>>4,K|=K>>>8,K|=K>>>16,K++),K}function x(K,G){return K<=0||G.length===0&&G.ended?0:G.objectMode?1:K!==K?G.flowing&&G.length?G.buffer.head.data.length:G.length:(K>G.highWaterMark&&(G.highWaterMark=_(K)),K<=G.length?K:G.ended?G.length:(G.needReadable=!0,0))}B.prototype.read=function(K){l("read",K),K=parseInt(K,10);var G=this._readableState,pe=K;if(K!==0&&(G.emittedReadable=!1),K===0&&G.needReadable&&((G.highWaterMark!==0?G.length>=G.highWaterMark:G.length>0)||G.ended))return l("read: emitReadable",G.length,G.ended),G.length===0&&G.ended?ee(this):T(this),null;if(K=x(K,G),K===0&&G.ended)return G.length===0&&ee(this),null;var de=G.needReadable;l("need readable",de),(G.length===0||G.length-K<G.highWaterMark)&&(de=!0,l("length less than watermark",de)),G.ended||G.reading?(de=!1,l("reading or ended",de)):de&&(l("do read"),G.reading=!0,G.sync=!0,G.length===0&&(G.needReadable=!0),this._read(G.highWaterMark),G.sync=!1,G.reading||(K=x(pe,G)));var ye;return K>0?ye=V(K,G):ye=null,ye===null?(G.needReadable=G.length<=G.highWaterMark,K=0):(G.length-=K,G.awaitDrain=0),G.length===0&&(G.ended||(G.needReadable=!0),pe!==K&&G.ended&&ee(this)),ye!==null&&this.emit("data",ye),ye};function A(K,G){if(l("onEofChunk"),!G.ended){if(G.decoder){var pe=G.decoder.end();pe&&pe.length&&(G.buffer.push(pe),G.length+=G.objectMode?1:pe.length)}G.ended=!0,G.sync?T(K):(G.needReadable=!1,G.emittedReadable||(G.emittedReadable=!0,I(K)))}}function T(K){var G=K._readableState;l("emitReadable",G.needReadable,G.emittedReadable),G.needReadable=!1,G.emittedReadable||(l("emitReadable",G.flowing),G.emittedReadable=!0,mt.nextTick(I,K))}function I(K){var G=K._readableState;l("emitReadable_",G.destroyed,G.length,G.ended),!G.destroyed&&(G.length||G.ended)&&(K.emit("readable"),G.emittedReadable=!1),G.needReadable=!G.flowing&&!G.ended&&G.length<=G.highWaterMark,W(K)}function N(K,G){G.readingMore||(G.readingMore=!0,mt.nextTick(M,K,G))}function M(K,G){for(;!G.reading&&!G.ended&&(G.length<G.highWaterMark||G.flowing&&G.length===0);){var pe=G.length;if(l("maybeReadMore read 0"),K.read(0),pe===G.length)break}G.readingMore=!1}B.prototype._read=function(K){$(this,new w("_read()"))},B.prototype.pipe=function(K,G){var pe=this,de=this._readableState;switch(de.pipesCount){case 0:de.pipes=K;break;case 1:de.pipes=[de.pipes,K];break;default:de.pipes.push(K);break}de.pipesCount+=1,l("pipe count=%d opts=%j",de.pipesCount,G);var ye=(!G||G.end!==!1)&&K!==mt.stdout&&K!==mt.stderr,Ne=ye?Qe:ke;de.endEmitted?mt.nextTick(Ne):pe.once("end",Ne),K.on("unpipe",je);function je(Te,Ue){l("onunpipe"),Te===pe&&Ue&&Ue.hasUnpiped===!1&&(Ue.hasUnpiped=!0,ht())}function Qe(){l("onend"),K.end()}var xe=U(pe);K.on("drain",xe);var he=!1;function ht(){l("cleanup"),K.removeListener("close",_e),K.removeListener("finish",Me),K.removeListener("drain",xe),K.removeListener("error",we),K.removeListener("unpipe",je),pe.removeListener("end",Qe),pe.removeListener("end",ke),pe.removeListener("data",De),he=!0,de.awaitDrain&&(!K._writableState||K._writableState.needDrain)&&xe()}pe.on("data",De);function De(Te){l("ondata");var Ue=K.write(Te);l("dest.write",Ue),Ue===!1&&((de.pipesCount===1&&de.pipes===K||de.pipesCount>1&&ce(de.pipes,K)!==-1)&&!he&&(l("false write response, pause",de.awaitDrain),de.awaitDrain++),pe.pause())}function we(Te){l("onerror",Te),ke(),K.removeListener("error",we),e(K,"error")===0&&$(K,Te)}O(K,"error",we);function _e(){K.removeListener("finish",Me),ke()}K.once("close",_e);function Me(){l("onfinish"),K.removeListener("close",_e),ke()}K.once("finish",Me);function ke(){l("unpipe"),pe.unpipe(K)}return K.emit("pipe",pe),de.flowing||(l("pipe resume"),pe.resume()),K};function U(K){return function(){var pe=K._readableState;l("pipeOnDrain",pe.awaitDrain),pe.awaitDrain&&pe.awaitDrain--,pe.awaitDrain===0&&e(K,"data")&&(pe.flowing=!0,W(K))}}B.prototype.unpipe=function(K){var G=this._readableState,pe={hasUnpiped:!1};if(G.pipesCount===0)return this;if(G.pipesCount===1)return K&&K!==G.pipes?this:(K||(K=G.pipes),G.pipes=null,G.pipesCount=0,G.flowing=!1,K&&K.emit("unpipe",this,pe),this);if(!K){var de=G.pipes,ye=G.pipesCount;G.pipes=null,G.pipesCount=0,G.flowing=!1;for(var Ne=0;Ne<ye;Ne++)de[Ne].emit("unpipe",this,{hasUnpiped:!1});return this}var je=ce(G.pipes,K);return je===-1?this:(G.pipes.splice(je,1),G.pipesCount-=1,G.pipesCount===1&&(G.pipes=G.pipes[0]),K.emit("unpipe",this,pe),this)},B.prototype.on=function(K,G){var pe=r.prototype.on.call(this,K,G),de=this._readableState;return K==="data"?(de.readableListening=this.listenerCount("readable")>0,de.flowing!==!1&&this.resume()):K==="readable"&&!de.endEmitted&&!de.readableListening&&(de.readableListening=de.needReadable=!0,de.flowing=!1,de.emittedReadable=!1,l("on readable",de.length,de.reading),de.length?T(this):de.reading||mt.nextTick(F,this)),pe},B.prototype.addListener=B.prototype.on,B.prototype.removeListener=function(K,G){var pe=r.prototype.removeListener.call(this,K,G);return K==="readable"&&mt.nextTick(S,this),pe},B.prototype.removeAllListeners=function(K){var G=r.prototype.removeAllListeners.apply(this,arguments);return(K==="readable"||K===void 0)&&mt.nextTick(S,this),G};function S(K){var G=K._readableState;G.readableListening=K.listenerCount("readable")>0,G.resumeScheduled&&!G.paused?G.flowing=!0:K.listenerCount("data")>0&&K.resume()}function F(K){l("readable nexttick read 0"),K.read(0)}B.prototype.resume=function(){var K=this._readableState;return K.flowing||(l("resume"),K.flowing=!K.readableListening,Q(this,K)),K.paused=!1,this};function Q(K,G){G.resumeScheduled||(G.resumeScheduled=!0,mt.nextTick(k,K,G))}function k(K,G){l("resume",G.reading),G.reading||K.read(0),G.resumeScheduled=!1,K.emit("resume"),W(K),G.flowing&&!G.reading&&K.read(0)}B.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function W(K){var G=K._readableState;for(l("flow",G.flowing);G.flowing&&K.read()!==null;);}B.prototype.wrap=function(K){var G=this,pe=this._readableState,de=!1;K.on("end",function(){if(l("wrapped end"),pe.decoder&&!pe.ended){var je=pe.decoder.end();je&&je.length&&G.push(je)}G.push(null)}),K.on("data",function(je){if(l("wrapped data"),pe.decoder&&(je=pe.decoder.write(je)),!(pe.objectMode&&je==null)&&!(!pe.objectMode&&(!je||!je.length))){var Qe=G.push(je);Qe||(de=!0,K.pause())}});for(var ye in K)this[ye]===void 0&&typeof K[ye]=="function"&&(this[ye]=function(Qe){return function(){return K[Qe].apply(K,arguments)}}(ye));for(var Ne=0;Ne<P.length;Ne++)K.on(P[Ne],this.emit.bind(this,P[Ne]));return this._read=function(je){l("wrapped _read",je),de&&(de=!1,K.resume())},this},typeof Symbol=="function"&&(B.prototype[Symbol.asyncIterator]=function(){return v===void 0&&(v=sAe()),v(this)}),Object.defineProperty(B.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(B.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(B.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(G){this._readableState&&(this._readableState.flowing=G)}}),B._fromList=V,Object.defineProperty(B.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function V(K,G){if(G.length===0)return null;var pe;return G.objectMode?pe=G.buffer.shift():!K||K>=G.length?(G.decoder?pe=G.buffer.join(""):G.buffer.length===1?pe=G.buffer.first():pe=G.buffer.concat(G.length),G.buffer.clear()):pe=G.buffer.consume(K,G.decoder),pe}function ee(K){var G=K._readableState;l("endReadable",G.endEmitted),G.endEmitted||(G.ended=!0,mt.nextTick(te,G,K))}function te(K,G){if(l("endReadableNT",K.endEmitted,K.length),!K.endEmitted&&K.length===0&&(K.endEmitted=!0,G.readable=!1,G.emit("end"),K.autoDestroy)){var pe=G._writableState;(!pe||pe.autoDestroy&&pe.finished)&&G.destroy()}}typeof Symbol=="function"&&(B.from=function(K,G){return b===void 0&&(b=oAe()),b(B,K,G)});function ce(K,G){for(var pe=0,de=K.length;pe<de;pe++)if(K[pe]===G)return pe;return-1}return P9}var YQ=Ou,G4=ap.codes,aAe=G4.ERR_METHOD_NOT_IMPLEMENTED,lAe=G4.ERR_MULTIPLE_CALLBACK,cAe=G4.ERR_TRANSFORM_ALREADY_TRANSFORMING,uAe=G4.ERR_TRANSFORM_WITH_LENGTH_0,K4=v1();Po(Ou,K4);function dAe(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new lAe);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Ou(t){if(!(this instanceof Ou))return new Ou(t);K4.call(this,t),this._transformState={afterTransform:dAe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",fAe)}function fAe(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){yD(t,e,r)}):yD(this,null,null)}Ou.prototype.push=function(t,e){return this._transformState.needTransform=!1,K4.prototype.push.call(this,t,e)};Ou.prototype._transform=function(t,e,r){r(new aAe("_transform()"))};Ou.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Ou.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Ou.prototype._destroy=function(t,e){K4.prototype._destroy.call(this,t,function(r){e(r)})};function yD(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new uAe;if(t._transformState.transforming)throw new cAe;return t.push(null)}var hAe=b2,ZQ=YQ;Po(b2,ZQ);function b2(t){if(!(this instanceof b2))return new b2(t);ZQ.call(this,t)}b2.prototype._transform=function(t,e,r){r(null,t)};var R9;function pAe(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var JQ=ap.codes,gAe=JQ.ERR_MISSING_ARGS,mAe=JQ.ERR_STREAM_DESTROYED;function wD(t){if(t)throw t}function yAe(t){return t.setHeader&&typeof t.abort=="function"}function wAe(t,e,r,n){n=pAe(n);var i=!1;t.on("close",function(){i=!0}),R9===void 0&&(R9=gT),R9(t,{readable:e,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,yAe(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(o||new mAe("pipe"))}}}function bD(t){t()}function bAe(t,e){return t.pipe(e)}function vAe(t){return!t.length||typeof t[t.length-1]!="function"?wD:t.pop()}function xAe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=vAe(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new gAe("streams");var i,s=e.map(function(o,a){var l=a<e.length-1,c=a>0;return wAe(o,l,c,function(u){i||(i=u),u&&s.forEach(bD),!l&&(s.forEach(bD),n(i))})});return e.reduce(bAe)}var EAe=xAe;(function(t,e){e=t.exports=KQ(),e.Stream=e,e.Readable=e,e.Writable=VQ(),e.Duplex=v1(),e.Transform=YQ,e.PassThrough=hAe,e.finished=gT,e.pipeline=EAe})(DA,DA.exports);var QQ=DA.exports;const{Transform:_Ae}=QQ;var CAe=t=>class XQ extends _Ae{constructor(r,n,i,s,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=s,this._options=o,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!Ke.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Ke.isBuffer(r)||(r=Ke.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new XQ(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:AAe}=QQ;var SAe=t=>class eX extends AAe{constructor(r,n,i,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!Ke.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Ke.isBuffer(r)||(r=Ke.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new eX(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const $Ae=CAe,IAe=SAe;var kAe=function(t){const e=$Ae(t),r=IAe(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}},tX={};const vD=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];tX.p1600=function(t){for(let e=0;e<24;++e){const r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],o=t[4]^t[14]^t[24]^t[34]^t[44],a=t[5]^t[15]^t[25]^t[35]^t[45],l=t[6]^t[16]^t[26]^t[36]^t[46],c=t[7]^t[17]^t[27]^t[37]^t[47],u=t[8]^t[18]^t[28]^t[38]^t[48],f=t[9]^t[19]^t[29]^t[39]^t[49];let h=u^(i<<1|s>>>31),p=f^(s<<1|i>>>31);const g=t[0]^h,m=t[1]^p,w=t[10]^h,y=t[11]^p,E=t[20]^h,v=t[21]^p,b=t[30]^h,$=t[31]^p,P=t[40]^h,O=t[41]^p;h=r^(o<<1|a>>>31),p=n^(a<<1|o>>>31);const D=t[2]^h,B=t[3]^p,H=t[12]^h,q=t[13]^p,Y=t[22]^h,R=t[23]^p,_=t[32]^h,x=t[33]^p,A=t[42]^h,T=t[43]^p;h=i^(l<<1|c>>>31),p=s^(c<<1|l>>>31);const I=t[4]^h,N=t[5]^p,M=t[14]^h,U=t[15]^p,S=t[24]^h,F=t[25]^p,Q=t[34]^h,k=t[35]^p,W=t[44]^h,V=t[45]^p;h=o^(u<<1|f>>>31),p=a^(f<<1|u>>>31);const ee=t[6]^h,te=t[7]^p,ce=t[16]^h,K=t[17]^p,G=t[26]^h,pe=t[27]^p,de=t[36]^h,ye=t[37]^p,Ne=t[46]^h,je=t[47]^p;h=l^(r<<1|n>>>31),p=c^(n<<1|r>>>31);const Qe=t[8]^h,xe=t[9]^p,he=t[18]^h,ht=t[19]^p,De=t[28]^h,we=t[29]^p,_e=t[38]^h,Me=t[39]^p,ke=t[48]^h,Te=t[49]^p,Ue=g,Be=m,Z=y<<4|w>>>28,j=w<<4|y>>>28,L=E<<3|v>>>29,X=v<<3|E>>>29,ae=$<<9|b>>>23,fe=b<<9|$>>>23,ge=P<<18|O>>>14,Ie=O<<18|P>>>14,Se=D<<1|B>>>31,Ve=B<<1|D>>>31,_t=q<<12|H>>>20,Ge=H<<12|q>>>20,jt=Y<<10|R>>>22,ci=R<<10|Y>>>22,er=x<<13|_>>>19,yt=_<<13|x>>>19,Ar=A<<2|T>>>30,Nt=T<<2|A>>>30,Yt=N<<30|I>>>2,$i=I<<30|N>>>2,qt=M<<6|U>>>26,St=U<<6|M>>>26,bs=F<<11|S>>>21,tr=S<<11|F>>>21,Vt=Q<<15|k>>>17,nt=k<<15|Q>>>17,ar=V<<29|W>>>3,mr=W<<29|V>>>3,no=ee<<28|te>>>4,lr=te<<28|ee>>>4,cr=K<<23|ce>>>9,vs=ce<<23|K>>>9,ur=G<<25|pe>>>7,dr=pe<<25|G>>>7,z=de<<21|ye>>>11,J=ye<<21|de>>>11,ie=je<<24|Ne>>>8,re=Ne<<24|je>>>8,oe=Qe<<27|xe>>>5,be=xe<<27|Qe>>>5,Ae=he<<20|ht>>>12,Ce=ht<<20|he>>>12,Oe=we<<7|De>>>25,Xe=De<<7|we>>>25,wt=_e<<8|Me>>>24,it=Me<<8|_e>>>24,Pt=ke<<14|Te>>>18,Lt=Te<<14|ke>>>18;t[0]=Ue^~_t&bs,t[1]=Be^~Ge&tr,t[10]=no^~Ae&L,t[11]=lr^~Ce&X,t[20]=Se^~qt&ur,t[21]=Ve^~St&dr,t[30]=oe^~Z&jt,t[31]=be^~j&ci,t[40]=Yt^~cr&Oe,t[41]=$i^~vs&Xe,t[2]=_t^~bs&z,t[3]=Ge^~tr&J,t[12]=Ae^~L&er,t[13]=Ce^~X&yt,t[22]=qt^~ur&wt,t[23]=St^~dr&it,t[32]=Z^~jt&Vt,t[33]=j^~ci&nt,t[42]=cr^~Oe&ae,t[43]=vs^~Xe&fe,t[4]=bs^~z&Pt,t[5]=tr^~J&Lt,t[14]=L^~er&ar,t[15]=X^~yt&mr,t[24]=ur^~wt&ge,t[25]=dr^~it&Ie,t[34]=jt^~Vt&ie,t[35]=ci^~nt&re,t[44]=Oe^~ae&Ar,t[45]=Xe^~fe&Nt,t[6]=z^~Pt&Ue,t[7]=J^~Lt&Be,t[16]=er^~ar&no,t[17]=yt^~mr&lr,t[26]=wt^~ge&Se,t[27]=it^~Ie&Ve,t[36]=Vt^~ie&oe,t[37]=nt^~re&be,t[46]=ae^~Ar&Yt,t[47]=fe^~Nt&$i,t[8]=Pt^~Ue&_t,t[9]=Lt^~Be&Ge,t[18]=ar^~no&Ae,t[19]=mr^~lr&Ce,t[28]=ge^~Se&qt,t[29]=Ie^~Ve&St,t[38]=ie^~oe&Z,t[39]=re^~be&j,t[48]=Ar^~Yt&cr,t[49]=Nt^~$i&vs,t[0]^=vD[e*2],t[1]^=vD[e*2+1]}};const O5=tX;function cg(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}cg.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};cg.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(O5.p1600(this.state),this.count=0)};cg.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),t&128&&this.count===this.blockSize-1&&O5.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),O5.p1600(this.state),this.count=0,this.squeezing=!0};cg.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=Ke.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(O5.p1600(this.state),this.count=0);return e};cg.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};var TAe=cg,NAe=kAe(TAe);const PAe=NAe;function rX(t){return Ke.allocUnsafe(t).fill(0)}function RAe(t){return t.toString(2).length}function nX(t,e){let r=t.toString(16);r.length%2!==0&&(r="0"+r);const n=r.match(/.{1,2}/g).map(i=>parseInt(i,16));for(;n.length<e;)n.unshift(0);return Ke.from(n)}function OAe(t,e){const r=t<0n;let n;if(r){const i=(1n<<BigInt(e))-1n;n=(~t&i)+1n}else n=t;return n&=(1n<<BigInt(e))-1n,n}function iX(t,e,r){const n=rX(e);return t=Y4(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function jAe(t,e){return iX(t,e,!0)}function Y4(t){if(!Ke.isBuffer(t))if(Array.isArray(t))t=Ke.from(t);else if(typeof t=="string")sX(t)?t=Ke.from(LAe(oX(t)),"hex"):t=Ke.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Ke.allocUnsafe(0);else if(typeof t=="bigint")t=nX(t);else if(t.toArray)t=Ke.from(t.toArray());else throw new Error("invalid type");return t}function MAe(t){return t=Y4(t),"0x"+t.toString("hex")}function DAe(t,e){return t=Y4(t),e||(e=256),PAe("keccak"+e).update(t).digest()}function LAe(t){return t.length%2?"0"+t:t}function sX(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function oX(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var aX={zeros:rX,setLength:iX,setLengthRight:jAe,isHexString:sX,stripHexPrefix:oX,toBuffer:Y4,bufferToHex:MAe,keccak:DAe,bitLengthFromBigInt:RAe,bufferBEFromBigInt:nX,twosFromBigInt:OAe};const ts=aX;function lX(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function B0(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function xD(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function cX(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function Wf(t){var e=typeof t;if(e==="string"||e==="number")return BigInt(t);if(e==="bigint")return t;throw new Error("Argument is not a number")}function $l(t,e){var r,n,i,s;if(t==="address")return $l("uint160",Wf(e));if(t==="bool")return $l("uint8",e?1:0);if(t==="string")return $l("bytes",new Ke(e,"utf8"));if(BAe(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=cX(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push($l(t,e[s]));if(r==="dynamic"){var o=$l("uint256",e.length);i.unshift(o)}return Ke.concat(i)}else{if(t==="bytes")return e=new Ke(e),i=Ke.concat([$l("uint256",e.length),e]),e.length%32!==0&&(i=Ke.concat([i,ts.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=B0(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return ts.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=B0(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);n=Wf(e);const a=ts.bitLengthFromBigInt(n);if(a>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+a);if(n<0)throw new Error("Supplied uint is negative");return ts.bufferBEFromBigInt(n,32)}else if(t.startsWith("int")){if(r=B0(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);n=Wf(e);const a=ts.bitLengthFromBigInt(n);if(a>r)throw new Error("Supplied int exceeds width: "+r+" vs "+a);const l=ts.twosFromBigInt(n,256);return ts.bufferBEFromBigInt(l,32)}else if(t.startsWith("ufixed")){if(r=xD(t),n=Wf(e),n<0)throw new Error("Supplied ufixed is negative");return $l("uint256",n*BigInt(2)**BigInt(r[1]))}else if(t.startsWith("fixed"))return r=xD(t),$l("int256",Wf(e)*BigInt(2)**BigInt(r[1]))}throw new Error("Unsupported or invalid type: "+t)}function FAe(t){return t==="string"||t==="bytes"||cX(t)==="dynamic"}function BAe(t){return t.lastIndexOf("]")===t.length-1}function UAe(t,e){var r=[],n=[],i=32*t.length;for(var s in t){var o=lX(t[s]),a=e[s],l=$l(o,a);FAe(o)?(r.push($l("uint256",i)),n.push(l),i+=l.length):r.push(l)}return Ke.concat(r.concat(n))}function uX(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],s=0;s<t.length;s++){var o=lX(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new Ke(a,"utf8"));else if(o==="bool")i.push(new Ke(a?"01":"00","hex"));else if(o==="address")i.push(ts.setLength(a,20));else if(o.startsWith("bytes")){if(r=B0(o),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(ts.setLengthRight(a,r))}else if(o.startsWith("uint")){if(r=B0(o),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);n=Wf(a);const l=ts.bitLengthFromBigInt(n);if(l>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+l);i.push(ts.bufferBEFromBigInt(n,r/8))}else if(o.startsWith("int")){if(r=B0(o),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);n=Wf(a);const l=ts.bitLengthFromBigInt(n);if(l>r)throw new Error("Supplied int exceeds width: "+r+" vs "+l);const c=ts.twosFromBigInt(n,r);i.push(ts.bufferBEFromBigInt(c,r/8))}else throw new Error("Unsupported or invalid type: "+o)}return Ke.concat(i)}function WAe(t,e){return ts.keccak(uX(t,e))}var zAe={rawEncode:UAe,solidityPack:uX,soliditySHA3:WAe};const Ta=aX,Hm=zAe,dX={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},O9={encodeData(t,e,r,n=!0){const i=["bytes32"],s=[this.hashType(t,r)];if(n){const o=(a,l,c)=>{if(r[l]!==void 0)return["bytes32",c==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Ta.keccak(this.encodeData(l,c,r,n))];if(c===void 0)throw new Error(`missing value for field ${a} of type ${l}`);if(l==="bytes")return["bytes32",Ta.keccak(c)];if(l==="string")return typeof c=="string"&&(c=Ke.from(c,"utf8")),["bytes32",Ta.keccak(c)];if(l.lastIndexOf("]")===l.length-1){const u=l.slice(0,l.lastIndexOf("[")),f=c.map(h=>o(a,u,h));return["bytes32",Ta.keccak(Hm.rawEncode(f.map(([h])=>h),f.map(([,h])=>h)))]}return[l,c]};for(const a of r[t]){const[l,c]=o(a.name,a.type,e[a.name]);i.push(l),s.push(c)}}else for(const o of r[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=Ta.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Ke.from(a,"utf8")),a=Ta.keccak(a),s.push(a);else if(r[o.type]!==void 0)i.push("bytes32"),a=Ta.keccak(this.encodeData(o.type,a,r,n)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return Hm.rawEncode(i,s)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter(i=>i!==t);n=[t].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);r+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return r},findTypeDependencies(t,e,r=[]){if(t=t.match(/^\w*/)[0],r.includes(t)||e[t]===void 0)return r;r.push(t);for(const n of e[t])for(const i of this.findTypeDependencies(n.type,e,r))!r.includes(i)&&r.push(i);return r},hashStruct(t,e,r,n=!0){return Ta.keccak(this.encodeData(t,e,r,n))},hashType(t,e){return Ta.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in dX.properties)t[r]&&(e[r]=t[r]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const r=this.sanitizeData(t),n=[Ke.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,e)),Ta.keccak(Ke.concat(n))}};var HAe={TYPED_MESSAGE_SCHEMA:dX,TypedDataUtils:O9,hashForSignTypedDataLegacy:function(t){return qAe(t.data)},hashForSignTypedData_v3:function(t){return O9.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return O9.hash(t.data)}};function qAe(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const r=t.map(function(s){return s.type==="bytes"?Ta.toBuffer(s.value):s.value}),n=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return Hm.soliditySHA3(["bytes32","bytes32"],[Hm.soliditySHA3(new Array(t.length).fill("string"),i),Hm.soliditySHA3(n,r)])}var ec={};Object.defineProperty(ec,"__esModule",{value:!0});ec.APP_VERSION_KEY=ec.LOCAL_STORAGE_ADDRESSES_KEY=ec.WALLET_USER_NAME_KEY=void 0;ec.WALLET_USER_NAME_KEY="walletUsername";ec.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";ec.APP_VERSION_KEY="AppVersion";var vw={};Object.defineProperty(vw,"__esModule",{value:!0});vw.RelayEventManager=void 0;const VAe=gt;class GAe{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=(0,VAe.prepend0x)(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}}vw.RelayEventManager=GAe;var Z4={},J4={},Q4={};Object.defineProperty(Q4,"__esModule",{value:!0});Q4.WalletLinkCipher=void 0;const qb=gt;class KAe{constructor(e){this.secret=e}async encrypt(e){const r=this.secret;if(r.length!==64)throw Error("secret must be 256 bits");const n=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.importKey("raw",(0,qb.hexStringToUint8Array)(r),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=new TextEncoder,o=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:n},i,s.encode(e)),a=16,l=o.slice(o.byteLength-a),c=o.slice(0,o.byteLength-a),u=new Uint8Array(l),f=new Uint8Array(c),h=new Uint8Array([...n,...u,...f]);return(0,qb.uint8ArrayToHex)(h)}async decrypt(e){const r=this.secret;if(r.length!==64)throw Error("secret must be 256 bits");return new Promise((n,i)=>{(async function(){const s=await crypto.subtle.importKey("raw",(0,qb.hexStringToUint8Array)(r),{name:"aes-gcm"},!1,["encrypt","decrypt"]),o=(0,qb.hexStringToUint8Array)(e),a=o.slice(0,12),l=o.slice(12,28),c=o.slice(28),u=new Uint8Array([...c,...l]),f={name:"AES-GCM",iv:new Uint8Array(a)};try{const h=await window.crypto.subtle.decrypt(f,s,u),p=new TextDecoder;n(p.decode(h))}catch(h){i(h)}})()})}}Q4.WalletLinkCipher=KAe;var X4={};Object.defineProperty(X4,"__esModule",{value:!0});X4.WalletLinkHTTP=void 0;class YAe{constructor(e,r,n){this.linkAPIUrl=e,this.sessionId=r;const i=`${r}:${n}`;this.auth=`Basic ${btoa(i)}`}async markUnseenEventsAsSeen(e){return Promise.all(e.map(r=>fetch(`${this.linkAPIUrl}/events/${r.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(r=>console.error("Unabled to mark event as failed:",r))}async fetchUnseenEvents(){var e;const r=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(r.ok){const{events:n,error:i}=await r.json();if(i)throw new Error(`Check unseen events failed: ${i}`);const s=(e=n==null?void 0:n.filter(o=>o.event==="Web3Response").map(o=>({type:"Event",sessionId:this.sessionId,eventId:o.id,event:o.event,data:o.data})))!==null&&e!==void 0?e:[];return this.markUnseenEventsAsSeen(s),s}throw new Error(`Check unseen events failed: ${r.status}`)}}X4.WalletLinkHTTP=YAe;var x1={};Object.defineProperty(x1,"__esModule",{value:!0});x1.WalletLinkWebSocket=x1.ConnectionState=void 0;var m0;(function(t){t[t.DISCONNECTED=0]="DISCONNECTED",t[t.CONNECTING=1]="CONNECTING",t[t.CONNECTED=2]="CONNECTED"})(m0||(x1.ConnectionState=m0={}));class ZAe{setConnectionStateListener(e){this.connectionStateListener=e}setIncomingDataListener(e){this.incomingDataListener=e}constructor(e,r=WebSocket){this.WebSocketClass=r,this.webSocket=null,this.pendingData=[],this.url=e.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((e,r)=>{var n;let i;try{this.webSocket=i=new this.WebSocketClass(this.url)}catch(s){r(s);return}(n=this.connectionStateListener)===null||n===void 0||n.call(this,m0.CONNECTING),i.onclose=s=>{var o;this.clearWebSocket(),r(new Error(`websocket error ${s.code}: ${s.reason}`)),(o=this.connectionStateListener)===null||o===void 0||o.call(this,m0.DISCONNECTED)},i.onopen=s=>{var o;e(),(o=this.connectionStateListener)===null||o===void 0||o.call(this,m0.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(l=>this.sendData(l)),this.pendingData=[])},i.onmessage=s=>{var o,a;if(s.data==="h")(o=this.incomingDataListener)===null||o===void 0||o.call(this,{type:"Heartbeat"});else try{const l=JSON.parse(s.data);(a=this.incomingDataListener)===null||a===void 0||a.call(this,l)}catch{}}})}disconnect(){var e;const{webSocket:r}=this;if(r){this.clearWebSocket(),(e=this.connectionStateListener)===null||e===void 0||e.call(this,m0.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{r.close()}catch{}}}sendData(e){const{webSocket:r}=this;if(!r){this.pendingData.push(e),this.connect();return}r.send(e)}clearWebSocket(){const{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}}x1.WalletLinkWebSocket=ZAe;Object.defineProperty(J4,"__esModule",{value:!0});J4.WalletLinkConnection=void 0;const ED=ec,JAe=Q4,QAe=X4,Vb=x1,Pp=Hi,_D=1e4,XAe=6e4;class eSe{constructor({session:e,linkAPIUrl:r,listener:n,WebSocketClass:i=WebSocket}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,Pp.IntNumber)(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=o=>{if(!o)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",l=>o.JsonRpcUrl&&this.handleChainUpdated(l,o.JsonRpcUrl)]]).forEach((l,c)=>{const u=o[c];u!==void 0&&l(u)})},this.handleDestroyed=o=>{var a;o==="1"&&((a=this.listener)===null||a===void 0||a.resetAndReload())},this.handleAccountUpdated=async o=>{var a;{const l=await this.cipher.decrypt(o);(a=this.listener)===null||a===void 0||a.accountUpdated(l)}},this.handleMetadataUpdated=async(o,a)=>{var l;{const c=await this.cipher.decrypt(a);(l=this.listener)===null||l===void 0||l.metadataUpdated(o,c)}},this.handleWalletUsernameUpdated=async o=>{this.handleMetadataUpdated(ED.WALLET_USER_NAME_KEY,o)},this.handleAppVersionUpdated=async o=>{this.handleMetadataUpdated(ED.APP_VERSION_KEY,o)},this.handleChainUpdated=async(o,a)=>{var l;{const c=await this.cipher.decrypt(o),u=await this.cipher.decrypt(a);(l=this.listener)===null||l===void 0||l.chainUpdated(c,u)}},this.session=e,this.cipher=new JAe.WalletLinkCipher(e.secret),this.listener=n;const s=new Vb.WalletLinkWebSocket(`${r}/rpc`,i);s.setConnectionStateListener(async o=>{let a=!1;switch(o){case Vb.ConnectionState.DISCONNECTED:if(!this.destroyed){const l=async()=>{await new Promise(c=>setTimeout(c,5e3)),this.destroyed||s.connect().catch(()=>{l()})};l()}break;case Vb.ConnectionState.CONNECTED:try{await this.authenticate(),this.sendIsLinked(),this.sendGetSessionConfig(),a=!0}catch{}this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},_D),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case Vb.ConnectionState.CONNECTING:break}this.connected!==a&&(this.connected=a)}),s.setIncomingDataListener(o=>{var a;switch(o.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const l=o.type==="IsLinkedOK"?o.linked:void 0;this.linked=l||o.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{this.handleSessionMetadataUpdated(o.metadata);break}case"Event":{this.handleIncomingEvent(o);break}}o.id!==void 0&&((a=this.requestResolutions.get(o.id))===null||a===void 0||a(o))}),this.ws=s,this.http=new QAe.WalletLinkHTTP(r,e.id,e.key)}connect(){if(this.destroyed)throw new Error("instance is destroyed");this.ws.connect()}destroy(){this.destroyed=!0,this.ws.disconnect(),this.listener=void 0}get isDestroyed(){return this.destroyed}get connected(){return this._connected}set connected(e){var r;this._connected=e,e&&((r=this.onceConnected)===null||r===void 0||r.call(this))}setOnceConnected(e){return new Promise(r=>{this.connected?e().then(r):this.onceConnected=()=>{e().then(r),this.onceConnected=void 0}})}get linked(){return this._linked}set linked(e){var r,n;this._linked=e,e&&((r=this.onceLinked)===null||r===void 0||r.call(this)),(n=this.listener)===null||n===void 0||n.linkedUpdated(e)}setOnceLinked(e){return new Promise(r=>{this.linked?e().then(r):this.onceLinked=()=>{e().then(r),this.onceLinked=void 0}})}async handleIncomingEvent(e){var r;if(!(e.type!=="Event"||e.event!=="Web3Response")){const n=await this.cipher.decrypt(e.data),i=JSON.parse(n);if(i.type!=="WEB3_RESPONSE")return;(r=this.listener)===null||r===void 0||r.handleWeb3ResponseMessage(i)}}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(e=>setTimeout(e,250));try{await this.fetchUnseenEventsAPI()}catch(e){console.error("Unable to check for unseen events",e)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(r=>this.handleIncomingEvent(r))}async setSessionMetadata(e,r){const n={type:"SetSessionConfig",id:(0,Pp.IntNumber)(this.nextReqId++),sessionId:this.session.id,metadata:{[e]:r}};return this.setOnceConnected(async()=>{const i=await this.makeRequest(n);if(i.type==="Fail")throw new Error(i.error||"failed to set session metadata")})}async publishEvent(e,r,n=!1){const i=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin,relaySource:"coinbaseWalletExtension"in window&&window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),s={type:"PublishEvent",id:(0,Pp.IntNumber)(this.nextReqId++),sessionId:this.session.id,event:e,data:i,callWebhook:n};return this.setOnceLinked(async()=>{const o=await this.makeRequest(s);if(o.type==="Fail")throw new Error(o.error||"failed to publish event");return o.eventId})}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>_D*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(e,r=XAe){const n=e.id;this.sendData(e);let i;return Promise.race([new Promise((s,o)=>{i=window.setTimeout(()=>{o(new Error(`request ${n} timed out`))},r)}),new Promise(s=>{this.requestResolutions.set(n,o=>{clearTimeout(i),s(o),this.requestResolutions.delete(n)})})])}async authenticate(){const e={type:"HostSession",id:(0,Pp.IntNumber)(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key},r=await this.makeRequest(e);if(r.type==="Fail")throw new Error(r.error||"failed to authenticate")}sendIsLinked(){const e={type:"IsLinked",id:(0,Pp.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(e)}sendGetSessionConfig(){const e={type:"GetSessionConfig",id:(0,Pp.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(e)}}J4.WalletLinkConnection=eSe;var e8={},fX={exports:{}},tSe={}.toString,rSe=Array.isArray||function(t){return tSe.call(t)=="[object Array]"},nSe=og,iSe=lg,sSe=iSe("TypedArray.prototype.buffer",!0),oSe=WQ(),aSe=sSe||function(e){if(!oSe(e))throw new nSe("Not a Typed Array");return e.buffer},Oa=Gu.Buffer,lSe=rSe,cSe=aSe,uSe=ArrayBuffer.isView||function(e){try{return cSe(e),!0}catch{return!1}},dSe=typeof Uint8Array<"u",hX=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",fSe=hX&&(Oa.prototype instanceof Uint8Array||Oa.TYPED_ARRAY_SUPPORT),hSe=function(e,r){if(Oa.isBuffer(e))return e.constructor&&!("isBuffer"in e)?Oa.from(e):e;if(typeof e=="string")return Oa.from(e,r);if(hX&&uSe(e)){if(e.byteLength===0)return Oa.alloc(0);if(fSe){var n=Oa.from(e.buffer,e.byteOffset,e.byteLength);if(n.byteLength===e.byteLength)return n}var i=e instanceof Uint8Array?e:new Uint8Array(e.buffer,e.byteOffset,e.byteLength),s=Oa.from(i);if(s.length===e.byteLength)return s}if(dSe&&e instanceof Uint8Array)return Oa.from(e);var o=lSe(e);if(o)for(var a=0;a<e.length;a+=1){var l=e[a];if(typeof l!="number"||l<0||l>255||~~l!==l)throw new RangeError("Array items must be numbers in the range 0-255.")}if(o||Oa.isBuffer(e)&&e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e))return Oa.from(e);throw new TypeError('The "data" argument must be a string, an Array, a Buffer, a Uint8Array, or a DataView.')},pSe=Gu.Buffer,gSe=hSe;function t8(t,e){this._block=pSe.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}t8.prototype.update=function(t,e){t=gSe(t,e||"utf8");for(var r=this._block,n=this._blockSize,i=t.length,s=this._len,o=0;o<i;){for(var a=s%n,l=Math.min(i-o,n-a),c=0;c<l;c++)r[a+c]=t[o+c];s+=l,o+=l,s%n===0&&this._update(r)}return this._len+=i,this};t8.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s};t8.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var ug=t8,mSe=Po,pX=ug,ySe=Gu.Buffer,wSe=[1518500249,1859775393,-1894007588,-899497514],bSe=new Array(80);function xw(){this.init(),this._w=bSe,pX.call(this,64,56)}mSe(xw,pX);xw.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function vSe(t){return t<<5|t>>>27}function xSe(t){return t<<30|t>>>2}function ESe(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}xw.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=e[a-3]^e[a-8]^e[a-14]^e[a-16];for(var l=0;l<80;++l){var c=~~(l/20),u=vSe(r)+ESe(c,n,i,s)+o+e[l]+wSe[c]|0;o=s,s=i,i=xSe(n),n=r,r=u}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};xw.prototype._hash=function(){var t=ySe.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var _Se=xw,CSe=Po,gX=ug,ASe=Gu.Buffer,SSe=[1518500249,1859775393,-1894007588,-899497514],$Se=new Array(80);function Ew(){this.init(),this._w=$Se,gX.call(this,64,56)}CSe(Ew,gX);Ew.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function ISe(t){return t<<1|t>>>31}function kSe(t){return t<<5|t>>>27}function TSe(t){return t<<30|t>>>2}function NSe(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}Ew.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=ISe(e[a-3]^e[a-8]^e[a-14]^e[a-16]);for(var l=0;l<80;++l){var c=~~(l/20),u=kSe(r)+NSe(c,n,i,s)+o+e[l]+SSe[c]|0;o=s,s=i,i=TSe(n),n=r,r=u}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};Ew.prototype._hash=function(){var t=ASe.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var PSe=Ew,RSe=Po,mX=ug,OSe=Gu.Buffer,jSe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],MSe=new Array(64);function _w(){this.init(),this._w=MSe,mX.call(this,64,56)}RSe(_w,mX);_w.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function DSe(t,e,r){return r^t&(e^r)}function LSe(t,e,r){return t&e|r&(t|e)}function FSe(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function BSe(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function USe(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function WSe(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}_w.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=this._f|0,l=this._g|0,c=this._h|0,u=0;u<16;++u)e[u]=t.readInt32BE(u*4);for(;u<64;++u)e[u]=WSe(e[u-2])+e[u-7]+USe(e[u-15])+e[u-16]|0;for(var f=0;f<64;++f){var h=c+BSe(o)+DSe(o,a,l)+jSe[f]+e[f]|0,p=FSe(r)+LSe(r,n,i)|0;c=l,l=a,a=o,o=s+h|0,s=i,i=n,n=r,r=h+p|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=a+this._f|0,this._g=l+this._g|0,this._h=c+this._h|0};_w.prototype._hash=function(){var t=OSe.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var yX=_w,zSe=Po,HSe=yX,qSe=ug,VSe=Gu.Buffer,GSe=new Array(64);function r8(){this.init(),this._w=GSe,qSe.call(this,64,56)}zSe(r8,HSe);r8.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};r8.prototype._hash=function(){var t=VSe.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var KSe=r8,YSe=Po,wX=ug,ZSe=Gu.Buffer,CD=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],JSe=new Array(160);function Cw(){this.init(),this._w=JSe,wX.call(this,128,112)}YSe(Cw,wX);Cw.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function AD(t,e,r){return r^t&(e^r)}function SD(t,e,r){return t&e|r&(t|e)}function $D(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function ID(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function QSe(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function XSe(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function e$e(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function t$e(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function Un(t,e){return t>>>0<e>>>0?1:0}Cw.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,s=this._dh|0,o=this._eh|0,a=this._fh|0,l=this._gh|0,c=this._hh|0,u=this._al|0,f=this._bl|0,h=this._cl|0,p=this._dl|0,g=this._el|0,m=this._fl|0,w=this._gl|0,y=this._hl|0,E=0;E<32;E+=2)e[E]=t.readInt32BE(E*4),e[E+1]=t.readInt32BE(E*4+4);for(;E<160;E+=2){var v=e[E-30],b=e[E-15*2+1],$=QSe(v,b),P=XSe(b,v);v=e[E-2*2],b=e[E-2*2+1];var O=e$e(v,b),D=t$e(b,v),B=e[E-7*2],H=e[E-7*2+1],q=e[E-16*2],Y=e[E-16*2+1],R=P+H|0,_=$+B+Un(R,P)|0;R=R+D|0,_=_+O+Un(R,D)|0,R=R+Y|0,_=_+q+Un(R,Y)|0,e[E]=_,e[E+1]=R}for(var x=0;x<160;x+=2){_=e[x],R=e[x+1];var A=SD(r,n,i),T=SD(u,f,h),I=$D(r,u),N=$D(u,r),M=ID(o,g),U=ID(g,o),S=CD[x],F=CD[x+1],Q=AD(o,a,l),k=AD(g,m,w),W=y+U|0,V=c+M+Un(W,y)|0;W=W+k|0,V=V+Q+Un(W,k)|0,W=W+F|0,V=V+S+Un(W,F)|0,W=W+R|0,V=V+_+Un(W,R)|0;var ee=N+T|0,te=I+A+Un(ee,N)|0;c=l,y=w,l=a,w=m,a=o,m=g,g=p+W|0,o=s+V+Un(g,p)|0,s=i,p=h,i=n,h=f,n=r,f=u,u=W+ee|0,r=V+te+Un(u,W)|0}this._al=this._al+u|0,this._bl=this._bl+f|0,this._cl=this._cl+h|0,this._dl=this._dl+p|0,this._el=this._el+g|0,this._fl=this._fl+m|0,this._gl=this._gl+w|0,this._hl=this._hl+y|0,this._ah=this._ah+r+Un(this._al,u)|0,this._bh=this._bh+n+Un(this._bl,f)|0,this._ch=this._ch+i+Un(this._cl,h)|0,this._dh=this._dh+s+Un(this._dl,p)|0,this._eh=this._eh+o+Un(this._el,g)|0,this._fh=this._fh+a+Un(this._fl,m)|0,this._gh=this._gh+l+Un(this._gl,w)|0,this._hh=this._hh+c+Un(this._hl,y)|0};Cw.prototype._hash=function(){var t=ZSe.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var bX=Cw,r$e=Po,n$e=bX,i$e=ug,s$e=Gu.Buffer,o$e=new Array(160);function n8(){this.init(),this._w=o$e,i$e.call(this,128,112)}r$e(n8,n$e);n8.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};n8.prototype._hash=function(){var t=s$e.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var a$e=n8;(function(t){t.exports=function(r){var n=r.toLowerCase(),i=t.exports[n];if(!i)throw new Error(n+" is not supported (we accept pull requests)");return new i},t.exports.sha=_Se,t.exports.sha1=PSe,t.exports.sha224=KSe,t.exports.sha256=yX,t.exports.sha384=a$e,t.exports.sha512=bX})(fX);var l$e=fX.exports;Object.defineProperty(e8,"__esModule",{value:!0});e8.WalletLinkSession=void 0;const c$e=l$e,kD=gt,TD="session:id",ND="session:secret",PD="session:linked";class mT{constructor(e,r,n,i){this._storage=e,this._id=r||(0,kD.randomBytesHex)(16),this._secret=n||(0,kD.randomBytesHex)(32),this._key=new c$e.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const r=e.getItem(TD),n=e.getItem(PD),i=e.getItem(ND);return r&&i?new mT(e,r,i,n==="1"):null}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(TD,this._id),this._storage.setItem(ND,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(PD,this._linked?"1":"0")}}e8.WalletLinkSession=mT;var xo={};Object.defineProperty(xo,"__esModule",{value:!0});xo.isDarkMode=xo.isMobileWeb=xo.getLocation=xo.createQrUrl=void 0;function u$e(t,e,r,n,i,s){const o=n?"parent-id":"id",a=new URLSearchParams({[o]:t,secret:e,server:r,v:i,chainId:s.toString()}).toString();return`${r}/#/link?${a}`}xo.createQrUrl=u$e;function d$e(){try{return window.frameElement!==null}catch{return!1}}function f$e(){try{return d$e()&&window.top?window.top.location:window.location}catch{return window.location}}xo.getLocation=f$e;function h$e(){var t;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((t=window==null?void 0:window.navigator)===null||t===void 0?void 0:t.userAgent)}xo.isMobileWeb=h$e;function p$e(){var t,e;return(e=(t=window==null?void 0:window.matchMedia)===null||t===void 0?void 0:t.call(window,"(prefers-color-scheme: dark)").matches)!==null&&e!==void 0?e:!1}xo.isDarkMode=p$e;var i8={},Aw={},yT={};Object.defineProperty(yT,"__esModule",{value:!0});yT.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var g$e=nr&&nr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Aw,"__esModule",{value:!0});Aw.injectCssReset=void 0;const m$e=g$e(yT);function y$e(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(m$e.default)),document.documentElement.appendChild(t)}Aw.injectCssReset=y$e;var wT={};function vX(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=vX(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function RD(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=vX(t))&&(n&&(n+=" "),n+=e);return n}const w$e=Object.freeze(Object.defineProperty({__proto__:null,clsx:RD,default:RD},Symbol.toStringTag,{value:"Module"})),xX=Qh(w$e);var Sw,jr,EX,_X,zf,OD,CX,AX,SX,bT,WA,zA,$X,v2={},IX=[],b$e=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,$w=Array.isArray;function ql(t,e){for(var r in e)t[r]=e[r];return t}function vT(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function HA(t,e,r){var n,i,s,o={};for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?Sw.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return qm(t,o,n,i,null)}function qm(t,e,r,n,i){var s={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++EX,__i:-1,__u:0};return i==null&&jr.vnode!=null&&jr.vnode(s),s}function v$e(){return{current:null}}function Iw(t){return t.children}function Vm(t,e){this.props=t,this.context=e}function E1(t,e){if(e==null)return t.__?E1(t.__,t.__i+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?E1(t):null}function kX(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return kX(t)}}function qA(t){(!t.__d&&(t.__d=!0)&&zf.push(t)&&!j5.__r++||OD!=jr.debounceRendering)&&((OD=jr.debounceRendering)||CX)(j5)}function j5(){for(var t,e,r,n,i,s,o,a=1;zf.length;)zf.length>a&&zf.sort(AX),t=zf.shift(),a=zf.length,t.__d&&(r=void 0,n=void 0,i=(n=(e=t).__v).__e,s=[],o=[],e.__P&&((r=ql({},n)).__v=n.__v+1,jr.vnode&&jr.vnode(r),xT(e.__P,r,n,e.__n,e.__P.namespaceURI,32&n.__u?[i]:null,s,i??E1(n),!!(32&n.__u),o),r.__v=n.__v,r.__.__k[r.__i]=r,RX(s,r,o),n.__e=n.__=null,r.__e!=i&&kX(r)));j5.__r=0}function TX(t,e,r,n,i,s,o,a,l,c,u){var f,h,p,g,m,w,y,E=n&&n.__k||IX,v=e.length;for(l=x$e(r,e,E,l,v),f=0;f<v;f++)(p=r.__k[f])!=null&&(h=p.__i==-1?v2:E[p.__i]||v2,p.__i=f,w=xT(t,p,h,i,s,o,a,l,c,u),g=p.__e,p.ref&&h.ref!=p.ref&&(h.ref&&ET(h.ref,null,p),u.push(p.ref,p.__c||g,p)),m==null&&g!=null&&(m=g),(y=!!(4&p.__u))||h.__k===p.__k?l=NX(p,l,t,y):typeof p.type=="function"&&w!==void 0?l=w:g&&(l=g.nextSibling),p.__u&=-7);return r.__e=m,l}function x$e(t,e,r,n,i){var s,o,a,l,c,u=r.length,f=u,h=0;for(t.__k=new Array(i),s=0;s<i;s++)(o=e[s])!=null&&typeof o!="boolean"&&typeof o!="function"?(typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?o=t.__k[s]=qm(null,o,null,null,null):$w(o)?o=t.__k[s]=qm(Iw,{children:o},null,null,null):o.constructor==null&&o.__b>0?o=t.__k[s]=qm(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):t.__k[s]=o,l=s+h,o.__=t,o.__b=t.__b+1,a=null,(c=o.__i=E$e(o,r,l,f))!=-1&&(f--,(a=r[c])&&(a.__u|=2)),a==null||a.__v==null?(c==-1&&(i>u?h--:i<u&&h++),typeof o.type!="function"&&(o.__u|=4)):c!=l&&(c==l-1?h--:c==l+1?h++:(c>l?h--:h++,o.__u|=4))):t.__k[s]=null;if(f)for(s=0;s<u;s++)(a=r[s])!=null&&!(2&a.__u)&&(a.__e==n&&(n=E1(a)),jX(a,a));return n}function NX(t,e,r,n){var i,s;if(typeof t.type=="function"){for(i=t.__k,s=0;i&&s<i.length;s++)i[s]&&(i[s].__=t,e=NX(i[s],e,r,n));return e}t.__e!=e&&(n&&(e&&t.type&&!e.parentNode&&(e=E1(t)),r.insertBefore(t.__e,e||null)),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function PX(t,e){return e=e||[],t==null||typeof t=="boolean"||($w(t)?t.some(function(r){PX(r,e)}):e.push(t)),e}function E$e(t,e,r,n){var i,s,o,a=t.key,l=t.type,c=e[r],u=c!=null&&(2&c.__u)==0;if(c===null&&a==null||u&&a==c.key&&l==c.type)return r;if(n>(u?1:0)){for(i=r-1,s=r+1;i>=0||s<e.length;)if((c=e[o=i>=0?i--:s++])!=null&&!(2&c.__u)&&a==c.key&&l==c.type)return o}return-1}function jD(t,e,r){e[0]=="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||b$e.test(e)?r:r+"px"}function Gb(t,e,r,n,i){var s,o;e:if(e=="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||jD(t.style,e,"");if(r)for(e in r)n&&r[e]==n[e]||jD(t.style,e,r[e])}else if(e[0]=="o"&&e[1]=="n")s=e!=(e=e.replace(SX,"$1")),o=e.toLowerCase(),e=o in t||e=="onFocusOut"||e=="onFocusIn"?o.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=r,r?n?r.u=n.u:(r.u=bT,t.addEventListener(e,s?zA:WA,s)):t.removeEventListener(e,s?zA:WA,s);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&r==1?"":r))}}function MD(t){return function(e){if(this.l){var r=this.l[e.type+t];if(e.t==null)e.t=bT++;else if(e.t<r.u)return;return r(jr.event?jr.event(e):e)}}}function xT(t,e,r,n,i,s,o,a,l,c){var u,f,h,p,g,m,w,y,E,v,b,$,P,O,D,B,H,q=e.type;if(e.constructor!=null)return null;128&r.__u&&(l=!!(32&r.__u),s=[a=e.__e=r.__e]),(u=jr.__b)&&u(e);e:if(typeof q=="function")try{if(y=e.props,E="prototype"in q&&q.prototype.render,v=(u=q.contextType)&&n[u.__c],b=u?v?v.props.value:u.__:n,r.__c?w=(f=e.__c=r.__c).__=f.__E:(E?e.__c=f=new q(y,b):(e.__c=f=new Vm(y,b),f.constructor=q,f.render=C$e),v&&v.sub(f),f.state||(f.state={}),f.__n=n,h=f.__d=!0,f.__h=[],f._sb=[]),E&&f.__s==null&&(f.__s=f.state),E&&q.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=ql({},f.__s)),ql(f.__s,q.getDerivedStateFromProps(y,f.__s))),p=f.props,g=f.state,f.__v=e,h)E&&q.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),E&&f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(E&&q.getDerivedStateFromProps==null&&y!==p&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(y,b),e.__v==r.__v||!f.__e&&f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(y,f.__s,b)===!1){for(e.__v!=r.__v&&(f.props=y,f.state=f.__s,f.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.some(function(Y){Y&&(Y.__=e)}),$=0;$<f._sb.length;$++)f.__h.push(f._sb[$]);f._sb=[],f.__h.length&&o.push(f);break e}f.componentWillUpdate!=null&&f.componentWillUpdate(y,f.__s,b),E&&f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(p,g,m)})}if(f.context=b,f.props=y,f.__P=t,f.__e=!1,P=jr.__r,O=0,E){for(f.state=f.__s,f.__d=!1,P&&P(e),u=f.render(f.props,f.state,f.context),D=0;D<f._sb.length;D++)f.__h.push(f._sb[D]);f._sb=[]}else do f.__d=!1,P&&P(e),u=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++O<25);f.state=f.__s,f.getChildContext!=null&&(n=ql(ql({},n),f.getChildContext())),E&&!h&&f.getSnapshotBeforeUpdate!=null&&(m=f.getSnapshotBeforeUpdate(p,g)),B=u,u!=null&&u.type===Iw&&u.key==null&&(B=OX(u.props.children)),a=TX(t,$w(B)?B:[B],e,r,n,i,s,o,a,l,c),f.base=e.__e,e.__u&=-161,f.__h.length&&o.push(f),w&&(f.__E=f.__=null)}catch(Y){if(e.__v=null,l||s!=null)if(Y.then){for(e.__u|=l?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;s[s.indexOf(a)]=null,e.__e=a}else{for(H=s.length;H--;)vT(s[H]);VA(e)}else e.__e=r.__e,e.__k=r.__k,Y.then||VA(e);jr.__e(Y,e,r)}else s==null&&e.__v==r.__v?(e.__k=r.__k,e.__e=r.__e):a=e.__e=_$e(r.__e,e,r,n,i,s,o,l,c);return(u=jr.diffed)&&u(e),128&e.__u?void 0:a}function VA(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(VA)}function RX(t,e,r){for(var n=0;n<r.length;n++)ET(r[n],r[++n],r[++n]);jr.__c&&jr.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){jr.__e(s,i.__v)}})}function OX(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:$w(t)?t.map(OX):ql({},t)}function _$e(t,e,r,n,i,s,o,a,l){var c,u,f,h,p,g,m,w=r.props||v2,y=e.props,E=e.type;if(E=="svg"?i="http://www.w3.org/2000/svg":E=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),s!=null){for(c=0;c<s.length;c++)if((p=s[c])&&"setAttribute"in p==!!E&&(E?p.localName==E:p.nodeType==3)){t=p,s[c]=null;break}}if(t==null){if(E==null)return document.createTextNode(y);t=document.createElementNS(i,E,y.is&&y),a&&(jr.__m&&jr.__m(e,s),a=!1),s=null}if(E==null)w===y||a&&t.data==y||(t.data=y);else{if(s=s&&Sw.call(t.childNodes),!a&&s!=null)for(w={},c=0;c<t.attributes.length;c++)w[(p=t.attributes[c]).name]=p.value;for(c in w)if(p=w[c],c!="children"){if(c=="dangerouslySetInnerHTML")f=p;else if(!(c in y)){if(c=="value"&&"defaultValue"in y||c=="checked"&&"defaultChecked"in y)continue;Gb(t,c,null,p,i)}}for(c in y)p=y[c],c=="children"?h=p:c=="dangerouslySetInnerHTML"?u=p:c=="value"?g=p:c=="checked"?m=p:a&&typeof p!="function"||w[c]===p||Gb(t,c,p,w[c],i);if(u)a||f&&(u.__html==f.__html||u.__html==t.innerHTML)||(t.innerHTML=u.__html),e.__k=[];else if(f&&(t.innerHTML=""),TX(e.type=="template"?t.content:t,$w(h)?h:[h],e,r,n,E=="foreignObject"?"http://www.w3.org/1999/xhtml":i,s,o,s?s[0]:r.__k&&E1(r,0),a,l),s!=null)for(c=s.length;c--;)vT(s[c]);a||(c="value",E=="progress"&&g==null?t.removeAttribute("value"):g!=null&&(g!==t[c]||E=="progress"&&!g||E=="option"&&g!=w[c])&&Gb(t,c,g,w[c],i),c="checked",m!=null&&m!=t[c]&&Gb(t,c,m,w[c],i))}return t}function ET(t,e,r){try{if(typeof t=="function"){var n=typeof t.__u=="function";n&&t.__u(),n&&e==null||(t.__u=t(e))}else t.current=e}catch(i){jr.__e(i,r)}}function jX(t,e,r){var n,i;if(jr.unmount&&jr.unmount(t),(n=t.ref)&&(n.current&&n.current!=t.__e||ET(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){jr.__e(s,e)}n.base=n.__P=null}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&jX(n[i],e,r||typeof t.type!="function");r||vT(t.__e),t.__c=t.__=t.__e=void 0}function C$e(t,e,r){return this.constructor(t,r)}function MX(t,e,r){var n,i,s,o;e==document&&(e=document.documentElement),jr.__&&jr.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,s=[],o=[],xT(e,t=(!n&&r||e).__k=HA(Iw,null,[t]),i||v2,v2,e.namespaceURI,!n&&r?[r]:i?null:e.firstChild?Sw.call(e.childNodes):null,s,!n&&r?r:i?i.__e:e.firstChild,n,o),RX(s,t,o)}function DX(t,e){MX(t,e,DX)}function A$e(t,e,r){var n,i,s,o,a=ql({},t.props);for(s in t.type&&t.type.defaultProps&&(o=t.type.defaultProps),e)s=="key"?n=e[s]:s=="ref"?i=e[s]:a[s]=e[s]===void 0&&o!=null?o[s]:e[s];return arguments.length>2&&(a.children=arguments.length>3?Sw.call(arguments,2):r),qm(t.type,a,n||t.key,i||t.ref,null)}function S$e(t){function e(r){var n,i;return this.getChildContext||(n=new Set,(i={})[e.__c]=this,this.getChildContext=function(){return i},this.componentWillUnmount=function(){n=null},this.shouldComponentUpdate=function(s){this.props.value!=s.value&&n.forEach(function(o){o.__e=!0,qA(o)})},this.sub=function(s){n.add(s);var o=s.componentWillUnmount;s.componentWillUnmount=function(){n&&n.delete(s),o&&o.call(s)}}),r.children}return e.__c="__cC"+$X++,e.__=t,e.Provider=e.__l=(e.Consumer=function(r,n){return r.children(n)}).contextType=e,e}Sw=IX.slice,jr={__e:function(t,e,r,n){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},EX=0,_X=function(t){return t!=null&&t.constructor==null},Vm.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=ql({},this.state),typeof t=="function"&&(t=t(ql({},r),this.props)),t&&ql(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),qA(this))},Vm.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),qA(this))},Vm.prototype.render=Iw,zf=[],CX=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,AX=function(t,e){return t.__v.__b-e.__v.__b},j5.__r=0,SX=/(PointerCapture)$|Capture$/i,bT=0,WA=MD(!1),zA=MD(!0),$X=0;const $$e=Object.freeze(Object.defineProperty({__proto__:null,Component:Vm,Fragment:Iw,cloneElement:A$e,createContext:S$e,createElement:HA,createRef:v$e,h:HA,hydrate:DX,get isValidElement(){return _X},get options(){return jr},render:MX,toChildArray:PX},Symbol.toStringTag,{value:"Module"})),LX=Qh($$e);var ju,Tr,j9,DD,_1=0,FX=[],en=jr,LD=en.__b,FD=en.__r,BD=en.diffed,UD=en.__c,WD=en.unmount,zD=en.__;function lp(t,e){en.__h&&en.__h(Tr,t,_1||e),_1=0;var r=Tr.__H||(Tr.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function BX(t){return _1=1,UX(zX,t)}function UX(t,e,r){var n=lp(ju++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):zX(void 0,e),function(a){var l=n.__N?n.__N[0]:n.__[0],c=n.t(l,a);l!==c&&(n.__N=[c,n.__[1]],n.__c.setState({}))}],n.__c=Tr,!Tr.__f)){var i=function(a,l,c){if(!n.__c.__H)return!0;var u=n.__c.__H.__.filter(function(h){return!!h.__c});if(u.every(function(h){return!h.__N}))return!s||s.call(this,a,l,c);var f=n.__c.props!==a;return u.forEach(function(h){if(h.__N){var p=h.__[0];h.__=h.__N,h.__N=void 0,p!==h.__[0]&&(f=!0)}}),s&&s.call(this,a,l,c)||f};Tr.__f=!0;var s=Tr.shouldComponentUpdate,o=Tr.componentWillUpdate;Tr.componentWillUpdate=function(a,l,c){if(this.__e){var u=s;s=void 0,i(a,l,c),s=u}o&&o.call(this,a,l,c)},Tr.shouldComponentUpdate=i}return n.__N||n.__}function I$e(t,e){var r=lp(ju++,3);!en.__s&&CT(r.__H,e)&&(r.__=t,r.u=e,Tr.__H.__h.push(r))}function WX(t,e){var r=lp(ju++,4);!en.__s&&CT(r.__H,e)&&(r.__=t,r.u=e,Tr.__h.push(r))}function k$e(t){return _1=5,_T(function(){return{current:t}},[])}function T$e(t,e,r){_1=6,WX(function(){if(typeof t=="function"){var n=t(e());return function(){t(null),n&&typeof n=="function"&&n()}}if(t)return t.current=e(),function(){return t.current=null}},r==null?r:r.concat(t))}function _T(t,e){var r=lp(ju++,7);return CT(r.__H,e)&&(r.__=t(),r.__H=e,r.__h=t),r.__}function N$e(t,e){return _1=8,_T(function(){return t},e)}function P$e(t){var e=Tr.context[t.__c],r=lp(ju++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(Tr)),e.props.value):t.__}function R$e(t,e){en.useDebugValue&&en.useDebugValue(e?e(t):t)}function O$e(t){var e=lp(ju++,10),r=BX();return e.__=t,Tr.componentDidCatch||(Tr.componentDidCatch=function(n,i){e.__&&e.__(n,i),r[1](n)}),[r[0],function(){r[1](void 0)}]}function j$e(){var t=lp(ju++,11);if(!t.__){for(var e=Tr.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var r=e.__m||(e.__m=[0,0]);t.__="P"+r[0]+"-"+r[1]++}return t.__}function M$e(){for(var t;t=FX.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(u3),t.__H.__h.forEach(GA),t.__H.__h=[]}catch(e){t.__H.__h=[],en.__e(e,t.__v)}}en.__b=function(t){Tr=null,LD&&LD(t)},en.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),zD&&zD(t,e)},en.__r=function(t){FD&&FD(t),ju=0;var e=(Tr=t.__c).__H;e&&(j9===Tr?(e.__h=[],Tr.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.u=r.__N=void 0})):(e.__h.forEach(u3),e.__h.forEach(GA),e.__h=[],ju=0)),j9=Tr},en.diffed=function(t){BD&&BD(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(FX.push(e)!==1&&DD===en.requestAnimationFrame||((DD=en.requestAnimationFrame)||D$e)(M$e)),e.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.u=void 0})),j9=Tr=null},en.__c=function(t,e){e.some(function(r){try{r.__h.forEach(u3),r.__h=r.__h.filter(function(n){return!n.__||GA(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],en.__e(n,r.__v)}}),UD&&UD(t,e)},en.unmount=function(t){WD&&WD(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{u3(n)}catch(i){e=i}}),r.__H=void 0,e&&en.__e(e,r.__v))};var HD=typeof requestAnimationFrame=="function";function D$e(t){var e,r=function(){clearTimeout(n),HD&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,35);HD&&(e=requestAnimationFrame(r))}function u3(t){var e=Tr,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),Tr=e}function GA(t){var e=Tr;t.__c=t.__(),Tr=e}function CT(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function zX(t,e){return typeof e=="function"?e(t):e}const L$e=Object.freeze(Object.defineProperty({__proto__:null,useCallback:N$e,useContext:P$e,useDebugValue:R$e,useEffect:I$e,useErrorBoundary:O$e,useId:j$e,useImperativeHandle:T$e,useLayoutEffect:WX,useMemo:_T,useReducer:UX,useRef:k$e,useState:BX},Symbol.toStringTag,{value:"Module"})),F$e=Qh(L$e);var AT={};Object.defineProperty(AT,"__esModule",{value:!0});AT.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=nr&&nr.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const r=e(xX),n=LX,i=F$e,s=xo,o=e(AT),a="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",l="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class c{constructor(){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=(0,s.isDarkMode)()}attach(p){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",p.appendChild(this.root),this.render()}presentItem(p){const g=this.nextItemKey++;return this.items.set(g,p),this.render(),()=>{this.items.delete(g),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,n.render)((0,n.h)("div",null,(0,n.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([p,g])=>(0,n.h)(t.SnackbarInstance,Object.assign({},g,{key:p}))))),this.root)}}t.Snackbar=c;const u=h=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,o.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},h.children));t.SnackbarContainer=u;const f=({autoExpand:h,message:p,menuItems:g})=>{const[m,w]=(0,i.useState)(!0),[y,E]=(0,i.useState)(h??!1);(0,i.useEffect)(()=>{const b=[window.setTimeout(()=>{w(!1)},1),window.setTimeout(()=>{E(!0)},1e4)];return()=>{b.forEach(window.clearTimeout)}});const v=()=>{E(!y)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",m&&"-cbwsdk-snackbar-instance-hidden",y&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:v},(0,n.h)("img",{src:a,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},p),(0,n.h)("div",{class:"-gear-container"},!y&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:l,class:"-gear-icon",title:"Expand"}))),g&&g.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},g.map((b,$)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",b.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:b.onClick,key:$},(0,n.h)("svg",{width:b.svgWidth,height:b.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":b.defaultFillRule,"clip-rule":b.defaultClipRule,d:b.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",b.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},b.info)))))};t.SnackbarInstance=f})(wT);Object.defineProperty(i8,"__esModule",{value:!0});i8.WalletLinkRelayUI=void 0;const B$e=Aw,U$e=wT;class W$e{constructor(){this.attached=!1,this.snackbar=new U$e.Snackbar}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.snackbar.attach(r),this.attached=!0,(0,B$e.injectCssReset)()}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}}i8.WalletLinkRelayUI=W$e;var s8={},o8={},ST={};Object.defineProperty(ST,"__esModule",{value:!0});ST.default=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}";var HX=nr&&nr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o8,"__esModule",{value:!0});o8.RedirectDialog=void 0;const z$e=HX(xX),Rl=LX,H$e=Aw,q$e=wT,V$e=xo,G$e=HX(ST);class K$e{constructor(){this.root=null,this.darkMode=(0,V$e.isDarkMode)()}attach(){const e=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",e.appendChild(this.root),(0,H$e.injectCssReset)()}present(e){this.render(e)}clear(){this.render(null)}render(e){this.root&&((0,Rl.render)(null,this.root),e&&(0,Rl.render)((0,Rl.h)(Y$e,Object.assign({},e,{onDismiss:()=>{this.clear()},darkMode:this.darkMode})),this.root))}}o8.RedirectDialog=K$e;const Y$e=({title:t,buttonText:e,darkMode:r,onButtonClick:n,onDismiss:i})=>{const s=r?"dark":"light";return(0,Rl.h)(q$e.SnackbarContainer,{darkMode:r},(0,Rl.h)("div",{class:"-cbwsdk-redirect-dialog"},(0,Rl.h)("style",null,G$e.default),(0,Rl.h)("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:i}),(0,Rl.h)("div",{class:(0,z$e.default)("-cbwsdk-redirect-dialog-box",s)},(0,Rl.h)("p",null,t),(0,Rl.h)("button",{onClick:n},e))))};var tc={};Object.defineProperty(tc,"__esModule",{value:!0});tc.CBW_MOBILE_DEEPLINK_URL=tc.WALLETLINK_URL=tc.CB_KEYS_URL=void 0;tc.CB_KEYS_URL="https://keys.coinbase.com/connect";tc.WALLETLINK_URL="https://www.walletlink.org";tc.CBW_MOBILE_DEEPLINK_URL="https://go.cb-w.com/walletlink";Object.defineProperty(s8,"__esModule",{value:!0});s8.WLMobileRelayUI=void 0;const Z$e=o8,J$e=xo,Q$e=tc;class X$e{constructor(){this.attached=!1,this.redirectDialog=new Z$e.RedirectDialog}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}redirectToCoinbaseWallet(e){const r=new URL(Q$e.CBW_MOBILE_DEEPLINK_URL);r.searchParams.append("redirect_url",(0,J$e.getLocation)().href),e&&r.searchParams.append("wl_url",e);const n=document.createElement("a");n.target="cbw-opener",n.href=r.href,n.rel="noreferrer noopener",n.click()}openCoinbaseWalletDeeplink(e){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",onButtonClick:()=>{this.redirectToCoinbaseWallet(e)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(e)},99)}showConnecting(e){return()=>{this.redirectDialog.clear()}}}s8.WLMobileRelayUI=X$e;Object.defineProperty(Z4,"__esModule",{value:!0});Z4.WalletLinkRelay=void 0;const eIe=J4,tIe=ec,rIe=vw,M9=e8,Rp=sg,nIe=xo,iIe=i8,qD=s8,sIe=vc,fn=gt,oIe=xc;class Qc{constructor(e){this.accountsCallback=null,this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.chainCallback=null,this.dappDefaultChain=1,this.isMobileWeb=(0,nIe.isMobileWeb)(),this.appName="",this.appLogoUrl=null,this.linkedUpdated=s=>{this.isLinked=s;const o=this.storage.getItem(tIe.LOCAL_STORAGE_ADDRESSES_KEY);if(s&&(this._session.linked=s),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),l=this.storage.getItem("IsStandaloneSigning")==="true";a[0]!==""&&!s&&this._session.linked&&!l&&(this.isUnlinkedErrorState=!0)}},this.metadataUpdated=(s,o)=>{this.storage.setItem(s,o)},this.chainUpdated=(s,o)=>{this.chainCallbackParams.chainId===s&&this.chainCallbackParams.jsonRpcUrl===o||(this.chainCallbackParams={chainId:s,jsonRpcUrl:o},this.chainCallback&&this.chainCallback(s,o))},this.accountUpdated=s=>{this.accountsCallback&&this.accountsCallback([s]),Qc.accountRequestCallbackIds.size>0&&(Array.from(Qc.accountRequestCallbackIds.values()).forEach(o=>{const a={type:"WEB3_RESPONSE",id:o,response:{method:"requestEthereumAccounts",result:[s]}};this.invokeCallback(Object.assign(Object.assign({},a),{id:o}))}),Qc.accountRequestCallbackIds.clear())},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage;const{session:r,ui:n,connection:i}=this.subscribe();this._session=r,this.connection=i,this.relayEventManager=new rIe.RelayEventManager,this.ui=n}subscribe(){const e=M9.WalletLinkSession.load(this.storage)||new M9.WalletLinkSession(this.storage).save(),{linkAPIUrl:r}=this,n=new eIe.WalletLinkConnection({session:e,linkAPIUrl:r,listener:this}),i=this.isMobileWeb?new qD.WLMobileRelayUI:new iIe.WalletLinkRelayUI;return n.connect(),{session:e,ui:i,connection:n}}attachUI(){this.ui.attach()}resetAndReload(){Promise.race([this.connection.setSessionMetadata("__destroyed","1"),new Promise(e=>setTimeout(()=>e(null),1e3))]).then(()=>{this.connection.destroy();const e=M9.WalletLinkSession.load(this.storage);(e==null?void 0:e.id)===this._session.id&&oIe.ScopedLocalStorage.clearAll(),document.location.reload()}).catch(e=>{})}setAppInfo(e,r){this.appName=e,this.appLogoUrl=r}getStorageItem(e){return this.storage.getItem(e)}setStorageItem(e,r){this.storage.setItem(e,r)}signEthereumMessage(e,r,n,i){return this.sendRequest({method:"signEthereumMessage",params:{message:(0,fn.hexStringFromBuffer)(e,!0),address:r,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,r,n){return this.sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:(0,fn.hexStringFromBuffer)(e,!0),signature:(0,fn.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,fn.bigIntStringFromBigInt)(e.weiValue),data:(0,fn.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,fn.bigIntStringFromBigInt)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,fn.bigIntStringFromBigInt)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,fn.bigIntStringFromBigInt)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,fn.bigIntStringFromBigInt)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,fn.bigIntStringFromBigInt)(e.weiValue),data:(0,fn.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,fn.bigIntStringFromBigInt)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,fn.bigIntStringFromBigInt)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,fn.bigIntStringFromBigInt)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,fn.bigIntStringFromBigInt)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:(0,fn.hexStringFromBuffer)(e,!0),chainId:r}})}scanQRCode(e){return this.sendRequest({method:"scanQRCode",params:{regExp:e}})}getWalletLinkSession(){return this._session}genericRequest(e,r){return this.sendRequest({method:"generic",params:{action:r,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let r=null;const n=(0,fn.randomBytesHex)(8),i=s=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,s),r==null||r()};return new Promise((s,o)=>{r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload}),this.relayEventManager.callbacks.set(n,a=>{if(r==null||r(),(0,Rp.isErrorResponse)(a))return o(new Error(a.errorMessage));s(a)}),this.publishWeb3RequestEvent(n,e)})}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChain=e}publishWeb3RequestEvent(e,r){const n={type:"WEB3_REQUEST",id:e,request:r};this.publishEvent("Web3Request",n,!0).then(i=>{}).catch(i=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:n.id,response:{method:r.method,errorMessage:i.message}})}),this.isMobileWeb&&this.openCoinbaseWalletDeeplink(r.method)}openCoinbaseWalletDeeplink(e){if(this.ui instanceof qD.WLMobileRelayUI)switch(e){case"requestEthereumAccounts":case"switchEthereumChain":return;default:window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0}),this.ui.openCoinbaseWalletDeeplink();break}}publishWeb3RequestCanceledEvent(e){const r={type:"WEB3_REQUEST_CANCELED",id:e};this.publishEvent("Web3RequestCanceled",r,!1).then()}publishEvent(e,r,n){return this.connection.publishEvent(e,r,n)}handleWeb3ResponseMessage(e){const{response:r}=e;if(r.method==="requestEthereumAccounts"){Qc.accountRequestCallbackIds.forEach(n=>this.invokeCallback(Object.assign(Object.assign({},e),{id:n}))),Qc.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,r,n){var i;const s=(i=n==null?void 0:n.message)!==null&&i!==void 0?i:"Unspecified error message.";this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:e,response:{method:r,errorMessage:s}})}invokeCallback(e){const r=this.relayEventManager.callbacks.get(e.id);r&&(r(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:"requestEthereumAccounts",params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,fn.randomBytesHex)(8);return new Promise((n,i)=>{this.relayEventManager.callbacks.set(r,s=>{if((0,Rp.isErrorResponse)(s))return i(new Error(s.errorMessage));n(s)}),Qc.accountRequestCallbackIds.add(r),this.publishWeb3RequestEvent(r,e)})}watchAsset(e,r,n,i,s,o){const a={method:"watchAsset",params:{type:e,options:{address:r,symbol:n,decimals:i,image:s},chainId:o}};let l=null;const c=(0,fn.randomBytesHex)(8),u=f=>{this.publishWeb3RequestCanceledEvent(c),this.handleErrorResponse(c,a.method,f),l==null||l()};return l=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload}),new Promise((f,h)=>{this.relayEventManager.callbacks.set(c,p=>{if(l==null||l(),(0,Rp.isErrorResponse)(p))return h(new Error(p.errorMessage));f(p)}),this.publishWeb3RequestEvent(c,a)})}addEthereumChain(e,r,n,i,s,o){const a={method:"addEthereumChain",params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:o}};let l=null;const c=(0,fn.randomBytesHex)(8),u=f=>{this.publishWeb3RequestCanceledEvent(c),this.handleErrorResponse(c,a.method,f),l==null||l()};return l=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload}),new Promise((f,h)=>{this.relayEventManager.callbacks.set(c,p=>{if(l==null||l(),(0,Rp.isErrorResponse)(p))return h(new Error(p.errorMessage));f(p)}),this.publishWeb3RequestEvent(c,a)})}switchEthereumChain(e,r){const n={method:"switchEthereumChain",params:Object.assign({chainId:e},{address:r})},i=(0,fn.randomBytesHex)(8);return new Promise((s,o)=>{this.relayEventManager.callbacks.set(i,a=>{if((0,Rp.isErrorResponse)(a)&&a.errorCode)return o(sIe.standardErrors.provider.custom({code:a.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if((0,Rp.isErrorResponse)(a))return o(new Error(a.errorMessage));s(a)}),this.publishWeb3RequestEvent(i,n)})}}Z4.WalletLinkRelay=Qc;Qc.accountRequestCallbackIds=new Set;var aIe=nr&&nr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(W4,"__esModule",{value:!0});W4.WalletLinkSigner=void 0;const D9=aIe(HAe),VD=ec,lIe=vw,Tc=sg,cIe=Z4,GD=tc,Wn=vc,rr=gt,uIe=xc,L9="DefaultChainId",KD="DefaultJsonRpcUrl";class dIe{constructor(e){var r,n;this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1;const{appName:i,appLogoUrl:s}=e.metadata;this._appName=i,this._appLogoUrl=s,this._storage=new uIe.ScopedLocalStorage("walletlink",GD.WALLETLINK_URL),this.updateListener=e.updateListener,this._relayEventManager=new lIe.RelayEventManager,this._jsonRpcUrlFromOpts="";const o=this._storage.getItem(VD.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const l=o.split(" ");l[0]!==""&&(this._addresses=l.map(c=>(0,rr.ensureAddressString)(c)),(r=this.updateListener)===null||r===void 0||r.onAccountsUpdate({accounts:this._addresses,source:"storage"}))}this._storage.getItem(L9)&&((n=this.updateListener)===null||n===void 0||n.onChainUpdate({chain:{id:this.getChainId(),rpcUrl:this.jsonRpcUrl},source:"storage"}),this.hasMadeFirstChainChangedEmission=!0),this.initializeRelay()}getSession(){const e=this.initializeRelay(),{id:r,secret:n}=e.getWalletLinkSession();return{id:r,secret:n}}async handshake(){return await this.request({method:"eth_requestAccounts"})}get selectedAddress(){return this._addresses[0]||void 0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(KD))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(KD,e)}updateProviderInfo(e,r){var n;this.jsonRpcUrl=e;const i=this.getChainId();this._storage.setItem(L9,r.toString(10)),((0,rr.ensureIntNumber)(r)!==i||!this.hasMadeFirstChainChangedEmission)&&((n=this.updateListener)===null||n===void 0||n.onChainUpdate({chain:{id:r,rpcUrl:e},source:"wallet"}),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,r,n,i,s,o){const l=await this.initializeRelay().watchAsset(e,r,n,i,s,o==null?void 0:o.toString());return(0,Tc.isErrorResponse)(l)?!1:!!l.result}async addEthereumChain(e,r,n,i,s,o){var a,l;if((0,rr.ensureIntNumber)(e)===this.getChainId())return!1;const c=this.initializeRelay();this._isAuthorized()||await c.requestEthereumAccounts();const u=await c.addEthereumChain(e.toString(),r,s,n,i,o);return(0,Tc.isErrorResponse)(u)?!1:(((a=u.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(r[0],e),((l=u.result)===null||l===void 0?void 0:l.isApproved)===!0)}async switchEthereumChain(e){const n=await this.initializeRelay().switchEthereumChain(e.toString(10),this.selectedAddress||void 0);if((0,Tc.isErrorResponse)(n)){if(!n.errorCode)return;throw n.errorCode===Wn.standardErrorCodes.provider.unsupportedChain?Wn.standardErrors.provider.unsupportedChain():Wn.standardErrors.provider.custom({message:n.errorMessage,code:n.errorCode})}const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}async disconnect(){this._relay&&this._relay.resetAndReload(),this._storage.clear()}async request(e){try{return this._request(e).catch(r=>{throw r})}catch(r){return Promise.reject(r)}}async _request(e){if(!e||typeof e!="object"||Array.isArray(e))throw Wn.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:r,params:n}=e;if(typeof r!="string"||r.length===0)throw Wn.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw Wn.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=n===void 0?[]:n,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:i,jsonrpc:"2.0",id:s})).result}_setAddresses(e,r){var n;if(!Array.isArray(e))throw new Error("addresses is not an array");const i=e.map(s=>(0,rr.ensureAddressString)(s));JSON.stringify(i)!==JSON.stringify(this._addresses)&&(this._addresses=i,(n=this.updateListener)===null||n===void 0||n.onAccountsUpdate({accounts:i,source:"wallet"}),this._storage.setItem(VD.LOCAL_STORAGE_ADDRESSES_KEY,i.join(" ")))}_sendRequestAsync(e){return new Promise((r,n)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return r({jsonrpc:"2.0",id:e.id,result:i})}catch(i){return n(i)}this._handleAsynchronousMethods(e).then(i=>i&&r(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>n(i))})}_handleSynchronousMethods(e){const{method:r}=e;switch(r){case"eth_accounts":return this._eth_accounts();case"eth_coinbase":return this._eth_coinbase();case"net_version":return this._net_version();case"eth_chainId":return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_sign":return this._eth_sign(n);case"eth_ecRecover":return this._eth_ecRecover(n);case"personal_sign":return this._personal_sign(n);case"personal_ecRecover":return this._personal_ecRecover(n);case"eth_signTransaction":return this._eth_signTransaction(n);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(n);case"eth_sendTransaction":return this._eth_sendTransaction(n);case"eth_signTypedData_v1":return this._eth_signTypedData_v1(n);case"eth_signTypedData_v2":return this._throwUnsupportedMethodError();case"eth_signTypedData_v3":return this._eth_signTypedData_v3(n);case"eth_signTypedData_v4":case"eth_signTypedData":return this._eth_signTypedData_v4(n);case"wallet_addEthereumChain":return this._wallet_addEthereumChain(n);case"wallet_switchEthereumChain":return this._wallet_switchEthereumChain(n);case"wallet_watchAsset":return this._wallet_watchAsset(n);default:return this._throwUnsupportedMethodError()}}_isKnownAddress(e){try{const r=(0,rr.ensureAddressString)(e);return this._addresses.map(i=>(0,rr.ensureAddressString)(i)).includes(r)}catch{}return!1}_ensureKnownAddress(e){if(!this._isKnownAddress(e))throw new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?(0,rr.ensureAddressString)(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?(0,rr.ensureAddressString)(e.to):null,i=e.value!=null?(0,rr.ensureBigInt)(e.value):BigInt(0),s=e.data?(0,rr.ensureBuffer)(e.data):Ke.alloc(0),o=e.nonce!=null?(0,rr.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,rr.ensureBigInt)(e.gasPrice):null,l=e.maxFeePerGas!=null?(0,rr.ensureBigInt)(e.maxFeePerGas):null,c=e.maxPriorityFeePerGas!=null?(0,rr.ensureBigInt)(e.maxPriorityFeePerGas):null,u=e.gas!=null?(0,rr.ensureBigInt)(e.gas):null,f=e.chainId?(0,rr.ensureIntNumber)(e.chainId):this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:l,maxPriorityFeePerGas:c,gasLimit:u,chainId:f}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw Wn.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw Wn.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,r,n,i){this._ensureKnownAddress(r);try{const o=await this.initializeRelay().signEthereumMessage(e,r,n,i);if((0,Tc.isErrorResponse)(o))throw new Error(o.errorMessage);return{jsonrpc:"2.0",id:0,result:o.result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?Wn.standardErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(e,r,n){const s=await this.initializeRelay().ethereumAddressFromSignedMessage(e,r,n);if((0,Tc.isErrorResponse)(s))throw new Error(s.errorMessage);return{jsonrpc:"2.0",id:0,result:s.result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,rr.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(L9);if(!e)return(0,rr.ensureIntNumber)(1);const r=parseInt(e,10);return(0,rr.ensureIntNumber)(r)}async _eth_requestAccounts(){if(this._isAuthorized())return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let e;try{if(e=await this.initializeRelay().requestEthereumAccounts(),(0,Tc.isErrorResponse)(e))throw new Error(e.errorMessage)}catch(r){throw typeof r.message=="string"&&r.message.match(/(denied|rejected)/i)?Wn.standardErrors.provider.userRejectedRequest("User denied account authorization"):r}if(!e.result)throw new Error("accounts received is empty");return this._setAddresses(e.result),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const r=(0,rr.ensureAddressString)(e[0]),n=(0,rr.ensureBuffer)(e[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(e){const r=(0,rr.ensureBuffer)(e[0]),n=(0,rr.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(e){this._requireAuthorization();const r=(0,rr.ensureBuffer)(e[0]),n=(0,rr.ensureAddressString)(e[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(e){const r=(0,rr.ensureBuffer)(e[0]),n=(0,rr.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{const i=await this.initializeRelay().signEthereumTransaction(r);if((0,Tc.isErrorResponse)(i))throw new Error(i.errorMessage);return{jsonrpc:"2.0",id:0,result:i.result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?Wn.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(e){const r=(0,rr.ensureBuffer)(e[0]),i=await this.initializeRelay().submitEthereumTransaction(r,this.getChainId());if((0,Tc.isErrorResponse)(i))throw new Error(i.errorMessage);return{jsonrpc:"2.0",id:0,result:i.result}}async _eth_sendTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{const i=await this.initializeRelay().signAndSubmitEthereumTransaction(r);if((0,Tc.isErrorResponse)(i))throw new Error(i.errorMessage);return{jsonrpc:"2.0",id:0,result:i.result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?Wn.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(e){this._requireAuthorization();const r=(0,rr.ensureParsedJSONObject)(e[0]),n=(0,rr.ensureAddressString)(e[1]);this._ensureKnownAddress(n);const i=D9.default.hashForSignTypedDataLegacy({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const r=(0,rr.ensureAddressString)(e[0]),n=(0,rr.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=D9.default.hashForSignTypedData_v3({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const r=(0,rr.ensureAddressString)(e[0]),n=(0,rr.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=D9.default.hashForSignTypedData_v4({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _wallet_addEthereumChain(e){var r,n,i,s;const o=e[0];if(((r=o.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw Wn.standardErrors.rpc.invalidParams("chainName is a required field");if(!o.nativeCurrency)throw Wn.standardErrors.rpc.invalidParams("nativeCurrency is a required field");const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(n=o.rpcUrls)!==null&&n!==void 0?n:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const r=e[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw Wn.standardErrors.rpc.invalidParams("Type is required");if((r==null?void 0:r.type)!=="ERC20")throw Wn.standardErrors.rpc.invalidParams(`Asset of type '${r.type}' is not supported`);if(!(r!=null&&r.options))throw Wn.standardErrors.rpc.invalidParams("Options are required");if(!(r!=null&&r.options.address))throw Wn.standardErrors.rpc.invalidParams("Address is required");const n=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,i,s,a,o,n)}}initializeRelay(){if(!this._relay){const e=new cIe.WalletLinkRelay({linkAPIUrl:GD.WALLETLINK_URL,storage:this._storage});e.setAppInfo(this._appName,this._appLogoUrl),e.attachUI(),e.setAccountsCallback((r,n)=>this._setAddresses(r,n)),e.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),this._relay=e}return this._relay}}W4.WalletLinkSigner=dIe;var ia={};Object.defineProperty(ia,"__esModule",{value:!0});ia.checkErrorForInvalidRequestArgs=ia.getCoinbaseInjectedProvider=ia.getCoinbaseInjectedSigner=ia.fetchRPCRequest=void 0;const fIe=sp,d3=vc;async function hIe(t,e){if(!e.rpcUrl)throw d3.standardErrors.rpc.internal("No RPC URL set for chain");const r=Object.assign(Object.assign({},t),{jsonrpc:"2.0",id:crypto.randomUUID()});return(await(await window.fetch(e.rpcUrl,{method:"POST",body:JSON.stringify(r),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":fIe.LIB_VERSION}})).json()).result}ia.fetchRPCRequest=hIe;function qX(){return globalThis.coinbaseWalletSigner}ia.getCoinbaseInjectedSigner=qX;function pIe({metadata:t,preference:e}){var r,n,i;const s=globalThis;if(e.options!=="smartWalletOnly"){if(qX())return;const l=s.coinbaseWalletExtension;if(l){const{appName:c,appLogoUrl:u,appChainIds:f}=t;return(r=l.setAppInfo)===null||r===void 0||r.call(l,c,u,f),l}}const o=(n=s.ethereum)!==null&&n!==void 0?n:(i=s.top)===null||i===void 0?void 0:i.ethereum;if(o!=null&&o.isCoinbaseBrowser)return o}ia.getCoinbaseInjectedProvider=pIe;function gIe(t){if(!t||typeof t!="object"||Array.isArray(t))return d3.standardErrors.rpc.invalidParams({message:"Expected a single, non-array, object argument.",data:t});const{method:e,params:r}=t;if(typeof e!="string"||e.length===0)return d3.standardErrors.rpc.invalidParams({message:"'args.method' must be a non-empty string.",data:t});if(r!==void 0&&!Array.isArray(r)&&(typeof r!="object"||r===null))return d3.standardErrors.rpc.invalidParams({message:"'args.params' must be an object or array if provided.",data:t})}ia.checkErrorForInvalidRequestArgs=gIe;Object.defineProperty(Hl,"__esModule",{value:!0});Hl.createSigner=Hl.fetchSignerType=Hl.storeSignerType=Hl.loadSignerType=void 0;const mIe=F4,VX=W4,yIe=vc,wIe=ia,bIe=xc,GX="SignerType",KX=new bIe.ScopedLocalStorage("CBWSDK","SignerConfigurator");function vIe(){return KX.getItem(GX)}Hl.loadSignerType=vIe;function xIe(t){KX.setItem(GX,t)}Hl.storeSignerType=xIe;async function EIe(t){const{communicator:e,metadata:r}=t;CIe(e,r).catch(()=>{});const n={id:crypto.randomUUID(),event:"selectSignerType",data:t.preference},{data:i}=await e.postRequestAndWaitForResponse(n);return i}Hl.fetchSignerType=EIe;function _Ie(t){const{signerType:e,metadata:r,communicator:n,updateListener:i}=t;switch(e){case"scw":return new mIe.SCWSigner({metadata:r,updateListener:i,communicator:n});case"walletlink":return new VX.WalletLinkSigner({metadata:r,updateListener:i});case"extension":{const s=(0,wIe.getCoinbaseInjectedSigner)();if(!s)throw yIe.standardErrors.rpc.internal("injected signer not found");return s}}}Hl.createSigner=_Ie;async function CIe(t,e){await t.onMessage(({event:n})=>n==="WalletLinkSessionRequest");const r=new VX.WalletLinkSigner({metadata:e});t.postMessage({event:"WalletLinkUpdate",data:{session:r.getSession()}}),await r.handshake(),t.postMessage({event:"WalletLinkUpdate",data:{connected:!0}})}var a8={},C1={};Object.defineProperty(C1,"__esModule",{value:!0});C1.closePopup=C1.openPopup=void 0;const AIe=vc,YD=420,ZD=540;function SIe(t){const e=(window.innerWidth-YD)/2+window.screenX,r=(window.innerHeight-ZD)/2+window.screenY,n=window.open(t,"Smart Wallet",`width=${YD}, height=${ZD}, left=${e}, top=${r}`);if(n==null||n.focus(),!n)throw AIe.standardErrors.rpc.internal("Pop up window failed to open");return n}C1.openPopup=SIe;function $Ie(t){t&&!t.closed&&t.close()}C1.closePopup=$Ie;Object.defineProperty(a8,"__esModule",{value:!0});a8.Communicator=void 0;const IIe=sp,JD=C1,kIe=tc,QD=vc;class TIe{constructor(e=kIe.CB_KEYS_URL){this.popup=null,this.listeners=new Map,this.postMessage=async r=>{(await this.waitForPopupLoaded()).postMessage(r,this.url.origin)},this.postRequestAndWaitForResponse=async r=>{const n=this.onMessage(({requestId:i})=>i===r.id);return this.postMessage(r),await n},this.onMessage=async r=>new Promise((n,i)=>{const s=o=>{if(o.origin!==this.url.origin)return;const a=o.data;r(a)&&(n(a),window.removeEventListener("message",s),this.listeners.delete(s))};window.addEventListener("message",s),this.listeners.set(s,{reject:i})}),this.disconnect=()=>{(0,JD.closePopup)(this.popup),this.popup=null,this.listeners.forEach(({reject:r},n)=>{r(QD.standardErrors.provider.userRejectedRequest("Request rejected")),window.removeEventListener("message",n)}),this.listeners.clear()},this.waitForPopupLoaded=async()=>this.popup&&!this.popup.closed?this.popup:(this.popup=(0,JD.openPopup)(this.url),this.onMessage(({event:r})=>r==="PopupUnload").then(this.disconnect).catch(()=>{}),this.onMessage(({event:r})=>r==="PopupLoaded").then(r=>{this.postMessage({requestId:r.id,data:{version:IIe.LIB_VERSION}})}).then(()=>{if(!this.popup)throw QD.standardErrors.rpc.internal();return this.popup})),this.url=new URL(e)}}a8.Communicator=TIe;var l8={};Object.defineProperty(l8,"__esModule",{value:!0});l8.determineMethodCategory=void 0;const XD={handshake:["eth_requestAccounts"],sign:["eth_ecRecover","personal_sign","personal_ecRecover","eth_signTransaction","eth_sendTransaction","eth_signTypedData_v1","eth_signTypedData_v3","eth_signTypedData_v4","eth_signTypedData","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_watchAsset","wallet_getCapabilities","wallet_sendCalls","wallet_showCallsStatus"],state:["eth_chainId","eth_accounts","eth_coinbase","net_version"],deprecated:["eth_sign","eth_signTypedData_v2"],unsupported:["eth_subscribe","eth_unsubscribe"],fetch:[]};function NIe(t){for(const e in XD){const r=e;if(XD[r].includes(t))return r}}l8.determineMethodCategory=NIe;var PIe=nr&&nr.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},RIe=nr&&nr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(j4,"__esModule",{value:!0});j4.CoinbaseWalletProvider=void 0;const OIe=RIe(d7e),Op=vc,jIe=D4,Kb=Hi,Hg=gt,Yb=Hl,eL=ia,MIe=a8,DIe=l8,LIe=xc;class FIe extends OIe.default{constructor(e){var r,n,{metadata:i}=e,s=e.preference,{keysUrl:o}=s,a=PIe(s,["keysUrl"]);super(),this.accounts=[],this.handlers={handshake:async c=>{try{if(this.connected)return this.emit("connect",{chainId:(0,Hg.hexStringFromIntNumber)((0,Kb.IntNumber)(this.chain.id))}),this.accounts;const u=await this.requestSignerSelection(),f=this.initSigner(u),h=await f.handshake();return this.signer=f,(0,Yb.storeSignerType)(u),this.emit("connect",{chainId:(0,Hg.hexStringFromIntNumber)((0,Kb.IntNumber)(this.chain.id))}),h}catch(u){throw this.handleUnauthorizedError(u),u}},sign:async c=>{if(!this.connected||!this.signer)throw Op.standardErrors.provider.unauthorized("Must call 'eth_requestAccounts' before other methods");try{return await this.signer.request(c)}catch(u){throw this.handleUnauthorizedError(u),u}},fetch:c=>(0,eL.fetchRPCRequest)(c,this.chain),state:c=>{const u=()=>{if(this.connected)return this.accounts;throw Op.standardErrors.provider.unauthorized("Must call 'eth_requestAccounts' before other methods")};switch(c.method){case"eth_chainId":return(0,Hg.hexStringFromIntNumber)((0,Kb.IntNumber)(this.chain.id));case"net_version":return this.chain.id;case"eth_accounts":return u();case"eth_coinbase":return u()[0];default:return this.handlers.unsupported(c)}},deprecated:({method:c})=>{throw Op.standardErrors.rpc.methodNotSupported(`Method ${c} is deprecated.`)},unsupported:({method:c})=>{throw Op.standardErrors.rpc.methodNotSupported(`Method ${c} is not supported.`)}},this.isCoinbaseWallet=!0,this.updateListener={onAccountsUpdate:({accounts:c,source:u})=>{(0,Hg.areAddressArraysEqual)(this.accounts,c)||(this.accounts=c,u!=="storage"&&this.emit("accountsChanged",this.accounts))},onChainUpdate:({chain:c,source:u})=>{c.id===this.chain.id&&c.rpcUrl===this.chain.rpcUrl||(this.chain=c,u!=="storage"&&this.emit("chainChanged",(0,Hg.hexStringFromIntNumber)((0,Kb.IntNumber)(c.id))))}},this.metadata=i,this.preference=a,this.communicator=new MIe.Communicator(o),this.chain={id:(n=(r=i.appChainIds)===null||r===void 0?void 0:r[0])!==null&&n!==void 0?n:1};const l=(0,Yb.loadSignerType)();this.signer=l?this.initSigner(l):null}get connected(){return this.accounts.length>0}async request(e){var r;try{const n=(0,eL.checkErrorForInvalidRequestArgs)(e);if(n)throw n;const i=(r=(0,DIe.determineMethodCategory)(e.method))!==null&&r!==void 0?r:"fetch";return this.handlers[i](e)}catch(n){return Promise.reject((0,jIe.serializeError)(n,e.method))}}handleUnauthorizedError(e){e.code===Op.standardErrorCodes.provider.unauthorized&&this.disconnect()}async enable(){return console.warn('.enable() has been deprecated. Please use .request({ method: "eth_requestAccounts" }) instead.'),await this.request({method:"eth_requestAccounts"})}async disconnect(){this.accounts=[],this.chain={id:1},LIe.ScopedLocalStorage.clearAll(),this.emit("disconnect",Op.standardErrors.provider.disconnected("User initiated disconnection"))}requestSignerSelection(){return(0,Yb.fetchSignerType)({communicator:this.communicator,preference:this.preference,metadata:this.metadata})}initSigner(e){return(0,Yb.createSigner)({signerType:e,metadata:this.metadata,communicator:this.communicator,updateListener:this.updateListener})}}j4.CoinbaseWalletProvider=FIe;Object.defineProperty(y2,"__esModule",{value:!0});y2.CoinbaseWalletSDK=void 0;const BIe=O4,UIe=j4,WIe=xc,zIe=sp,HIe=gt,qIe=ia;class VIe{constructor(e){this.metadata={appName:e.appName||"Dapp",appLogoUrl:e.appLogoUrl||(0,HIe.getFavicon)(),appChainIds:e.appChainIds||[]},this.storeLatestVersion()}makeWeb3Provider(e={options:"all"}){var r;const n={metadata:this.metadata,preference:e};return(r=(0,qIe.getCoinbaseInjectedProvider)(n))!==null&&r!==void 0?r:new UIe.CoinbaseWalletProvider(n)}getCoinbaseWalletLogo(e,r=240){return(0,BIe.walletLogo)(e,r)}storeLatestVersion(){new WIe.ScopedLocalStorage("CBWSDK").setItem("VERSION",zIe.LIB_VERSION)}}y2.CoinbaseWalletSDK=VIe;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletSDK=void 0;const e=y2;t.default=e.CoinbaseWalletSDK;var r=y2;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return r.CoinbaseWalletSDK}})})(tQ);const KA=({style:t,...e})=>d.jsxs("svg",{viewBox:"0 0 1024 1024",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[d.jsx("rect",{width:"1024",height:"1024",fill:"#0052FF",rx:100,ry:100}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z",fill:"white"})]}),GIe="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PScwIDAgMTAyNCAxMDI0JyBmaWxsPSdub25lJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHN0eWxlPSdoZWlnaHQ6MjhweDt3aWR0aDoyOHB4Jz48cmVjdCB3aWR0aD0nMTAyNCcgaGVpZ2h0PScxMDI0JyBmaWxsPScjMDA1MkZGJyByeD0nMTAwJyByeT0nMTAwJz48L3JlY3Q+PHBhdGggZmlsbC1ydWxlPSdldmVub2RkJyBjbGlwLXJ1bGU9J2V2ZW5vZGQnIGQ9J00xNTIgNTEyQzE1MiA3MTAuODIzIDMxMy4xNzcgODcyIDUxMiA4NzJDNzEwLjgyMyA4NzIgODcyIDcxMC44MjMgODcyIDUxMkM4NzIgMzEzLjE3NyA3MTAuODIzIDE1MiA1MTIgMTUyQzMxMy4xNzcgMTUyIDE1MiAzMTMuMTc3IDE1MiA1MTJaTTQyMCAzOTZDNDA2Ljc0NSAzOTYgMzk2IDQwNi43NDUgMzk2IDQyMFY2MDRDMzk2IDYxNy4yNTUgNDA2Ljc0NSA2MjggNDIwIDYyOEg2MDRDNjE3LjI1NSA2MjggNjI4IDYxNy4yNTUgNjI4IDYwNFY0MjBDNjI4IDQwNi43NDUgNjE3LjI1NSAzOTYgNjA0IDM5Nkg0MjBaJyBmaWxsPSd3aGl0ZSc+PC9wYXRoPjwvc3ZnPg==",wf={id:42161,name:"Arbitrum One",network:"arbitrum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-mainnet.rpc.privy.systems"]},alchemy:{http:["https://arb-mainnet.g.alchemy.com/v2"],webSocket:["wss://arb-mainnet.g.alchemy.com/v2"]},infura:{http:["https://arbitrum-mainnet.infura.io/v3"],webSocket:["wss://arbitrum-mainnet.infura.io/ws/v3"]},default:{http:["https://arb1.arbitrum.io/rpc"]},public:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{etherscan:{name:"Arbiscan",url:"https://arbiscan.io"},default:{name:"Arbiscan",url:"https://arbiscan.io"}}},YX={id:421614,name:"Arbitrum Sepolia",network:"arbitrum-sepolia",nativeCurrency:{name:"Arbitrum Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia-rollup.arbitrum.io/rpc"]},public:{http:["https://sepolia-rollup.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Blockscout",url:"https://sepolia-explorer.arbitrum.io"}},testnet:!0},$T={id:43114,name:"Avalanche",network:"avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]},public:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://snowtrace.io"},default:{name:"SnowTrace",url:"https://snowtrace.io"}}},ZX={id:43113,name:"Avalanche Fuji",network:"avalanche-fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]},public:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://testnet.snowtrace.io"},default:{name:"SnowTrace",url:"https://testnet.snowtrace.io"}},testnet:!0},Ku={id:8453,network:"base",name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-mainnet.rpc.privy.systems"]},blast:{http:["https://base-mainnet.blastapi.io"],webSocket:["wss://base-mainnet.blastapi.io"]},default:{http:["https://mainnet.base.org"]},public:{http:["https://mainnet.base.org"]}},blockExplorers:{etherscan:{name:"Basescan",url:"https://basescan.org"},default:{name:"Basescan",url:"https://basescan.org"}}},JX={id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.base.org"]},public:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Blockscout",url:"https://base-sepolia.blockscout.com"}},testnet:!0},KIe={id:80085,network:"berachain-artio",name:"Berachain Artio",nativeCurrency:{name:"BERA",symbol:"BERA",decimals:18},rpcUrls:{default:{http:["https://berachain-artio.rpc.privy.systems"]},public:{http:["https://berachain-artio.rpc.privy.systems"]}},blockExplorers:{default:{name:"Beratrail",url:"https://artio.beratrail.io"}},testnet:!0},IT={id:42220,name:"Celo Mainnet",network:"celo",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://forno.celo.org"]},infura:{http:["https://celo-mainnet.infura.io/v3"]},public:{http:["https://forno.celo.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/mainnet"},etherscan:{name:"CeloScan",url:"https://celoscan.io"}},testnet:!1},YIe={id:44787,name:"Celo Alfajores Testnet",network:"celo-alfajores",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://alfajores-forno.celo-testnet.org"]},infura:{http:["https://celo-alfajores.infura.io/v3"]},public:{http:["https://alfajores-forno.celo-testnet.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/alfajores"},etherscan:{name:"CeloScan",url:"https://alfajores.celoscan.io/"}},testnet:!0},ZIe={id:314,name:"Filecoin - Mainnet",network:"filecoin-mainnet",nativeCurrency:{decimals:18,name:"filecoin",symbol:"FIL"},rpcUrls:{default:{http:["https://api.node.glif.io/rpc/v1"]},public:{http:["https://api.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filfox",url:"https://filfox.info/en"},filscan:{name:"Filscan",url:"https://filscan.io"},filscout:{name:"Filscout",url:"https://filscout.io/en"},glif:{name:"Glif",url:"https://explorer.glif.io"}}},JIe={id:314159,name:"Filecoin - Calibration testnet",network:"filecoin-calibration",nativeCurrency:{decimals:18,name:"testnet filecoin",symbol:"tFIL"},rpcUrls:{default:{http:["https://api.calibration.node.glif.io/rpc/v1"]},public:{http:["https://api.calibration.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filscan",url:"https://calibration.filscan.io"}}},QIe={id:17069,name:"Garnet Holesky",network:"garnet-holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.garnetchain.com"]},public:{http:["https://rpc.garnetchain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.garnetchain.com"}}},XIe={id:17e3,name:"Holesky",network:"holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://ethereum-holesky.publicnode.com"]},public:{http:["https://ethereum-holesky.publicnode.com"]}},blockExplorers:{etherscan:{name:"EtherScan",url:"https://holesky.etherscan.io"},default:{name:"EtherScan",url:"https://holesky.etherscan.io"}}},QX={id:59144,network:"linea-mainnet",name:"Linea Mainnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]},public:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://lineascan.build"},etherscan:{name:"Etherscan",url:"https://lineascan.build"}},testnet:!1},eke={id:59140,network:"linea-testnet",name:"Linea Goerli Testnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{infura:{http:["https://linea-goerli.infura.io/v3"],webSocket:["wss://linea-goerli.infura.io/ws/v3"]},default:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]},public:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://goerli.lineascan.build"},etherscan:{name:"Etherscan",url:"https://goerli.lineascan.build"}},testnet:!0},tke={id:42,network:"lukso",name:"LUKSO",nativeCurrency:{name:"LUKSO",symbol:"LYX",decimals:18},rpcUrls:{default:{http:["https://rpc.mainnet.lukso.network"],webSocket:["wss://ws-rpc.mainnet.lukso.network"]}},blockExplorers:{default:{name:"LUKSO Mainnet Explorer",url:"https://explorer.execution.mainnet.lukso.network"}}},Ec={id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://mainnet.rpc.privy.systems"]},alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}}},cp={id:10,name:"OP Mainnet",network:"optimism",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-mainnet.rpc.privy.systems"]},alchemy:{http:["https://opt-mainnet.g.alchemy.com/v2"],webSocket:["wss://opt-mainnet.g.alchemy.com/v2"]},infura:{http:["https://optimism-mainnet.infura.io/v3"],webSocket:["wss://optimism-mainnet.infura.io/ws/v3"]},default:{http:["https://mainnet.optimism.io"]},public:{http:["https://mainnet.optimism.io"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://optimistic.etherscan.io"},default:{name:"Optimism Explorer",url:"https://explorer.optimism.io"}}},XX={id:11155420,name:"Optimism Sepolia",network:"optimism-sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.optimism.io"]},public:{http:["https://sepolia.optimism.io"]},infura:{http:["https://optimism-sepolia.infura.io/v3"]}},blockExplorers:{default:{name:"Blockscout",url:"https://optimism-sepolia.blockscout.com"}},testnet:!0},Yu={id:137,name:"Polygon Mainnet",network:"polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-mainnet.rpc.privy.systems"]},alchemy:{http:["https://polygon-mainnet.g.alchemy.com/v2"],webSocket:["wss://polygon-mainnet.g.alchemy.com/v2"]},infura:{http:["https://polygon-mainnet.infura.io/v3"],webSocket:["wss://polygon-mainnet.infura.io/ws/v3"]},default:{http:["https://polygon-rpc.com"]},public:{http:["https://polygon-rpc.com"]}},blockExplorers:{etherscan:{name:"PolygonScan",url:"https://polygonscan.com"},default:{name:"PolygonScan",url:"https://polygonscan.com"}}},eee={id:80002,name:"Polygon Amoy",network:"polygon-amoy",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-amoy.rpc.privy.systems"]},infura:{http:["https://polygon-amoy.infura.io/v3"],webSocket:["wss://polygon-amoy.infura.io/ws/v3"]},default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"OK LINK",url:"https://www.oklink.com/amoy"}},testnet:!0},rke={id:690,name:"Redstone",network:"redstone",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.redstonechain.com"]},public:{http:["https://rpc.redstonechain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.redstone.xyz/"}}},tee={id:11155111,network:"sepolia",name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"SEP",decimals:18},rpcUrls:{privy:{http:["https://sepolia.rpc.privy.systems"]},alchemy:{http:["https://eth-sepolia.g.alchemy.com/v2"],webSocket:["wss://eth-sepolia.g.alchemy.com/v2"]},infura:{http:["https://sepolia.infura.io/v3"],webSocket:["wss://sepolia.infura.io/ws/v3"]},default:{http:["https://rpc.sepolia.org"]},public:{http:["https://rpc.sepolia.org"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://sepolia.etherscan.io"},default:{name:"Etherscan",url:"https://sepolia.etherscan.io"}},testnet:!0},ree={id:7777777,name:"Zora",network:"zora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]},public:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.zora.energy"}}},nke={id:999999999,name:"Zora Sepolia",network:"zora-sepolia",nativeCurrency:{decimals:18,name:"Zora Sepolia",symbol:"ETH"},rpcUrls:{default:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]},public:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]}},blockExplorers:{default:{name:"Zora Sepolia Explorer",url:"https://sepolia.explorer.zora.energy/"}},testnet:!0},ike={id:999,name:"Zora Goerli Testnet",network:"zora-testnet",nativeCurrency:{decimals:18,name:"Zora Goerli",symbol:"ETH"},rpcUrls:{default:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]},public:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://testnet.explorer.zora.energy"}},testnet:!0},M5=[wf,YX,tee,Ec,cp,XX,Yu,eee,IT,YIe,ZIe,JIe,Ku,JX,KIe,tke,QX,eke,$T,ZX,ree,ike,nke,XIe,rke,QIe],nee=new Set(M5.map(t=>t.id));let iee=class extends Ur{constructor(){super("Wallet timeout"),this.type="wallet_error"}},see=class extends Ur{constructor(){super("User rejected connection"),this.type="wallet_error"}};const up=t=>{if(t instanceof Ur)return t;if(t!=null&&t.code&&(t!=null&&t.reason)){let e=new Ka(t);return t.code===Li.ACTION_REJECTED&&(e.details=ni.E4001_USER_REJECTED_REQUEST),e}return t!=null&&t.code?new Ka(t):new Ur("Unknown connector error",t)};let gh=class extends Ks{constructor(e,r,n){super(e),this.type="provider_error",this.code=r,this.data=n}},Ka=class extends gh{constructor(e){var n,i,s;super(e.message,e.code,e.data);let r=Object.values(ni).find(o=>o.eipCode===e.code);this.details=r||ni.UNKNOWN_ERROR,e.code===-32002&&((n=e.message)!=null&&n.includes("already pending for origin")?(i=e.message)!=null&&i.includes("wallet_requestPermissions")?this.details=ni.E32002_CONNECTION_ALREADY_PENDING:this.details=ni.E32002_REQUEST_ALREADY_PENDING:(s=e.message)!=null&&s.includes("Already processing")&&e.message.includes("eth_requestAccounts")&&(this.details=ni.E32002_WALLET_LOCKED))}};const Sd={ERROR_USER_EXISTS:{message:"User already exists for this address",detail:"Try another address!",retryable:!1},ERROR_TIMED_OUT:{message:"Wallet request timed out",detail:"Please try connecting again.",retryable:!0},ERROR_WALLET_CONNECTION:{message:"Could not log in with wallet",detail:"Please try connecting again.",retryable:!0},ERROR_USER_REJECTED_CONNECTION:{message:"You rejected the request",detail:"Please try connecting again.",retryable:!0},ERROR_USER_LIMIT_REACHED:{message:"Unable to link",detail:"You've reached the maximum number of linked wallets.",retryable:!1},...ni};function Xc(t){return t.type==="ethereum"}function YA(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let n=t[r],i=e[r];if((n==null?void 0:n.address)!==(i==null?void 0:i.address)||n&&i&&Xc(n)&&Xc(i)&&(n==null?void 0:n.chainId)!==(i==null?void 0:i.chainId)||(n==null?void 0:n.connectorType)!==(i==null?void 0:i.connectorType)||(n==null?void 0:n.connectedAt)!==(i==null?void 0:i.connectedAt)||(n==null?void 0:n.walletClientType)!==(i==null?void 0:i.walletClientType)||(n==null?void 0:n.isConnected)!==(i==null?void 0:i.isConnected)||(n==null?void 0:n.linked)!==(i==null?void 0:i.linked))return!1}return!0}let oee=class extends zy{constructor(e){super(),this.walletClientType=e,this.connected=!1,this.initialized=!1}};const kT=(t,e)=>t.rpcTimeouts&&t.rpcTimeouts[e]||P4;let is=class{on(e,r){if(this.walletProvider)return this.walletProvider.on(e,r);this._subscriptions.push({eventName:e,listener:r})}async request(e){if(!this.walletProvider)throw new Ur(`A wallet request of type ${e.method} was made before setting a wallet provider.`);return Promise.race([this.walletProvider.request(e),this.walletTimeout()]).catch(r=>{throw up(r)})}constructor(e,r){this.removeListener=(n,i)=>{if(this.walletProvider)try{return this.walletProvider.removeListener(n,i)}catch{console.warn("Unable to remove wallet provider listener")}},this.walletTimeout=(n=new iee,i=this.rpcTimeoutDuration)=>new Promise((s,o)=>setTimeout(()=>{o(n)},i)),this.setWalletProvider=n=>{this.walletProvider&&this._subscriptions.forEach(i=>{this.removeListener(i.eventName,i.listener)}),this.walletProvider=n,this._subscriptions.forEach(i=>{var s;(s=this.walletProvider)==null||s.on(i.eventName,i.listener)})},this.walletProvider=e,this.rpcTimeoutDuration=r||P4,this._subscriptions=[]}},D5=class extends is{constructor(e){super(e,e.rpcTimeoutDuration)}},ZA=class extends is{sendAsync(e,r){throw Error("sendAsync is no longer supported by EIP-1193. Use the request method instead.")}constructor(e){super(e,e.rpcTimeoutDuration)}};function qg(t){return t.chainType==="ethereum"}let dg=class extends oee{buildConnectedWallet(e,r,n,i){let s=async()=>!!this.wallets.find(o=>Dt(o.address)===Dt(e));return{type:"ethereum",address:Dt(e),chainId:r,meta:n,imported:i,switchChain:async o=>{var h,p,g,m;let a,l;if(!s)throw new Ur("Wallet is not currently connected.");let c=(h=this.wallets.find(w=>Dt(w.address)===Dt(e)))==null?void 0:h.chainId;if(!c)throw new Ur("Unable to determine current chainId.");if(typeof o=="number"?(a=`0x${o.toString(16)}`,l=o):(a=o,l=Number(o)),c===t3(a))return;let u=this.chains.find(w=>w.id===l);if(!u)throw new Ur(`Unsupported chainId: ${o}`);let f=async()=>{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:a}]})};try{return await f()}catch(w){if(((y,E)=>{var v;return E==="coinbase_wallet"?y.message.includes("addEthereumChain"):y.code===4902||((v=y.message)==null?void 0:v.includes("4902"))})(w,this.walletClientType))return await this.proxyProvider.request({method:"wallet_addEthereumChain",params:[{chainId:a,chainName:u.name,nativeCurrency:u.nativeCurrency,rpcUrls:[((p=u.rpcUrls.default)==null?void 0:p.http[0])??""],blockExplorerUrls:[((g=u.blockExplorers)==null?void 0:g.default.url)??""]}]}),f();throw this.walletClientType==="rainbow"&&((m=w.message)!=null&&m.includes("wallet_switchEthereumChain"))?new Ur(`Rainbow does not support the chainId ${r}`):w}},connectedAt:Date.now(),walletClientType:this.walletClientType,connectorType:this.connectorType,isConnected:s,getEthereumProvider:async()=>{if(!await s())throw new Ur("Wallet is not currently connected.");return this.proxyProvider},getEthersProvider:async()=>{if(!await s())throw new Ur("Wallet is not currently connected.");return new s5(new D5(this.proxyProvider))},getWeb3jsProvider:async()=>{if(!await s())throw new Ur("Wallet is not currently connected.");return new ZA(this.proxyProvider)},sign:async o=>{if(!await s())throw new Ur("Wallet is not currently connected.");return await this.sign(o)},disconnect:()=>{this.disconnect()}}}async syncAccounts(e){let r,n=e;try{if(n===void 0){let l=await IA(()=>this.proxyProvider.request({method:"eth_accounts"}),{maxAttempts:10,delayMs:500});console.debug(`eth_accounts for ${this.walletClientType}:`,l),Array.isArray(l)&&(n=l)}}catch(l){console.debug("Wallet did not respond to eth_accounts. Defaulting to prefetched accounts.",l)}if(!n||!Array.isArray(n)||n.length<=0||!n[0])return;let i=n[0],s=Dt(i),o=[];if(this.walletClientType==="privy"){let l=lt.get(JE(s));this.chains.find(c=>c.id===Number(l))||(lt.del(JE(s)),l=null),r=l||`0x${this.defaultChain.id.toString(16)}`;try{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:r}]})}catch{console.warn(`Unable to switch embedded wallet to chain ID ${r} on initialization`)}}else try{let l=await IA(()=>this.proxyProvider.request({method:"eth_chainId"}),{maxAttempts:10,delayMs:500});if(console.debug(`eth_chainId for ${this.walletClientType}:`,l),typeof l=="string")r=l;else{if(typeof l!="number")throw Error("Invalid chainId returned from provider");r=`0x${l.toString(16)}`}}catch(l){console.warn(`Failed to get chainId from provider, defaulting to ${EM}`,l),r=EM}let a=t3(r);if(!o.find(l=>Dt(l.address)===s)){let l={name:this.walletBranding.name,icon:typeof this.walletBranding.icon=="string"?this.walletBranding.icon:void 0,id:this.walletBranding.id};o.push(this.buildConnectedWallet(Dt(i),a,l,this.connectorType==="embedded_imported"))}YA(o,this.wallets)||(this.wallets=o,this.emit("walletsUpdated"))}async getConnectedWallet(){let e=await this.proxyProvider.request({method:"eth_accounts"});return this.wallets.sort((r,n)=>n.connectedAt-r.connectedAt).find(r=>e.find(n=>Dt(n)===Dt(r.address)))||null}async isConnected(){let e=await this.proxyProvider.request({method:"eth_accounts"});return Array.isArray(e)&&e.length>0}async sign(e){return await this.connect({showPrompt:!1}),new s5(new D5(this.proxyProvider)).getSigner().signMessage(e)}subscribeListeners(){this.proxyProvider.on("accountsChanged",this.onAccountsChanged),this.proxyProvider.on("chainChanged",this.onChainChanged),this.proxyProvider.on("disconnect",this.onDisconnect),this.proxyProvider.on("connect",this.onConnect)}unsubscribeListeners(){this.proxyProvider.removeListener("accountsChanged",this.onAccountsChanged),this.proxyProvider.removeListener("chainChanged",this.onChainChanged),this.proxyProvider.removeListener("disconnect",this.onDisconnect),this.proxyProvider.removeListener("connect",this.onConnect)}constructor(e,r,n,i){super(e),this.chainType="ethereum",this.onAccountsChanged=s=>{s.length===0?this.onDisconnect():this.syncAccounts(s)},this.onChainChanged=s=>{this.wallets.forEach(o=>{o.chainId=t3(s),this.walletClientType==="privy"&&lt.put(JE(o.address),s)}),this.emit("walletsUpdated")},this.onDisconnect=()=>{this.connected=!1,this.wallets=[],this.emit("walletsUpdated")},this.onConnect=()=>{this.connected=!0,this.syncAccounts()},this.wallets=[],this.walletClientType=e,this.chains=r,this.defaultChain=n,this.rpcConfig=i,this.rpcTimeoutDuration=kT(i,e),this.connected=!1,this.initialized=!1}},Zb,ske=[1,11155111,137,10,8453,84532,42161,7777777,43114,56],tL=(t,e)=>t.makeWeb3Provider({options:e}),oke=class extends dg{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:GIe,id:"com.coinbase.wallet"}}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new Ur("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw up(e)}}updateConnectionPreference(e){this.connectionOptions=e,this.walletClientType=e==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",this.proxyProvider.setWalletProvider(tL(Zb,this.connectionOptions))}constructor(e,r,n,i,s,o){if(super("coinbase_wallet",e,r,n),this.connectorType="coinbase_wallet",this.displayName="Coinbase Wallet",this.proxyProvider=new is(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.connectionOptions=i.coinbaseWallet.connectionOptions??"all",this.walletClientType=this.connectionOptions==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",this.walletClientType==="coinbase_smart_wallet"&&(this.displayName="Coinbase Smart Wallet"),!Zb){let a=[r.id].concat(e.map(c=>c.id)),l=this.connectionOptions!=="eoaOnly"?a.filter(c=>!ske.includes(c)):[];l.length>0&&!l.every(c=>nee.has(c))&&console.info(`The configured chains are not supported by Coinbase Smart Wallet: ${l.join(", ")}`),Zb=new tQ.CoinbaseWalletSDK({appName:s,appLogoUrl:o,appChainIds:a})}this.proxyProvider.setWalletProvider(tL(Zb,this.connectionOptions))}};const aee=({...t})=>d.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.37126 11.0323C2.37126 12.696 3.90598 13.4421 5.40654 13.4468C8.91753 13.4468 12.8021 11.2897 12.7819 7.67984C12.7673 5.07728 10.3748 2.86167 7.54357 2.88296C4.8495 2.88296 2.21821 4.6411 2.21803 7.03628C2.21803 7.67951 2.58722 8.30178 3.55231 8.37184C2.74763 9.16826 2.37126 10.1225 2.37126 11.0323ZM7.55283 8.68012C8.11562 8.68012 8.57186 8.13217 8.57186 7.45624C8.57186 6.78032 8.11562 6.23237 7.55283 6.23237C6.99003 6.23237 6.53379 6.78032 6.53379 7.45624C6.53379 8.13217 6.99003 8.68012 7.55283 8.68012ZM10.4747 8.68012C11.0375 8.68012 11.4937 8.13217 11.4937 7.45625C11.4937 6.78032 11.0375 6.23237 10.4747 6.23237C9.91186 6.23237 9.45562 6.78032 9.45562 7.45625C9.45562 8.13217 9.91186 8.68012 10.4747 8.68012Z",fill:t.color||"var(--privy-color-foreground-3)"})});let rL=class extends dg{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return await this.isConnected()?(await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[C5((e==null?void 0:e.chainId)||"0x1")]}),this.getConnectedWallet()):null}get walletBranding(){return{name:"Privy Wallet",icon:aee,id:"io.privy.wallet"}}disconnect(){this.connected=!1}async promptConnection(){}constructor({provider:e,chains:r,defaultChain:n,rpcConfig:i,imported:s,walletIndex:o}){super("privy",r,n,i),this.connectorType="embedded",this.proxyProvider=e,this.walletIndex=o,s&&(this.connectorType="embedded_imported"),this.subscribeListeners()}};const ake=["eth_sign","eth_populateTransactionRequest","eth_signTransaction","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"],lke=t=>ake.includes(t),cke=({as:t="div",...e},r)=>d.jsx(t,{...e,ref:r}),uke=C.forwardRef(cke),dke="https://challenges.cloudflare.com/turnstile/v0/api.js",L5="cf-turnstile-script",fke="cf-turnstile",lee="onloadTurnstileCallback",F5=t=>!!document.getElementById(t),hke=({render:t="explicit",onLoadCallbackName:e=lee,scriptOptions:{nonce:r="",defer:n=!0,async:i=!0,id:s="",appendTo:o,onError:a,crossOrigin:l=""}={}})=>{const c=s||L5;if(F5(c))return;const u=document.createElement("script");if(u.id=c,u.src=`${dke}?onload=${e}&render=${t}`,document.querySelector(`script[src="${u.src}"]`))return;u.defer=!!n,u.async=!!i,r&&(u.nonce=r),l&&(u.crossOrigin=l),a&&(u.onerror=a),(o==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(u)},yl={normal:{width:300,height:65},compact:{width:130,height:120},invisible:{width:0,height:0,overflow:"hidden"},interactionOnly:{width:"fit-content",height:"auto"}};function pke(t){let e;return t!=="invisible"&&(e=t),e}function gke(t=L5){const[e,r]=C.useState(!1);return C.useEffect(()=>{const n=()=>{F5(t)&&r(!0)},i=new MutationObserver(n);return i.observe(document,{childList:!0,subtree:!0}),n(),()=>{i.disconnect()}},[t]),e}const cee=C.forwardRef((t,e)=>{const{scriptOptions:r,options:n={},siteKey:i,onWidgetLoad:s,onSuccess:o,onExpire:a,onError:l,onBeforeInteractive:c,onAfterInteractive:u,onUnsupported:f,onLoadScript:h,id:p,style:g,as:m="div",injectScript:w=!0,...y}=t,E=n.size??"normal",[v,b]=C.useState(n.execution==="execute"?yl.invisible:n.appearance==="interaction-only"?yl.interactionOnly:yl[E]),$=C.useRef(null),P=C.useRef(!1),[O,D]=C.useState(),[B,H]=C.useState(!1),q=p??fke,Y=w?(r==null?void 0:r.id)||`${L5}__${q}`:(r==null?void 0:r.id)||L5,R=gke(Y),_=r!=null&&r.onLoadCallbackName?`${r.onLoadCallbackName}__${q}`:`${lee}__${q}`,x=C.useMemo(()=>({sitekey:i,action:n.action,cData:n.cData,callback:o,"error-callback":l,"expired-callback":a,"before-interactive-callback":c,"after-interactive-callback":u,"unsupported-callback":f,theme:n.theme??"auto",language:n.language??"auto",tabindex:n.tabIndex,"response-field":n.responseField,"response-field-name":n.responseFieldName,size:pke(E),retry:n.retry??"auto","retry-interval":n.retryInterval??8e3,"refresh-expired":n.refreshExpired??"auto",execution:n.execution??"render",appearance:n.appearance??"always"}),[i,n,o,l,a,E,c,u,f]),A=C.useMemo(()=>JSON.stringify(x),[x]);return C.useImperativeHandle(e,()=>{if(typeof window>"u"||!R)return;const{turnstile:T}=window;return{getResponse(){if(!(T!=null&&T.getResponse)||!O){console.warn("Turnstile has not been loaded");return}return T.getResponse(O)},reset(){if(!(T!=null&&T.reset)||!O){console.warn("Turnstile has not been loaded");return}n.execution==="execute"&&b(yl.invisible);try{T.reset(O)}catch(I){console.warn(`Failed to reset Turnstile widget ${O}`,I)}},remove(){if(!(T!=null&&T.remove)||!O){console.warn("Turnstile has not been loaded");return}D(""),b(yl.invisible),T.remove(O)},render(){if(!(T!=null&&T.render)||!$.current||O){console.warn("Turnstile has not been loaded or widget already rendered");return}const I=T.render($.current,x);return D(I),n.execution!=="execute"&&b(yl[E]),I},execute(){if(n.execution==="execute"){if(!(T!=null&&T.execute)||!$.current||!O){console.warn("Turnstile has not been loaded or widget has not been rendered");return}T.execute($.current,x),b(yl[E])}},isExpired(){if(!(T!=null&&T.isExpired)||!O){console.warn("Turnstile has not been loaded");return}return T.isExpired(O)}}},[R,O,n.execution,E,x,$]),C.useEffect(()=>(window[_]=()=>H(!0),()=>{delete window[_]}),[_]),C.useEffect(()=>{w&&!B&&hke({onLoadCallbackName:_,scriptOptions:{...r,id:Y}})},[w,B,_,r,Y]),C.useEffect(()=>{R&&!B&&window.turnstile&&H(!0)},[B,R]),C.useEffect(()=>{if(!i){console.warn("sitekey was not provided");return}if(!R||!$.current||!B||P.current)return;const T=window.turnstile.render($.current,x);D(T),P.current=!0},[R,i,x,P,B]),C.useEffect(()=>{if(window.turnstile&&$.current&&O){F5(O)&&window.turnstile.remove(O);const T=window.turnstile.render($.current,x);D(T),P.current=!0}},[A,i]),C.useEffect(()=>{if(window.turnstile&&O&&F5(O))return s==null||s(O),()=>{window.turnstile.remove(O)}},[O,s]),C.useEffect(()=>{b(n.execution==="execute"?yl.invisible:x.appearance==="interaction-only"?yl.interactionOnly:yl[E])},[n.execution,E,x.appearance]),C.useEffect(()=>{!R||typeof h!="function"||h()},[R,h]),d.jsx(uke,{ref:$,as:m,id:q,style:{...v,...g},...y})});cee.displayName="Turnstile";const mke=t=>{let{enabled:e,siteKey:r,appId:n,setError:i,setToken:s,setExecuting:o,ref:a}=eo(),[,l]=C.useMemo(()=>(r==null?void 0:r.split("t:"))||[],[r]);if(C.useEffect(()=>{var c;return(c=a.current)==null?void 0:c.remove},[]),!e)return null;if(!l)throw Error("Unsupported captcha site key");return d.jsx("div",{className:"hidden h-0 w-0",children:d.jsx(cee,{...t,ref:a,siteKey:l,options:{action:n,size:"invisible",...t.delayedExecution?{appearance:"execute",execution:"execute"}:{appearance:"always",execution:"render"}},onUnsupported:()=>{var c;(c=t.onUnsupported)==null||c.call(t),console.warn("Browser does not support Turnstile.")},onError:()=>{var c;(c=t.onError)==null||c.call(t),i("Captcha failed"),o(!1)},onSuccess:c=>{var u;(u=t.onSuccess)==null||u.call(t,c),s(c),o(!1)},onExpire:()=>{var c,u;(c=t.onExpire)==null||c.call(t);try{(u=a.current)==null||u.reset(),i(void 0),s(void 0)}catch{i("expired_and_failed_reset")}}})})};var Ki=function(){return Ki=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Ki.apply(this,arguments)};function A1(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}var Lr="-ms-",Gm="-moz-",br="-webkit-",uee="comm",c8="rule",TT="decl",yke="@import",dee="@keyframes",wke="@layer",fee=Math.abs,NT=String.fromCharCode,JA=Object.assign;function bke(t,e){return ei(t,0)^45?(((e<<2^ei(t,0))<<2^ei(t,1))<<2^ei(t,2))<<2^ei(t,3):0}function hee(t){return t.trim()}function Gc(t,e){return(t=e.exec(t))?t[0]:t}function Ot(t,e,r){return t.replace(e,r)}function f3(t,e,r){return t.indexOf(e,r)}function ei(t,e){return t.charCodeAt(e)|0}function S1(t,e,r){return t.slice(e,r)}function Ol(t){return t.length}function pee(t){return t.length}function bm(t,e){return e.push(t),t}function vke(t,e){return t.map(e).join("")}function nL(t,e){return t.filter(function(r){return!Gc(r,e)})}var u8=1,$1=1,gee=0,ga=0,An=0,fg="";function d8(t,e,r,n,i,s,o,a){return{value:t,root:e,parent:r,type:n,props:i,children:s,line:u8,column:$1,length:o,return:"",siblings:a}}function md(t,e){return JA(d8("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function jp(t){for(;t.root;)t=md(t.root,{children:[t]});bm(t,t.siblings)}function xke(){return An}function Eke(){return An=ga>0?ei(fg,--ga):0,$1--,An===10&&($1=1,u8--),An}function Ya(){return An=ga<gee?ei(fg,ga++):0,$1++,An===10&&($1=1,u8++),An}function mh(){return ei(fg,ga)}function h3(){return ga}function f8(t,e){return S1(fg,t,e)}function QA(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function _ke(t){return u8=$1=1,gee=Ol(fg=t),ga=0,[]}function Cke(t){return fg="",t}function F9(t){return hee(f8(ga-1,XA(t===91?t+2:t===40?t+1:t)))}function Ake(t){for(;(An=mh())&&An<33;)Ya();return QA(t)>2||QA(An)>3?"":" "}function Ske(t,e){for(;--e&&Ya()&&!(An<48||An>102||An>57&&An<65||An>70&&An<97););return f8(t,h3()+(e<6&&mh()==32&&Ya()==32))}function XA(t){for(;Ya();)switch(An){case t:return ga;case 34:case 39:t!==34&&t!==39&&XA(An);break;case 40:t===41&&XA(t);break;case 92:Ya();break}return ga}function $ke(t,e){for(;Ya()&&t+An!==57;)if(t+An===84&&mh()===47)break;return"/*"+f8(e,ga-1)+"*"+NT(t===47?t:Ya())}function Ike(t){for(;!QA(mh());)Ya();return f8(t,ga)}function kke(t){return Cke(p3("",null,null,null,[""],t=_ke(t),0,[0],t))}function p3(t,e,r,n,i,s,o,a,l){for(var c=0,u=0,f=o,h=0,p=0,g=0,m=1,w=1,y=1,E=0,v="",b=i,$=s,P=n,O=v;w;)switch(g=E,E=Ya()){case 40:if(g!=108&&ei(O,f-1)==58){f3(O+=Ot(F9(E),"&","&\f"),"&\f",fee(c?a[c-1]:0))!=-1&&(y=-1);break}case 34:case 39:case 91:O+=F9(E);break;case 9:case 10:case 13:case 32:O+=Ake(g);break;case 92:O+=Ske(h3()-1,7);continue;case 47:switch(mh()){case 42:case 47:bm(Tke($ke(Ya(),h3()),e,r,l),l);break;default:O+="/"}break;case 123*m:a[c++]=Ol(O)*y;case 125*m:case 59:case 0:switch(E){case 0:case 125:w=0;case 59+u:y==-1&&(O=Ot(O,/\f/g,"")),p>0&&Ol(O)-f&&bm(p>32?sL(O+";",n,r,f-1,l):sL(Ot(O," ","")+";",n,r,f-2,l),l);break;case 59:O+=";";default:if(bm(P=iL(O,e,r,c,u,i,a,v,b=[],$=[],f,s),s),E===123)if(u===0)p3(O,e,P,P,b,s,f,a,$);else switch(h===99&&ei(O,3)===110?100:h){case 100:case 108:case 109:case 115:p3(t,P,P,n&&bm(iL(t,P,P,0,0,i,a,v,i,b=[],f,$),$),i,$,f,a,n?b:$);break;default:p3(O,P,P,P,[""],$,0,a,$)}}c=u=p=0,m=y=1,v=O="",f=o;break;case 58:f=1+Ol(O),p=g;default:if(m<1){if(E==123)--m;else if(E==125&&m++==0&&Eke()==125)continue}switch(O+=NT(E),E*m){case 38:y=u>0?1:(O+="\f",-1);break;case 44:a[c++]=(Ol(O)-1)*y,y=1;break;case 64:mh()===45&&(O+=F9(Ya())),h=mh(),u=f=Ol(v=O+=Ike(h3())),E++;break;case 45:g===45&&Ol(O)==2&&(m=0)}}return s}function iL(t,e,r,n,i,s,o,a,l,c,u,f){for(var h=i-1,p=i===0?s:[""],g=pee(p),m=0,w=0,y=0;m<n;++m)for(var E=0,v=S1(t,h+1,h=fee(w=o[m])),b=t;E<g;++E)(b=hee(w>0?p[E]+" "+v:Ot(v,/&\f/g,p[E])))&&(l[y++]=b);return d8(t,e,r,i===0?c8:a,l,c,u,f)}function Tke(t,e,r,n){return d8(t,e,r,uee,NT(xke()),S1(t,2,-2),0,n)}function sL(t,e,r,n,i){return d8(t,e,r,TT,S1(t,0,n),S1(t,n+1,-1),n,i)}function mee(t,e,r){switch(bke(t,e)){case 5103:return br+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return br+t+t;case 4789:return Gm+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return br+t+Gm+t+Lr+t+t;case 5936:switch(ei(t,e+11)){case 114:return br+t+Lr+Ot(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return br+t+Lr+Ot(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return br+t+Lr+Ot(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return br+t+Lr+t+t;case 6165:return br+t+Lr+"flex-"+t+t;case 5187:return br+t+Ot(t,/(\w+).+(:[^]+)/,br+"box-$1$2"+Lr+"flex-$1$2")+t;case 5443:return br+t+Lr+"flex-item-"+Ot(t,/flex-|-self/g,"")+(Gc(t,/flex-|baseline/)?"":Lr+"grid-row-"+Ot(t,/flex-|-self/g,""))+t;case 4675:return br+t+Lr+"flex-line-pack"+Ot(t,/align-content|flex-|-self/g,"")+t;case 5548:return br+t+Lr+Ot(t,"shrink","negative")+t;case 5292:return br+t+Lr+Ot(t,"basis","preferred-size")+t;case 6060:return br+"box-"+Ot(t,"-grow","")+br+t+Lr+Ot(t,"grow","positive")+t;case 4554:return br+Ot(t,/([^-])(transform)/g,"$1"+br+"$2")+t;case 6187:return Ot(Ot(Ot(t,/(zoom-|grab)/,br+"$1"),/(image-set)/,br+"$1"),t,"")+t;case 5495:case 3959:return Ot(t,/(image-set\([^]*)/,br+"$1$`$1");case 4968:return Ot(Ot(t,/(.+:)(flex-)?(.*)/,br+"box-pack:$3"+Lr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+br+t+t;case 4200:if(!Gc(t,/flex-|baseline/))return Lr+"grid-column-align"+S1(t,e)+t;break;case 2592:case 3360:return Lr+Ot(t,"template-","")+t;case 4384:case 3616:return r&&r.some(function(n,i){return e=i,Gc(n.props,/grid-\w+-end/)})?~f3(t+(r=r[e].value),"span",0)?t:Lr+Ot(t,"-start","")+t+Lr+"grid-row-span:"+(~f3(r,"span",0)?Gc(r,/\d+/):+Gc(r,/\d+/)-+Gc(t,/\d+/))+";":Lr+Ot(t,"-start","")+t;case 4896:case 4128:return r&&r.some(function(n){return Gc(n.props,/grid-\w+-start/)})?t:Lr+Ot(Ot(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Ot(t,/(.+)-inline(.+)/,br+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ol(t)-1-e>6)switch(ei(t,e+1)){case 109:if(ei(t,e+4)!==45)break;case 102:return Ot(t,/(.+:)(.+)-([^]+)/,"$1"+br+"$2-$3$1"+Gm+(ei(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~f3(t,"stretch",0)?mee(Ot(t,"stretch","fill-available"),e,r)+t:t}break;case 5152:case 5920:return Ot(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(n,i,s,o,a,l,c){return Lr+i+":"+s+c+(o?Lr+i+"-span:"+(a?l:+l-+s)+c:"")+t});case 4949:if(ei(t,e+6)===121)return Ot(t,":",":"+br)+t;break;case 6444:switch(ei(t,ei(t,14)===45?18:11)){case 120:return Ot(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+br+(ei(t,14)===45?"inline-":"")+"box$3$1"+br+"$2$3$1"+Lr+"$2box$3")+t;case 100:return Ot(t,":",":"+Lr)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Ot(t,"scroll-","scroll-snap-")+t}return t}function B5(t,e){for(var r="",n=0;n<t.length;n++)r+=e(t[n],n,t,e)||"";return r}function Nke(t,e,r,n){switch(t.type){case wke:if(t.children.length)break;case yke:case TT:return t.return=t.return||t.value;case uee:return"";case dee:return t.return=t.value+"{"+B5(t.children,n)+"}";case c8:if(!Ol(t.value=t.props.join(",")))return""}return Ol(r=B5(t.children,n))?t.return=t.value+"{"+r+"}":""}function Pke(t){var e=pee(t);return function(r,n,i,s){for(var o="",a=0;a<e;a++)o+=t[a](r,n,i,s)||"";return o}}function Rke(t){return function(e){e.root||(e=e.return)&&t(e)}}function Oke(t,e,r,n){if(t.length>-1&&!t.return)switch(t.type){case TT:t.return=mee(t.value,t.length,r);return;case dee:return B5([md(t,{value:Ot(t.value,"@","@"+br)})],n);case c8:if(t.length)return vke(r=t.props,function(i){switch(Gc(i,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":jp(md(t,{props:[Ot(i,/:(read-\w+)/,":"+Gm+"$1")]})),jp(md(t,{props:[i]})),JA(t,{props:nL(r,n)});break;case"::placeholder":jp(md(t,{props:[Ot(i,/:(plac\w+)/,":"+br+"input-$1")]})),jp(md(t,{props:[Ot(i,/:(plac\w+)/,":"+Gm+"$1")]})),jp(md(t,{props:[Ot(i,/:(plac\w+)/,Lr+"input-$1")]})),jp(md(t,{props:[i]})),JA(t,{props:nL(r,n)});break}return""})}}var jke={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},fo={},I1=typeof mt<"u"&&fo!==void 0&&(fo.REACT_APP_SC_ATTR||fo.SC_ATTR)||"data-styled",yee="active",wee="data-styled-version",h8="6.1.19",PT=`/*!sc*/
`,U5=typeof window<"u"&&typeof document<"u",Mke=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof mt<"u"&&fo!==void 0&&fo.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&fo.REACT_APP_SC_DISABLE_SPEEDY!==""?fo.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&fo.REACT_APP_SC_DISABLE_SPEEDY:typeof mt<"u"&&fo!==void 0&&fo.SC_DISABLE_SPEEDY!==void 0&&fo.SC_DISABLE_SPEEDY!==""&&fo.SC_DISABLE_SPEEDY!=="false"&&fo.SC_DISABLE_SPEEDY),Dke={},p8=Object.freeze([]),k1=Object.freeze({});function bee(t,e,r){return r===void 0&&(r=k1),t.theme!==r.theme&&t.theme||e||r.theme}var vee=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Lke=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Fke=/(^-|-$)/g;function oL(t){return t.replace(Lke,"-").replace(Fke,"")}var Bke=/(a)(d)/gi,Jb=52,aL=function(t){return String.fromCharCode(t+(t>25?39:97))};function eS(t){var e,r="";for(e=Math.abs(t);e>Jb;e=e/Jb|0)r=aL(e%Jb)+r;return(aL(e%Jb)+r).replace(Bke,"$1-$2")}var B9,xee=5381,y0=function(t,e){for(var r=e.length;r;)t=33*t^e.charCodeAt(--r);return t},Eee=function(t){return y0(xee,t)};function RT(t){return eS(Eee(t)>>>0)}function Uke(t){return t.displayName||t.name||"Component"}function U9(t){return typeof t=="string"&&!0}var _ee=typeof Symbol=="function"&&Symbol.for,Cee=_ee?Symbol.for("react.memo"):60115,Wke=_ee?Symbol.for("react.forward_ref"):60112,zke={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Hke={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Aee={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},qke=((B9={})[Wke]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},B9[Cee]=Aee,B9);function lL(t){return("type"in(e=t)&&e.type.$$typeof)===Cee?Aee:"$$typeof"in t?qke[t.$$typeof]:zke;var e}var Vke=Object.defineProperty,Gke=Object.getOwnPropertyNames,cL=Object.getOwnPropertySymbols,Kke=Object.getOwnPropertyDescriptor,Yke=Object.getPrototypeOf,uL=Object.prototype;function See(t,e,r){if(typeof e!="string"){if(uL){var n=Yke(e);n&&n!==uL&&See(t,n,r)}var i=Gke(e);cL&&(i=i.concat(cL(e)));for(var s=lL(t),o=lL(e),a=0;a<i.length;++a){var l=i[a];if(!(l in Hke||r&&r[l]||o&&l in o||s&&l in s)){var c=Kke(e,l);try{Vke(t,l,c)}catch{}}}}return t}function T1(t){return typeof t=="function"}function OT(t){return typeof t=="object"&&"styledComponentId"in t}function eh(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function W5(t,e){if(t.length===0)return"";for(var r=t[0],n=1;n<t.length;n++)r+=t[n];return r}function x2(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function tS(t,e,r){if(r===void 0&&(r=!1),!r&&!x2(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var n=0;n<e.length;n++)t[n]=tS(t[n],e[n]);else if(x2(e))for(var n in e)t[n]=tS(t[n],e[n]);return t}function jT(t,e){Object.defineProperty(t,"toString",{value:e})}function kw(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var Zke=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var r=0,n=0;n<e;n++)r+=this.groupSizes[n];return r},t.prototype.insertRules=function(e,r){if(e>=this.groupSizes.length){for(var n=this.groupSizes,i=n.length,s=i;e>=s;)if((s<<=1)<0)throw kw(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(n),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,r.length);o<l;o++)this.tag.insertRule(a,r[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var r=this.groupSizes[e],n=this.indexOfGroup(e),i=n+r;this.groupSizes[e]=0;for(var s=n;s<i;s++)this.tag.deleteRule(n)}},t.prototype.getGroup=function(e){var r="";if(e>=this.length||this.groupSizes[e]===0)return r;for(var n=this.groupSizes[e],i=this.indexOfGroup(e),s=i+n,o=i;o<s;o++)r+="".concat(this.tag.getRule(o)).concat(PT);return r},t}(),g3=new Map,z5=new Map,m3=1,Qb=function(t){if(g3.has(t))return g3.get(t);for(;z5.has(m3);)m3++;var e=m3++;return g3.set(t,e),z5.set(e,t),e},Jke=function(t,e){m3=e+1,g3.set(t,e),z5.set(e,t)},Qke="style[".concat(I1,"][").concat(wee,'="').concat(h8,'"]'),Xke=new RegExp("^".concat(I1,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),eTe=function(t,e,r){for(var n,i=r.split(","),s=0,o=i.length;s<o;s++)(n=i[s])&&t.registerName(e,n)},tTe=function(t,e){for(var r,n=((r=e.textContent)!==null&&r!==void 0?r:"").split(PT),i=[],s=0,o=n.length;s<o;s++){var a=n[s].trim();if(a){var l=a.match(Xke);if(l){var c=0|parseInt(l[1],10),u=l[2];c!==0&&(Jke(u,c),eTe(t,u,l[3]),t.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}},dL=function(t){for(var e=document.querySelectorAll(Qke),r=0,n=e.length;r<n;r++){var i=e[r];i&&i.getAttribute(I1)!==yee&&(tTe(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function rTe(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var $ee=function(t){var e=document.head,r=t||e,n=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(I1,"]")));return l[l.length-1]}(r),s=i!==void 0?i.nextSibling:null;n.setAttribute(I1,yee),n.setAttribute(wee,h8);var o=rTe();return o&&n.setAttribute("nonce",o),r.insertBefore(n,s),n},nTe=function(){function t(e){this.element=$ee(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(r){if(r.sheet)return r.sheet;for(var n=document.styleSheets,i=0,s=n.length;i<s;i++){var o=n[i];if(o.ownerNode===r)return o}throw kw(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,r){try{return this.sheet.insertRule(r,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var r=this.sheet.cssRules[e];return r&&r.cssText?r.cssText:""},t}(),iTe=function(){function t(e){this.element=$ee(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,r){if(e<=this.length&&e>=0){var n=document.createTextNode(r);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),sTe=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,r){return e<=this.length&&(this.rules.splice(e,0,r),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),fL=U5,oTe={isServer:!U5,useCSSOMInjection:!Mke},H5=function(){function t(e,r,n){e===void 0&&(e=k1),r===void 0&&(r={});var i=this;this.options=Ki(Ki({},oTe),e),this.gs=r,this.names=new Map(n),this.server=!!e.isServer,!this.server&&U5&&fL&&(fL=!1,dL(this)),jT(this,function(){return function(s){for(var o=s.getTag(),a=o.length,l="",c=function(f){var h=function(y){return z5.get(y)}(f);if(h===void 0)return"continue";var p=s.names.get(h),g=o.getGroup(f);if(p===void 0||!p.size||g.length===0)return"continue";var m="".concat(I1,".g").concat(f,'[id="').concat(h,'"]'),w="";p!==void 0&&p.forEach(function(y){y.length>0&&(w+="".concat(y,","))}),l+="".concat(g).concat(m,'{content:"').concat(w,'"}').concat(PT)},u=0;u<a;u++)c(u);return l}(i)})}return t.registerId=function(e){return Qb(e)},t.prototype.rehydrate=function(){!this.server&&U5&&dL(this)},t.prototype.reconstructWithOptions=function(e,r){return r===void 0&&(r=!0),new t(Ki(Ki({},this.options),e),this.gs,r&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(r){var n=r.useCSSOMInjection,i=r.target;return r.isServer?new sTe(i):n?new nTe(i):new iTe(i)}(this.options),new Zke(e)));var e},t.prototype.hasNameForId=function(e,r){return this.names.has(e)&&this.names.get(e).has(r)},t.prototype.registerName=function(e,r){if(Qb(e),this.names.has(e))this.names.get(e).add(r);else{var n=new Set;n.add(r),this.names.set(e,n)}},t.prototype.insertRules=function(e,r,n){this.registerName(e,r),this.getTag().insertRules(Qb(e),n)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Qb(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),aTe=/&/g,lTe=/^\s*\/\/.*$/gm;function Iee(t,e){return t.map(function(r){return r.type==="rule"&&(r.value="".concat(e," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(e," ")),r.props=r.props.map(function(n){return"".concat(e," ").concat(n)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=Iee(r.children,e)),r})}function cTe(t){var e,r,n,i=k1,s=i.options,o=s===void 0?k1:s,a=i.plugins,l=a===void 0?p8:a,c=function(h,p,g){return g.startsWith(r)&&g.endsWith(r)&&g.replaceAll(r,"").length>0?".".concat(e):h},u=l.slice();u.push(function(h){h.type===c8&&h.value.includes("&")&&(h.props[0]=h.props[0].replace(aTe,r).replace(n,c))}),o.prefix&&u.push(Oke),u.push(Nke);var f=function(h,p,g,m){p===void 0&&(p=""),g===void 0&&(g=""),m===void 0&&(m="&"),e=m,r=p,n=new RegExp("\\".concat(r,"\\b"),"g");var w=h.replace(lTe,""),y=kke(g||p?"".concat(g," ").concat(p," { ").concat(w," }"):w);o.namespace&&(y=Iee(y,o.namespace));var E=[];return B5(y,Pke(u.concat(Rke(function(v){return E.push(v)})))),E};return f.hash=l.length?l.reduce(function(h,p){return p.name||kw(15),y0(h,p.name)},xee).toString():"",f}var uTe=new H5,rS=cTe(),kee=Je.createContext({shouldForwardProp:void 0,styleSheet:uTe,stylis:rS});kee.Consumer;Je.createContext(void 0);function nS(){return C.useContext(kee)}var Tee=function(){function t(e,r){var n=this;this.inject=function(i,s){s===void 0&&(s=rS);var o=n.name+s.hash;i.hasNameForId(n.id,o)||i.insertRules(n.id,o,s(n.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=r,jT(this,function(){throw kw(12,String(n.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=rS),this.name+e.hash},t}(),dTe=function(t){return t>="A"&&t<="Z"};function hL(t){for(var e="",r=0;r<t.length;r++){var n=t[r];if(r===1&&n==="-"&&t[0]==="-")return t;dTe(n)?e+="-"+n.toLowerCase():e+=n}return e.startsWith("ms-")?"-"+e:e}var Nee=function(t){return t==null||t===!1||t===""},Pee=function(t){var e,r,n=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!Nee(s)&&(Array.isArray(s)&&s.isCss||T1(s)?n.push("".concat(hL(i),":"),s,";"):x2(s)?n.push.apply(n,A1(A1(["".concat(i," {")],Pee(s),!1),["}"],!1)):n.push("".concat(hL(i),": ").concat((e=i,(r=s)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||e in jke||e.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return n};function Kd(t,e,r,n){if(Nee(t))return[];if(OT(t))return[".".concat(t.styledComponentId)];if(T1(t)){if(!T1(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return Kd(i,e,r,n)}var s;return t instanceof Tee?r?(t.inject(r,n),[t.getName(n)]):[t]:x2(t)?Pee(t):Array.isArray(t)?Array.prototype.concat.apply(p8,t.map(function(o){return Kd(o,e,r,n)})):[t.toString()]}function Ree(t){for(var e=0;e<t.length;e+=1){var r=t[e];if(T1(r)&&!OT(r))return!1}return!0}var fTe=Eee(h8),hTe=function(){function t(e,r,n){this.rules=e,this.staticRulesId="",this.isStatic=(n===void 0||n.isStatic)&&Ree(e),this.componentId=r,this.baseHash=y0(fTe,r),this.baseStyle=n,H5.registerId(r)}return t.prototype.generateAndInjectStyles=function(e,r,n){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,r,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))i=eh(i,this.staticRulesId);else{var s=W5(Kd(this.rules,e,r,n)),o=eS(y0(this.baseHash,s)>>>0);if(!r.hasNameForId(this.componentId,o)){var a=n(s,".".concat(o),void 0,this.componentId);r.insertRules(this.componentId,o,a)}i=eh(i,o),this.staticRulesId=o}else{for(var l=y0(this.baseHash,n.hash),c="",u=0;u<this.rules.length;u++){var f=this.rules[u];if(typeof f=="string")c+=f;else if(f){var h=W5(Kd(f,e,r,n));l=y0(l,h+u),c+=h}}if(c){var p=eS(l>>>0);r.hasNameForId(this.componentId,p)||r.insertRules(this.componentId,p,n(c,".".concat(p),void 0,this.componentId)),i=eh(i,p)}}return i},t}(),MT=Je.createContext(void 0);MT.Consumer;var W9={};function pTe(t,e,r){var n=OT(t),i=t,s=!U9(t),o=e.attrs,a=o===void 0?p8:o,l=e.componentId,c=l===void 0?function(b,$){var P=typeof b!="string"?"sc":oL(b);W9[P]=(W9[P]||0)+1;var O="".concat(P,"-").concat(RT(h8+P+W9[P]));return $?"".concat($,"-").concat(O):O}(e.displayName,e.parentComponentId):l,u=e.displayName,f=u===void 0?function(b){return U9(b)?"styled.".concat(b):"Styled(".concat(Uke(b),")")}(t):u,h=e.displayName&&e.componentId?"".concat(oL(e.displayName),"-").concat(e.componentId):e.componentId||c,p=n&&i.attrs?i.attrs.concat(a).filter(Boolean):a,g=e.shouldForwardProp;if(n&&i.shouldForwardProp){var m=i.shouldForwardProp;if(e.shouldForwardProp){var w=e.shouldForwardProp;g=function(b,$){return m(b,$)&&w(b,$)}}else g=m}var y=new hTe(r,h,n?i.componentStyle:void 0);function E(b,$){return function(P,O,D){var B=P.attrs,H=P.componentStyle,q=P.defaultProps,Y=P.foldedComponentIds,R=P.styledComponentId,_=P.target,x=Je.useContext(MT),A=nS(),T=P.shouldForwardProp||A.shouldForwardProp,I=bee(O,x,q)||k1,N=function(k,W,V){for(var ee,te=Ki(Ki({},W),{className:void 0,theme:V}),ce=0;ce<k.length;ce+=1){var K=T1(ee=k[ce])?ee(te):ee;for(var G in K)te[G]=G==="className"?eh(te[G],K[G]):G==="style"?Ki(Ki({},te[G]),K[G]):K[G]}return W.className&&(te.className=eh(te.className,W.className)),te}(B,O,I),M=N.as||_,U={};for(var S in N)N[S]===void 0||S[0]==="$"||S==="as"||S==="theme"&&N.theme===I||(S==="forwardedAs"?U.as=N.forwardedAs:T&&!T(S,M)||(U[S]=N[S]));var F=function(k,W){var V=nS(),ee=k.generateAndInjectStyles(W,V.styleSheet,V.stylis);return ee}(H,N),Q=eh(Y,R);return F&&(Q+=" "+F),N.className&&(Q+=" "+N.className),U[U9(M)&&!vee.has(M)?"class":"className"]=Q,D&&(U.ref=D),C.createElement(M,U)}(v,b,$)}E.displayName=f;var v=Je.forwardRef(E);return v.attrs=p,v.componentStyle=y,v.displayName=f,v.shouldForwardProp=g,v.foldedComponentIds=n?eh(i.foldedComponentIds,i.styledComponentId):"",v.styledComponentId=h,v.target=n?i.target:t,Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(b){this._foldedDefaultProps=n?function($){for(var P=[],O=1;O<arguments.length;O++)P[O-1]=arguments[O];for(var D=0,B=P;D<B.length;D++)tS($,B[D],!0);return $}({},i.defaultProps,b):b}}),jT(v,function(){return".".concat(v.styledComponentId)}),s&&See(v,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),v}function pL(t,e){for(var r=[t[0]],n=0,i=e.length;n<i;n+=1)r.push(e[n],t[n+1]);return r}var gL=function(t){return Object.assign(t,{isCss:!0})};function ai(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(T1(t)||x2(t))return gL(Kd(pL(p8,A1([t],e,!0))));var n=t;return e.length===0&&n.length===1&&typeof n[0]=="string"?Kd(n):gL(Kd(pL(n,e)))}function iS(t,e,r){if(r===void 0&&(r=k1),!e)throw kw(1,e);var n=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,r,ai.apply(void 0,A1([i],s,!1)))};return n.attrs=function(i){return iS(t,e,Ki(Ki({},r),{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},n.withConfig=function(i){return iS(t,e,Ki(Ki({},r),i))},n}var Oee=function(t){return iS(pTe,t)},ne=Oee;vee.forEach(function(t){ne[t]=Oee(t)});var gTe=function(){function t(e,r){this.rules=e,this.componentId=r,this.isStatic=Ree(e),H5.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,r,n,i){var s=i(W5(Kd(this.rules,r,n,i)),""),o=this.componentId+e;n.insertRules(o,o,s)},t.prototype.removeStyles=function(e,r){r.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,r,n,i){e>2&&H5.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,r,n,i)},t}();function mTe(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=ai.apply(void 0,A1([t],e,!1)),i="sc-global-".concat(RT(JSON.stringify(n))),s=new gTe(n,i),o=function(l){var c=nS(),u=Je.useContext(MT),f=Je.useRef(c.styleSheet.allocateGSInstance(i)).current;return c.styleSheet.server&&a(f,l,c.styleSheet,u,c.stylis),Je.useLayoutEffect(function(){if(!c.styleSheet.server)return a(f,l,c.styleSheet,u,c.stylis),function(){return s.removeStyles(f,c.styleSheet)}},[f,l,c.styleSheet,u,c.stylis]),null};function a(l,c,u,f,h){if(s.isStatic)s.renderStyles(l,Dke,u,h);else{var p=Ki(Ki({},c),{theme:bee(c,f,o.defaultProps)});s.renderStyles(l,p,u,h)}}return Je.memo(o)}function jee(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=W5(ai.apply(void 0,A1([t],e,!1))),i=RT(n);return new Tee(i,n)}const ao={appearance:{landingHeader:"Log in or sign up",theme:"light",accentColor:"#676FFF",walletList:["detected_wallets","metamask","coinbase_wallet","rainbow","wallet_connect"]},walletConnectCloudProjectId:V9e,rpcConfig:{rpcUrls:{},rpcTimeouts:{}},externalWallets:{coinbaseWallet:{connectionOptions:"all"}},captchaEnabled:!1,_render:{standalone:!1},fundingMethodConfig:{moonpay:{useSandbox:!1}}},yTe=({input:t})=>{if(!t||!t.primary[0])return;let e=[t.primary[0]],r=[];for(let n of(t.primary.length>4&&console.warn("You should not specify greater than 4 login methods in `loginMethodsAndOrder.primary`"),t.primary.slice(1)))e.includes(n)?console.warn(`Duplicated login method: ${n}`):e.push(n);for(let n of t.overflow??[])e.includes(n)||r.includes(n)?console.warn(`Duplicated login method: ${n}`):r.push(n);return{primary:e,overflow:r}};let wTe=new Set(["coinbase_wallet","cryptocom","metamask","okx_wallet","phantom","rainbow","uniswap","zerion","universal_profile","bybit_wallet","wallet_connect","detected_wallets","detected_solana_wallets","detected_ethereum_wallets","rabby_wallet","safe"]),mL=t=>wTe.has(t),yL=(t,e,r)=>r.indexOf(t)===e;const bTe=({input:t,overrides:e})=>e?e.primary.concat(e.overflow??[]).filter(mL).filter(yL):t?t.filter(mL).filter(yL):ao.appearance.walletList;function DT(t){let e=t.filter(r=>!nee.has(r.id));return M5.concat(e)}function vTe(t,e){return{...t,rpcUrls:{...t.rpcUrls,privy:{http:[e]}}}}const xTe="https://api.mainnet-beta.solana.com",ETe="https://api.testnet.solana.com",_Te="https://api.devnet.solana.com",sS=792703809,oS="11111111111111111111111111111111",CTe="EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v";function g8(t){return t.includes("testnet")?"testnet":t.includes("devnet")?"devnet":"mainnet-beta"}function ATe(t,e){return`https://explorer.solana.com/tx/${t}?cluster=${e}`}function STe(t,e){return`https://explorer.solana.com/account/${t}?cluster=${e}`}function $Te({name:t,rpcUrl:e}){if(e)return e;switch(t){case"mainnet-beta":return"https://api.mainnet-beta.solana.com";case"testnet":return"https://api.testnet.solana.com";case"devnet":return"https://api.devnet.solana.com"}}function q5(t){"@babel/helpers - typeof";return q5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q5(t)}var ITe=/^\s+/,kTe=/\s+$/;function ot(t,e){if(t=t||"",e=e||{},t instanceof ot)return t;if(!(this instanceof ot))return new ot(t,e);var r=TTe(t);this._originalInput=t,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||r.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}ot.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),r,n,i,s,o,a;return r=e.r/255,n=e.g/255,i=e.b/255,r<=.03928?s=r/12.92:s=Math.pow((r+.055)/1.055,2.4),n<=.03928?o=n/12.92:o=Math.pow((n+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*o+.0722*a},setAlpha:function(e){return this._a=Mee(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=bL(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=bL(this._r,this._g,this._b),r=Math.round(e.h*360),n=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+r+", "+n+"%, "+i+"%)":"hsva("+r+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=wL(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=wL(this._r,this._g,this._b),r=Math.round(e.h*360),n=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+r+", "+n+"%, "+i+"%)":"hsla("+r+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return vL(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return OTe(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(qr(this._r,255)*100)+"%",g:Math.round(qr(this._g,255)*100)+"%",b:Math.round(qr(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(qr(this._r,255)*100)+"%, "+Math.round(qr(this._g,255)*100)+"%, "+Math.round(qr(this._b,255)*100)+"%)":"rgba("+Math.round(qr(this._r,255)*100)+"%, "+Math.round(qr(this._g,255)*100)+"%, "+Math.round(qr(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:VTe[vL(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var r="#"+xL(this._r,this._g,this._b,this._a),n=r,i=this._gradientType?"GradientType = 1, ":"";if(e){var s=ot(e);n="#"+xL(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+r+",endColorstr="+n+")"},toString:function(e){var r=!!e;e=e||this._format;var n=!1,i=this._a<1&&this._a>=0,s=!r&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(n=this.toRgbString()),e==="prgb"&&(n=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(n=this.toHexString()),e==="hex3"&&(n=this.toHexString(!0)),e==="hex4"&&(n=this.toHex8String(!0)),e==="hex8"&&(n=this.toHex8String()),e==="name"&&(n=this.toName()),e==="hsl"&&(n=this.toHslString()),e==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return ot(this.toString())},_applyModification:function(e,r){var n=e.apply(null,[this].concat([].slice.call(r)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(LTe,arguments)},brighten:function(){return this._applyModification(FTe,arguments)},darken:function(){return this._applyModification(BTe,arguments)},desaturate:function(){return this._applyModification(jTe,arguments)},saturate:function(){return this._applyModification(MTe,arguments)},greyscale:function(){return this._applyModification(DTe,arguments)},spin:function(){return this._applyModification(UTe,arguments)},_applyCombination:function(e,r){return e.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(HTe,arguments)},complement:function(){return this._applyCombination(WTe,arguments)},monochromatic:function(){return this._applyCombination(qTe,arguments)},splitcomplement:function(){return this._applyCombination(zTe,arguments)},triad:function(){return this._applyCombination(EL,[3])},tetrad:function(){return this._applyCombination(EL,[4])}};ot.fromRatio=function(t,e){if(q5(t)=="object"){var r={};for(var n in t)t.hasOwnProperty(n)&&(n==="a"?r[n]=t[n]:r[n]=vm(t[n]));t=r}return ot(t,e)};function TTe(t){var e={r:0,g:0,b:0},r=1,n=null,i=null,s=null,o=!1,a=!1;return typeof t=="string"&&(t=ZTe(t)),q5(t)=="object"&&(Nc(t.r)&&Nc(t.g)&&Nc(t.b)?(e=NTe(t.r,t.g,t.b),o=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Nc(t.h)&&Nc(t.s)&&Nc(t.v)?(n=vm(t.s),i=vm(t.v),e=RTe(t.h,n,i),o=!0,a="hsv"):Nc(t.h)&&Nc(t.s)&&Nc(t.l)&&(n=vm(t.s),s=vm(t.l),e=PTe(t.h,n,s),o=!0,a="hsl"),t.hasOwnProperty("a")&&(r=t.a)),r=Mee(r),{ok:o,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}function NTe(t,e,r){return{r:qr(t,255)*255,g:qr(e,255)*255,b:qr(r,255)*255}}function wL(t,e,r){t=qr(t,255),e=qr(e,255),r=qr(r,255);var n=Math.max(t,e,r),i=Math.min(t,e,r),s,o,a=(n+i)/2;if(n==i)s=o=0;else{var l=n-i;switch(o=a>.5?l/(2-n-i):l/(n+i),n){case t:s=(e-r)/l+(e<r?6:0);break;case e:s=(r-t)/l+2;break;case r:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,l:a}}function PTe(t,e,r){var n,i,s;t=qr(t,360),e=qr(e,100),r=qr(r,100);function o(c,u,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?c+(u-c)*6*f:f<1/2?u:f<2/3?c+(u-c)*(2/3-f)*6:c}if(e===0)n=i=s=r;else{var a=r<.5?r*(1+e):r+e-r*e,l=2*r-a;n=o(l,a,t+1/3),i=o(l,a,t),s=o(l,a,t-1/3)}return{r:n*255,g:i*255,b:s*255}}function bL(t,e,r){t=qr(t,255),e=qr(e,255),r=qr(r,255);var n=Math.max(t,e,r),i=Math.min(t,e,r),s,o,a=n,l=n-i;if(o=n===0?0:l/n,n==i)s=0;else{switch(n){case t:s=(e-r)/l+(e<r?6:0);break;case e:s=(r-t)/l+2;break;case r:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,v:a}}function RTe(t,e,r){t=qr(t,360)*6,e=qr(e,100),r=qr(r,100);var n=Math.floor(t),i=t-n,s=r*(1-e),o=r*(1-i*e),a=r*(1-(1-i)*e),l=n%6,c=[r,o,s,s,a,r][l],u=[a,r,r,o,s,s][l],f=[s,s,a,r,r,o][l];return{r:c*255,g:u*255,b:f*255}}function vL(t,e,r,n){var i=[Ha(Math.round(t).toString(16)),Ha(Math.round(e).toString(16)),Ha(Math.round(r).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function OTe(t,e,r,n,i){var s=[Ha(Math.round(t).toString(16)),Ha(Math.round(e).toString(16)),Ha(Math.round(r).toString(16)),Ha(Dee(n))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function xL(t,e,r,n){var i=[Ha(Dee(n)),Ha(Math.round(t).toString(16)),Ha(Math.round(e).toString(16)),Ha(Math.round(r).toString(16))];return i.join("")}ot.equals=function(t,e){return!t||!e?!1:ot(t).toRgbString()==ot(e).toRgbString()};ot.random=function(){return ot.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function jTe(t,e){e=e===0?0:e||10;var r=ot(t).toHsl();return r.s-=e/100,r.s=m8(r.s),ot(r)}function MTe(t,e){e=e===0?0:e||10;var r=ot(t).toHsl();return r.s+=e/100,r.s=m8(r.s),ot(r)}function DTe(t){return ot(t).desaturate(100)}function LTe(t,e){e=e===0?0:e||10;var r=ot(t).toHsl();return r.l+=e/100,r.l=m8(r.l),ot(r)}function FTe(t,e){e=e===0?0:e||10;var r=ot(t).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(e/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(e/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(e/100)))),ot(r)}function BTe(t,e){e=e===0?0:e||10;var r=ot(t).toHsl();return r.l-=e/100,r.l=m8(r.l),ot(r)}function UTe(t,e){var r=ot(t).toHsl(),n=(r.h+e)%360;return r.h=n<0?360+n:n,ot(r)}function WTe(t){var e=ot(t).toHsl();return e.h=(e.h+180)%360,ot(e)}function EL(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var r=ot(t).toHsl(),n=[ot(t)],i=360/e,s=1;s<e;s++)n.push(ot({h:(r.h+s*i)%360,s:r.s,l:r.l}));return n}function zTe(t){var e=ot(t).toHsl(),r=e.h;return[ot(t),ot({h:(r+72)%360,s:e.s,l:e.l}),ot({h:(r+216)%360,s:e.s,l:e.l})]}function HTe(t,e,r){e=e||6,r=r||30;var n=ot(t).toHsl(),i=360/r,s=[ot(t)];for(n.h=(n.h-(i*e>>1)+720)%360;--e;)n.h=(n.h+i)%360,s.push(ot(n));return s}function qTe(t,e){e=e||6;for(var r=ot(t).toHsv(),n=r.h,i=r.s,s=r.v,o=[],a=1/e;e--;)o.push(ot({h:n,s:i,v:s})),s=(s+a)%1;return o}ot.mix=function(t,e,r){r=r===0?0:r||50;var n=ot(t).toRgb(),i=ot(e).toRgb(),s=r/100,o={r:(i.r-n.r)*s+n.r,g:(i.g-n.g)*s+n.g,b:(i.b-n.b)*s+n.b,a:(i.a-n.a)*s+n.a};return ot(o)};ot.readability=function(t,e){var r=ot(t),n=ot(e);return(Math.max(r.getLuminance(),n.getLuminance())+.05)/(Math.min(r.getLuminance(),n.getLuminance())+.05)};ot.isReadable=function(t,e,r){var n=ot.readability(t,e),i,s;switch(s=!1,i=JTe(r),i.level+i.size){case"AAsmall":case"AAAlarge":s=n>=4.5;break;case"AAlarge":s=n>=3;break;case"AAAsmall":s=n>=7;break}return s};ot.mostReadable=function(t,e,r){var n=null,i=0,s,o,a,l;r=r||{},o=r.includeFallbackColors,a=r.level,l=r.size;for(var c=0;c<e.length;c++)s=ot.readability(t,e[c]),s>i&&(i=s,n=ot(e[c]));return ot.isReadable(t,n,{level:a,size:l})||!o?n:(r.includeFallbackColors=!1,ot.mostReadable(t,["#fff","#000"],r))};var aS=ot.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},VTe=ot.hexNames=GTe(aS);function GTe(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[t[r]]=r);return e}function Mee(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function qr(t,e){KTe(t)&&(t="100%");var r=YTe(t);return t=Math.min(e,Math.max(0,parseFloat(t))),r&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function m8(t){return Math.min(1,Math.max(0,t))}function lo(t){return parseInt(t,16)}function KTe(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function YTe(t){return typeof t=="string"&&t.indexOf("%")!=-1}function Ha(t){return t.length==1?"0"+t:""+t}function vm(t){return t<=1&&(t=t*100+"%"),t}function Dee(t){return Math.round(parseFloat(t)*255).toString(16)}function _L(t){return lo(t)/255}var Na=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",r="(?:"+e+")|(?:"+t+")",n="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+n),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Nc(t){return!!Na.CSS_UNIT.exec(t)}function ZTe(t){t=t.replace(ITe,"").replace(kTe,"").toLowerCase();var e=!1;if(aS[t])t=aS[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=Na.rgb.exec(t))?{r:r[1],g:r[2],b:r[3]}:(r=Na.rgba.exec(t))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=Na.hsl.exec(t))?{h:r[1],s:r[2],l:r[3]}:(r=Na.hsla.exec(t))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=Na.hsv.exec(t))?{h:r[1],s:r[2],v:r[3]}:(r=Na.hsva.exec(t))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=Na.hex8.exec(t))?{r:lo(r[1]),g:lo(r[2]),b:lo(r[3]),a:_L(r[4]),format:e?"name":"hex8"}:(r=Na.hex6.exec(t))?{r:lo(r[1]),g:lo(r[2]),b:lo(r[3]),format:e?"name":"hex"}:(r=Na.hex4.exec(t))?{r:lo(r[1]+""+r[1]),g:lo(r[2]+""+r[2]),b:lo(r[3]+""+r[3]),a:_L(r[4]+""+r[4]),format:e?"name":"hex8"}:(r=Na.hex3.exec(t))?{r:lo(r[1]+""+r[1]),g:lo(r[2]+""+r[2]),b:lo(r[3]+""+r[3]),format:e?"name":"hex"}:!1}function JTe(t){var e,r;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),r=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:e,size:r}}let CL="#FFFFFF";function QTe(t){return t<.8&&t>.2&&console.warn("Background color is not light or dark enough, which could lead to accessibility issues."),t>.5?"light":"dark"}function _s(t,e){let r=Math.max(0,Math.min(1,t.toHsl().l+e));return ot({...t.toHsl(),l:r})}function XTe({backgroundTheme:t,accentHex:e}){let r;switch(t){case"light":r=CL;break;case"dark":r="#1E1E1D";break;default:r=t}let n=ot(r),i=ot(e),s=ot("#51BA81"),o=ot("#FFB74D"),a=ot("#EC6351"),l=QTe(n.getLuminance()),c=_s(n,l==="light"?-.04:.11),u=_s(n,l==="light"?-.08:.16),f=_s(n,l==="light"?-.88:.87),h=_s(n,l==="light"?-.7:.75),p=_s(n,l==="light"?-.43:.45).desaturate(l==="light"?60:20),g=_s(n,l==="light"?-.08:.25).desaturate(l==="light"?60:20),m=_s(i,.15),w=_s(i,.25),y=_s(i,-.06),E=_s(i,-.6),v=_s(a,.3),b=_s(o,.3),$=ot(i.getLuminance()>.5?"#040217":CL),P=_s(s,-.16),O=_s(s,.4);return{colorScheme:l,background:n.toHslString(),background2:c.toHslString(),background3:u.toHslString(),foreground:f.toHslString(),foreground2:h.toHslString(),foreground3:p.toHslString(),foreground4:g.toHslString(),accent:i.toHslString(),accentLight:m.toHslString(),accentLightest:w.toHslString(),accentDark:y.toHslString(),accentDarkest:E.toHslString(),foregroundAccent:$.toHslString(),success:s.toHslString(),successDark:P.toHslString(),successLight:O.toHslString(),error:a.toHslString(),errorLight:v.toHslString(),warn:o.toHslString(),warnLight:b.toHslString()}}function Lee(t,e,r){var M,U,S,F,Q,k,W,V,ee,te,ce,K,G,pe,de,ye,Ne,je,Qe,xe,he,ht,De,we,_e,Me,ke,Te,Ue,Be,Z,j,L,X,ae,fe,ge,Ie,Se,Ve,_t;let n,i,s,o,a,l,c,u,f,h,p,g,m,w,y,E,v=r?console.warn:()=>{};e!=null&&e.loginMethods?(n=e.loginMethods.includes("email"),i=e.loginMethods.includes("sms"),o=e.loginMethods.includes("wallet"),a=e.loginMethods.includes("google"),l=e.loginMethods.includes("twitter"),c=e.loginMethods.includes("discord"),f=e.loginMethods.includes("spotify"),h=e.loginMethods.includes("instagram"),u=e.loginMethods.includes("tiktok"),g=e.loginMethods.includes("github"),p=e.loginMethods.includes("linkedin"),m=e.loginMethods.includes("apple"),w=e.loginMethods.includes("farcaster"),y=e.loginMethods.includes("telegram")):(n=t.emailAuth,i=t.smsAuth,o=t.walletAuth||t.solanaWalletAuth,a=t.googleOAuth,l=t.twitterOAuth,c=t.discordOAuth,g=t.githubOAuth,f=t.spotifyOAuth,h=t.instagramOAuth,u=t.tiktokOAuth,p=t.linkedinOAuth,m=t.appleOAuth,w=t.farcasterAuth,y=t.telegramAuth),typeof window<"u"&&typeof window.PublicKeyCredential!="function"?s=!1:t.passkeyAuth&&(s=!0);let b=[n,i].filter(Boolean),$=[a,l,c,g,f,h,u,p,m,w,y].filter(Boolean),P=[o].filter(Boolean);if(b.length+$.length+P.length===0)throw Error("You must enable at least one login method");let O=((M=e==null?void 0:e.appearance)==null?void 0:M.showWalletLoginFirst)!==void 0?(U=e==null?void 0:e.appearance)==null?void 0:U.showWalletLoginFirst:t.showWalletLoginFirst;O&&P.length===0?(v("You should only enable `showWalletLoginFirst` when `wallet` logins are also enabled. `showWalletLoginFirst` has been set to false"),O=!1):O||$.length+b.length!==0||(v("You should only disable `showWalletLoginFirst` when `email`, `sms`, or social logins are also enabled. `showWalletLoginFirst` has been set to true"),O=!0);let D=((F=(S=e==null?void 0:e.externalWallets)==null?void 0:S.walletConnect)==null?void 0:F.enabled)??!0;e!=null&&e.loginMethods&&e.loginMethodsAndOrder&&v("You should only configure one of `loginMethods` or `loginMethodsAndOrder`");let B=bTe({input:(Q=e==null?void 0:e.appearance)==null?void 0:Q.walletList,overrides:e==null?void 0:e.loginMethodsAndOrder}),H=yTe({input:e==null?void 0:e.loginMethodsAndOrder}),q=((k=e==null?void 0:e.intl)==null?void 0:k.defaultCountry)??"US",{chains:Y,defaultChain:R}=tNe({additionalChains:e==null?void 0:e.additionalChains,supportedChains:e==null?void 0:e.supportedChains,defaultChainFromConfig:e==null?void 0:e.defaultChain,hasRpcConfigDefined:Object.keys(((W=e==null?void 0:e.rpcConfig)==null?void 0:W.rpcUrls)??{}).length>0}),_=!!(e!=null&&e.defaultChain),x=((V=e==null?void 0:e.customAuth)==null?void 0:V.getCustomAccessToken)&&((ee=e==null?void 0:e.customAuth)==null?void 0:ee.enabled)!==!1,A=!(t.enforceWalletUis??1);if(E=t.legacyWalletUiConfig??1?x?((te=e==null?void 0:e.embeddedWallets)==null?void 0:te.noPromptOnSignature)??!0:((ce=e==null?void 0:e.embeddedWallets)==null?void 0:ce.noPromptOnSignature)??A:A,((K=e==null?void 0:e.embeddedWallets)==null?void 0:K.waitForTransactionConfirmation)===!1&&E!==!0)throw Error("Overriding `config.embeddedWallets.waitForTransactionConfirmation` requires that you disable wallet UIs in the dashboard.");let{requireUserPasswordOnCreate:T,...I}=(e==null?void 0:e.embeddedWallets)??{},N=(e==null?void 0:e.solanaClusters)??[];return t.solanaWalletAuth&&!((pe=(G=e==null?void 0:e.externalWallets)==null?void 0:G.solana)!=null&&pe.connectors)&&console.warn("App configuration has Solana wallet login enabled, but no Solana wallet connectors have been passed to Privy. Make sure to pass Solana connectors to the `config.externalWallets.solana.connectors` field of the `PrivyProvider`"),{id:t.id,name:t.name,allowlistConfig:t.allowlistConfig,legacyWalletUiConfig:t.legacyWalletUiConfig,appearance:{logo:((de=e==null?void 0:e.appearance)==null?void 0:de.logo)??t.logoUrl,landingHeader:((ye=e==null?void 0:e.appearance)==null?void 0:ye.landingHeader)??ao.appearance.landingHeader,loginMessage:typeof((Ne=e==null?void 0:e.appearance)==null?void 0:Ne.loginMessage)=="string"?(je=e==null?void 0:e.appearance)==null?void 0:je.loginMessage.slice(0,100):(Qe=e==null?void 0:e.appearance)==null?void 0:Qe.loginMessage,palette:XTe({backgroundTheme:((xe=e==null?void 0:e.appearance)==null?void 0:xe.theme)??ao.appearance.theme,accentHex:((he=e==null?void 0:e.appearance)==null?void 0:he.accentColor)??t.accentColor??ao.appearance.accentColor}),loginGroupPriority:O?"web3-first":"web2-first",hideDirectWeb2Inputs:!!((ht=e==null?void 0:e.appearance)!=null&&ht.hideDirectWeb2Inputs),walletList:B,walletChainType:((De=e==null?void 0:e.appearance)==null?void 0:De.walletChainType)??(({evmWalletAuth:Ge,solanaWalletAuth:jt})=>Ge&&jt?"ethereum-and-solana":Ge?"ethereum-only":jt?"solana-only":"ethereum-only")({evmWalletAuth:t.walletAuth??!1,solanaWalletAuth:t.solanaWalletAuth??!1})},loginMethods:{wallet:o,email:n,sms:i,passkey:s,google:a,twitter:l,discord:c,github:g,spotify:f,instagram:h,tiktok:u,linkedin:p,apple:m,farcaster:w,telegram:y},disablePlusEmails:t.disablePlusEmails,loginMethodsAndOrder:H,legal:{termsAndConditionsUrl:((we=e==null?void 0:e.legal)==null?void 0:we.termsAndConditionsUrl)??t.termsAndConditionsUrl,privacyPolicyUrl:((_e=e==null?void 0:e.legal)==null?void 0:_e.privacyPolicyUrl)??t.privacyPolicyUrl,requireUsersAcceptTerms:t.requireUsersAcceptTerms??!1},walletConnectCloudProjectId:(e==null?void 0:e.walletConnectCloudProjectId)??t.walletConnectCloudProjectId??ao.walletConnectCloudProjectId,rpcConfig:{rpcUrls:((Me=e==null?void 0:e.rpcConfig)==null?void 0:Me.rpcUrls)??ao.rpcConfig.rpcUrls,rpcTimeouts:((ke=e==null?void 0:e.rpcConfig)==null?void 0:ke.rpcTimeouts)??ao.rpcConfig.rpcTimeouts},chains:Y,solanaClusters:{"mainnet-beta":((Te=N.find(Ge=>Ge.name==="mainnet-beta"))==null?void 0:Te.rpcUrl)||xTe,testnet:((Ue=N.find(Ge=>Ge.name==="testnet"))==null?void 0:Ue.rpcUrl)||ETe,devnet:((Be=N.find(Ge=>Ge.name==="devnet"))==null?void 0:Be.rpcUrl)||_Te},defaultChain:R,intl:{defaultCountry:q},shouldEnforceDefaultChainOnConnect:_,captchaEnabled:t.captchaEnabled??ao.captchaEnabled,captchaSiteKey:t.captchaSiteKey,externalWallets:{coinbaseWallet:{connectionOptions:((j=(Z=e==null?void 0:e.externalWallets)==null?void 0:Z.coinbaseWallet)==null?void 0:j.connectionOptions)??ao.externalWallets.coinbaseWallet.connectionOptions},walletConnect:{enabled:D},solana:{connectors:(X=(L=e==null?void 0:e.externalWallets)==null?void 0:L.solana)==null?void 0:X.connectors}},embeddedWallets:{...t.embeddedWalletConfig,...typeof T=="boolean"?{requireUserOwnedRecoveryOnCreate:T}:{},...x?{createOnLogin:"all-users",requireUserOwnedRecoveryOnCreate:!1,userOwnedRecoveryOptions:["user-passcode"]}:{},waitForTransactionConfirmation:!0,priceDisplay:{primary:"fiat-currency",secondary:"native-token"},...I,noPromptOnSignature:E,showWalletUIs:(ae=e==null?void 0:e.embeddedWallets)==null?void 0:ae.showWalletUIs,extendedCalldataDecoding:(fe=e==null?void 0:e.embeddedWallets)==null?void 0:fe.extendedCalldataDecoding},mfa:{methods:t.mfaMethods??[],noPromptOnMfaRequired:((ge=e==null?void 0:e.mfa)==null?void 0:ge.noPromptOnMfaRequired)??!1},customAuth:x?{enabled:!0,...e.customAuth}:void 0,loginConfig:{telegramAuthConfiguration:t.telegramAuthConfiguration,passkeysForSignupEnabled:t.passkeysForSignupEnabled},headless:!!(e!=null&&e.headless),render:{standalone:((Ie=e==null?void 0:e._render)==null?void 0:Ie.standalone)??ao._render.standalone},fundingConfig:t.fundingConfig,fundingMethodConfig:{...(e==null?void 0:e.fundingMethodConfig)??ao.fundingMethodConfig,moonpay:{...((Se=e==null?void 0:e.fundingMethodConfig)==null?void 0:Se.moonpay)??ao.fundingMethodConfig.moonpay,useSandbox:((Ve=e==null?void 0:e.fundingMethodConfig)==null?void 0:Ve.moonpay.useSandbox)??((_t=e==null?void 0:e.fiatOnRamp)==null?void 0:_t.useSandbox)??ao.fundingMethodConfig.moonpay.useSandbox}}}}function eNe(t,e){var l,c;if(!t)return{legacyCreateEmbeddedWalletFlag:e};let{appearance:r,additionalChains:n,supportedChains:i,defaultChain:s,externalWallets:o,...a}=t;return{...a,...n?{additionalChains:n.map(u=>u.id)}:void 0,...i?{supportedChains:i.map(u=>u.id)}:void 0,...s?{defaultChain:s.id}:void 0,...o?{walletConnect:o.walletConnect,coinbaseWallet:o.coinbaseWallet,solana:{connectors:(c=(l=o.solana)==null?void 0:l.connectors)==null?void 0:c.get().map(u=>u.walletClientType)}}:void 0,legacyCreateEmbeddedWalletFlag:e}}function tNe({additionalChains:t,supportedChains:e,defaultChainFromConfig:r,hasRpcConfigDefined:n}){let i;if(t&&e&&console.warn("You should only specify one of `additionalChains` or `supportedChains`. Using `supportedChains`."),e){if(e.length===0)throw Error("`supportedChains` must contain at least one chain");e.filter(a=>a.rpcUrls.privyWalletOverride).length>0&&n&&console.warn("You have specified at least one `supportedChain` with `privyWalletOverride` but also have `rpcConfig` defined. The `rpcConfig` will be ignored. `rpcConfig` is deprecated and you should use `privyWalletOverride` in a `supportedChain`."),i=e.map(a=>{var u;if(a.rpcUrls.privyWalletOverride)return a;let l=M5.find(f=>f.id===a.id),c=(u=l==null?void 0:l.rpcUrls.privy)==null?void 0:u.http[0];return c?vTe(a,c):a})}else i=M5.concat(t??[]);let s=e?i[0]:Ec,o=r??s;if(!i.find(a=>a.id===o.id))throw Error("`defaultChain` must be included in `supportedChains`");return{chains:i,defaultChain:o}}const rNe=function(t,e=0){let r=3735928559^e,n=1103547991^e;for(let i,s=0;s<t.length;s++)r=Math.imul(r^(i=t.charCodeAt(s)),2654435761),n=Math.imul(n^i,1597334677);return r=Math.imul(r^r>>>16,2246822507)^Math.imul(n^n>>>13,3266489909),4294967296*(2097151&(n=Math.imul(n^n>>>16,2246822507)^Math.imul(r^r>>>13,3266489909)))+(r>>>0)};let Fee={showWalletLoginFirst:!0,allowlistConfig:{errorTitle:null,errorDetail:null,errorCtaText:null,errorCtaLink:null},walletAuth:!0,emailAuth:!0,smsAuth:!1,googleOAuth:!1,twitterOAuth:!1,discordOAuth:!1,githubOAuth:!1,linkedinOAuth:!1,appleOAuth:!1,disablePlusEmails:!1,termsAndConditionsUrl:null,privacyPolicyUrl:null,embeddedWalletConfig:{createOnLogin:"off",requireUserOwnedRecoveryOnCreate:!1,userOwnedRecoveryOptions:["user-passcode"]},captchaEnabled:!1,captchaSiteKey:"",enforceWalletUis:!1,legacyWalletUiConfig:!1};const Bee=Lee(Fee,void 0,!1);let LT=C.createContext({appConfig:Bee,isServerConfigLoaded:!1});const nNe=({children:t,legacyCreateEmbeddedWalletFlag:e,client:r,clientConfig:n})=>{let[i,s]=C.useState(null),o=C.useMemo(()=>Lee(i??Fee,n,!!i),[i,n]);return C.useEffect(()=>{if(!i)return;let a=eNe(n,e),l=rNe(JSON.stringify(a)).toString(),c=`privy:sent:${i.id}:${l}`;localStorage.getItem(c)||(r.createAnalyticsEvent({eventName:"sdk_initialize",payload:a}),localStorage.setItem(c,"t"))},[n,e,i]),C.useEffect(()=>{i||(async()=>{try{let a=await r.getServerConfig();a.customApiUrl&&r.updateApiUrl(a.customApiUrl),s(a)}catch(a){console.warn("Error generating app config: ",a)}})()},[]),d.jsx(LT.Provider,{value:{appConfig:o,isServerConfigLoaded:!!i},children:t})},$n=()=>{let{appConfig:t}=C.useContext(LT);return t},iNe=()=>{let{isServerConfigLoaded:t}=C.useContext(LT);return t},Uee=C.createContext({setAuthenticated:ve,setUser:ve,isNewUserThisSession:!1,walletConnectionStatus:null,connectors:[],solanaWallets:[],rpcConfig:{rpcUrls:{}},showFiatPrices:!0,chains:[],clientAnalyticsId:null,pendingTransaction:null,client:null,appId:"notAdded",customAuthStatus:{status:"not-enabled"},noPromptOnSignature:{current:!1},nativeTokenSymbolForChainId:ve,initializeWalletProxy:ve,getAuthMeta:ve,getAuthFlow:ve,closePrivyModal:ve,openPrivyModal:ve,connectWallet:ve,initLoginWithWallet:ve,loginWithWallet:ve,initLoginWithFarcaster:ve,loginWithFarcaster:ve,loginWithCode:ve,initLoginWithEmail:ve,initLoginWithSms:ve,initUpdateEmail:ve,initUpdatePhone:ve,resendEmailCode:ve,resendSmsCode:ve,initLoginWithHeadlessOAuth:ve,loginWithHeadlessOAuth:ve,crossAppAuthFlow:ve,initLoginWithOAuth:ve,recoveryOAuthFlow:ve,loginWithOAuth:ve,passkeyAuthState:{status:"initial"},setPasskeyAuthState:ve,initSignupWithPasskey:ve,signupWithPasskey:ve,initLoginWithPasskey:ve,loginWithPasskey:ve,initLinkWithPasskey:ve,linkWithPasskey:ve,refreshUser:ve,loginWithGuestAccountFlow:ve,walletProxy:null,createAnalyticsEvent:ve,acceptTerms:ve,getUsdTokenPrice:ve,getUsdPriceForSol:ve,getSplTokenMetadata:ve,recoverPrimaryWallet:ve,updateWallets:ve,fundWallet:ve,openModal:ve,setReadyToTrue:ve,requestFarcasterSignerStatus:ve,initLoginWithTelegram:ve,loginWithTelegram:ve,generateSiweMessage:ve,generateSiweMessageForSmartWallet:ve,linkWithSiwe:ve,linkSmartWallet:ve,delegateWallet:ve,revokeDelegatedWallets:ve,createEmbeddedSolanaWallet:ve,exportSolanaWallet:ve,solanaSignMessage:ve,connectCoinbaseSmartWallet:ve,initiateAccountTransfer:ve,emailOtpState:{status:"initial"},setEmailOtpState:ve,smsOtpState:{status:"initial"},setSmsOtpState:ve,siweState:{status:"initial"},setSiweState:ve,oAuthState:{status:"initial"},setOAuthState:ve,isHeadlessOAuthLoading:!1}),Ye=()=>C.useContext(Uee);function sNe({src:t,...e}){return d.jsx("img",{src:t,...e,style:{display:"none"}})}var ut,se=((ut={}).LANDING="LANDING",ut.CONNECT_OR_CREATE="CONNECT_OR_CREATE",ut.AWAITING_CONNECTION="AWAITING_CONNECTION",ut.AWAITING_FARCASTER_CONNECTION="AWAITING_FARCASTER_CONNECTION",ut.AWAITING_FARCASTER_SIGNER="AWAITING_FARCASTER_SIGNER",ut.AWAITING_OAUTH_SCREEN="AWAITING_OAUTH_SCREEN",ut.CROSS_APP_AUTH_SCREEN="CROSS_APP_AUTH_SCREEN",ut.AWAITING_PASSWORDLESS_CODE="AWAITING_PASSWORDLESS_CODE",ut.AWAITING_PASSKEY_SYSTEM_DIALOGUE="AWAITING_PASSKEY_SYSTEM_DIALOGUE",ut.SELECT_PASSKEY_SIGNUP_OR_LOGIN="SELECT_PASSKEY_SIGNUP_OR_LOGIN",ut.LINK_EMAIL_SCREEN="LINK_EMAIL_SCREEN",ut.LINK_PHONE_SCREEN="LINK_PHONE_SCREEN",ut.LINK_WALLET_SCREEN="LINK_WALLET_SCREEN",ut.LINK_PASSKEY_SCREEN="LINK_PASSKEY_SCREEN",ut.UPDATE_EMAIL_SCREEN="UPDATE_EMAIL_SCREEN",ut.UPDATE_PHONE_SCREEN="UPDATE_PHONE_SCREEN",ut.AWAITING_CONNECT_ONLY_CONNECTION="AWAITING_CONNECT_ONLY_CONNECTION",ut.CONNECT_ONLY_LANDING_SCREEN="CONNECT_ONLY_LANDING_SCREEN",ut.CONNECT_ONLY_AUTHENTICATED_SCREEN="CONNECT_ONLY_AUTHENTICATED_SCREEN",ut.LOGIN_FAILED_SCREEN="LOGIN_FAILED_SCREEN",ut.ALLOWLIST_REJECTION_SCREEN="ALLOWLIST_REJECTION_SCREEN",ut.ACCOUNT_NOT_FOUND_SCREEN="ACCOUNT_NOT_FOUND_SCREEN",ut.USER_LIMIT_REACHED_SCREEN="USER_LIMIT_REACHED_SCREEN",ut.EMBEDDED_WALLET_ON_ACCOUNT_CREATE_SCREEN="EMBEDDED_WALLET_ON_ACCOUNT_CREATE_SCREEN",ut.EMBEDDED_WALLET_CREATED_SCREEN="EMBEDDED_WALLET_CREATED_SCREEN",ut.EMBEDDED_WALLET_CONNECTING_SCREEN="EMBEDDED_WALLET_CONNECTING_SCREEN",ut.EMBEDDED_WALLET_PASSWORD_RECOVERY_SCREEN="EMBEDDED_WALLET_PASSWORD_RECOVERY_SCREEN",ut.EMBEDDED_WALLET_KEY_EXPORT_SCREEN="EMBEDDED_WALLET_KEY_EXPORT_SCREEN",ut.EMBEDDED_WALLET_SEND_TRANSACTION_SCREEN="EMBEDDED_WALLET_SEND_TRANSACTION_SCREEN",ut.EMBEDDED_WALLET_SEND_SOLANA_TRANSACTION_SCREEN="EMBEDDED_WALLET_SEND_SOLANA_TRANSACTION_SCREEN",ut.EMBEDDED_WALLET_SIGN_REQUEST_SCREEN="EMBEDDED_WALLET_SIGN_REQUEST_SCREEN",ut.EMBEDDED_WALLET_PASSWORD_UPDATE_SPLASH_SCREEN="EMBEDDED_WALLET_PASSWORD_UPDATE_SPLASH_SCREEN",ut.EMBEDDED_WALLET_PASSWORD_CREATE_SCREEN="EMBEDDED_WALLET_PASSWORD_CREATE_SCREEN",ut.EMBEDDED_WALLET_PASSWORD_UPDATE_SCREEN="EMBEDDED_WALLET_PASSWORD_UPDATE_SCREEN",ut.EMBEDDED_WALLET_RECOVERY_SELECTION_SCREEN="EMBEDDED_WALLET_RECOVERY_SELECTION_SCREEN",ut.EMBEDDED_WALLET_RECOVERY_OAUTH_SCREEN="EMBEDDED_WALLET_RECOVERY_OAUTH_SCREEN",ut.EMBEDDED_WALLET_SET_AUTOMATIC_RECOVERY_SCREEN="EMBEDDED_WALLET_SET_AUTOMATIC_RECOVERY_SCREEN",ut.EMBEDDED_WALLET_DELEGATED_ACTIONS_CONSENT_SCREEN="EMBEDDED_WALLET_DELEGATED_ACTIONS_CONSENT_SCREEN",ut.EMBEDDED_WALLET_DELEGATED_ACTIONS_REVOKE_SCREEN="EMBEDDED_WALLET_DELEGATED_ACTIONS_REVOKE_SCREEN",ut.INSTALL_PHANTOM_SCREEN="INSTALL_PHANTOM_SCREEN",ut.PHANTOM_INTERSTITIAL_SCREEN="PHANTOM_INTERSTITIAL_SCREEN",ut.AFFIRMATIVE_CONSENT_SCREEN="AFFIRMATIVE_CONSENT_SCREEN",ut.FUNDING_METHOD_SELECTION_SCREEN="FUNDING_METHOD_SELECTION_SCREEN",ut.FUNDING_TRANSFER_FROM_WALLET_SCREEN="FUNDING_TRANSFER_FROM_WALLET_SCREEN",ut.FUNDING_EDIT_AMOUNT_SCREEN="FUNDING_EDIT_AMOUNT_SCREEN",ut.FUNDING_AWAITING_TRANSFER_FROM_EXTERNAL_WALLET_SCREEN="FUNDING_AWAITING_TRANSFER_FROM_EXTERNAL_WALLET_SCREEN",ut.FUNDING_AWAITING_TRANSFER_FROM_EXTERNAL_SOLANA_WALLET_SCREEN="FUNDING_AWAITING_TRANSFER_FROM_EXTERNAL_SOLANA_WALLET_SCREEN",ut.FUNDING_AWAITING_EVM_TO_SOL_BRIDGING_SCREEN="FUNDING_AWAITING_EVM_TO_SOL_BRIDGING_SCREEN",ut.FUNDING_AWAITING_SOL_TO_EVM_BRIDGING_SCREEN="FUNDING_AWAITING_SOL_TO_EVM_BRIDGING_SCREEN",ut.FUNDING_MANUAL_TRANSFER_SCREEN="FUNDING_MANUAL_TRANSFER_SCREEN",ut.MOONPAY_STATUS_SCREEN="MOONPAY_STATUS_SCREEN",ut.COINBASE_ONRAMP_STATUS_SCREEN="COINBASE_ONRAMP_STATUS_SCREEN",ut.MFA_ENROLLMENT_FLOW_SCREEN="MFA_ENROLLMENT_FLOW_SCREEN",ut.CAPTCHA_SCREEN="CAPTCHA_SCREEN",ut.ERROR_SCREEN="ERROR_SCREEN",ut.IN_APP_BROWSER_LOGIN_NOT_POSSIBLE="IN_APP_BROWSER_LOGIN_NOT_POSSIBLE",ut.TELEGRAM_AUTH_SCREEN="TELEGRAM_AUTH_SCREEN",ut.LINK_CONFLICT_SCREEN="LINK_CONFLICT_SCREEN",ut);const Wee=C.createContext({ready:!1,app:Bee,currentScreen:null,lastScreen:null,navigate:ve,navigateBack:ve,resetNavigation:ve,setModalData:ve,onUserCloseViaDialogOrKeybindRef:void 0});let oNe=[se.LANDING,se.CONNECT_ONLY_LANDING_SCREEN,null];const aNe=t=>{var a;let e=$n(),r=t.authenticated,[n,i]=C.useState(t.initialScreen);C.useEffect(()=>{r||oNe.includes(t.initialScreen)||t.setInitialScreen(null)},[r]);let s=C.useRef(null);C.useEffect(()=>{t.open||(s.current=null)},[t.open]),C.useEffect(()=>{s.current=null},[t.initialScreen]);let o={ready:!!e.id,app:e,data:t.data,setModalData:t.setModalData,currentScreen:t.initialScreen,lastScreen:n,navigate:(l,c=!0)=>{t.setInitialScreen(l),c&&i(t.initialScreen)},navigateBack:()=>{t.setInitialScreen(n)},resetNavigation:()=>{t.setInitialScreen(null),i(null)},onUserCloseViaDialogOrKeybindRef:s};return d.jsxs(Wee.Provider,{value:o,children:[(typeof e.appearance.logo=="string"||((a=e.appearance.logo)==null?void 0:a.type)==="img")&&d.jsx(sNe,{src:typeof e.appearance.logo=="string"?e.appearance.logo:e.appearance.logo.props.src}),t.children]})},qe=()=>C.useContext(Wee),hg=C.createContext({ready:!1,authenticated:!1,user:null,walletConnectors:null,connectWallet:ve,login:ve,connectOrCreateWallet:ve,linkEmail:ve,linkPhone:ve,linkFarcaster:ve,linkWallet:ve,startCrossAppAuthFlow:ve,linkGoogle:ve,linkTwitter:ve,linkDiscord:ve,linkGithub:ve,linkSpotify:ve,linkInstagram:ve,linkTelegram:ve,linkTiktok:ve,linkLinkedIn:ve,linkApple:ve,linkPasskey:ve,updateEmail:ve,updatePhone:ve,logout:ve,getAccessToken:ve,getEthereumProvider:ve,getEthersProvider:ve,getWeb3jsProvider:ve,unlinkEmail:ve,unlinkPhone:ve,unlinkWallet:ve,unlinkGoogle:ve,unlinkTwitter:ve,unlinkDiscord:ve,unlinkGithub:ve,unlinkSpotify:ve,unlinkInstagram:ve,unlinkTiktok:ve,unlinkLinkedIn:ve,unlinkApple:ve,unlinkCrossAppAccount:ve,unlinkFarcaster:ve,unlinkTelegram:ve,unlinkPasskey:ve,setActiveWallet:ve,forkSession:ve,createWallet:ve,signMessage:ve,signTypedData:ve,enrollInMfa:ve,initEnrollmentWithSms:ve,initEnrollmentWithTotp:ve,initEnrollmentWithPasskey:ve,promptMfa:ve,init:ve,submitEnrollmentWithSms:ve,submitEnrollmentWithTotp:ve,submitEnrollmentWithPasskey:ve,unenroll:ve,submit:ve,cancel:ve,sendTransaction:ve,sendSolanaTransaction:ve,exportWallet:ve,setWalletPassword:ve,setWalletRecovery:ve,requestFarcasterSignerFromWarpcast:ve,getFarcasterSignerPublicKey:ve,signFarcasterMessage:ve,createGuestAccount:ve,signMessageWithCrossAppWallet:ve,signTypedDataWithCrossAppWallet:ve,sendTransactionWithCrossAppWallet:ve,isModalOpen:!1,mfaMethods:[]}),zt=()=>C.useContext(hg),lNe=t=>{let[e,r]=C.useState("auto");return C.useEffect(()=>{let n=new ResizeObserver(i=>{var s;r(((s=i[0])==null?void 0:s.contentRect.height)??"auto")});return t.current&&n.observe(t.current),()=>{t.current&&n.unobserve(t.current)}},[t.current]),e},cNe={login:{onComplete:[],onError:[],onOAuthLoginComplete:[]},logout:{onSuccess:[]},connectWallet:{onSuccess:[],onError:[]},createWallet:{onSuccess:[],onError:[]},linkAccount:{onSuccess:[],onError:[]},update:{onSuccess:[],onError:[]},configureMfa:{onMfaRequired:[]},setWalletPassword:{onSuccess:[],onError:[]},setWalletRecovery:{onSuccess:[],onError:[]},signMessage:{onSuccess:[],onError:[]},signTypedData:{onSuccess:[],onError:[]},sendTransaction:{onSuccess:[],onError:[]},sendSolanaTransaction:{onSuccess:[],onError:[]},accessToken:{onAccessTokenGranted:[],onAccessTokenRemoved:[]},oAuthAuthorization:{onOAuthTokenGrant:[]},fundWallet:{onUserExited:[]},fundSolanaWallet:{onUserExited:[]},customAuth:{onAuthenticated:[],onUnauthenticated:[]}},zee=C.createContext(void 0);let Hee=()=>C.useContext(zee);function FT(t,e){if(!e)return;let r=Hee().current[t];return C.useEffect(()=>{var n;for(let[i,s]of Object.entries(e))Object.prototype.hasOwnProperty.call(r,i)||console.warn(`Invalid event type "${i}" for action "${t}"`),(n=r[i])==null||n.push(s);return()=>{var i;for(let[s,o]of Object.entries(e))Object.prototype.hasOwnProperty.call(r,s)||console.warn(`Invalid event type "${s}" for action "${t}"`),r[s]=(i=r[s])==null?void 0:i.filter(a=>a!==o)}},[e])}function Ee(t,e,r,...n){for(let i of t.current[e][r])i(...n)}function BT(){let t=Hee();return(e,r,...n)=>Ee(t,e,r,...n)}function uNe(t){FT("configureMfa",t)}function dNe({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"}))}const yh=C.forwardRef(dNe),sl=({success:t,fail:e})=>d.jsxs(d.Fragment,{children:[d.jsx(ma,{className:t?"success":e?"fail":""}),d.jsx(UT,{className:t?"success":e?"fail":""})]}),ma=ne.span.withConfig({displayName:"Loader",componentId:"sc-ce7792e2-0"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1.2s linear infinite;transition:border-color 800ms;}@keyframes rotation{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}&&&.success{border-color:var(--privy-color-success);border-bottom-color:var(--privy-color-success);}&&&.fail{border-color:var(--privy-color-error);border-bottom-color:var(--privy-color-error);}"],t=>t.color??"var(--privy-color-accent)"),UT=ne(ma).withConfig({displayName:"LoaderFaint",componentId:"sc-ce7792e2-1"})(["&&{border-bottom-color:",";animation:none;opacity:0.5;}"],t=>t.color??"var(--privy-color-accent)"),bf=t=>d.jsx(fNe,{color:t.color||"var(--privy-color-foreground-3)"});let fNe=ne(ma).withConfig({displayName:"StyledButtonLoader",componentId:"sc-ce7792e2-2"})(["&&{height:1rem;width:1rem;margin:2px 0;border-width:1.5px;transition:border-color 200ms ease;}"]);const y8=ne.button.withConfig({displayName:"Button",componentId:"sc-e15d0508-0"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none;&{width:100%;cursor:pointer;border-radius:var(--privy-border-radius-md);font-size:1rem;font-style:normal;font-weight:500;line-height:22px;letter-spacing:-0.016px;}&&{padding:12px 16px;}"]),at=({children:t,loading:e,disabled:r,success:n,loadingText:i="Loading...",...s})=>d.jsx(qee,{disabled:e||r,success:n,...s,children:e?d.jsxs("span",{children:[d.jsx(bf,{}),i?d.jsx("span",{children:i}):null]}):t}),E2=({children:t,loading:e,disabled:r,...n})=>d.jsx(hNe,{disabled:r,...n,children:e?d.jsx(bf,{color:"var(--privy-color-foreground-accent)"}):t});let hNe=ne(y8).withConfig({displayName:"StyledPrimaryButtonWithoutGray",componentId:"sc-e15d0508-1"})(["position:relative;&&{background-color:var(--privy-color-accent);color:var(--privy-color-foreground-accent);transition:background-color 200ms ease;}&:hover{background-color:var(--privy-color-accent-dark);}&:active{background-color:var(--privy-color-accent-dark);}&:disabled,&:hover:disabled,&:active:disabled{cursor:not-allowed;pointer-events:none;color:var(--privy-color-foreground-accent);background-color:var(--privy-color-accent-dark);}"]);const pNe=({children:t,loading:e,disabled:r,loadingText:n="Loading...",...i})=>d.jsx(qee,{as:"a",disabled:e||r,...i,children:e?d.jsxs("span",{children:[d.jsx(bf,{}),n?d.jsx("span",{children:n}):null]}):t});let qee=ne(y8).withConfig({displayName:"StyledPrimaryButton",componentId:"sc-e15d0508-2"})(["position:relative;&&{background-color:",";color:var(--privy-color-foreground-accent);transition:background-color 200ms ease;}&:hover{background-color:",";}&:active{background-color:",";}&:hover:disabled,&:active:disabled{background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);cursor:not-allowed;}"," > span{display:flex;align-items:center;gap:8px;opacity:1;animation:fadein 200ms ease;}"],t=>t.warn?"var(--privy-color-error)":t.success?"var(--privy-color-success)":"var(--privy-color-accent)",t=>t.warn?"var(--privy-color-error)":t.success?"var(--privy-color-success)":"var(--privy-color-accent-dark)",t=>t.warn?"var(--privy-color-error)":t.success?"var(--privy-color-success)":"var(--privy-color-accent-dark)",t=>t.disabled?ai(["&&&,&&&:hover,&&&:active{background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);cursor:not-allowed;pointer-events:none;}"]):"");const Mu=({children:t,loading:e,disabled:r,loadingText:n="Loading...",...i})=>d.jsx(gNe,{disabled:e||r,...i,children:e?d.jsxs("span",{children:[d.jsx(bf,{}),n?d.jsx("span",{children:n}):null]}):t});let gNe=ne(y8).withConfig({displayName:"StyledSecondaryButton",componentId:"sc-e15d0508-3"})(["&&{border-width:1px;border-color:",";color:var(--privy-color-foreground);transition:border-color 200ms ease;}&:hover,&:active{border-color:",";}&:hover:disabled,&:active:disabled{border-color:var(--privy-color-foreground-accent);color:var(--privy-color-foreground-3);cursor:not-allowed;}> span{display:flex;align-items:center;gap:8px;opacity:1;animation:fadein 200ms ease;}"],t=>t.warn?"var(--privy-color-error)":"var(--privy-color-foreground-4)",t=>t.warn?"var(--privy-color-error)":"var(--privy-color-foreground-3)");const WT=ne.button.withConfig({displayName:"SoftCtaButton",componentId:"sc-e15d0508-4"})(["&&{padding:12px 16px;font-weight:500;text-align:center;color:var(--privy-color-foreground-accent);background-color:var(--privy-color-accent);border-radius:var(--privy-border-radius-sm);min-width:144px;opacity:",";transition:opacity 200ms ease,background-color 200ms ease,color 200ms ease;user-select:none;"," &:hover{background-color:var(--privy-color-accent-dark);}&:active{background-color:var(--privy-color-accent-dark);}&:hover:disabled,&:active:disabled{background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);cursor:not-allowed;}}"],t=>t.invisible?"0":"1",t=>t.invisible&&ai(["pointer-events:none;"])),zT=({children:t,onClick:e,disabled:r,isSubmitting:n,...i})=>d.jsxs(mNe,{$isSubmitting:n,onClick:e,disabled:r,...i,children:[d.jsx("span",{children:t}),d.jsx("span",{children:d.jsx(bf,{})})]});let mNe=ne.button.withConfig({displayName:"StyledEmbeddedButton",componentId:"sc-e15d0508-6"})(["&&{color:var(--privy-color-accent);font-size:16px;font-style:normal;font-weight:500;line-height:24px;cursor:pointer;border-radius:0px var(--privy-border-radius-mdlg) var(--privy-border-radius-mdlg) 0px;border:none;transition:color 200ms ease;@media (min-width:441px){font-size:14px;}:hover{color:var(--privy-color-accent-dark);}&& > :first-child{opacity:",";}&& > :last-child{position:absolute;display:flex;top:50%;left:50%;transform:translate3d(-50%,-50%,0);opacity:",";}:disabled,:hover:disabled{color:var(--privy-color-foreground-3);cursor:not-allowed;}}"],t=>t.$isSubmitting?0:1,t=>t.$isSubmitting?1:0);const Vee=ne.span.withConfig({displayName:"CircleBackground",componentId:"sc-c9f33cd-0"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";background-color:",";border-radius:50%;display:inline-block;box-sizing:border-box;}"],t=>t.color??"var(--privy-color-accent)",t=>t.color??"var(--privy-color-accent)");function yNe({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const wNe=C.forwardRef(yNe);function bNe({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const vNe=C.forwardRef(bNe);function xNe({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const ENe=C.forwardRef(xNe),Gee=({backFn:t})=>d.jsx("div",{children:d.jsx(w8,{onClick:t,children:d.jsx(wNe,{height:"16px",width:"16px",strokeWidth:2})})}),_Ne=({nextFn:t})=>d.jsx("div",{children:d.jsx(w8,{onClick:t,children:d.jsx(vNe,{height:"16px",width:"16px",strokeWidth:2})})}),CNe=({infoFn:t})=>d.jsx("div",{children:d.jsx(SNe,{"aria-label":"info",onClick:t,children:d.jsx(yh,{height:"22px",width:"22px",strokeWidth:2})})}),ANe=t=>d.jsx("div",{children:d.jsx(w8,{"aria-label":"close modal",onClick:t.onClose,children:d.jsx(ENe,{height:"16px",width:"16px",strokeWidth:2})})}),ze=({backFn:t,infoFn:e,onClose:r,title:n,closeable:i=!0})=>{let{closePrivyModal:s}=Ye(),o=$n();return d.jsxs($Ne,{children:[d.jsxs(INe,{children:[t&&d.jsx(Gee,{backFn:t}),e&&d.jsx(CNe,{infoFn:e})]}),n&&d.jsx(TNe,{id:"privy-dialog-title",children:n}),d.jsx(kNe,{children:!o.render.standalone&&i&&d.jsx(ANe,{onClose:r||(()=>s())})})]})};let w8=ne.button.withConfig({displayName:"StyledButton",componentId:"sc-f295093d-0"})(["&&{cursor:pointer;display:flex;opacity:0.6;background-color:var(--privy-color-background-2);border-radius:var(--privy-border-radius-full);padding:4px;> svg{margin:auto;color:var(--privy-color-foreground);}:hover{opacity:1;}}"]),SNe=ne(w8).withConfig({displayName:"TransparentStyledButton",componentId:"sc-f295093d-1"})(["&&{background-color:transparent;}"]),$Ne=ne.div.withConfig({displayName:"StyledHeader",componentId:"sc-f295093d-2"})(["padding:16px 0;display:flex;align-items:center;justify-content:space-between;h2{font-size:16px;line-height:24px;font-weight:600;color:var(--privy-color-foreground);}"]),INe=ne.div.withConfig({displayName:"LeftActionContainer",componentId:"sc-f295093d-3"})(["flex:1;align-items:center;display:flex;gap:8px;"]),kNe=ne.div.withConfig({displayName:"RightActionContainer",componentId:"sc-f295093d-4"})(["flex:1;display:flex;justify-content:flex-end;"]),TNe=ne.div.withConfig({displayName:"TitleContainer",componentId:"sc-f295093d-5"})(["overflow:hidden;white-space:nowrap;max-width:100%;text-overflow:ellipsis;text-align:center;color:var(--privy-color-foreground-2);"]),Ys=ne.div.withConfig({displayName:"StackedContainer",componentId:"sc-f7e7d474-0"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > span{position:absolute;left:-41px;top:-41px;}> div > :last-child{position:absolute;left:-19px;top:-19px;}"]);const Du=ne.div.withConfig({displayName:"Grow",componentId:"sc-b51c7c74-0"})(["text-align:left;flex-grow:1;"]),Kee=ne.div.withConfig({displayName:"AlignBottom",componentId:"sc-b51c7c74-1"})(["display:flex;flex-direction:column;justify-content:flex-end;flex-grow:1;"]),nf=ne.div.withConfig({displayName:"LoginMethodContainer",componentId:"sc-b51c7c74-2"})(["display:flex;flex-direction:column;gap:12px;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]),NNe=ne(nf).withConfig({displayName:"LoginMethodContainerWithScrollShadows",componentId:"sc-b51c7c74-3"})([""," background-repeat:no-repeat;background-size:100% 32px,100% 16px;background-attachment:local,scroll;"],t=>t.$colorScheme==="light"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":t.$colorScheme==="dark"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0);let Yee=ai(["&&{width:100%;font-size:16px;line-height:24px;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;align-items:center;padding:12px 16px;border:1px solid var(--privy-color-foreground-4) !important;border-radius:var(--privy-border-radius-mdlg);transition:background-color 200ms ease;cursor:pointer;&:hover{background-color:var(--privy-color-background-2);}&:disabled{cursor:pointer;background-color:var(--privy-color-background-2);}svg{height:24px;max-height:24px;max-width:24px;}}"]);const Zee=ne.div.withConfig({displayName:"Subtitle",componentId:"sc-b51c7c74-4"})(["text-align:center;font-size:14px;margin-bottom:24px;"]),rn=ne.button.attrs({className:"login-method-button"}).withConfig({displayName:"LoginMethodButton",componentId:"sc-b51c7c74-5"})(["",""],Yee),AL=ne.a.withConfig({displayName:"LoginMethodButtonLink",componentId:"sc-b51c7c74-6"})(["",""],Yee),Fh=ne.div.withConfig({displayName:"Hide",componentId:"sc-b51c7c74-7"})(["width:100%;height:100%;min-height:inherit;display:flex;flex-direction:column;",""],t=>t.$if?"display: none;":""),PNe=ne.div.withConfig({displayName:"EmptyWalletState",componentId:"sc-b51c7c74-8"})(["width:100%;height:100%;padding:",";"],t=>t.$withPadding?"64px 0px":"0px"),RNe=ne.div.withConfig({displayName:"Header",componentId:"sc-b51c7c74-9"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:32px;gap:12px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]),ONe=()=>{let{navigate:t,app:e}=qe();return d.jsxs(d.Fragment,{children:[d.jsx(ze,{}),d.jsxs(jNe,{children:[d.jsx(Ys,{children:d.jsxs("div",{children:[d.jsx(Vee,{color:"var(--privy-color-warn-light)"}),d.jsx(yh,{height:38,width:38,strokeWidth:2,stroke:"var(--privy-color-warn)"})]})}),d.jsxs(MNe,{children:[d.jsx("h3",{children:"Account not found"}),d.jsxs("p",{children:["Please try logging in again or go to ",e.name," to create an account."]})]}),d.jsx(Du,{}),d.jsx(at,{onClick:()=>t(se.LANDING),children:"Try logging in again"})]})]})};let jNe=ne.div.withConfig({displayName:"ConnectContainer",componentId:"sc-408d3d00-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;padding-bottom:16px;margin-top:24px;"]),MNe=ne.div.withConfig({displayName:"GappedContainer",componentId:"sc-408d3d00-1"})(["display:flex;flex-direction:column;gap:8px;"]);function DNe({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Zu=C.forwardRef(DNe);function LNe({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a2.25 2.25 0 0 0-2.25-2.25H15a3 3 0 1 1-6 0H5.25A2.25 2.25 0 0 0 3 12m18 0v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 9m18 0V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v3"}))}const Tw=C.forwardRef(LNe),HT=ne.span.withConfig({displayName:"CircleBorder",componentId:"sc-9056b8b8-0"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1.2s linear infinite;transition:border-color 800ms;border-bottom-color:",";}"],t=>t.color??"var(--privy-color-accent)",t=>t.color??"var(--privy-color-accent)");function FNe(t){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 460 40",...t,children:d.jsx("g",{fill:t.color||"var(--privy-color-foreground)",children:d.jsx("path",{d:"M0 15.4v15.38h4.64V19.96h3.58c2.47 0 3.63-.01 3.77-.02 1-.08 1.49-.15 2.18-.3a9.45 9.45 0 0 0 4.6-2.37c1.66-1.57 2.64-3.87 2.81-6.56.02-.3.02-1.19 0-1.49-.1-1.77-.56-3.35-1.36-4.72A8.84 8.84 0 0 0 15.14.57c-.93-.3-1.75-.43-3.09-.54C11.9.02 10.2 0 5.93 0H0ZM10.85 4c1.85.05 3.1.45 4.16 1.3.22.17.54.49.69.68a5.97 5.97 0 0 1 1.19 3.13c.04.35.04 1.36 0 1.71-.08.68-.23 1.3-.44 1.85a4.8 4.8 0 0 1-1.09 1.68A5.63 5.63 0 0 1 12 15.92c-.6.08-.4.08-4.01.09H4.64V3.98h2.9c1.6 0 3.08 0 3.31.02ZM187.65 5.71v5.72h-.27l-.09-.14a15.9 15.9 0 0 0-1.21-1.73c-.43-.5-1-.95-1.7-1.36-.54-.3-1.05-.5-1.73-.63a8.98 8.98 0 0 0-1.7-.17 8.84 8.84 0 0 0-7.8 4.03 12.95 12.95 0 0 0-2.03 6.39c-.07.98-.06 2.15.02 3.13.2 2.47.87 4.53 2.02 6.25a8.98 8.98 0 0 0 10.22 3.65 6.5 6.5 0 0 0 2.8-1.93c.41-.51.84-1.1 1.1-1.55l.1-.17h.37v3.58h4.38V0h-4.48Zm-5.24 5.54c1.3.14 2.3.6 3.17 1.48.9.9 1.5 2.09 1.85 3.64.36 1.6.39 3.72.06 5.43a8.13 8.13 0 0 1-1.54 3.62 5.1 5.1 0 0 1-3.93 1.96 6.13 6.13 0 0 1-2.32-.31 5.87 5.87 0 0 1-3.33-3.5c-.39-1-.62-2.05-.72-3.32-.03-.32-.04-1.35-.02-1.73.08-1.56.4-2.91.96-4.05a6.2 6.2 0 0 1 1.06-1.58 5.08 5.08 0 0 1 3.6-1.66c.25-.02.9 0 1.16.02ZM210.07 15.39l.01 15.38h4.38l.01-3.57h.37l.09.15c.24.44.84 1.26 1.21 1.7a6.79 6.79 0 0 0 2.57 1.75 9.3 9.3 0 0 0 6.86-.49 9.28 9.28 0 0 0 4.05-4.07A13.05 13.05 0 0 0 231 21.6c.21-1.73.18-3.7-.09-5.32a13.03 13.03 0 0 0-1.5-4.3 9.1 9.1 0 0 0-3.75-3.63 9.15 9.15 0 0 0-4.43-.96 7.46 7.46 0 0 0-2.8.5A7.07 7.07 0 0 0 216 9.7c-.4.52-.82 1.12-1.1 1.59l-.07.14h-.27V0h-4.5Zm11.13-4.14c1.07.1 1.94.44 2.7 1.04a6.1 6.1 0 0 1 1.64 1.98c.43.84.78 2 .94 3.11.15 1.16.16 2.4.02 3.54a9.34 9.34 0 0 1-1.39 4.03 5.33 5.33 0 0 1-2.69 2.15c-.9.3-2.04.38-3.06.2a5.14 5.14 0 0 1-3.45-2.37 6.03 6.03 0 0 1-.45-.8c-.5-1.03-.8-2.2-.92-3.58-.04-.49-.06-.89-.05-1.53.01-.76.05-1.23.13-1.85.38-2.53 1.47-4.38 3.15-5.31a5.46 5.46 0 0 1 2.3-.63 10 10 0 0 1 1.13.02ZM69.05 2.17l-.01 2.77V7.7h-3.36v3.6h3.36v6.8l.01 7.15c.06 1.4.4 2.44 1.1 3.37a5.8 5.8 0 0 0 2.97 2.07c.91.3 1.83.42 2.9.38a8.71 8.71 0 0 0 2.66-.48l-.8-3.7-.38.06a4.96 4.96 0 0 1-2.43-.06c-.33-.1-.56-.25-.8-.49-.4-.41-.6-.88-.7-1.67-.02-.2-.02-.62-.03-6.82v-6.6h4.73V7.7h-4.73V2.16h-4.49ZM133.34 2.17V7.7h-3.39v3.6h3.38v6.9l.01 7.17a5.66 5.66 0 0 0 2.36 4.49c.85.6 2.03 1.03 3.26 1.17.85.1 2.03.05 2.81-.1.3-.06.75-.18 1-.26l.2-.06v-.05l-.81-3.67-.37.06a4.99 4.99 0 0 1-1.8.09c-.85-.13-1.32-.4-1.7-.97a2.63 2.63 0 0 1-.39-1.04c-.06-.4-.06 0-.06-7.1V11.3h4.7V7.7h-4.7l-.01-2.77V2.16h-4.49ZM293.41 2.36a14.56 14.56 0 0 0-13.7 16.07 14.59 14.59 0 0 0 21.86 11.08 14.5 14.5 0 0 0 7.11-14.07 14.61 14.61 0 0 0-6.53-10.73 14.49 14.49 0 0 0-8.74-2.35ZM350.8 2.36a10.17 10.17 0 0 0-7.56 4.2c-.16.2-.45.63-.58.83l-.05.1h-.47l-.01-4.36h-7.36v36.4h7.82V27.27h.49l.05.07a11.3 11.3 0 0 0 7.49 4.15 10.52 10.52 0 0 0 9.38-4.1c1.66-2.1 2.73-4.9 3.07-8.06.1-.87.13-1.4.13-2.37 0-.8 0-1.1-.07-1.76a15.95 15.95 0 0 0-3.23-8.72 12.8 12.8 0 0 0-1.85-1.84 10.49 10.49 0 0 0-7.26-2.28Zm-.94 6.05c1.27.15 2.33.65 3.2 1.5.98.96 1.67 2.31 2.03 4 .34 1.57.38 3.68.12 5.39a9.78 9.78 0 0 1-1.04 3.25c-.14.25-.44.69-.6.89a5.35 5.35 0 0 1-4.31 2.07 5.25 5.25 0 0 1-4.41-1.9 7.35 7.35 0 0 1-1.26-2.32 14.09 14.09 0 0 1-.62-4.83c.05-1.98.38-3.53 1.02-4.85a5.63 5.63 0 0 1 2.5-2.65c.66-.34 1.3-.5 2.14-.58.18-.02 1.04 0 1.23.03ZM363.63 3.1l-.01 3.2v3.16h1.43c1.26.01 1.44.02 1.54.04.42.09.66.28.79.62.08.23.08.08.08 2.96a911.57 911.57 0 0 1 .03 10.18v7.54h7.82v-7.4l.01-7.83c.03-.94.11-1.63.27-2.28.46-1.9 1.54-2.93 3.35-3.23.52-.08.2-.08 5-.08h4.4V3.08h-3.1c-3.48 0-3.91.01-4.67.1-1.83.2-3.04.79-3.96 1.88-.5.6-.9 1.32-1.26 2.26l-.06.17h-.46V3.09h-5.6c-4.46 0-5.6 0-5.6.02ZM390.8 16.95V30.8h3.87l3.86-.01V3.09h-7.73ZM400.6 3.1l-.01.4v.38l4.66 13.4 4.69 13.47.02.05h10.3l.03-.05 4.67-13.45 4.67-13.4V3.1h-7.43l-6.7 19.26h-.5l-3.28-9.5-3.31-9.64-.05-.12h-3.88l-3.88.01ZM430.98 3.1c-.01 0-.02.19-.02.4v.39l5.08 14.59c2.8 8.02 5.08 14.6 5.08 14.61.01.02-.22.02-4.8.02h-4.82v6.42h4.95c5.09 0 5.23 0 5.87-.06 3.15-.28 5.29-1.63 6.63-4.15.28-.55.44-.95.87-2.16L459 6.78l1-2.89v-.8h-7.43l-6.69 19.26h-.5l-3.27-9.46-3.31-9.64-.06-.16h-3.88l-3.88.01ZM36.57 7.36c-1.36.1-2.6.6-3.62 1.45a5.65 5.65 0 0 0-1.67 2.42l-.05.13H31V7.7h-4.35v23.08h4.5v-7.3c0-8 0-7.34.08-7.82a4.89 4.89 0 0 1 2.06-3.18c.83-.58 1.74-.89 2.87-.98a11.87 11.87 0 0 1 2.8.25H39v-4.3l-.21-.02c-.61-.07-1.74-.1-2.22-.07ZM51.08 7.41c-2.33.12-4.3.84-5.95 2.16a9.89 9.89 0 0 0-2.03 2.2 12.5 12.5 0 0 0-2 5.78 18.04 18.04 0 0 0 0 3.65 12.13 12.13 0 0 0 2.26 6.05 9.74 9.74 0 0 0 5 3.52c2.11.64 4.7.64 6.8 0a9.78 9.78 0 0 0 4.88-3.37c1.38-1.78 2.19-4 2.4-6.58.13-1.46.06-3.06-.18-4.42a11.24 11.24 0 0 0-3.58-6.6 10 10 0 0 0-5.75-2.35c-.56-.06-1.31-.07-1.85-.04Zm1.42 3.78c.88.1 1.62.34 2.28.75a6.13 6.13 0 0 1 1.99 2.15 10.31 10.31 0 0 1 1.2 5c.02 1.23-.12 2.44-.42 3.51a7.14 7.14 0 0 1-1.81 3.32c-.61.6-1.2.98-1.95 1.24a6 6 0 0 1-2 .3 5.7 5.7 0 0 1-2.72-.6 5 5 0 0 1-1.28-.94A7.1 7.1 0 0 1 46 22.73c-.57-1.99-.6-4.46-.08-6.5a7.24 7.24 0 0 1 2.03-3.67 5.13 5.13 0 0 1 3.35-1.4 11 11 0 0 1 1.2.03ZM92.05 7.4c-.96.06-1.56.15-2.3.33a9.62 9.62 0 0 0-6.09 4.66 13.5 13.5 0 0 0-1.71 7c0 .83 0 1.04.06 1.6.16 1.77.58 3.32 1.29 4.7A9.72 9.72 0 0 0 90.28 31c1.84.37 4.08.32 5.85-.13a9.07 9.07 0 0 0 5.02-3.1A7.64 7.64 0 0 0 102.5 25l-2.11-.39-2.11-.38-.08.13a4.72 4.72 0 0 1-2.35 2.55 6.3 6.3 0 0 1-2.23.58c-.29.03-1.13.03-1.44 0a6.35 6.35 0 0 1-3.02-1.04 5.93 5.93 0 0 1-2.02-2.43 8.44 8.44 0 0 1-.72-3.18v-.26h16.38v-.81c0-1.83-.06-2.76-.25-3.87-.2-1.22-.53-2.24-1.05-3.28a8.9 8.9 0 0 0-2.66-3.26 10.1 10.1 0 0 0-5.34-1.94 18.3 18.3 0 0 0-1.46-.03Zm1.3 3.75c1.2.13 2.19.55 3.05 1.3a5.8 5.8 0 0 1 1.78 2.96c.13.51.21 1.17.21 1.66v.15H86.43v-.12c.08-.97.3-1.78.72-2.61.5-1 1.2-1.8 2.14-2.42a5.32 5.32 0 0 1 2.9-.95c.2-.01.97 0 1.17.03ZM116.79 7.41c-2 .1-3.73.65-5.22 1.65a10.7 10.7 0 0 0-4.25 6.06 16.1 16.1 0 0 0-.5 5.8c.2 2.17.84 4.13 1.88 5.76.58.9 1.32 1.73 2.15 2.4a9.37 9.37 0 0 0 3.6 1.8 12.06 12.06 0 0 0 3.92.34 10.2 10.2 0 0 0 3.84-.95 8.31 8.31 0 0 0 4.76-6.75l.01-.04h-4.37l-.05.16a4.87 4.87 0 0 1-4.24 3.75c-.59.07-1.32.06-1.93-.05a5.47 5.47 0 0 1-3.5-2.27c-.56-.75-1-1.73-1.26-2.79a13.8 13.8 0 0 1-.16-5.24 7.77 7.77 0 0 1 2.1-4.3 5.48 5.48 0 0 1 2.15-1.3 6.4 6.4 0 0 1 3.89.1c.59.21 1.03.5 1.5.96a5.32 5.32 0 0 1 1.46 2.5l.04.15h4.37v-.06a8.22 8.22 0 0 0-5.31-6.94 10.98 10.98 0 0 0-4.88-.74ZM156.2 7.41a9.87 9.87 0 0 0-6 2.29 11.02 11.02 0 0 0-3.41 5.43c-.52 1.78-.68 3.9-.48 5.97.17 1.8.63 3.38 1.37 4.8a9.68 9.68 0 0 0 5.91 4.86c1.65.48 3.63.61 5.53.36 3.72-.49 6.55-2.62 7.56-5.69.12-.39.13-.42.1-.43-.02 0-4.13-.75-4.19-.75-.03 0-.04 0-.1.16-.18.42-.45.9-.72 1.22-.16.2-.49.53-.7.7-.67.54-1.5.9-2.43 1.08-.48.08-.83.11-1.41.11-.64 0-1.07-.04-1.6-.15a5.76 5.76 0 0 1-3.93-2.83 8 8 0 0 1-.99-3.79v-.16h16.38v-1.11l-.02-1.43c-.1-2.25-.53-4-1.35-5.59a9.24 9.24 0 0 0-6.18-4.75c-1.04-.26-2.2-.36-3.33-.3Zm1.45 3.74a5.35 5.35 0 0 1 3.66 1.94 6.1 6.1 0 0 1 1.38 4.01v.12h-11.97v-.06c0-.02 0-.14.02-.25a6.6 6.6 0 0 1 2.15-4.32 5.73 5.73 0 0 1 3.5-1.46c.25-.02 1 0 1.26.02ZM233.58 7.82l8.37 23.22a49.22 49.22 0 0 1-.67 1.9 5.36 5.36 0 0 1-1.14 1.8c-.41.4-.82.58-1.48.69-.27.04-1.03.03-1.35 0a8.05 8.05 0 0 1-1.1-.23l-1.08 3.67c0 .02.32.14.66.22.83.21 1.57.29 2.56.28.56-.01.8-.03 1.24-.1 2.71-.4 4.66-2.09 5.86-5.08l9.64-26.44c0-.02-4.82-.06-4.83-.05l-2.93 8.96-2.91 8.94h-.24l-.22-.65-2.91-8.95-2.7-8.3H233.53ZM293.05 35.8c-1.18.04-1.93.09-2.8.16-2.52.24-4.53.69-5.43 1.23-.7.41-.76.86-.2 1.28.88.66 3.29 1.19 6.36 1.4a48.55 48.55 0 0 0 5.75.05c3.47-.19 6.24-.78 7.11-1.5.22-.19.3-.34.3-.53 0-.1 0-.12-.04-.22-.35-.69-2.32-1.3-5.25-1.63a41.09 41.09 0 0 0-5.8-.24Zm0 0"})})})}let SL=ne.div.withConfig({displayName:"TermsAndConditionsContainer",componentId:"sc-c97bf02f-0"})(["margin-top:16px;font-size:13px;text-align:center;color:var(--privy-color-foreground-3);&& > a{color:var(--privy-color-accent);}"]);function qT(t){let{legal:{privacyPolicyUrl:e,termsAndConditionsUrl:r,requireUsersAcceptTerms:n}}=t.app;if(n&&!t.alwaysShowImplicitConsent||!r&&!e)return d.jsx(SL,{});let i=!(!e||!r);return d.jsxs(SL,{children:["By logging in I agree to the"," ",r&&d.jsx("a",{href:r,target:"_blank",children:i?"Terms":"Terms of Service"}),i&&" & ",e&&d.jsx("a",{href:e,target:"_blank",children:"Privacy Policy"})]})}const ft=()=>d.jsx(Bt,{children:d.jsx("a",{href:"https://www.privy.io/",target:"_blank",children:d.jsx(FNe,{height:13,width:150})})}),Bt=ne.div.withConfig({displayName:"ModalFooter",componentId:"sc-c97bf02f-1"})(["display:flex;align-items:center;justify-content:center;padding-top:8px;padding-bottom:12px;gap:8px;font-size:13px;&& a{padding:0.5rem 0;&:hover{text-decoration:none;}}@media all and (display-mode:standalone){padding-bottom:30px;}"]);function BNe({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const UNe=C.forwardRef(BNe);function WNe({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 8.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v8.25A2.25 2.25 0 0 0 6 16.5h2.25m8.25-8.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-7.5A2.25 2.25 0 0 1 8.25 18v-1.5m8.25-8.25h-6a2.25 2.25 0 0 0-2.25 2.25v6"}))}const Jee=C.forwardRef(WNe),ii=({address:t,showCopyIcon:e,url:r,className:n})=>{let[i,s]=C.useState(!1);return C.useEffect(()=>{if(i){let o=setTimeout(()=>s(!1),2e3);return()=>clearTimeout(o)}},[i]),r?d.jsx("a",{title:t,className:n,href:`${r}/address/${t}`,target:"_blank",children:os(t)}):d.jsxs("button",{title:t,className:n,onClick:o=>(o.stopPropagation(),navigator.clipboard.writeText(t).then(()=>s(!0)).catch(console.error)),children:[os(t),e&&d.jsx(i?HNe:zNe,{})]})};let zNe=ne(Jee).withConfig({displayName:"StyledSquare2StackIcon",componentId:"sc-6eaa0c94-0"})(["&&{display:inline;}stroke-width:2;height:0.875rem;width:0.875rem;margin-left:0.125rem;color:var(--privy-color-foreground-3);"]),HNe=ne(UNe).withConfig({displayName:"StyledCheckIcon",componentId:"sc-6eaa0c94-1"})(["&&{display:inline;}stroke-width:2;height:0.875rem;width:0.875rem;margin-left:0.125rem;color:var(--privy-color-success);"]);function Qee(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Xee=({onTransfer:t,isTransferring:e,transferSuccess:r})=>d.jsx(at,{...r?{success:!0,children:"Success!"}:{warn:!0,loading:e,onClick:t,children:"Transfer and delete account"}});function qNe({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const b8=C.forwardRef(qNe),ete=ne.div.withConfig({displayName:"ConnectContainer",componentId:"sc-aa2e65ff-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;width:100%;padding-bottom:16px;"]),lS=ne.div.withConfig({displayName:"GappedContainer",componentId:"sc-aa2e65ff-1"})(["display:flex;flex-direction:column;&& p{font-size:14px;}width:100%;gap:16px;"]),tte=ne.div.withConfig({displayName:"DisclosedAccountContainer",componentId:"sc-aa2e65ff-2"})(["display:flex;cursor:pointer;align-items:center;width:100%;border:1px solid var(--privy-color-foreground-4) !important;border-radius:var(--privy-border-radius-md);padding:8px 10px;font-size:14px;font-weight:500;gap:8px;"]),rte=ne(b8).withConfig({displayName:"StyledExclamationCircleIcon",componentId:"sc-aa2e65ff-3"})(["position:relative;width:",";height:",";color:var(--privy-color-foreground-3);margin-left:auto;"],t=>`${t.iconSize}px`,t=>`${t.iconSize}px`),VNe=ne(Jee).withConfig({displayName:"StyledCopyIcon",componentId:"sc-aa2e65ff-4"})(["position:relative;width:15px;height:15px;color:var(--privy-color-foreground-3);margin-left:auto;"]),GNe=ne.ol.withConfig({displayName:"ListContainer",componentId:"sc-aa2e65ff-5"})(["display:flex;flex-direction:column;font-size:14px;width:100%;text-align:left;"]),$L=ne.li.withConfig({displayName:"ListItem",componentId:"sc-aa2e65ff-6"})(["font-size:14px;list-style-type:auto;list-style-position:outside;margin-left:1rem;margin-bottom:0.5rem;&:last-child{margin-bottom:0;}"]),KNe=ne.div.withConfig({displayName:"CircleContainer",componentId:"sc-aa2e65ff-7"})(["position:relative;width:60px;height:60px;margin:10px;display:flex;justify-content:center;align-items:center;"]);let YNe=()=>d.jsx(KNe,{children:d.jsx(rte,{iconSize:60})});const ZNe=({address:t,onClose:e,onRetry:r,onTransfer:n,isTransferring:i,transferSuccess:s})=>{var l;let{defaultChain:o}=$n(),a=((l=o.blockExplorers)==null?void 0:l.default.url)??"https://etherscan.io";return d.jsxs(d.Fragment,{children:[d.jsx(ze,{onClose:e,backFn:r}),d.jsxs(ete,{children:[d.jsx(YNe,{}),d.jsxs(lS,{children:[d.jsx("h3",{children:"Check account assets before transferring"}),d.jsx("p",{children:"Before transferring, ensure there are no assets in the other account. Assets in that account will not transfer automatically and may be lost."}),d.jsxs(GNe,{children:[d.jsx("p",{children:" To check your balance, you can:"}),d.jsx($L,{children:"Log out and log back into the other account, or "}),d.jsxs($L,{children:["Copy your wallet address and use a"," ",d.jsx("u",{children:d.jsx("a",{target:"_blank",href:a,children:"block explorer"})})," ","to see if the account holds any assets."]})]}),d.jsxs(tte,{onClick:()=>navigator.clipboard.writeText(t).catch(console.error),children:[d.jsx(Tw,{color:"var(--privy-color-foreground-1)",strokeWidth:2,height:"28px",width:"28px"}),d.jsx(ii,{address:t,showCopyIcon:!1}),d.jsx(VNe,{})]}),d.jsx(Xee,{onTransfer:n,isTransferring:i,transferSuccess:s})]})]}),d.jsx(ft,{})]})},JNe=()=>{let{initiateAccountTransfer:t,closePrivyModal:e}=Ye(),{data:r,navigate:n,lastScreen:i,setModalData:s}=qe(),[o,a]=C.useState(void 0),[l,c]=C.useState(!1),[u,f]=C.useState(!1),h=async()=>{var p,g,m,w,y,E,v,b,$,P;try{if(!((p=r==null?void 0:r.accountTransfer)!=null&&p.nonce)||!((g=r==null?void 0:r.accountTransfer)!=null&&g.account))throw Error("missing account transfer inputs");f(!0),await t({nonce:(m=r==null?void 0:r.accountTransfer)==null?void 0:m.nonce,account:(w=r==null?void 0:r.accountTransfer)==null?void 0:w.account,accountType:(y=r==null?void 0:r.accountTransfer)==null?void 0:y.linkMethod,externalWalletMetadata:(E=r==null?void 0:r.accountTransfer)==null?void 0:E.externalWalletMetadata,telegramWebAppData:(v=r==null?void 0:r.accountTransfer)==null?void 0:v.telegramWebAppData,telegramAuthResult:(b=r==null?void 0:r.accountTransfer)==null?void 0:b.telegramAuthResult,farcasterEmbeddedAddress:($=r==null?void 0:r.accountTransfer)==null?void 0:$.farcasterEmbeddedAddress,oAuthUserInfo:(P=r==null?void 0:r.accountTransfer)==null?void 0:P.oAuthUserInfo}),c(!0),f(!1),setTimeout(e,1e3)}catch(O){s({errorModalData:{error:O,previousScreen:i||se.LINK_CONFLICT_SCREEN}}),n(se.ERROR_SCREEN,!0)}};return o?d.jsx(ZNe,{address:o,onClose:e,onRetry:()=>a(void 0),onTransfer:h,isTransferring:u,transferSuccess:l}):d.jsx(QNe,{onClose:e,onInfo:()=>{var p;return a((p=r==null?void 0:r.accountTransfer)==null?void 0:p.embeddedWalletAddress)},onContinue:()=>{var p;return a((p=r==null?void 0:r.accountTransfer)==null?void 0:p.embeddedWalletAddress)},onTransfer:h,isTransferring:u,transferSuccess:l,data:r})},QNe=({onClose:t,onContinue:e,onInfo:r,onTransfer:n,transferSuccess:i,isTransferring:s,data:o})=>{var l,c,u,f,h,p,g;if(!((l=o==null?void 0:o.accountTransfer)!=null&&l.linkMethod)||!((c=o==null?void 0:o.accountTransfer)!=null&&c.displayName))return;let a={method:(u=o==null?void 0:o.accountTransfer)==null?void 0:u.linkMethod,handle:(f=o==null?void 0:o.accountTransfer)==null?void 0:f.displayName,disclosedAccount:(h=o==null?void 0:o.accountTransfer)!=null&&h.embeddedWalletAddress?{type:"wallet",handle:(p=o==null?void 0:o.accountTransfer)==null?void 0:p.embeddedWalletAddress}:void 0};return d.jsxs(d.Fragment,{children:[d.jsx(ze,{closeable:!0}),d.jsxs(ete,{children:[d.jsx(Ys,{children:d.jsxs("div",{children:[d.jsx(HT,{color:"var(--privy-color-error)"}),d.jsx(Zu,{height:38,width:38,stroke:"var(--privy-color-error)"})]})}),d.jsxs(lS,{children:[d.jsxs("h3",{children:[function(m){switch(m){case"sms":return"Phone number";case"email":return"Email address";case"siwe":return"Wallet address";case"linkedin":return"LinkedIn profile";case"google":case"apple":case"discord":case"github":case"instagram":case"spotify":case"tiktok":case"twitter":case"telegram":case"farcaster":return`${Qee(m.replace("_oauth",""))} profile`;default:return m}}(a.method)," is associated with another account"]}),d.jsxs("p",{children:["Do you want to transfer",d.jsx("b",{children:a.handle?` ${a.handle}`:""})," to this account instead? This will delete your other account."]}),d.jsx(XNe,{onClick:r,disclosedAccount:a.disclosedAccount})]}),d.jsxs(lS,{style:{gap:12,marginTop:12},children:[(g=o==null?void 0:o.accountTransfer)!=null&&g.embeddedWalletAddress?d.jsx(at,{onClick:e,children:"Continue"}):d.jsx(Xee,{onTransfer:n,transferSuccess:i,isTransferring:s}),d.jsx(Mu,{onClick:t,children:"No thanks"})]})]}),d.jsx(ft,{})]})};function XNe({disclosedAccount:t,onClick:e}){return t?d.jsxs(tte,{onClick:e,children:[d.jsx(Tw,{color:"var(--privy-color-foreground-1)",strokeWidth:2,height:"28px",width:"28px"}),d.jsx(ii,{address:t.handle,showCopyIcon:!1}),d.jsx(rte,{iconSize:15})]}):null}function ePe({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"}))}const cS=C.forwardRef(ePe);function tPe({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{fillRule:"evenodd",d:"M9 1.5H5.625c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5Zm6.61 10.936a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 14.47a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}),C.createElement("path",{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"}))}const rPe=C.forwardRef(tPe),Nw=ne.div.withConfig({displayName:"AppLogoContainer",componentId:"sc-a63b1990-0"})(["display:flex;flex-direction:column;align-items:center;padding:0px 0px 30px;@media (max-width:440px){padding:10px 10px 20px;}"]),Er=ne.div.withConfig({displayName:"Title",componentId:"sc-a63b1990-1"})(["font-size:18px;line-height:30px;text-align:center;font-weight:600;margin-bottom:10px;"]),_r=ne.div.withConfig({displayName:"SubTitle",componentId:"sc-a63b1990-2"})(["font-size:0.875rem;text-align:center;"]),Bh=ne.div.withConfig({displayName:"Container",componentId:"sc-a63b1990-3"})(["display:flex;flex-direction:column;align-items:center;gap:10px;flex-grow:1;padding:20px 0;@media (max-width:440px){padding:10px 10px 20px;}"]),v8=ne.div.withConfig({displayName:"List",componentId:"sc-a63b1990-4"})(["display:flex;flex-direction:column;align-items:stretch;gap:0.75rem;padding:1rem 0rem 0rem;flex-grow:1;width:100%;"]),rc=ne.div.withConfig({displayName:"ListItemIcon",componentId:"sc-a63b1990-5"})(["width:25px;display:flex;align-items:center;justify-content:flex-start;> svg{z-index:2;height:25px !important;width:25px !important;color:var(--privy-color-accent);}"]),nc=ne.div.withConfig({displayName:"ListItem",componentId:"sc-a63b1990-6"})(["display:flex;align-items:center;gap:10px;font-size:0.875rem;line-height:1rem;text-align:left;"]),ta=ne.div.withConfig({displayName:"BottomSection",componentId:"sc-a63b1990-7"})(["display:flex;flex-direction:column;gap:10px;padding-top:20px;"]),nte=ne.div.withConfig({displayName:"MethodList",componentId:"sc-a63b1990-8"})(["display:flex;flex-direction:column;align-items:stretch;gap:1rem;padding:1rem 0rem 0rem;flex-grow:1;width:100%;"]),z9=ne.div.withConfig({displayName:"MethodListItem",componentId:"sc-a63b1990-9"})(["display:flex;gap:5px;width:100%;position:relative;"]),H9=ne.button.withConfig({displayName:"RemoveMethodButton",componentId:"sc-a63b1990-10"})(["&&{background-color:transparent;color:var(--privy-color-foreground-3);padding:0 0.75rem;display:flex;align-items:center;height:100%;> svg{z-index:2;height:20px !important;width:20px !important;}}&&:hover{color:var(--privy-color-error);}"]),q9=ne.div.withConfig({displayName:"MethodText",componentId:"sc-a63b1990-11"})(["display:flex;align-items:center;gap:0.5rem;> svg{z-index:2;height:20px !important;width:20px !important;}"]),V9=ne.div.withConfig({displayName:"ExtraText",componentId:"sc-a63b1990-12"})(["display:flex;align-items:center;gap:6px;font-weight:400 !important;color:",";> svg{z-index:2;height:18px !important;width:18px !important;display:flex !important;align-items:flex-end;}"],t=>t.isAccent?"var(--privy-color-accent)":"var(--privy-color-foreground-3)"),G9=ne.div.withConfig({displayName:"SmsInsecureText",componentId:"sc-a63b1990-13"})(["width:100%;display:flex;justify-content:space-between;"]),nPe=ne.p.withConfig({displayName:"TermsText",componentId:"sc-a63b1990-14"})(["text-align:left;width:100%;color:var(--privy-color-foreground-3) !important;"]),V5=ne.button.withConfig({displayName:"PrimaryTextButton",componentId:"sc-a63b1990-15"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none;&{width:100%;cursor:pointer;border-radius:var(--privy-border-radius-md);font-size:0.875rem;line-height:1rem;font-style:normal;font-weight:500;line-height:22px;letter-spacing:-0.016px;}&&{color:",";background-color:transparent;padding:0.5rem 0px;}&:hover{text-decoration:underline;}"],t=>t.theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-accent)"),Gi=ne.div.withConfig({displayName:"IconWrapper",componentId:"sc-a63b1990-16"})(["display:flex;align-items:center;justify-content:center;color:var(--privy-color-accent);width:100%;> svg{z-index:2;width:3rem;height:3rem;}"]),ite=ne.div.withConfig({displayName:"ErrorMessage",componentId:"sc-a63b1990-17"})(["color:var(--privy-color-error);"]),iPe=()=>{let{user:t,logout:e}=zt(),{app:r,onUserCloseViaDialogOrKeybindRef:n,setModalData:i,navigate:s}=qe(),{acceptTerms:o,closePrivyModal:a,createAnalyticsEvent:l}=Ye(),c=u=>{u==null||u.preventDefault(),a({shouldCallAuthOnSuccess:!1}),e()};return n.current=c,d.jsx(sPe,{termsAndConditionsUrl:r==null?void 0:r.legal.termsAndConditionsUrl,privacyPolicyUrl:r==null?void 0:r.legal.privacyPolicyUrl,onAccept:async u=>{var f;u.preventDefault(),await o(),t&&Pu(t,(f=r==null?void 0:r.embeddedWallets)==null?void 0:f.createOnLogin)?(i({createWallet:{onSuccess:()=>{},onFailure:h=>{console.error(h),l({eventName:"embedded_wallet_creation_failure_logout",payload:{error:h,screen:"AffirmativeConsentScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),s(se.EMBEDDED_WALLET_ON_ACCOUNT_CREATE_SCREEN)):a()},onDecline:c})},sPe=({termsAndConditionsUrl:t,privacyPolicyUrl:e,onAccept:r,onDecline:n})=>d.jsxs(d.Fragment,{children:[d.jsx(ze,{closeable:!1}),d.jsx(rPe,{width:56,height:56,fill:"var(--privy-color-accent)",style:{margin:"auto"}}),d.jsx(Er,{style:{marginTop:24},children:"One last step"}),d.jsx(_r,{children:"By signing up, you agree to our terms and privacy policy."}),d.jsxs(nf,{style:{marginTop:24},children:[t&&d.jsxs(AL,{target:"_blank",href:t,children:["View Terms ",d.jsx(cS,{style:{marginLeft:"auto"}})]}),e&&d.jsxs(AL,{target:"_blank",href:e,children:["View Privacy Policy ",d.jsx(cS,{style:{marginLeft:"auto"}})]})]}),d.jsxs(oPe,{style:{marginTop:24},children:[d.jsx(Mu,{onClick:n,children:"No thanks"}),d.jsx(at,{onClick:r,children:"Accept"})]}),d.jsx(ft,{})]});let oPe=ne.div.withConfig({displayName:"ButtonsContainer",componentId:"sc-4aff18c8-0"})(["display:flex;gap:10px;"]);const ste=({style:t,...e})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",style:{height:"1.5rem",width:"1.5rem",...t},...e,children:d.jsx("path",{fillRule:"evenodd",d:"M12 1.5a5.25 5.25 0 00-5.25 5.25v3a3 3 0 00-3 3v6.75a3 3 0 003 3h10.5a3 3 0 003-3v-6.75a3 3 0 00-3-3v-3c0-2.9-2.35-5.25-5.25-5.25zm3.75 8.25v-3a3.75 3.75 0 10-7.5 0v3h7.5z",clipRule:"evenodd"})}),aPe=()=>{let{navigate:t,app:e}=qe(),r=(e==null?void 0:e.allowlistConfig.errorTitle)||"You don't have access to this app",n=(e==null?void 0:e.allowlistConfig.errorDetail)||"Have you been invited?",i=(e==null?void 0:e.allowlistConfig.errorCtaText)||"Try another account";return d.jsxs(d.Fragment,{children:[d.jsx(ze,{}),d.jsxs(lPe,{children:[d.jsx(Ys,{children:d.jsxs("div",{children:[d.jsx(HT,{}),d.jsx(ste,{style:{width:"38px",height:"38px",strokeWidth:"1",stroke:"var(--privy-color-accent)",fill:"var(--privy-color-accent)"}})]})}),d.jsxs(cPe,{children:[d.jsx(typeof r=="string"?"h3":d.Fragment,{children:r}),d.jsx(typeof n=="string"?"p":d.Fragment,{children:n})]}),e!=null&&e.allowlistConfig.errorCtaLink?d.jsx(at,{as:"a",href:e.allowlistConfig.errorCtaLink,children:i}):d.jsx(at,{onClick:()=>{t(se.LANDING)},children:i})]})]})};let lPe=ne.div.withConfig({displayName:"ConnectContainer",componentId:"sc-ed4ecf-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;padding-bottom:16px;"]),cPe=ne.div.withConfig({displayName:"GappedContainer",componentId:"sc-ed4ecf-1"})(["display:flex;flex-direction:column;gap:8px;"]);function uPe({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const dPe=C.forwardRef(uPe);function fPe({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const dp=C.forwardRef(fPe);function hPe({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const ol=C.forwardRef(hPe),fp=ne.div.withConfig({displayName:"BottomPusherContainer",componentId:"sc-cb963810-0"})(["display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-end;margin-top:auto;gap:16px;flex-grow:100;"]),al=ne.div.withConfig({displayName:"CenteredItem",componentId:"sc-cb963810-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;flex-grow:1;width:100%;"]),VT=ne.div.withConfig({displayName:"HorizontallyCenteredItem",componentId:"sc-cb963810-2"})(["display:flex;flex-direction:column;align-items:center;width:100%;"]),GT=ne(al).withConfig({displayName:"CenteredItemWithPadding",componentId:"sc-cb963810-3"})(["padding:20px 0;"]),Ju=ne(al).withConfig({displayName:"CenteredItemWithGap",componentId:"sc-cb963810-4"})(["gap:16px;"]),x8=ne.div.withConfig({displayName:"FlexContainer",componentId:"sc-cb963810-5"})(["display:flex;flex-direction:column;width:100%;"]),Io=ne.div.withConfig({displayName:"FixedGappedContainer",componentId:"sc-cb963810-6"})(["display:flex;flex-direction:column;gap:8px;"]),pPe=ne.div.withConfig({displayName:"StyledCalloutSection",componentId:"sc-cb963810-8"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;padding:16px;margin-top:16px;margin-bottom:16px;width:100%;background:var(--privy-color-background-2);border-radius:var(--privy-border-radius-md);&& h4{color:var(--privy-color-foreground-3);font-size:14px;text-decoration:underline;font-weight:medium;}&& p{color:var(--privy-color-foreground-3);font-size:14px;}"]),wr=ne.div.withConfig({displayName:"RefactorSpacerTop",componentId:"sc-cb963810-9"})(["height:16px;"]),vr=ne.div.withConfig({displayName:"RefactorSpacerBottom",componentId:"sc-cb963810-10"})(["height:12px;"]),gPe=ne.div.withConfig({displayName:"RelativeContainer",componentId:"sc-cb963810-11"})(["position:relative;"]),KT=ne.div.withConfig({displayName:"ConfigurableSpacer",componentId:"sc-cb963810-12"})(["height:","px;"],t=>t.height??"12"),mPe=ne.div.withConfig({displayName:"Circle",componentId:"sc-cb963810-13"})(["background-color:var(--privy-color-accent);display:flex;justify-content:center;align-items:center;border-radius:50%;border-color:white;border-width:2px !important;"]),E8=({title:t,description:e,children:r,...n})=>d.jsx(ote,{...n,children:d.jsxs(d.Fragment,{children:[d.jsx("h3",{children:t}),typeof e=="string"?d.jsx("p",{children:e}):e,r]})}),Pw=ne(E8).withConfig({displayName:"PaddedScreenHeader",componentId:"sc-523a75d6-0"})(["margin-bottom:24px;"]),Yr=({title:t,description:e,icon:r,children:n,...i})=>d.jsxs(yPe,{...i,children:[r||null,d.jsx("h3",{children:t}),e&&typeof e=="string"?d.jsx("p",{children:e}):e,n]});let ote=ne.div.withConfig({displayName:"StyledSection",componentId:"sc-523a75d6-1"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;width:100%;margin-bottom:24px;&& h3{font-size:17px;color:var(--privy-color-foreground);}&& p{color:var(--privy-color-foreground-2);font-size:14px;}"]),yPe=ne(ote).withConfig({displayName:"CenteredStyledSection",componentId:"sc-523a75d6-2"})(["align-items:center;text-align:center;gap:16px;h3{margin-bottom:24px;}"]),IL=Array(6).fill("");var Vg,Gg,wPe=((Vg=wPe||{})[Vg.RESET_AFTER_DELAY=0]="RESET_AFTER_DELAY",Vg[Vg.CLEAR_ON_NEXT_VALID_INPUT=1]="CLEAR_ON_NEXT_VALID_INPUT",Vg),bPe=((Gg=bPe||{})[Gg.EMAIL=0]="EMAIL",Gg[Gg.SMS=1]="SMS",Gg);const vPe=()=>{var x,A,T;let{app:t,navigate:e,lastScreen:r,navigateBack:n,setModalData:i,onUserCloseViaDialogOrKeybindRef:s}=qe(),{closePrivyModal:o,resendEmailCode:a,resendSmsCode:l,getAuthMeta:c,loginWithCode:u,updateWallets:f,createAnalyticsEvent:h}=Ye(),{authenticated:p,logout:g,user:m}=zt(),[w,y]=C.useState(IL),[E,v]=C.useState(!1),[b,$]=C.useState(null),[P,O]=C.useState(null),[D,B]=C.useState(0);s.current=()=>null;let H=(x=c())!=null&&x.email?0:1,q=zr-500;C.useEffect(()=>{if(D){let I=setTimeout(()=>{B(D-1)},1e3);return()=>clearTimeout(I)}},[D]),C.useEffect(()=>{var I;if(p&&E&&m){if(t!=null&&t.legal.requireUsersAcceptTerms&&!m.hasAcceptedTerms){let N=setTimeout(()=>{e(se.AFFIRMATIVE_CONSENT_SCREEN)},q);return()=>clearTimeout(N)}if(Pu(m,(I=t==null?void 0:t.embeddedWallets)==null?void 0:I.createOnLogin)){let N=setTimeout(()=>{i({createWallet:{onSuccess:()=>{},onFailure:M=>{console.error(M),h({eventName:"embedded_wallet_creation_failure_logout",payload:{error:M,screen:"AwaitingPasswordlessCodeScreen"}}),g()},callAuthOnSuccessOnClose:!0}}),e(se.EMBEDDED_WALLET_ON_ACCOUNT_CREATE_SCREEN)},q);return()=>clearTimeout(N)}{f();let N=setTimeout(()=>o({shouldCallAuthOnSuccess:!0,isSuccess:!0}),zr);return()=>clearTimeout(N)}}},[p,E,m]),C.useEffect(()=>{if(b&&P===0){let I=setTimeout(()=>{y(IL),$(null);let N=document.querySelector("input[name=code-0]");N==null||N.focus()},1400);return()=>clearTimeout(I)}},[b]);let Y=I=>{var Q;I.preventDefault();let N=I.currentTarget.value.replace(" ","");if(N==="")return;if(isNaN(Number(N)))return $("Code should be numeric"),void O(1);$(null),O(null);let M=Number((Q=I.currentTarget.name)==null?void 0:Q.charAt(5)),U=[...N||[""]].slice(0,6-M),S=[...w.slice(0,M),...U,...w.slice(M+U.length)];y(S);let F=Math.min(Math.max(M+U.length,0),5);if(!isNaN(Number(I.currentTarget.value))){let k=document.querySelector(`input[name=code-${F}]`);k==null||k.focus()}if(S.every(k=>k&&!isNaN(+k))){let k=document.querySelector(`input[name=code-${F}]`);k==null||k.blur(),u(S.join("")).then(()=>v(!0)).catch(W=>{var V,ee,te,ce,K,G,pe,de,ye,Ne,je,Qe;if(W instanceof Qo&&W.privyErrorCode===ue.INVALID_CREDENTIALS)$("Invalid or expired verification code");else if(W instanceof Qo&&W.privyErrorCode===ue.CANNOT_LINK_MORE_OF_TYPE)$(W.message);else{if(W instanceof Qo&&W.privyErrorCode===ue.USER_LIMIT_REACHED)return console.error(new hw(W).toString()),void e(se.USER_LIMIT_REACHED_SCREEN);if(W instanceof Qo&&W.privyErrorCode===ue.USER_DOES_NOT_EXIST)return void e(se.ACCOUNT_NOT_FOUND_SCREEN);if(W instanceof Qo&&W.privyErrorCode===ue.LINKED_TO_ANOTHER_USER)return i({errorModalData:{error:W,previousScreen:r??se.AWAITING_PASSWORDLESS_CODE}}),void e(se.ERROR_SCREEN,!1);if(W instanceof Qo&&W.privyErrorCode===ue.DISALLOWED_PLUS_EMAIL)return i({inlineError:{error:W}}),void e(se.CONNECT_OR_CREATE,!1);if(W instanceof Qo&&W.privyErrorCode===ue.ACCOUNT_TRANSFER_REQUIRED&&((ee=(V=W.data)==null?void 0:V.data)!=null&&ee.nonce))return i({accountTransfer:{nonce:(ce=(te=W.data)==null?void 0:te.data)==null?void 0:ce.nonce,account:H===0?(K=c())==null?void 0:K.email:(G=c())==null?void 0:G.phoneNumber,displayName:(ye=(de=(pe=W.data)==null?void 0:pe.data)==null?void 0:de.account)==null?void 0:ye.displayName,linkMethod:H===0?"email":"sms",embeddedWalletAddress:(Qe=(je=(Ne=W.data)==null?void 0:Ne.data)==null?void 0:je.otherUser)==null?void 0:Qe.embeddedWalletAddress}}),void e(se.LINK_CONFLICT_SCREEN);$("Issue verifying code")}O(0)})}},R=H==0?d.jsx(dp,{color:"var(--privy-color-accent)",strokeWidth:2,height:"48px",width:"48px"}):d.jsx(ol,{color:"var(--privy-color-accent)",strokeWidth:2,height:"40px",width:"40px"}),_=d.jsxs("p",H==0?{children:["Please check ",d.jsx(kL,{children:(A=c())==null?void 0:A.email})," for an email from privy.io and enter your code below."]}:{children:["Please check ",d.jsx(kL,{children:(T=c())==null?void 0:T.phoneNumber})," for a message from ",(t==null?void 0:t.name)||"Privy"," and enter your code below."]});return d.jsxs(d.Fragment,{children:[d.jsx(ze,{backFn:()=>n()},"header"),d.jsxs(xPe,{children:[d.jsx(Yr,{title:"Enter confirmation code",description:_,icon:R}),d.jsxs(VT,{children:[d.jsxs(EPe,{children:[d.jsx(_Pe,{$fail:!!b,$success:E,children:d.jsx("span",{children:b||(E?"Success!":"")})}),d.jsx("div",{children:w.map((I,N)=>d.jsx("input",{name:`code-${N}`,type:"text",value:w[N],onChange:Y,onKeyUp:M=>{M.key==="Backspace"&&(U=>{if(P===1&&($(null),O(null)),y([...w.slice(0,U),"",...w.slice(U+1)]),U>0){let S=document.querySelector(`input[name=code-${U-1}]`);S==null||S.focus()}})(N)},inputMode:"numeric",autoFocus:N===0,pattern:"[0-9]",className:`${E?"success":""} ${b?"fail":""}`,autoComplete:bi?"one-time-code":"off"},N))})]}),d.jsxs(CPe,{children:[d.jsxs("span",{children:["Didn't get ",H==0?"an email":"a message","?"]}),D?d.jsxs(SPe,{children:[d.jsx(dPe,{color:"var(--privy-color-foreground)",strokeWidth:1.33,height:"12px",width:"12px"}),d.jsx("span",{children:"Code sent"})]}):d.jsx(APe,{children:d.jsx("button",{onClick:async()=>{B(30),H==0?await a():await l()},children:"Resend code"})})]})]})]}),d.jsx(ft,{})]})};let xPe=ne.div.withConfig({displayName:"PasswordlessCodeContainer",componentId:"sc-463c12b2-0"})(["display:flex;flex-direction:column;align-items:flex-start;justify-content:center;margin:auto;gap:16px;flex-grow:1;"]),EPe=ne.div.withConfig({displayName:"CodeInput",componentId:"sc-463c12b2-1"})(["display:flex;flex-direction:column;width:100%;gap:8px;> div:last-child{display:flex;justify-content:center;gap:0.5rem;width:100%;border-radius:var(--privy-border-radius-md);> input{border:1px solid var(--privy-color-foreground-4);background:var(--privy-color-background);border-radius:var(--privy-border-radius-md);padding:8px 10px;height:58px;width:46px;text-align:center;font-size:18px;}> input:focus{border:1px solid var(--privy-color-accent);}> input:invalid{border:1px solid var(--privy-color-error);}> input.success{border:1px solid var(--privy-color-success);}> input.fail{border:1px solid var(--privy-color-error);animation:shake 180ms;animation-iteration-count:2;}}@keyframes shake{0%{transform:translate(1px,0px);}33%{transform:translate(-1px,0px);}67%{transform:translate(-1px,0px);}100%{transform:translate(1px,0px);}}"]),_Pe=ne.div.withConfig({displayName:"InputHelp",componentId:"sc-463c12b2-2"})(["line-height:20px;height:20px;font-size:13px;color:",";display:flex;justify-content:flex-end;width:100%;"],t=>t.$success?"var(--privy-color-success)":t.$fail?"var(--privy-color-error)":"var(--privy-color-foreground-3)"),CPe=ne.div.withConfig({displayName:"HelpText",componentId:"sc-463c12b2-3"})(["font-size:13px;color:var(--privy-color-foreground);display:flex;gap:8px;align-items:center;width:100%;margin-top:16px;padding-bottom:32px;"]),APe=ne.div.withConfig({displayName:"ResendButtonContainer",componentId:"sc-463c12b2-4"})(["color:var(--privy-color-accent);padding:2px 0;> button{text-decoration:underline;}"]),SPe=ne.div.withConfig({displayName:"Badge",componentId:"sc-463c12b2-5"})(["display:flex;align-items:center;justify-content:center;border-radius:var(--privy-border-radius-sm);padding:2px 8px;gap:4px;background:var(--privy-color-background-2);color:var(--privy-color-foreground-2);"]),kL=ne.span.withConfig({displayName:"BoldWrappingSpan",componentId:"sc-463c12b2-6"})(["font-weight:500;word-break:break-all;"]);function $Pe({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const Uh=C.forwardRef($Pe);function IPe({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const _8=C.forwardRef(IPe),kPe=({icon:t})=>d.jsx(d.Fragment,{children:d.jsx(TPe,{children:d.jsxs("div",{children:[d.jsx(sl,{}),typeof t=="string"?d.jsx("span",{style:{background:`url('${t}')`,height:"38px",width:"38px",borderRadius:"6px",margin:"auto",backgroundSize:"cover"}}):t?d.jsx(t,{style:{width:"38px",height:"38px"}}):d.jsx("span",{})]})})});let TPe=ne.div.withConfig({displayName:"StackedContainer",componentId:"sc-26c1d9b9-0"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > span{position:absolute;left:-41px;top:-41px;}> div > :last-child{position:absolute;left:-19px;top:-19px;}"]);const NPe=()=>{let{lastScreen:t,currentScreen:e,data:r,navigateBack:n,navigate:i,setModalData:s}=qe(),{status:o,token:a,waitForResult:l,reset:c,execute:u}=eo(),f=C.useRef([]),h=Y=>{f.current=[Y,...f.current]},[p,g]=C.useState(!0);C.useEffect(()=>(h(setTimeout(g,1e3,!1)),()=>{f.current.forEach(Y=>clearTimeout(Y)),f.current=[]}),[]);let[m,w]=C.useState(""),[y,E]=C.useState("Checking that you are a human..."),[v,b]=C.useState(d.jsx(at,{onClick:()=>{},disabled:!0,children:"Continue"})),[$,P]=C.useState(!1),[O,D]=C.useState(3),B=r==null?void 0:r.captchaModalData,H=async Y=>{try{await(B==null?void 0:B.callback(Y)),B!=null&&B.onSuccessNavigateTo&&i(B==null?void 0:B.onSuccessNavigateTo,!1)}catch(R){if(R instanceof R4)return;s({errorModalData:{error:R,previousScreen:t||se.LANDING}}),i((B==null?void 0:B.onErrorNavigateTo)||se.ERROR_SCREEN,!1)}};C.useEffect(()=>{o==="success"?h(setTimeout(async()=>{let Y=await l();!Y||B!=null&&B.userIntentRequired||H(Y)},1e3)):o==="ready"&&h(setTimeout(()=>{o==="ready"&&u()},500))},[o]),C.useEffect(()=>{if(!p)switch(o){case"success":w("Success!"),E("CAPTCHA passed successfully."),b(d.jsx(at,{onClick:()=>{P(!0),H(a)},disabled:!(B!=null&&B.userIntentRequired),loading:$,children:B!=null&&B.userIntentRequired?"Continue":"Continuing..."}));break;case"loading":w(""),E("Checking that you are a human..."),b(d.jsx(at,{onClick:()=>{},disabled:!0,children:"Continue"}));break;case"error":w("Something went wrong"),O<=0?(E("If you use an adblocker or VPN, try disabling and re-attempting."),b(null)):(E("You did not pass CAPTCHA. Please try again."),b(d.jsx(at,{onClick:q,children:"Retry"})))}},[o,p,$]);let q=async()=>{if(O<=0)return;D(R=>R-1),c(),u();let Y=await l();!Y||B!=null&&B.userIntentRequired||H(Y)};return d.jsxs(d.Fragment,{children:[d.jsx(ze,{backFn:t&&e!==t?n:void 0}),d.jsxs(PPe,{children:[o==="success"?d.jsx(Uh,{fill:"var(--privy-color-success)",width:"64px",height:"64px"}):o==="error"?d.jsx(_8,{fill:"var(--privy-color-error)",width:"64px",height:"64px"}):d.jsx(kPe,{}),d.jsxs(Io,{children:[m?d.jsx("h3",{children:m}):null,d.jsx("p",{children:y})]}),v]}),d.jsx(Bt,{})]})};let PPe=ne.div.withConfig({displayName:"CaptchaContainer",componentId:"sc-9afcf974-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;"]);const y3=({chainType:t,withPadding:e})=>{let r="";return r=t==="ethereum-only"||t==="ethereum-and-solana"?"Rainbow, Phantom, or Coinbase Wallet":"Phantom or Solflare",d.jsx(PNe,{$withPadding:e,children:d.jsxs(RNe,{children:[d.jsx(yh,{style:{color:"var(--privy-color-warn)",height:48,width:48}}),d.jsx("h3",{children:"No wallets available"}),d.jsxs("p",{children:["Please download an external wallet provider, like ",r,"."]})]})},"empty-wallet-state")},ate=({icon:t,name:e})=>typeof t=="string"?d.jsx("img",{alt:`${e||"wallet"} logo`,src:t,style:{height:24,width:24,borderRadius:4}}):t===void 0?d.jsx(Tw,{}):t?d.jsx(t,{}):null;let RPe=jee(["from,to{background:var(--privy-color-foreground-4);color:var(--privy-color-foreground-4);}50%{background:var(--privy-color-foreground-accent);color:var(--privy-color-foreground-accent);}"]);const lte=ai(["",""],t=>t.$isLoading?ai(["width:35%;animation:"," 2s linear infinite;border-radius:var(--privy-border-radius-sm);"],RPe):""),ll=({children:t,color:e,isLoading:r,isPulsing:n,...i})=>d.jsx(OPe,{$color:e,$isLoading:r,$isPulsing:n,...i,children:t});let OPe=ne.span.withConfig({displayName:"StyledSpan",componentId:"sc-eba15c9-0"})(["padding:0.125rem 0.5rem;font-size:0.75rem;font-weight:500;line-height:1.125rem;border-radius:var(--privy-border-radius-sm);display:flex;align-items:center;"," ",""],t=>{let e,r;t.$color==="green"&&(e="var(--privy-color-success-dark)",r="var(--privy-color-success-light)"),t.$color==="red"&&(e="var(--privy-color-error)",r="var(--privy-color-error-light)"),t.$color==="gray"&&(e="var(--privy-color-foreground-2)",r="var(--privy-color-background-2)");let n=jee(["from,to{background-color:",";}50%{background-color:rgba(",",0.8);}"],r,r);return ai(["color:",";background-color:",";",";"],e,r,t.$isPulsing&&ai(["animation:"," 3s linear infinite;"],n))},lte);const jPe=({...t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 436.49 511.97",height:"24",width:"24",...t,children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:"brave-linear-gradient",x1:"-18.79",y1:"359.73",x2:"194.32",y2:"359.73",gradientTransform:"matrix(2.05, 0, 0, -2.05, 38.49, 992.77)",gradientUnits:"userSpaceOnUse",children:[d.jsx("stop",{offset:"0",stopColor:"#f1562b"}),d.jsx("stop",{offset:"0.3",stopColor:"#f1542b"}),d.jsx("stop",{offset:"0.41",stopColor:"#f04d2a"}),d.jsx("stop",{offset:"0.49",stopColor:"#ef4229"}),d.jsx("stop",{offset:"0.5",stopColor:"#ef4029"}),d.jsx("stop",{offset:"0.56",stopColor:"#e83e28"}),d.jsx("stop",{offset:"0.67",stopColor:"#e13c26"}),d.jsx("stop",{offset:"1",stopColor:"#df3c26"})]})}),d.jsx("path",{style:{fill:"url(#brave-linear-gradient)"},d:"M436.49,165.63,420.7,122.75l11-24.6A8.47,8.47,0,0,0,430,88.78L400.11,58.6a48.16,48.16,0,0,0-50.23-11.66l-8.19,2.89L296.09.43,218.25,0,140.4.61,94.85,50.41l-8.11-2.87A48.33,48.33,0,0,0,36.19,59.3L5.62,90.05a6.73,6.73,0,0,0-1.36,7.47l11.47,25.56L0,165.92,56.47,380.64a89.7,89.7,0,0,0,34.7,50.23l111.68,75.69a24.73,24.73,0,0,0,30.89,0l111.62-75.8A88.86,88.86,0,0,0,380,380.53l46.07-176.14Z"}),d.jsx("path",{style:{fill:"#fff"},d:"M231,317.33a65.61,65.61,0,0,0-9.11-3.3h-5.49a66.08,66.08,0,0,0-9.11,3.3l-13.81,5.74-15.6,7.18-25.4,13.24a4.84,4.84,0,0,0-.62,9l22.06,15.49q7,5,13.55,10.76l6.21,5.35,13,11.37,5.89,5.2a10.15,10.15,0,0,0,12.95,0l25.39-22.18,13.6-10.77,22.06-15.79a4.8,4.8,0,0,0-.68-8.93l-25.36-12.8L244.84,323ZM387.4,175.2l.8-2.3a61.26,61.26,0,0,0-.57-9.18,73.51,73.51,0,0,0-8.19-15.44l-14.35-21.06-10.22-13.88-19.23-24a69.65,69.65,0,0,0-5.7-6.67h-.4L321,84.25l-42.27,8.14a33.49,33.49,0,0,1-12.59-1.84l-23.21-7.5-16.61-4.59a70.52,70.52,0,0,0-14.67,0L195,83.1l-23.21,7.54a33.89,33.89,0,0,1-12.59,1.84l-42.22-8-8.54-1.58h-.4a65.79,65.79,0,0,0-5.7,6.67l-19.2,24Q77.81,120.32,73,127.45L58.61,148.51l-6.78,11.31a51,51,0,0,0-1.94,13.35l.8,2.3A34.51,34.51,0,0,0,52,179.81l11.33,13,50.23,53.39a14.31,14.31,0,0,1,2.55,14.34L107.68,280a25.23,25.23,0,0,0-.39,16l1.64,4.52a43.58,43.58,0,0,0,13.39,18.76l7.89,6.43a15,15,0,0,0,14.35,1.72L172.62,314A70.38,70.38,0,0,0,187,304.52l22.46-20.27a9,9,0,0,0,3-6.36,9.08,9.08,0,0,0-2.5-6.56L159.2,237.18a9.83,9.83,0,0,1-3.09-12.45l19.66-36.95a19.21,19.21,0,0,0,1-14.67A22.37,22.37,0,0,0,165.58,163L103.94,139.8c-4.44-1.6-4.2-3.6.51-3.88l36.2-3.59a55.9,55.9,0,0,1,16.9,1.5l31.5,8.8a9.64,9.64,0,0,1,6.74,10.76L183.42,221a34.72,34.72,0,0,0-.61,11.41c.5,1.61,4.73,3.6,9.36,4.73l19.19,4a46.38,46.38,0,0,0,16.86,0l17.26-4c4.64-1,8.82-3.23,9.35-4.85a34.94,34.94,0,0,0-.63-11.4l-12.45-67.59a9.66,9.66,0,0,1,6.74-10.76l31.5-8.83a55.87,55.87,0,0,1,16.9-1.5l36.2,3.37c4.74.44,5,2.2.54,3.88L272,162.79a22.08,22.08,0,0,0-11.16,10.12,19.3,19.3,0,0,0,1,14.67l19.69,36.95A9.84,9.84,0,0,1,278.45,237l-50.66,34.23a9,9,0,0,0,.32,12.78l.15.14,22.49,20.27a71.46,71.46,0,0,0,14.35,9.47l28.06,13.35a14.89,14.89,0,0,0,14.34-1.76l7.9-6.45a43.53,43.53,0,0,0,13.38-18.8l1.65-4.52a25.27,25.27,0,0,0-.39-16l-8.26-19.49a14.4,14.4,0,0,1,2.55-14.35l50.23-53.45,11.3-13a35.8,35.8,0,0,0,1.54-4.24Z"})]}),MPe=({style:t,...e})=>d.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:24,width:24,...t},...e,children:[d.jsx("path",{d:"M0 10.2C0 4.56669 4.5667 0 10.2 0H37.8C43.4333 0 48 4.5667 48 10.2V37.8C48 43.4333 43.4333 48 37.8 48H10.2C4.56669 48 0 43.4333 0 37.8V10.2Z",fill:"#604E93"}),d.jsx("path",{d:"M4.13353 14.6218C3.70207 13.1338 4.62517 11.5926 6.14065 11.2707L31.424 5.90036C32.6242 5.64544 33.8434 6.24236 34.3782 7.34668L45.7343 30.7995L13.7343 47.7328L4.13353 14.6218Z",fill:"url(#paint0_linear_362_37285)"}),d.jsx("path",{d:"M4.46332 16.4519C4.00953 14.8821 5.06159 13.277 6.68213 13.0669L40.1928 8.72077C41.5851 8.5402 42.879 9.47008 43.1517 10.8473L48.0004 35.333L13.467 47.5999L4.46332 16.4519Z",fill:"white"}),d.jsx("path",{d:"M0 18.6666C0 15.7211 2.38781 13.3333 5.33333 13.3333H37.3333C43.2244 13.3333 48 18.1089 48 24V37.3333C48 43.2243 43.2244 48 37.3333 48H10.6667C4.77563 48 0 43.2243 0 37.3333V18.6666Z",fill:"black"}),d.jsx("path",{d:"M31.7559 33.3796V23.3867H33.7051V33.3796H31.7559Z",fill:"#F7A600"}),d.jsx("path",{d:"M9.51303 36.362H5.33398V26.3691H9.3449C11.2941 26.3691 12.4301 27.4639 12.4301 29.176C12.4301 30.2844 11.7008 31.0006 11.1964 31.2393C11.7996 31.5201 12.5709 32.1511 12.5709 33.4846C12.5709 35.3513 11.2941 36.362 9.51303 36.362ZM9.19043 28.1096H7.28322V30.4117H9.19043C10.0174 30.4117 10.4808 29.9489 10.4808 29.2612C10.4808 28.5723 10.0185 28.1096 9.19043 28.1096ZM9.31653 32.1658H7.28322V34.6215H9.31653C10.2003 34.6215 10.6206 34.0599 10.6206 33.3868C10.6216 32.7127 10.2003 32.1658 9.31653 32.1658Z",fill:"white"}),d.jsx("path",{d:"M17.9425 32.2637V36.362H16.007V32.2637L13.0059 26.3691H15.1232L16.9884 30.3969L18.8252 26.3691H20.9426L17.9425 32.2637Z",fill:"white"}),d.jsx("path",{d:"M26.4896 36.362H22.3105V26.3691H26.3215C28.2707 26.3691 29.4066 27.4639 29.4066 29.176C29.4066 30.2844 28.6774 31.0006 28.173 31.2393C28.7761 31.5201 29.5474 32.1511 29.5474 33.4846C29.5464 35.3513 28.2696 36.362 26.4896 36.362ZM26.167 28.1096H24.2598V30.4117H26.167C26.994 30.4117 27.4574 29.9489 27.4574 29.2612C27.4563 28.5723 26.994 28.1096 26.167 28.1096ZM26.2931 32.1658H24.2598V34.6215H26.2931C27.1768 34.6215 27.5971 34.0599 27.5971 33.3868C27.5971 32.7127 27.1758 32.1658 26.2931 32.1658Z",fill:"white"}),d.jsx("path",{d:"M40.0573 28.1096V36.362H38.1081V28.1096H35.5V26.3691H42.6665V28.1096H40.0573Z",fill:"white"}),d.jsx("defs",{children:d.jsxs("linearGradient",{id:"paint0_linear_362_37285",x1:"4.00094",y1:"13.9604",x2:"46.1673",y2:"11.8482",gradientUnits:"userSpaceOnUse",children:[d.jsx("stop",{"stop-color":"#FFD748"}),d.jsx("stop",{offset:"1","stop-color":"#F7A600"})]})})]}),DPe=({style:t,...e})=>d.jsxs("svg",{width:"400",height:"400",viewBox:"0 0 400 400",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:24,width:24,...t},...e,children:[d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M260.543 0C300.7 0 320.773 0 342.39 6.83333C365.99 15.4233 384.577 34.01 393.167 57.61C400 79.2233 400 99.3033 400 139.457V260.543C400 300.7 400 320.773 393.167 342.39C384.577 365.99 365.99 384.577 342.39 393.163C320.773 400 300.7 400 260.543 400H139.457C99.3 400 79.2233 400 57.61 393.163C34.01 384.577 15.4233 365.99 6.83333 342.39C0 320.773 0 300.7 0 260.543V139.457C0 99.3033 0 79.2233 6.83333 57.61C15.4233 34.01 34.01 15.4233 57.61 6.83333C79.2233 0 99.3 0 139.457 0H260.543Z",fill:"white"}),d.jsx("mask",{id:"mask0_16909_31415",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"400",height:"400",children:d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M260.543 0C300.7 0 320.773 0 342.39 6.83333C365.99 15.4233 384.577 34.01 393.167 57.61C400 79.2233 400 99.3033 400 139.457V260.543C400 300.7 400 320.773 393.167 342.39C384.577 365.99 365.99 384.577 342.39 393.163C320.773 400 300.7 400 260.543 400H139.457C99.3 400 79.2233 400 57.61 393.163C34.01 384.577 15.4233 365.99 6.83333 342.39C0 320.773 0 300.7 0 260.543V139.457C0 99.3033 0 79.2233 6.83333 57.61C15.4233 34.01 34.01 15.4233 57.61 6.83333C79.2233 0 99.3 0 139.457 0H260.543Z",fill:"white"})}),d.jsxs("g",{mask:"url(#mask0_16909_31415)",children:[d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M199.804 39.8501L59.3756 119.957V280.18L199.804 360.297L340.23 280.18V119.957L199.804 39.8501Z",fill:"#FEFEFE"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M199.804 39.8501L59.3756 119.957V280.18L199.804 360.297L340.23 280.18V119.957L199.804 39.8501ZM144.359 109.116H254.873L268.197 164.788H131.538L144.359 109.116ZM176.201 204.291L164.148 173.197H235.711L223.913 204.291L227.339 239.028L199.804 239.154H172.522L176.201 204.291ZM211.354 275.892V264.862L236.093 241.414V204.417L268.451 183.607L305.376 211.066L255.119 297.589H235.203L211.354 275.892ZM94.2395 211.066L131.282 183.857L164.021 204.417V241.414L188.76 264.862V275.892L164.913 297.84H144.734L94.2395 211.066Z",fill:"#002D72"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M255.12 297.589H235.202L211.355 275.892V264.862L236.094 241.414V204.417L268.45 183.607L305.377 211.066L255.12 297.589ZM199.803 39.8498V109.117H254.872L268.198 164.789H199.803V173.199H235.712L223.914 204.291L227.338 239.028L199.803 239.153V360.296L340.231 280.181V119.957L199.803 39.8498Z",fill:"url(#paint0_linear_16909_31415)",style:{mixBlendMode:"multiply"}}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M188.761 275.892L164.912 297.84H144.734L94.2389 211.066L131.283 183.858L164.022 204.417V241.414L188.761 264.862V275.892ZM172.522 239.153L176.2 204.291L164.149 173.199H199.803V164.789H131.537L144.36 109.117H199.803V39.8498L59.375 119.957V280.181L199.803 360.296V239.153H172.522Z",fill:"url(#paint1_linear_16909_31415)",style:{mixBlendMode:"multiply"}})]}),d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:"paint0_linear_16909_31415",x1:"325.255",y1:"325.727",x2:"325.255",y2:"73.6291",gradientUnits:"userSpaceOnUse",children:[d.jsx("stop",{stopColor:"#002D72"}),d.jsx("stop",{offset:"1",stopColor:"#002D72",stopOpacity:"0.01"})]}),d.jsxs("linearGradient",{id:"paint1_linear_16909_31415",x1:"184.827",y1:"325.727",x2:"184.827",y2:"73.6291",gradientUnits:"userSpaceOnUse",children:[d.jsx("stop",{stopColor:"#002D72",stopOpacity:"0.01"}),d.jsx("stop",{offset:"1",stopColor:"#002D72"})]})]})]}),cte=({style:t,...e})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",x:0,y:0,viewBox:"0 0 318.6 318.6",width:"28",height:"28",style:{height:"28px",width:"28px",...t},...e,children:[d.jsx("style",{children:".s1{stroke-linecap:round;stroke-linejoin:round}.s2{fill:#e4761b;stroke:#e4761b}.s3{fill:#f6851b;stroke:#f6851b}"}),d.jsx("path",{fill:"#e2761b",stroke:"#e2761b",className:"s1",d:"m274.1 35.5-99.5 73.9L193 65.8z"}),d.jsx("path",{d:"m44.4 35.5 98.7 74.6-17.5-44.3zm193.9 171.3-26.5 40.6 56.7 15.6 16.3-55.3zm-204.4.9L50.1 263l56.7-15.6-26.5-40.6z",className:"s1 s2"}),d.jsx("path",{d:"m103.6 138.2-15.8 23.9 56.3 2.5-2-60.5zm111.3 0-39-34.8-1.3 61.2 56.2-2.5zM106.8 247.4l33.8-16.5-29.2-22.8zm71.1-16.5 33.9 16.5-4.7-39.3z",className:"s1 s2"}),d.jsx("path",{fill:"#d7c1b3",stroke:"#d7c1b3",className:"s1",d:"m211.8 247.4-33.9-16.5 2.7 22.1-.3 9.3zm-105 0 31.5 14.9-.2-9.3 2.5-22.1z"}),d.jsx("path",{fill:"#233447",stroke:"#233447",className:"s1",d:"m138.8 193.5-28.2-8.3 19.9-9.1zm40.9 0 8.3-17.4 20 9.1z"}),d.jsx("path",{fill:"#cd6116",stroke:"#cd6116",className:"s1",d:"m106.8 247.4 4.8-40.6-31.3.9zM207 206.8l4.8 40.6 26.5-39.7zm23.8-44.7-56.2 2.5 5.2 28.9 8.3-17.4 20 9.1zm-120.2 23.1 20-9.1 8.2 17.4 5.3-28.9-56.3-2.5z"}),d.jsx("path",{fill:"#e4751f",stroke:"#e4751f",className:"s1",d:"m87.8 162.1 23.6 46-.8-22.9zm120.3 23.1-1 22.9 23.7-46zm-64-20.6-5.3 28.9 6.6 34.1 1.5-44.9zm30.5 0-2.7 18 1.2 45 6.7-34.1z"}),d.jsx("path",{d:"m179.8 193.5-6.7 34.1 4.8 3.3 29.2-22.8 1-22.9zm-69.2-8.3.8 22.9 29.2 22.8 4.8-3.3-6.6-34.1z",className:"s3"}),d.jsx("path",{fill:"#c0ad9e",stroke:"#c0ad9e",className:"s1",d:"m180.3 262.3.3-9.3-2.5-2.2h-37.7l-2.3 2.2.2 9.3-31.5-14.9 11 9 22.3 15.5h38.3l22.4-15.5 11-9z"}),d.jsx("path",{fill:"#161616",stroke:"#161616",className:"s1",d:"m177.9 230.9-4.8-3.3h-27.7l-4.8 3.3-2.5 22.1 2.3-2.2h37.7l2.5 2.2z"}),d.jsx("path",{fill:"#763d16",stroke:"#763d16",className:"s1",d:"m278.3 114.2 8.5-40.8-12.7-37.9-96.2 71.4 37 31.3 52.3 15.3 11.6-13.5-5-3.6 8-7.3-6.2-4.8 8-6.1zM31.8 73.4l8.5 40.8-5.4 4 8 6.1-6.1 4.8 8 7.3-5 3.6 11.5 13.5 52.3-15.3 37-31.3-96.2-71.4z"}),d.jsx("path",{d:"m267.2 153.5-52.3-15.3 15.9 23.9-23.7 46 31.2-.4h46.5zm-163.6-15.3-52.3 15.3-17.4 54.2h46.4l31.1.4-23.6-46zm71 26.4 3.3-57.7 15.2-41.1h-67.5l15 41.1 3.5 57.7 1.2 18.2.1 44.8h27.7l.2-44.8z",className:"s3"})]}),LPe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAGYktHRAD/AP8A/6C9p5MAAAAHdElNRQfoDAIVMQ8VNW19AAAGKUlEQVRYw+2WTWxcVxXHf+feN98Tf43j2KmduMEibZOilEjNl9KmImrCoipSkSohIQQSQkJhSdmAAEV0ka742CF11WURsEJRHSg4TWooUhPagkgcO/6IY8ffnhk/z8y9h8Wbsd/4AwEbFnCkJ7173zn/c87/nHPfhf91kcbLt892cX9RebrbcOaA4ViPoVyNvvVemfqPwMdfewyAbAI+nPbcGPfcnvYc6hCuDM0CEDSUDeAUkw54wRqW2gvmL+WHvgIwWQdCofeNqX/JaVwKnSZpZ/zTaUtbpaa/FUSbGPjOc3tRFbyyNzC809sifSf77FBvq/zKKb+rOR23ZtNoJ1a2Oq45SAQctMILk8v6heEJd3ZqRe87z4sizKkqb1x/FDGgGlXCCMe9cvj+sqbLVffyyT7z0uMd5l5gZVCVXwPDmTSL6SSUf9TsUBXWKlAOaQdOJAJe9sr5kXl/aHjCm7myIpAR4ThwVUSaSyARwxeAtACPSso7d515Zj8Dx3rMQCrgK6rcdo5rIsxvayaBmqMAfE6Ez4Q1MremPR8+cKzXou9ABriIcJU6nxsBKKSBo3HA0MHwhGO2pJzuM5lCVk54zwnVDcAmBryPEpkvKTfHPaOLHmWb7lGUNBA2BYBoiMpYU1ZRYIzMexbXlFN9hoGCadR3W81rDu7Oe96f8CyWFZHYmG3KmKoPRUwzA0R9cGunzhaBhbIyOBKxcarfUtjTrLO8BjfHHbcfeiq17QzF5FbDOUTTF5ePgPJuQaw7+NOkZ/COI6xG2QkQVmHwjuODSU/F/VPn5bqPRgvUA9Ami9qu5gq5JPS2CFYiEAWsRHu5ZAx5Z6k1NER1swQi2rAL60/LFr+oQmdWeK7fcrBdmrIUgSNdhlxC+MOYY373+jfwN2ja0kpMAbNAl2rk2EiUdXdeONlr2ZuPUtdYplqnor9dyCYsw5OOh0WlXAGv9VJF/maBB02lbby8drYLIKnws8Dw9da0sL9VeLxD6GkRkgg2xnA+C8lE9F6pQrG8CeiAKsqDFWV0QXmwrCyHSs3zc4FLQGXbvwDgVL+pAD/p75CXulukuyUlGAOlMoSV5vJuYyBWLgO0poT9B4TP9sLKuvJwRadH5/XHCJX3x/yG/kYAP7iYwER89AGtjbo7B0urnnBdMUJDh0RgSCejRbWqFIsRqNfoSaeEdNJgDLRlhPaMtD25jz7g44tPWK4MRThNY1g3ftErmUZWxsCenMU7KK55xpYDZouCd2zMofPwqCiMLgcUyx7vIhtjNhnySqaO3SQGYOX1g411AXh+a+vmMlBoS7AY5Hlrro+bqwWsFbTejNYIN1Y7eGuuj4VEnkJbglyGneQc0AkQvt6zWYJa6AhSABwDDm+1MkbJZoVn81UGuqdZWrMYa4CIdmMN5w+FfDFToiPhEB/Z7CCH6z4GS2uxo9iYOv2e5wWycQvntd5knkDgsaxnf6ZKpbo55QmrPNURIgLVWnTarFeis8CaptMgq3DOGgatjTVhzUVjZAwl3RJ4qayU1xxGhEK7pWWPYA0EwWZDBkHU/TUHK0VlftHhVclmLLls83EkQsl7SKdiATRUvOc6sAps/GpSKWEtFJxXqg6KJU86JcyEUK5E0eaS0JVWwnWlWhOcU4wVUilhS0Krqgxta8LC5cnG+hPg73EFa4R8zmINGBFq+QOMdFzg0rUcr75d5dW3q1y6luNexwVq+QMYI1gL+ZzZSj917E8AOi9PbTIQk0XgPeB4fDOVIHRtbQvhk5/fJ33P2kezZSZX32O1GhVyYhVmO0/R8tR5dOKPLv3X38ykKHYQXXLicgNYiG9sDQDg98A3gCXg48hIr7Pv06NLPWe+msR+K591uW9++RV8fajFCLlsmhLpUqXnzE/bFu69ycwHh0DOAKeBI0A78O5WZ7ErmSDRYTsEfAn4GzBG/X5QDfKMTdz/7r7Ozj9bY77/zNHDRzfOZgFBP1peXfnhzPzcL48EeQfcAa4STVU/8EQdu7kp44vJHe70Dbl74jKqSmAtNec+JSKngfow4VT1RmDtSM05RISB4e/tihW/0u9+d9lB3v3Fm6gooruZRbfIc6987d+B/b/8d+UfeVGT8xvC5akAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjQtMTItMDJUMjE6NDk6MTArMDA6MDB60KjYAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDI0LTEyLTAyVDIxOjQ5OjEwKzAwOjAwC40QZAAAACh0RVh0ZGF0ZTp0aW1lc3RhbXAAMjAyNC0xMi0wMlQyMTo0OToxNSswMDowMA6gHhwAAAAASUVORK5CYII=",C8=({style:t,...e})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"108",height:"108",viewBox:"0 0 108 108",fill:"none",style:{height:"28px",width:"28px",...t},...e,children:[d.jsx("rect",{width:"108",height:"108",rx:"23",fill:"#AB9FF2"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46.5267 69.9229C42.0054 76.8509 34.4292 85.6182 24.348 85.6182C19.5824 85.6182 15 83.6563 15 75.1342C15 53.4305 44.6326 19.8327 72.1268 19.8327C87.768 19.8327 94 30.6846 94 43.0079C94 58.8258 83.7355 76.9122 73.5321 76.9122C70.2939 76.9122 68.7053 75.1342 68.7053 72.314C68.7053 71.5783 68.8275 70.7812 69.0719 69.9229C65.5893 75.8699 58.8685 81.3878 52.5754 81.3878C47.993 81.3878 45.6713 78.5063 45.6713 74.4598C45.6713 72.9884 45.9768 71.4556 46.5267 69.9229ZM83.6761 42.5794C83.6761 46.1704 81.5575 47.9658 79.1875 47.9658C76.7816 47.9658 74.6989 46.1704 74.6989 42.5794C74.6989 38.9885 76.7816 37.1931 79.1875 37.1931C81.5575 37.1931 83.6761 38.9885 83.6761 42.5794ZM70.2103 42.5795C70.2103 46.1704 68.0916 47.9658 65.7216 47.9658C63.3157 47.9658 61.233 46.1704 61.233 42.5795C61.233 38.9885 63.3157 37.1931 65.7216 37.1931C68.0916 37.1931 70.2103 38.9885 70.2103 42.5795Z",fill:"#FFFDF8"})]}),ute="data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMDgnIGhlaWdodD0nMTA4JyB2aWV3Qm94PScwIDAgMTA4IDEwOCcgZmlsbD0nbm9uZScgc3R5bGU9J2hlaWdodDoyOHB4O3dpZHRoOjI4cHgnPjxyZWN0IHdpZHRoPScxMDgnIGhlaWdodD0nMTA4JyByeD0nMjMnIGZpbGw9JyNBQjlGRjInPjwvcmVjdD48cGF0aCBmaWxsLXJ1bGU9J2V2ZW5vZGQnIGNsaXAtcnVsZT0nZXZlbm9kZCcgZD0nTTQ2LjUyNjcgNjkuOTIyOUM0Mi4wMDU0IDc2Ljg1MDkgMzQuNDI5MiA4NS42MTgyIDI0LjM0OCA4NS42MTgyQzE5LjU4MjQgODUuNjE4MiAxNSA4My42NTYzIDE1IDc1LjEzNDJDMTUgNTMuNDMwNSA0NC42MzI2IDE5LjgzMjcgNzIuMTI2OCAxOS44MzI3Qzg3Ljc2OCAxOS44MzI3IDk0IDMwLjY4NDYgOTQgNDMuMDA3OUM5NCA1OC44MjU4IDgzLjczNTUgNzYuOTEyMiA3My41MzIxIDc2LjkxMjJDNzAuMjkzOSA3Ni45MTIyIDY4LjcwNTMgNzUuMTM0MiA2OC43MDUzIDcyLjMxNEM2OC43MDUzIDcxLjU3ODMgNjguODI3NSA3MC43ODEyIDY5LjA3MTkgNjkuOTIyOUM2NS41ODkzIDc1Ljg2OTkgNTguODY4NSA4MS4zODc4IDUyLjU3NTQgODEuMzg3OEM0Ny45OTMgODEuMzg3OCA0NS42NzEzIDc4LjUwNjMgNDUuNjcxMyA3NC40NTk4QzQ1LjY3MTMgNzIuOTg4NCA0NS45NzY4IDcxLjQ1NTYgNDYuNTI2NyA2OS45MjI5Wk04My42NzYxIDQyLjU3OTRDODMuNjc2MSA0Ni4xNzA0IDgxLjU1NzUgNDcuOTY1OCA3OS4xODc1IDQ3Ljk2NThDNzYuNzgxNiA0Ny45NjU4IDc0LjY5ODkgNDYuMTcwNCA3NC42OTg5IDQyLjU3OTRDNzQuNjk4OSAzOC45ODg1IDc2Ljc4MTYgMzcuMTkzMSA3OS4xODc1IDM3LjE5MzFDODEuNTU3NSAzNy4xOTMxIDgzLjY3NjEgMzguOTg4NSA4My42NzYxIDQyLjU3OTRaTTcwLjIxMDMgNDIuNTc5NUM3MC4yMTAzIDQ2LjE3MDQgNjguMDkxNiA0Ny45NjU4IDY1LjcyMTYgNDcuOTY1OEM2My4zMTU3IDQ3Ljk2NTggNjEuMjMzIDQ2LjE3MDQgNjEuMjMzIDQyLjU3OTVDNjEuMjMzIDM4Ljk4ODUgNjMuMzE1NyAzNy4xOTMxIDY1LjcyMTYgMzcuMTkzMUM2OC4wOTE2IDM3LjE5MzEgNzAuMjEwMyAzOC45ODg1IDcwLjIxMDMgNDIuNTc5NVonIGZpbGw9JyNGRkZERjgnPjwvcGF0aD48L3N2Zz4=",FPe=t=>d.jsxs("svg",{width:"52",height:"52",viewBox:"0 0 52 52",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("rect",{width:"52",height:"52",rx:"26",fill:"#7084FF"}),d.jsx("path",{d:"M43.6781 28.2954C45.1053 25.0988 38.0498 16.168 31.3094 12.4472C27.0608 9.56481 22.6337 9.96081 21.737 11.2264C19.7693 14.0039 28.2527 16.3574 33.9263 19.1037C32.7067 19.6348 31.5574 20.5879 30.8816 21.8067C28.7664 19.4915 24.1239 17.4977 18.6765 19.1037C15.0056 20.186 11.9547 22.7374 10.7756 26.5911C10.4891 26.4635 10.1719 26.3925 9.83814 26.3925C8.56192 26.3925 7.52734 27.4298 7.52734 28.7094C7.52734 29.989 8.56192 31.0263 9.83814 31.0263C10.0747 31.0263 10.8143 30.8672 10.8143 30.8672L22.6337 30.953C17.9068 38.4713 14.1713 39.5704 14.1713 40.8729C14.1713 42.1754 17.7455 41.8224 19.0876 41.3369C25.5121 39.0127 32.4123 31.7692 33.5964 29.6841C38.5688 30.3061 42.7476 30.3796 43.6781 28.2954Z",fill:"url(#paint0_linear_81034_11443)"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33.8741 19.076C33.8926 19.084 33.911 19.092 33.9294 19.1001C34.1923 18.9962 34.1498 18.6068 34.0776 18.301C33.9116 17.5981 31.0479 14.7629 28.3588 13.493C24.6934 11.762 21.9946 11.8518 21.5972 12.65C22.3407 14.1849 25.8031 15.6258 29.4193 17.1308C30.9407 17.7639 32.4893 18.4084 33.8741 19.076Z",fill:"url(#paint1_linear_81034_11443)"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.272 34.5374C28.5323 34.2543 27.697 33.9945 26.7477 33.7587C27.7625 31.9382 27.9754 29.2432 27.0171 27.5392C25.6721 25.1478 23.9838 23.875 20.0605 23.875C17.9027 23.875 12.093 24.6037 11.9899 29.4663C11.9791 29.9743 11.9895 30.44 12.026 30.8685L22.6335 30.9456C21.2017 33.2229 19.8609 34.9113 18.6873 36.1947C20.0979 36.5571 21.2615 36.8612 22.3297 37.1404C23.3394 37.4043 24.2638 37.646 25.2309 37.8934C26.6941 36.8249 28.0698 35.6597 29.272 34.5374Z",fill:"url(#paint2_linear_81034_11443)"}),d.jsx("path",{d:"M10.6324 30.3712C11.0658 34.065 13.1596 35.5127 17.4381 35.9411C21.7166 36.3695 24.1708 36.0821 27.4381 36.3801C30.167 36.6291 32.6036 38.0233 33.5075 37.5415C34.321 37.1079 33.8659 35.5412 32.7774 34.5361C31.3663 33.2333 29.4135 32.3274 25.9773 32.006C26.6621 30.1261 26.4702 27.4903 25.4067 26.0562C23.8689 23.9827 21.0305 23.0453 17.4381 23.4549C13.6848 23.8828 10.0885 25.7354 10.6324 30.3712Z",fill:"url(#paint3_linear_81034_11443)"}),d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:"paint0_linear_81034_11443",x1:"18.249",y1:"25.4646",x2:"43.3806",y2:"32.5728",gradientUnits:"userSpaceOnUse",children:[d.jsx("stop",{stopColor:"white"}),d.jsx("stop",{offset:"1",stopColor:"white"})]}),d.jsxs("linearGradient",{id:"paint1_linear_81034_11443",x1:"39.1432",y1:"24.9813",x2:"20.9691",y2:"6.81008",gradientUnits:"userSpaceOnUse",children:[d.jsx("stop",{stopColor:"#8697FF"}),d.jsx("stop",{offset:"1",stopColor:"#8697FF",stopOpacity:"0"})]}),d.jsxs("linearGradient",{id:"paint2_linear_81034_11443",x1:"29.7761",y1:"35.1727",x2:"12.345",y2:"25.1792",gradientUnits:"userSpaceOnUse",children:[d.jsx("stop",{stopColor:"#8697FF"}),d.jsx("stop",{offset:"1",stopColor:"#8697FF",stopOpacity:"0"})]}),d.jsxs("linearGradient",{id:"paint3_linear_81034_11443",x1:"19.7472",y1:"25.2716",x2:"31.5549",y2:"40.2352",gradientUnits:"userSpaceOnUse",children:[d.jsx("stop",{stopColor:"white"}),d.jsx("stop",{offset:"0.983895",stopColor:"#D1D8FF"})]})]})]}),BPe=({style:t,...e})=>d.jsxs("svg",{width:"120",height:"120",viewBox:"0 0 120 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:24,width:24,...t},...e,children:[d.jsx("g",{clipPath:"url(#clip0_5_32)",children:d.jsxs("g",{clipPath:"url(#clip1_5_32)",children:[d.jsx("mask",{id:"mask0_5_32",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"120",height:"120",children:d.jsx("path",{d:"M78.163 0H41.837C29.79 0 23.767 0 17.283 2.04999C10.203 4.62701 4.627 10.203 2.05 17.283C0 23.767 0 29.791 0 41.837V78.163C0 90.21 0 96.232 2.05 102.717C4.627 109.797 10.203 115.373 17.283 117.949C23.767 120 29.79 120 41.837 120H78.163C90.21 120 96.232 120 102.717 117.949C109.797 115.373 115.373 109.797 117.95 102.717C120 96.232 120 90.21 120 78.163V41.837C120 29.791 120 23.767 117.95 17.283C115.373 10.203 109.797 4.62701 102.717 2.04999C96.232 0 90.21 0 78.163 0Z",fill:"black"})}),d.jsx("g",{mask:"url(#mask0_5_32)",children:d.jsx("rect",{width:"120",height:"120",fill:"url(#paint0_linear_5_32)"})}),d.jsx("path",{d:"M20 38H26C56.9279 38 82 63.0721 82 94V100H94C97.3137 100 100 97.3137 100 94C100 53.1309 66.8691 20 26 20C22.6863 20 20 22.6863 20 26V38Z",fill:"url(#paint1_radial_5_32)"}),d.jsx("path",{d:"M84 94H100C100 97.3137 97.3137 100 94 100H84V94Z",fill:"url(#paint2_linear_5_32)"}),d.jsx("path",{d:"M26 20L26 36H20L20 26C20 22.6863 22.6863 20 26 20Z",fill:"url(#paint3_linear_5_32)"}),d.jsx("path",{d:"M20 36H26C58.0325 36 84 61.9675 84 94V100H66V94C66 71.9086 48.0914 54 26 54H20V36Z",fill:"url(#paint4_radial_5_32)"}),d.jsx("path",{d:"M68 94H84V100H68V94Z",fill:"url(#paint5_linear_5_32)"}),d.jsx("path",{d:"M20 52L20 36L26 36L26 52H20Z",fill:"url(#paint6_linear_5_32)"}),d.jsx("path",{d:"M20 62C20 65.3137 22.6863 68 26 68C40.3594 68 52 79.6406 52 94C52 97.3137 54.6863 100 58 100H68V94C68 70.804 49.196 52 26 52H20V62Z",fill:"url(#paint7_radial_5_32)"}),d.jsx("path",{d:"M52 94H68V100H58C54.6863 100 52 97.3137 52 94Z",fill:"url(#paint8_radial_5_32)"}),d.jsx("path",{d:"M26 68C22.6863 68 20 65.3137 20 62L20 52L26 52L26 68Z",fill:"url(#paint9_radial_5_32)"})]})}),d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:"paint0_linear_5_32",x1:"60",y1:"0",x2:"60",y2:"120",gradientUnits:"userSpaceOnUse",children:[d.jsx("stop",{stopColor:"#174299"}),d.jsx("stop",{offset:"1",stopColor:"#001E59"})]}),d.jsxs("radialGradient",{id:"paint1_radial_5_32",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(26 94) rotate(-90) scale(74)",children:[d.jsx("stop",{offset:"0.770277",stopColor:"#FF4000"}),d.jsx("stop",{offset:"1",stopColor:"#8754C9"})]}),d.jsxs("linearGradient",{id:"paint2_linear_5_32",x1:"83",y1:"97",x2:"100",y2:"97",gradientUnits:"userSpaceOnUse",children:[d.jsx("stop",{stopColor:"#FF4000"}),d.jsx("stop",{offset:"1",stopColor:"#8754C9"})]}),d.jsxs("linearGradient",{id:"paint3_linear_5_32",x1:"23",y1:"20",x2:"23",y2:"37",gradientUnits:"userSpaceOnUse",children:[d.jsx("stop",{stopColor:"#8754C9"}),d.jsx("stop",{offset:"1",stopColor:"#FF4000"})]}),d.jsxs("radialGradient",{id:"paint4_radial_5_32",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(26 94) rotate(-90) scale(58)",children:[d.jsx("stop",{offset:"0.723929",stopColor:"#FFF700"}),d.jsx("stop",{offset:"1",stopColor:"#FF9901"})]}),d.jsxs("linearGradient",{id:"paint5_linear_5_32",x1:"68",y1:"97",x2:"84",y2:"97",gradientUnits:"userSpaceOnUse",children:[d.jsx("stop",{stopColor:"#FFF700"}),d.jsx("stop",{offset:"1",stopColor:"#FF9901"})]}),d.jsxs("linearGradient",{id:"paint6_linear_5_32",x1:"23",y1:"52",x2:"23",y2:"36",gradientUnits:"userSpaceOnUse",children:[d.jsx("stop",{stopColor:"#FFF700"}),d.jsx("stop",{offset:"1",stopColor:"#FF9901"})]}),d.jsxs("radialGradient",{id:"paint7_radial_5_32",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(26 94) rotate(-90) scale(42)",children:[d.jsx("stop",{offset:"0.59513",stopColor:"#00AAFF"}),d.jsx("stop",{offset:"1",stopColor:"#01DA40"})]}),d.jsxs("radialGradient",{id:"paint8_radial_5_32",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(51 97) scale(17 45.3333)",children:[d.jsx("stop",{stopColor:"#00AAFF"}),d.jsx("stop",{offset:"1",stopColor:"#01DA40"})]}),d.jsxs("radialGradient",{id:"paint9_radial_5_32",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(23 69) rotate(-90) scale(17 322.37)",children:[d.jsx("stop",{stopColor:"#00AAFF"}),d.jsx("stop",{offset:"1",stopColor:"#01DA40"})]}),d.jsx("clipPath",{id:"clip0_5_32",children:d.jsx("rect",{width:"120",height:"120",fill:"white"})}),d.jsx("clipPath",{id:"clip1_5_32",children:d.jsx("rect",{width:"120",height:"120",fill:"white"})})]})]}),UPe=({style:t,...e})=>d.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[d.jsx("rect",{width:"28",height:"28",rx:"3",fill:"#12FF80"}),d.jsx("path",{d:"M22.5151 13.9979H20.4244C19.7981 13.9979 19.2945 14.5058 19.2945 15.128V18.163C19.2945 18.7894 18.7866 19.2931 18.1645 19.2931H9.8398C9.21344 19.2931 8.70981 19.8011 8.70981 20.4233V22.5185C8.70981 23.145 9.21767 23.6487 9.8398 23.6487H18.6427C19.2691 23.6487 19.7642 23.1407 19.7642 22.5185V20.8423C19.7642 20.2159 20.2721 19.7757 20.8942 19.7757H22.5151C23.1415 19.7757 23.6451 19.2677 23.6451 18.6455V15.1196C23.6451 14.4889 23.1373 13.9979 22.5151 13.9979Z",fill:"black"}),d.jsx("path",{d:"M8.7098 9.84127C8.7098 9.21481 9.21766 8.71111 9.83978 8.71111H18.156C18.7823 8.71111 19.286 8.20317 19.286 7.58095V5.48995C19.286 4.86349 18.7781 4.35979 18.156 4.35979H9.35732C8.73096 4.35979 8.22733 4.86772 8.22733 5.48995V7.10264C8.22733 7.7291 7.71947 8.2328 7.09734 8.2328H5.48912C4.86276 8.2328 4.35913 8.74074 4.35913 9.36296V12.8931C4.35913 13.5196 4.86699 13.9979 5.49335 13.9979H7.58404C8.2104 13.9979 8.71403 13.4899 8.71403 12.8677L8.7098 9.84127Z",fill:"black"}),d.jsx("path",{d:"M13.0139 11.8011H15.0242C15.6802 11.8011 16.2092 12.3344 16.2092 12.9862V14.9968C16.2092 15.6529 15.6759 16.182 15.0242 16.182H13.0139C12.3579 16.182 11.8289 15.6487 11.8289 14.9968V12.9862C11.8289 12.3302 12.3621 11.8011 13.0139 11.8011Z",fill:"black"})]}),WPe=({style:t,...e})=>d.jsxs("svg",{width:"96",height:"96",viewBox:"0 0 96 96",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:24,width:24,...t},...e,children:[d.jsx("rect",{width:"96",height:"96",rx:"18",fill:"#FEF4FF"}),d.jsxs("g",{children:[d.jsx("path",{d:"M71.9367 18.39C72.0482 16.4526 72.3145 15.1746 72.8497 14.0075C73.0616 13.5456 73.2601 13.1675 73.2907 13.1675C73.3214 13.1675 73.2293 13.5085 73.086 13.9252C72.6969 15.0578 72.633 16.607 72.901 18.4094C73.2413 20.6963 73.4348 21.0263 75.8841 23.4967C77.0329 24.6554 78.3692 26.1168 78.8536 26.7443L79.7343 27.8851L78.8536 27.0698C77.7764 26.0728 75.2992 24.1283 74.7521 23.8503C74.3852 23.6639 74.3306 23.6671 74.1043 23.8894C73.8958 24.0943 73.8519 24.4021 73.8229 25.8572C73.7778 28.125 73.4646 29.5807 72.7087 31.0362C72.2998 31.8234 72.2354 31.6554 72.6053 30.7668C72.8816 30.1034 72.9096 29.8117 72.9076 27.6163C72.9033 23.2052 72.3727 22.1447 69.2607 20.3281C68.4724 19.8678 67.1734 19.2041 66.3742 18.8531C65.575 18.502 64.9401 18.1962 64.9633 18.1734C65.0514 18.0868 68.0863 18.961 69.3077 19.4247C71.1247 20.1145 71.4247 20.2039 71.6454 20.1207C71.7933 20.0649 71.8648 19.6398 71.9367 18.39Z",fill:"#F50DB4"}),d.jsx("path",{d:"M33.5466 11.9727C32.4688 11.808 32.4233 11.7887 32.9306 11.7119C33.9026 11.5647 36.1979 11.7653 37.7796 12.1358C41.4722 13.0004 44.8322 15.2153 48.4188 19.1488L49.3717 20.1938L50.7348 19.978C56.4773 19.0689 62.3192 19.7914 67.2054 22.0148C68.5495 22.6265 70.6689 23.8441 70.9337 24.157C71.018 24.2568 71.173 24.8987 71.2779 25.5837C71.6408 27.9534 71.4591 29.7699 70.7234 31.1265C70.3229 31.8648 70.3006 32.0988 70.5698 32.7306C70.7847 33.2348 71.3838 33.608 71.9771 33.6072C73.1913 33.6056 74.4983 31.6721 75.1038 28.9818L75.3443 27.9131L75.8209 28.4448C78.4346 31.3619 80.4876 35.34 80.8403 38.1716L80.9321 38.9099L80.4928 38.2387C79.7366 37.0838 78.9769 36.2976 78.0041 35.6635C76.2504 34.5205 74.3961 34.1315 69.4853 33.8766C65.0501 33.6464 62.5399 33.2732 60.0509 32.4737C55.816 31.1137 53.6812 29.3023 48.6508 22.8012C46.4164 19.9135 45.0354 18.3159 43.6616 17.0293C40.5401 14.1058 37.4729 12.5726 33.5466 11.9727Z",fill:"#F50DB4"}),d.jsx("path",{d:"M35.6404 25.9564C33.4522 22.9889 32.0983 18.4391 32.3914 15.0379L32.482 13.9854L32.9801 14.0749C33.9155 14.243 35.5283 14.8343 36.2835 15.2861C38.3559 16.5259 39.253 18.1582 40.1658 22.3496C40.4332 23.5773 40.7839 24.9666 40.9454 25.437C41.2052 26.194 42.1871 27.9624 42.9854 29.1109C43.5605 29.938 43.1785 30.33 41.9074 30.217C39.9662 30.0444 37.3367 28.2568 35.6404 25.9564Z",fill:"#F50DB4"}),d.jsx("path",{d:"M69.2799 48.0419C59.0538 43.9862 55.4521 40.4658 55.4521 34.5259C55.4521 33.6517 55.4827 32.9365 55.5199 32.9365C55.5572 32.9365 55.9528 33.225 56.3991 33.5776C58.4728 35.216 60.7949 35.9157 67.2233 36.8395C71.0061 37.3831 73.1349 37.8222 75.0986 38.4637C81.3402 40.5027 85.2018 44.6406 86.1227 50.2766C86.3903 51.9143 86.2334 54.9854 85.7995 56.6039C85.457 57.8824 84.4118 60.1868 84.1346 60.2751C84.0578 60.2996 83.9824 60.0094 83.9626 59.6147C83.8575 57.4983 82.7718 55.438 80.9485 53.8946C78.8754 52.1399 76.0901 50.7428 69.2799 48.0419Z",fill:"#F50DB4"}),d.jsx("path",{d:"M62.1008 49.7268C61.9727 48.9758 61.7505 48.0167 61.607 47.5954L61.3461 46.8296L61.8307 47.3655C62.5014 48.107 63.0314 49.0559 63.4806 50.3197C63.8234 51.2843 63.862 51.5711 63.8594 53.1386C63.8568 54.6774 63.814 55 63.4974 55.8682C62.9983 57.2373 62.3788 58.208 61.3392 59.2501C59.4712 61.1228 57.0696 62.1596 53.6039 62.5896C53.0015 62.6643 51.2456 62.7902 49.7019 62.8693C45.8118 63.0686 43.2515 63.4803 40.9508 64.276C40.6201 64.3905 40.3247 64.4601 40.2948 64.4305C40.2017 64.3393 41.768 63.4195 43.0618 62.8056C44.8862 61.94 46.7021 61.4676 50.7709 60.8002C52.7809 60.4704 54.8566 60.0704 55.3837 59.9112C60.3612 58.4079 62.9197 54.5286 62.1008 49.7268Z",fill:"#F50DB4"}),d.jsx("path",{d:"M66.7886 57.9275C65.4299 55.0505 65.1179 52.2726 65.8623 49.6821C65.942 49.4053 66.07 49.1787 66.1471 49.1787C66.224 49.1787 66.5447 49.3495 66.8594 49.5581C67.4855 49.9732 68.7412 50.6725 72.0866 52.4692C76.2612 54.7111 78.6414 56.4472 80.2599 58.4306C81.6775 60.1677 82.5547 62.1459 82.9769 64.5583C83.2159 65.9248 83.0759 69.2128 82.7199 70.5889C81.5975 74.9275 78.9889 78.3356 75.2682 80.3242C74.7231 80.6155 74.2337 80.8547 74.1807 80.8558C74.1278 80.8569 74.3264 80.3594 74.6222 79.7503C75.8738 77.173 76.0163 74.6661 75.07 71.8756C74.4906 70.1671 73.3092 68.0823 70.924 64.5588C68.1507 60.4623 67.4708 59.3721 66.7886 57.9275Z",fill:"#F50DB4"}),d.jsx("path",{d:"M28.3782 73.4506C32.173 70.2943 36.8948 68.0521 41.1958 67.3639C43.0494 67.0672 46.1372 67.185 47.8537 67.6178C50.605 68.3113 53.0662 69.8648 54.3462 71.7156C55.5971 73.5245 56.1338 75.1008 56.6925 78.6081C56.913 79.9916 57.1527 81.3809 57.2252 81.6954C57.6449 83.5131 58.4614 84.966 59.4733 85.6957C61.0805 86.8544 63.8479 86.9265 66.5704 85.8804C67.0325 85.7028 67.4336 85.5801 67.4618 85.6078C67.5605 85.7044 66.1896 86.6083 65.2225 87.0842C63.9212 87.7245 62.8864 87.972 61.5115 87.972C59.0181 87.972 56.948 86.7226 55.2206 84.175C54.8807 83.6736 54.1167 82.1718 53.5228 80.8378C51.699 76.7403 50.7984 75.4921 48.6809 74.126C46.8381 72.9374 44.4615 72.7245 42.6736 73.588C40.325 74.7223 39.6698 77.6786 41.3518 79.5521C42.0204 80.2967 43.2671 80.939 44.2865 81.0638C46.1936 81.2975 47.8326 79.8684 47.8326 77.9717C47.8326 76.7402 47.352 76.0374 46.1423 75.4996C44.4901 74.7652 42.7141 75.6237 42.7226 77.1526C42.7263 77.8045 43.0145 78.214 43.6779 78.5097C44.1036 78.6994 44.1134 78.7144 43.7664 78.6434C42.2504 78.3337 41.8952 76.5335 43.1141 75.3383C44.5776 73.9036 47.6037 74.5367 48.6428 76.4951C49.0794 77.3177 49.1301 78.956 48.7495 79.9452C47.8976 82.1593 45.4138 83.3237 42.8941 82.6901C41.1787 82.2587 40.4801 81.7915 38.4119 79.6931C34.8179 76.0462 33.4226 75.3396 28.2413 74.5428L27.2484 74.3902L28.3782 73.4506Z",fill:"#F50DB4"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.5147 8.18128C23.517 22.5305 31.7835 28.4507 32.7022 29.7015C33.4607 30.7343 33.1752 31.6628 31.8758 32.3905C31.1532 32.7951 29.6676 33.205 28.9238 33.205C28.0825 33.205 27.7936 32.8853 27.7936 32.8853C27.3058 32.4296 27.0311 32.5093 24.5261 28.1293C21.0483 22.8137 18.1379 18.4041 18.0585 18.3303C17.8749 18.1596 17.878 18.1653 24.1715 29.2574C25.1883 31.5693 24.3737 32.4179 24.3737 32.7471C24.3737 33.417 24.1882 33.7691 23.3494 34.6907C21.951 36.2274 21.3259 37.954 20.8746 41.5274C20.3687 45.5332 18.9462 48.3629 15.0041 53.2057C12.6965 56.0406 12.3189 56.5602 11.7366 57.7028C11.0032 59.1416 10.8015 59.9475 10.7198 61.7645C10.6334 63.6855 10.8016 64.9265 11.3975 66.7632C11.9191 68.3712 12.4636 69.433 13.8555 71.5567C15.0568 73.3894 15.7484 74.7513 15.7484 75.2841C15.7484 75.708 15.8306 75.7085 17.692 75.2945C22.1466 74.3036 25.7638 72.5609 27.7981 70.4252C29.0571 69.1033 29.3527 68.3733 29.3623 66.5619C29.3686 65.377 29.3263 65.1289 29.0011 64.4473C28.4718 63.3379 27.5083 62.4154 25.3845 60.9853C22.6019 59.1115 21.4133 57.603 21.085 55.5285C20.8157 53.8263 21.1282 52.6253 22.6676 49.4472C24.2609 46.1575 24.6558 44.7557 24.9229 41.4399C25.0954 39.2977 25.3343 38.4528 25.9591 37.7747C26.6108 37.0676 27.1975 36.8281 28.8103 36.611C31.4396 36.2572 33.1139 35.5871 34.4901 34.3379C35.6839 33.2543 36.1835 32.2101 36.2602 30.6382L36.3184 29.4468L35.6512 28.6806C33.2352 25.9057 9.89667 6 9.74799 6C9.71623 6 10.5113 6.98164 11.5147 8.18128ZM17.1047 63.9381C17.6509 62.9852 17.3607 61.7601 16.447 61.1617C15.5836 60.5962 14.2424 60.8625 14.2424 61.5994C14.2424 61.8243 14.3687 61.9879 14.6532 62.1322C15.1322 62.375 15.167 62.648 14.7901 63.2061C14.4084 63.7712 14.4392 64.2681 14.877 64.6057C15.5826 65.15 16.5815 64.8507 17.1047 63.9381Z",fill:"#F50DB4"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M37.9777 37.236C36.7433 37.6095 35.5435 38.8981 35.172 40.2493C34.9454 41.0736 35.074 42.5196 35.4134 42.9662C35.9617 43.6874 36.492 43.8774 37.9277 43.8675C40.7388 43.8482 43.1825 42.6606 43.4666 41.176C43.6994 39.9591 42.6262 38.2726 41.1478 37.5321C40.385 37.1502 38.7626 36.9987 37.9777 37.236ZM41.2638 39.7671C41.6973 39.1604 41.5076 38.5047 40.7704 38.0611C39.3664 37.2167 37.2432 37.9155 37.2432 39.222C37.2432 39.8724 38.3504 40.5819 39.3653 40.5819C40.0408 40.5819 40.9652 40.1851 41.2638 39.7671Z",fill:"#F50DB4"})]})]}),zPe=({style:t,...e})=>d.jsxs("svg",{fill:"none",height:"1024",width:"1024",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",style:{height:24,width:24,...t},...e,children:[d.jsxs("filter",{id:"a","color-interpolation-filters":"sRGB",filterUnits:"userSpaceOnUse",height:"1228",width:"1244",x:"-72",y:"-72",children:[d.jsx("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),d.jsx("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),d.jsx("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),d.jsx("feOffset",{dx:"-72",dy:"-72"}),d.jsx("feGaussianBlur",{stdDeviation:"54"}),d.jsx("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),d.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),d.jsx("feBlend",{in2:"shape",mode:"normal",result:"effect1_innerShadow_3981_20791"}),d.jsx("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),d.jsx("feOffset",{dx:"152",dy:"132"}),d.jsx("feGaussianBlur",{stdDeviation:"74"}),d.jsx("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),d.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.15 0"}),d.jsx("feBlend",{in2:"effect1_innerShadow_3981_20791",mode:"normal",result:"effect2_innerShadow_3981_20791"}),d.jsx("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),d.jsx("feOffset",{dx:"32",dy:"20"}),d.jsx("feGaussianBlur",{stdDeviation:"50"}),d.jsx("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),d.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.08 0"}),d.jsx("feBlend",{in2:"effect2_innerShadow_3981_20791",mode:"normal",result:"effect3_innerShadow_3981_20791"})]}),d.jsxs("filter",{id:"b","color-interpolation-filters":"sRGB",filterUnits:"userSpaceOnUse",height:"352",width:"747",x:"142",y:"352",children:[d.jsx("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),d.jsx("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),d.jsx("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),d.jsx("feOffset",{dx:"8",dy:"12"}),d.jsx("feGaussianBlur",{stdDeviation:"5"}),d.jsx("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),d.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.120833 0 0 0 0 0.120833 0 0 0 0 0.120833 0 0 0 0.69 0"}),d.jsx("feBlend",{in2:"shape",mode:"normal",result:"effect1_innerShadow_3981_20791"})]}),d.jsxs("linearGradient",{id:"c",gradientUnits:"userSpaceOnUse",x1:"0",x2:"1024",y1:"0",y2:"1024",children:[d.jsx("stop",{offset:"0",stopColor:"#8992d1"}),d.jsx("stop",{offset:"1",stopColor:"#646c9f"})]}),d.jsx("clipPath",{id:"d",children:d.jsx("path",{d:"m0 0h1024v1024h-1024z"})}),d.jsxs("g",{"clip-path":"url(#d)",children:[d.jsx("g",{filter:"url(#a)",children:d.jsx("rect",{fill:"url(#c)",height:"1024",rx:"230",width:"1024"})}),d.jsxs("g",{fill:"#fff",filter:"url(#b)",children:[d.jsx("path",{d:"m212.459 354h-54.459c-8.837 0-16 7.163-16 16v203c0 66.826 54.174 121 121 121h44c66.826 0 121-54.174 121-121v-203c0-8.837-7.163-16-16-16h-56.548c-8.837 0-16 7.163-16 16v198.829c0 28.607-23.19 51.797-51.797 51.797-32.693 0-59.196-26.503-59.196-59.196v-191.43c0-8.837-7.163-16-16-16z"}),d.jsx("path",{d:"m868.426 352h-68.495c-6.98 0-12.487 5.934-11.967 12.895l14.206 190c.468 6.263 5.686 11.105 11.966 11.105h45.412c6.409 0 11.687-5.037 11.987-11.44l8.878-190c.32-6.84-5.14-12.56-11.987-12.56z"}),d.jsx("ellipse",{cx:"834",cy:"649.5",rx:"47",ry:"44.5"}),d.jsx("path",{clipRule:"evenodd",d:"m522 687h50c8.837 0 16-7.163 16-16v-80c0-8.837 7.163-16 16-16h33.5c61.58 0 111.5-49.92 111.5-111.5s-49.92-111.5-111.5-111.5h-115.5c-8.837 0-16 7.163-16 16v303c0 8.837 7.163 16 16 16zm70-252v58c0 6.627 5.373 12 12 12h14c20.987 0 38-17.013 38-38v-6c0-20.987-17.013-38-38-38h-14c-6.627 0-12 5.373-12 12z",fillRule:"evenodd"})]})]})]}),dte=({style:t,...e})=>{let{app:r}=qe();return d.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[d.jsx("rect",{width:"28",height:"28",rx:"3",fill:(r==null?void 0:r.appearance.palette.colorScheme)==="dark"?"#3396ff":"#141414"}),d.jsx("g",{clipPath:"url(#clip0_1765_9946)",children:d.jsx("path",{d:"M8.09448 10.3941C11.3558 7.20196 16.6442 7.20196 19.9055 10.3941L20.2982 10.7782C20.3369 10.8157 20.3677 10.8606 20.3887 10.9102C20.4097 10.9599 20.4206 11.0132 20.4206 11.0671C20.4206 11.121 20.4097 11.1744 20.3887 11.224C20.3677 11.2737 20.3369 11.3186 20.2982 11.3561L18.9554 12.6702C18.9158 12.7086 18.8628 12.7301 18.8077 12.7301C18.7526 12.7301 18.6996 12.7086 18.66 12.6702L18.1198 12.1415C15.8448 9.91503 12.1557 9.91503 9.88015 12.1415L9.30167 12.7075C9.26207 12.7459 9.20909 12.7673 9.15395 12.7673C9.0988 12.7673 9.04582 12.7459 9.00622 12.7075L7.66346 11.3934C7.62475 11.3559 7.59397 11.3109 7.57295 11.2613C7.55193 11.2117 7.5411 11.1583 7.5411 11.1044C7.5411 11.0505 7.55193 10.9971 7.57295 10.9475C7.59397 10.8979 7.62475 10.8529 7.66346 10.8154L8.09448 10.3941ZM22.6829 13.1115L23.8776 14.2814C23.9163 14.319 23.9471 14.3639 23.9681 14.4135C23.9892 14.4632 24 14.5165 24 14.5704C24 14.6243 23.9892 14.6777 23.9681 14.7273C23.9471 14.777 23.9163 14.8219 23.8776 14.8594L18.4893 20.1332C18.4102 20.2101 18.3042 20.2531 18.1938 20.2531C18.0835 20.2531 17.9775 20.2101 17.8984 20.1332L14.0743 16.3901C14.0545 16.3708 14.0279 16.36 14.0003 16.36C13.9726 16.36 13.9461 16.3708 13.9263 16.3901L10.1021 20.1332C10.023 20.2101 9.91703 20.2531 9.8067 20.2531C9.69636 20.2531 9.59038 20.2101 9.51124 20.1332L4.12236 14.8594C4.08365 14.8219 4.05287 14.777 4.03185 14.7273C4.01083 14.6777 4 14.6243 4 14.5704C4 14.5165 4.01083 14.4632 4.03185 14.4135C4.05287 14.3639 4.08365 14.319 4.12236 14.2814L5.31767 13.1115C5.39678 13.0348 5.50265 12.9919 5.61285 12.9919C5.72305 12.9919 5.82892 13.0348 5.90803 13.1115L9.73216 16.8546C9.75194 16.874 9.7785 16.8848 9.80616 16.8848C9.83381 16.8848 9.86037 16.874 9.88015 16.8546L13.7043 13.1115C13.7834 13.0346 13.8894 12.9916 13.9997 12.9916C14.1101 12.9916 14.216 13.0346 14.2952 13.1115L18.1198 16.8546C18.1396 16.874 18.1662 16.8848 18.1938 16.8848C18.2215 16.8848 18.2481 16.874 18.2678 16.8546L22.092 13.1115C22.1711 13.0346 22.2771 12.9916 22.3874 12.9916C22.4977 12.9916 22.6037 13.0346 22.6829 13.1115Z",fill:"white"})}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_1765_9946",children:d.jsx("rect",{width:"20",height:"12.2531",fill:"white",transform:"translate(4 8)"})})})]})},HPe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAHdElNRQfoDAIVODUC+w+GAAAGsUlEQVRYw6WXbYwWVxXHf+fOLAtCXYS2QJdIaClipGCTknXXNqBQMVHbfmhItH4Aral+IAEaG03UxJgYKQJGTUxtDWjaxDSNtcZqIGDwpRuW1oYiVqpdpZSlpC3qysu+PHPP3w/3mXnmeXZbPzjJZO7cefn/z/mfe865xlscq3dGDIguGiHLaMQVLja4s87FShcLo5jtApdddnHexUmHIy475JmdUkPRAQMu7gzT4ljnxJpdk0QPmMFkyAKN2OfOFpc2uuh1J3MZDrjAvXmVEQUuoosRxw642FcEG7IoDxiFxNiu8NYE+vcUYIFYRKKs113bXWx2Z34CoQZsVHOiCZ7mopdzdsFhv8NexEgRDHMxUSNREbh1bwNZwBsFblmfu/a4a6AEENYO5i3AOoEWeEUCF4MOOxBDMQAOk99OJALA2u80sBCwWGBZWG/yRwMaCAbBIAsQTJT3gea1OWfNeaPzvjoHEI85rA8ObtB1v7cIdJkIHgkh9AXpocy0LJjIKvB2wPpZB0v3wkrw5jdNEjeYeMhFX3BAyfn2ke9NUrgB9LrrcZcGJFCld4fWNddXbvbWfWzGR6xJFZsBGh0cBh3bBIxIEGTQ3W0h4NuDaSAzyAxCmGq11Vzf5uaa1aG8p+WFtrEYQGwvjICJkAEqvC+YNmcmMlMNvEaCdrcbyUvQAWDTjVuESHObM6cPGWHmzDwLaEtmzG9Z3qF1zUpXmuuZBb1z4bqeNC6f0WE1NtUTwHzEloiy3BvFisy0sYoLlQtT6XW15md2Qf9SY+2Ngfdca/TMSm/9ewz+/Boc/It45h/i4kSTsKw90SQJsPTvjSZbkWemDW7qTRZ0JEYJWSKxZJ7xmf6M224MzMzbX1s8F1YugjtvMg6eErt/4/z1jUrz1rXUKxnZC2zIg2mdBTK1mFUOKC1fOt/48kdzVixIz86Nij+eEacvpJWyZJ5xy7th8VzjjpuMJfMCW58QL73ekXPVlhsyE+vyzFiplJyauEIyrGIquruMq7qTxk+dcB495rzyTzFepCUWLIFv/kBg081Gd55WUk1IDGFTS89K++TDYxddzKnWcbluHd450xgdh7EGrOo1rr868PMTzqWJRGZ2d8oB/xpL33Xnxl2rjeNn4blXRXduzJ4B5y+28kWscAwXl+yeR654FFZPHoUb710YuPeDOUdPO48di1xptKpeEeHqOcYXNwQKGd88EDk3mqxtxPSfGRlsXRtYt8z4ytPOH/7eqpg1Aso7fYKgK4NPrMpYvsC4/poMA34yVJIQC3sCD9yecdsNyaV5yPj6ryJnR1PAvSNP4J+/1cgDfLbfePaMGGtM7Qdyl12WmKOmXgKKAp54vmBRTxfLrjE+tSYjBPjRM5FrrzIeuD2jf2lLzw8vN4JlfPVp581LsO1DgXv7jSzAiXPw/d+JiYLpjsu26Yfjf5O0rF5WoxsNT9G/bX0XKxakmPjlSee6HlizJJXSX7/oRDc+vjKR+f2wODcKd78/gR8/C9uedF44myJxmhh4OY/ipMQyqaWxmjn95TfEroMFOzbkvG+RceeqViPx1Aln1yEnOow1AnffHCpJAJ5/Vex4UvzptZRdY/O/1dJIS/NkcNmR6MTYah6qzseA4TfFtw4UvHBW1bc/O+7sPhwZHYf/jMODh5yfPudVbXj2TAJ/8XxrOZagNamj4Ei2/GNfuyRxh8t6BG2l15up+MIVODEiFr8rcPS0+O6RBF6mrrEGHHtFzOo2Lo7Dl37hvPQ6mNV6R9JYKgnYWcE37K5HlE2OT/5A0udaPUBHH+BQOMzuNsYLuDyZflTW+fTcmJFDHhJhaZqewMuewXDxcDR9IYyPN6Jj+6K4MF2vV8qBtZJScqVRNi6lpGONVJis5mpKi1WbgwsY+zIsBpcR8mzIZfuTRVZrtdu9odrptR/Xx5XONXJqBmCN0P6YMUQq9WJiwt0Je102WHdbpxSqydMObBWYdwDWLVcqcIMYe3NPjg0Ht84od0Ajju1w2XCr9e6QoqM9V23ZtnmI6cfAMMb9AY0YEHdb6oobEh4y3H3Ize6LsmGvN5IdUnhttdQ9UVrfLk/ljWEZ9wXsqAdQk1EA+O22GcgdZTke/bAs3OPY4HSdcB20HhvVtTMu0jmI8ekAhz2IICj2hKpNqI60NcuIRUHEej1quzubXa2tmZhenrfZmv3YYQ9ipDAIgvHptmblccuDjdRcmjFpWbDi/9ycZjZkRbk5jYztai/AUwiUx+qdEQB/m+25i9lxyvbcjrg45Lmd0uT/3p7/Fw6ODf+WO019AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDI0LTEyLTAyVDIxOjU2OjQ4KzAwOjAwMVpslgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyNC0xMi0wMlQyMTo1Njo0OCswMDowMEAH1CoAAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjQtMTItMDJUMjE6NTY6NTMrMDA6MDDZv6GRAAAAAElFTkSuQmCC",qPe=({style:t,...e})=>d.jsxs("svg",{width:"176",height:"176",viewBox:"0 0 176 176",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:24,width:24,...t},...e,children:[d.jsxs("g",{clipPath:"url(#clip0_1704_1423)",children:[d.jsx("path",{d:"M126.233 176H49.7672C22.287 176 0 153.723 0 126.233V49.7673C0 22.287 22.2769 0 49.7672 0H126.233C153.713 0 176 22.277 176 49.7673V126.233C176 153.723 153.713 176 126.233 176Z",fill:"#2461ED"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M100.667 85.6591C83.4133 76.3353 62.4196 64.2443 46.6192 54.3891C41.9573 51.0306 44.3234 43.9023 49.9578 43.9023H128.138C132.499 43.9023 135.416 48.7648 133.231 52.4442C127.977 61.5174 120.308 73.0368 113.901 82.1702C110.462 87.0727 104.858 87.9149 100.667 85.6591ZM75.5031 88.6867C92.1858 97.5795 115.566 111.104 132.178 121.33C137.311 124.498 135.266 132.098 129.271 132.098C119.46 132.098 103.518 132.1 87.6592 132.103C71.9639 132.105 56.3497 132.108 46.8398 132.108C42.0476 132.108 39.5913 127.135 41.6265 123.666C48.5041 111.946 56.2338 100.116 62.6603 91.2834C65.5176 87.3433 71.3325 86.461 75.5031 88.6867Z",fill:"white"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_1704_1423",children:d.jsx("rect",{width:"176",height:"176",fill:"white"})})})]}),ic={coinbase_wallet:{logo:KA,displayName:"Coinbase Wallet",rdns:"com.coinbase.wallet"},coinbase_smart_wallet:{logo:KA,displayName:"Coinbase Smart Wallet",rdns:"com.coinbase.wallet"},metamask:{logo:cte,displayName:"MetaMask",rdns:"io.metamask"},phantom:{logo:C8,displayName:"Phantom"},rainbow:{logo:BPe,displayName:"Rainbow",rdns:"me.rainbow"},wallet_connect:{logo:dte,displayName:"WalletConnect"},zerion:{logo:qPe,displayName:"Zerion",rdns:"io.zerion.wallet"},brave_wallet:{logo:jPe,displayName:"Brave Wallet",rdns:"com.brave.wallet"},cryptocom:{logo:DPe,displayName:"Crypto.com Onchain",rdns:"com.crypto.wallet"},uniswap:{logo:WPe,displayName:"Uniswap Wallet",rdns:"org.uniswap.app"},okx_wallet:{displayName:"OKX Wallet",rdns:"com.okex.wallet",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJDSURBVHgB7Zq9jtpAEMfHlhEgQLiioXEkoAGECwoKxMcTRHmC5E3IoyRPkPAEkI7unJYmTgEFTYwA8a3NTKScLnCHN6c9r1e3P2llWQy7M/s1Gv1twCP0ej37dDq9x+Zut1t3t9vZjDEHIiSRSPg4ZpDL5fxkMvn1cDh8m0wmfugfO53OoFQq/crn8wxfY9EymQyrVCqMfHvScZx1p9ls3pFxXBy/bKlUipGPrVbLuQqAfsCliq3zl0H84zwtjQrOw4Mt1W63P5LvBm2d+Xz+YzqdgkqUy+WgWCy+Mc/nc282m4FqLBYL+3g8fjDxenq72WxANZbLJeA13zDX67UDioL5ybXwafMYu64Ltn3bdDweQ5R97fd7GyhBQMipx4POeEDHIu2LfDdBIGGz+hJ9CQ1ABjoA2egAZPM6AgiCAEQhsi/C4jHyPA/6/f5NG3Ks2+3CYDC4aTccDrn6ojG54MnEvG00GoVmWLIRNZ7wTCwDHYBsdACy0QHIhiuRETxlICWpMMhGZHmqS8qH6JLyGegAZKMDkI0uKf8X4SWlaZo+Pp1bRrwlJU8ZKLIvUjKh0WiQ3sRUbNVq9c5Ebew7KEo2m/1p4jJ4qAmDaqDQBzj5XyiAT4VCQezJigAU+IDU+z8vJFnGWeC+bKQV/5VZ71FV6L7PA3gg3tXrdQ+DgLhC+75Wq3no69P3MC0NFQpx2lL04Ql9gHK1bRDjsSBIvScBnDTk1WrlGIZBorIDEYJj+rhdgnQ67VmWRe0zlplXl81vcyEt0rSoYDUAAAAASUVORK5CYII="},rabby_wallet:{logo:FPe,displayName:"Rabby Wallet",rdns:"io.rabby.wallet"},safe:{displayName:"Safe",logo:UPe},universal_profile:{displayName:"Universal Profile",logo:zPe},bybit_wallet:{displayName:"Bybit Wallet",logo:MPe}},pg=(t,e,r)=>{var n;return(n=ic[t])!=null&&n.displayName?t==="coinbase_wallet"?ic[r].displayName:ic[t].displayName:e==="wallet_connect_v2"&&t==="wallet_connect"?"Wallet Connect":void 0},fte=(t,e,r)=>{var n;return(n=ic[t])!=null&&n.logo?t==="coinbase_wallet"?ic[r].logo:ic[t].logo:e==="wallet_connect_v2"&&t==="wallet_connect"?dte:void 0};function uS(t){var r,n;let e=t.toLowerCase();return!!((n=(r=window==null?void 0:window.webkit)==null?void 0:r.messageHandlers)!=null&&n.ReactNativeWebView)||!!(window!=null&&window.ReactNativeWebView)||["fbav","fban","instagram","snapchat","linkedinapp"].some(i=>e.includes(i))}let hte=C.createContext({});const VPe=({children:t})=>{let e=$n(),[r,n]=C.useState({});return FT("login",{onComplete:(i,s,o,a,l)=>{l&&l.type!=="passkey"&&l.type!=="cross_app"&&(l.type!=="wallet"||l.walletClientType!=="privy")&&(lt.put(TL(e.id),l.type),l.type==="wallet"?(lt.put(K9(e.id),l.walletClientType),lt.put(Y9(e.id),l.chainType),n({accountType:l.type,walletClientType:l.walletClientType,chainType:l.chainType})):(lt.del(K9(e.id)),lt.del(Y9(e.id)),n({accountType:l.type})))}}),C.useEffect(()=>{if(!e.id)return;let i=lt.get(TL(e.id)),s=lt.get(K9(e.id)),o=lt.get(Y9(e.id));i&&n(i==="wallet"?{accountType:i,walletClientType:s,chainType:o}:{accountType:i})},[e.id]),d.jsx(hte.Provider,{value:r,children:t})};let TL=t=>`privy:${t}:recent-login-method`,K9=t=>`privy:${t}:recent-login-wallet-client`,Y9=t=>`privy:${t}:recent-login-chain-type`;const vf=()=>C.useContext(hte),Pc=({provider:t,displayName:e,logo:r,connectOnly:n,connector:i})=>{let{navigate:s}=qe(),{connectWallet:o}=Ye(),a=vf(),l=i.connectorType==="wallet_connect_v2"?t:i.walletClientType,c=window.matchMedia("(display-mode: standalone)").matches;return d.jsxs(GPe,{onClick:i.connectorType==="phantom"||i.connectorType==="solana_adapter"&&i.walletClientType==="phantom"?()=>{T4()||i.chainType==="solana"&&"isInstalled"in i&&i.isInstalled?(o(i,l),s(n?se.AWAITING_CONNECT_ONLY_CONNECTION:se.AWAITING_CONNECTION)):s(bi?se.PHANTOM_INTERSTITIAL_SCREEN:se.INSTALL_PHANTOM_SCREEN)}:i.connectorType!=="coinbase_wallet"||i.connectionOptions!=="eoaOnly"||!bi||c||LJ()?()=>{(!uS(window.navigator.userAgent)||event!=null&&event.isTrusted)&&(o(i,l),s(n?se.AWAITING_CONNECT_ONLY_CONNECTION:se.AWAITING_CONNECTION))}:()=>{window.location.href=`https://go.cb-w.com/dapp?cb_url=${encodeURI(window.location.href)}`},children:[d.jsx(ate,{icon:fte(t,i.connectorType,i.walletClientType)??r,name:i.walletClientType}),d.jsx("span",{children:pg(t,i.connectorType,i.walletClientType)||e||i.walletClientType}),d.jsxs(KPe,{id:"chip-container",children:[(a==null?void 0:a.walletClientType)===l&&(a==null?void 0:a.chainType)===i.chainType?d.jsx(NL,{color:"gray",children:"Recent"}):d.jsx("span",{id:"connect-text",children:"Connect"}),i.connectorType==="solana_adapter"&&d.jsx(NL,{color:"gray",children:"Solana"})]})]})};let GPe=ne(rn).withConfig({displayName:"ConnectWalletButton",componentId:"sc-b6343d12-0"})(["> #chip-container > #connect-text{font-weight:500;color:var(--privy-color-accent);opacity:0;transition:opacity 0.1s ease-out;}:hover > #chip-container > #connect-text{opacity:1;}@media (max-width:440px){> #chip-container > #connect-text{display:none;}}"]),NL=ne(ll).withConfig({displayName:"StyledChip",componentId:"sc-b6343d12-1"})(["margin-left:auto;"]),KPe=ne.div.withConfig({displayName:"ChipContainer",componentId:"sc-b6343d12-2"})(["display:flex;flex-wrap:wrap;gap:8px;margin-left:auto;"]);const YPe=["coinbase_wallet"];let ZPe=["metamask","okx_wallet","rainbow","uniswap","bybit_wallet","uniswap_extension","zerion","rabby_wallet","cryptocom"];const JPe=["safe"],QPe=["phantom","universal_profile"],YT=({wallets:t})=>{let{app:e}=qe();return t.length===0?d.jsx(y3,{chainType:e.appearance.walletChainType,withPadding:!0}):d.jsx(d.Fragment,{children:t})},Wh=({walletList:t,walletChainType:e,connectors:r,connectOnly:n,ignore:i,walletConnectEnabled:s,forceWallet:o})=>{var h,p;let a=[],l=[],c=[],u=r.filter(g=>e==="ethereum-only"?g.chainType==="ethereum":e!=="solana-only"||g.chainType==="solana"),f=u.find(g=>g.connectorType==="wallet_connect_v2");for(let[g,m]of(o?[o.wallet]:t).entries()){if(m==="detected_ethereum_wallets"||m==="detected_wallets")for(let[w,y]of u.filter(({chainType:E,connectorType:v,walletClientType:b})=>E!=="solana"&&(b==="uniswap_wallet_extension"||b==="uniswap_extension"?!i.includes("uniswap"):b==="crypto.com_wallet_extension"||b==="crypto.com_onchain"?!i.includes("cryptocom"):v==="injected"&&!i.includes(b))).entries()){let{walletClientType:E,walletBranding:v,chainType:b}=y;(E==="unknown"?l:a).push(d.jsx(Pc,{connectOnly:n,provider:E,logo:v.icon,displayName:v.name,connector:y},`${g}-${m}-${E}-${b}-${w}`))}if(m==="detected_solana_wallets"||m==="detected_wallets")for(let[w,y]of u.filter(({chainType:E,walletClientType:v})=>{if(E==="solana")return e!=="ethereum-only"&&!i.includes(v)}).entries()){let{walletClientType:E,walletBranding:v,chainType:b}=y;(E==="unknown"?l:a).push(d.jsx(Pc,{connectOnly:n,provider:E,logo:v.icon,displayName:v.name,connector:y},`${g}-${m}-${E}-${b}-${w}`))}if(QPe.includes(m)){let w=u.find(y=>y.connectorType==="injected"&&y.walletClientType===m||y.connectorType===m);if(w&&a.push(d.jsx(Pc,{connectOnly:n,provider:m,connector:w},`${g}-${m}`)),e==="solana-only"||e==="ethereum-and-solana"){let y=u.find(({chainType:E,connectorType:v,walletClientType:b})=>E==="solana"&&v==="solana_adapter"&&b===m);y&&a.push(d.jsx(Pc,{connectOnly:n,provider:m,connector:y},`${m}-solana`))}}else if(ZPe.includes(m)){let w=u.find(y=>m==="uniswap"?y.walletClientType==="uniswap_wallet_extension"||y.walletClientType==="uniswap_extension":m==="cryptocom"?y.walletClientType==="crypto.com_wallet_extension"||y.walletClientType==="crypto.com_onchain":y.connectorType==="injected"&&y.walletClientType===m);s&&!w&&(w=f),w&&a.push(d.jsx(Pc,{connectOnly:n,provider:m,connector:w,logo:w.connectorType==="injected"?w.walletBranding.icon:void 0,displayName:w.connectorType==="injected"?w.walletBranding.name:void 0},`${g}-${m}`))}else if(YPe.includes(m)){let w=u.find(({connectorType:y})=>y===m);w&&a.push(d.jsx(Pc,{connectOnly:n,provider:m,connector:w},`${g}-${m}`))}else if(JPe.includes(m))f&&c.push(d.jsx(Pc,{connectOnly:n,provider:m,connector:f},`${g}-${m}`));else if(m==="wallet_connect")f&&c.push(d.jsx(Pc,{connectOnly:n,provider:m,connector:f},`${g}-${m}`));else if(m===(o==null?void 0:o.wallet)){let w=o.chainType==="ethereum"&&t.includes("detected_ethereum_wallets"),y=o.chainType==="solana"&&t.includes("detected_solana_wallets");if(t.includes("detected_wallets")||w||y){let E=u.find(({walletClientType:v})=>v===m);E&&a.push(d.jsx(Pc,{connectOnly:n,provider:m,displayName:(h=E.walletBranding)==null?void 0:h.name,logo:(p=E.walletBranding)==null?void 0:p.icon,connector:E},`${g}-${m}`))}}}return[...l,...a,...c]},XPe=()=>{var o,a;let{app:t,data:e}=qe(),r=(o=e==null?void 0:e.externalConnectWallet)==null?void 0:o.suggestedAddress,n=r?`Connect the wallet with address ${os(r)} ${t!=null&&t.name?`to ${t.name}.`:"."}`:`Connect a wallet to ${t==null?void 0:t.name}`,{connectors:i}=Ye(),s=Wh({walletList:((a=e==null?void 0:e.externalConnectWallet)==null?void 0:a.walletList)??t.appearance.walletList,walletChainType:t.appearance.walletChainType,connectors:i,connectOnly:!0,ignore:t.appearance.walletList,walletConnectEnabled:t.externalWallets.walletConnect.enabled});return d.jsxs(d.Fragment,{children:[d.jsx(ze,{},"header"),s.length>0&&d.jsx(Pw,{title:"Connect your wallet",description:n}),d.jsx(nf,{children:d.jsx(YT,{wallets:s})}),d.jsx(ft,{})]})},eRe=()=>{var o,a;let{app:t,data:e}=qe(),r=(o=e==null?void 0:e.externalConnectWallet)==null?void 0:o.suggestedAddress,n=r?d.jsxs("span",{children:["Connect the wallet with address ",d.jsx(ii,{showCopyIcon:!1,address:r})," ",t!=null&&t.name?`to ${t.name}.`:"."]}):`Connect a wallet to your ${t==null?void 0:t.name} account`,{connectors:i}=Ye(),s=Wh({walletList:((a=e==null?void 0:e.externalConnectWallet)==null?void 0:a.walletList)??t.appearance.walletList,walletChainType:t.appearance.walletChainType,connectors:i,connectOnly:!0,ignore:t.appearance.walletList,walletConnectEnabled:t.externalWallets.walletConnect.enabled});return d.jsxs(d.Fragment,{children:[d.jsx(ze,{},"header"),s.length>0&&d.jsx(E8,{title:"Connect your wallet",description:n}),d.jsx(nf,{children:d.jsx(YT,{wallets:s})}),t&&d.jsx(qT,{app:t,alwaysShowImplicitConsent:!0}),d.jsx(ft,{})]})},ZT=({style:t,...e})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",strokeWidth:1.5,viewBox:"0 0 24 24",style:{...t},...e,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25"})}),PL=t=>{var r;let e=(r=localStorage.getItem("-walletlink:https://www.walletlink.org:Addresses"))==null?void 0:r.split(" ").filter(n=>el(n,{strict:!0})).map(n=>f4(n));return!!(e!=null&&e.length)&&!!(t!=null&&t.linkedAccounts.filter(n=>n.type=="wallet"&&e.includes(n.address)).length)};var RL=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))},tRe=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}(),rRe=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=mt.platform}return t}(),nRe=function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return t}(),iRe=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),sRe=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),oRe=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,aRe=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,OL=3,lRe=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",oRe]],jL=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function cRe(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new sRe:typeof navigator<"u"?dRe(navigator.userAgent):hRe()}function uRe(t){return t!==""&&lRe.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var s=i.exec(t);return!!s&&[n,s]},!1)}function dRe(t){var e=uRe(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new iRe;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<OL&&(i=RL(RL([],i,!0),pRe(OL-i.length),!0)):i=[];var s=i.join("."),o=fRe(t),a=aRe.exec(t);return a&&a[1]?new nRe(r,s,o,a[1]):new tRe(r,s,o)}function fRe(t){for(var e=0,r=jL.length;e<r;e++){var n=jL[e],i=n[0],s=n[1],o=s.exec(t);if(o)return i}return null}function hRe(){var t=typeof mt<"u"&&mt.version;return t?new rRe(mt.version.slice(1)):null}function pRe(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}var We={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var dS=function(t,e){return dS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},dS(t,e)};function gRe(t,e){dS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var fS=function(){return fS=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},fS.apply(this,arguments)};function mRe(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function yRe(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function wRe(t,e){return function(r,n){e(r,n,t)}}function bRe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function vRe(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})}function xRe(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(u){c=[6,u],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function ERe(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function _Re(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function hS(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function pte(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function CRe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(pte(arguments[e]));return t}function ARe(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function _2(t){return this instanceof _2?(this.v=t,this):new _2(t)}function SRe(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){n[h]&&(i[h]=function(p){return new Promise(function(g,m){s.push([h,p,g,m])>1||a(h,p)})})}function a(h,p){try{l(n[h](p))}catch(g){f(s[0][3],g)}}function l(h){h.value instanceof _2?Promise.resolve(h.value.v).then(c,u):f(s[0][2],h)}function c(h){a("next",h)}function u(h){a("throw",h)}function f(h,p){h(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function $Re(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:_2(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function IRe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof hS=="function"?hS(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}function kRe(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function TRe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function NRe(t){return t&&t.__esModule?t:{default:t}}function PRe(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function RRe(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const ORe=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return fS},__asyncDelegator:$Re,__asyncGenerator:SRe,__asyncValues:IRe,__await:_2,__awaiter:vRe,__classPrivateFieldGet:PRe,__classPrivateFieldSet:RRe,__createBinding:ERe,__decorate:yRe,__exportStar:_Re,__extends:gRe,__generator:xRe,__importDefault:NRe,__importStar:TRe,__makeTemplateObject:kRe,__metadata:bRe,__param:wRe,__read:pte,__rest:mRe,__spread:CRe,__spreadArrays:ARe,__values:hS},Symbol.toStringTag,{value:"Module"})),A8=Qh(ORe);var Z9={},Kg={},ML;function jRe(){if(ML)return Kg;ML=1,Object.defineProperty(Kg,"__esModule",{value:!0}),Kg.delay=void 0;function t(e){return new Promise(r=>{setTimeout(()=>{r(!0)},e)})}return Kg.delay=t,Kg}var kf={},J9={},Tf={},DL;function MRe(){return DL||(DL=1,Object.defineProperty(Tf,"__esModule",{value:!0}),Tf.ONE_THOUSAND=Tf.ONE_HUNDRED=void 0,Tf.ONE_HUNDRED=100,Tf.ONE_THOUSAND=1e3),Tf}var Q9={},LL;function DRe(){return LL||(LL=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(Q9)),Q9}var FL;function gte(){return FL||(FL=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=A8;e.__exportStar(MRe(),t),e.__exportStar(DRe(),t)}(J9)),J9}var BL;function LRe(){if(BL)return kf;BL=1,Object.defineProperty(kf,"__esModule",{value:!0}),kf.fromMiliseconds=kf.toMiliseconds=void 0;const t=gte();function e(n){return n*t.ONE_THOUSAND}kf.toMiliseconds=e;function r(n){return Math.floor(n/t.ONE_THOUSAND)}return kf.fromMiliseconds=r,kf}var UL;function FRe(){return UL||(UL=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=A8;e.__exportStar(jRe(),t),e.__exportStar(LRe(),t)}(Z9)),Z9}var Mp={},WL;function BRe(){if(WL)return Mp;WL=1,Object.defineProperty(Mp,"__esModule",{value:!0}),Mp.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const i=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:i})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return Mp.Watch=t,Mp.default=t,Mp}var X9={},Yg={},zL;function URe(){if(zL)return Yg;zL=1,Object.defineProperty(Yg,"__esModule",{value:!0}),Yg.IWatch=void 0;class t{}return Yg.IWatch=t,Yg}var HL;function WRe(){return HL||(HL=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),A8.__exportStar(URe(),t)}(X9)),X9}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=A8;e.__exportStar(FRe(),t),e.__exportStar(BRe(),t),e.__exportStar(WRe(),t),e.__exportStar(gte(),t)})(We);var Rr={};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.getLocalStorage=Rr.getLocalStorageOrThrow=Rr.getCrypto=Rr.getCryptoOrThrow=mte=Rr.getLocation=Rr.getLocationOrThrow=JT=Rr.getNavigator=Rr.getNavigatorOrThrow=zh=Rr.getDocument=Rr.getDocumentOrThrow=Rr.getFromWindowOrThrow=Rr.getFromWindow=void 0;function hp(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}Rr.getFromWindow=hp;function gg(t){const e=hp(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Rr.getFromWindowOrThrow=gg;function zRe(){return gg("document")}Rr.getDocumentOrThrow=zRe;function HRe(){return hp("document")}var zh=Rr.getDocument=HRe;function qRe(){return gg("navigator")}Rr.getNavigatorOrThrow=qRe;function VRe(){return hp("navigator")}var JT=Rr.getNavigator=VRe;function GRe(){return gg("location")}Rr.getLocationOrThrow=GRe;function KRe(){return hp("location")}var mte=Rr.getLocation=KRe;function YRe(){return gg("crypto")}Rr.getCryptoOrThrow=YRe;function ZRe(){return hp("crypto")}Rr.getCrypto=ZRe;function JRe(){return gg("localStorage")}Rr.getLocalStorageOrThrow=JRe;function QRe(){return hp("localStorage")}Rr.getLocalStorage=QRe;var QT={};Object.defineProperty(QT,"__esModule",{value:!0});var yte=QT.getWindowMetadata=void 0;const qL=Rr;function XRe(){let t,e;try{t=qL.getDocumentOrThrow(),e=qL.getLocationOrThrow()}catch{return null}function r(){const f=t.getElementsByTagName("link"),h=[];for(let p=0;p<f.length;p++){const g=f[p],m=g.getAttribute("rel");if(m&&m.toLowerCase().indexOf("icon")>-1){const w=g.getAttribute("href");if(w)if(w.toLowerCase().indexOf("https:")===-1&&w.toLowerCase().indexOf("http:")===-1&&w.indexOf("//")!==0){let y=e.protocol+"//"+e.host;if(w.indexOf("/")===0)y+=w;else{const E=e.pathname.split("/");E.pop();const v=E.join("/");y+=v+"/"+w}h.push(y)}else if(w.indexOf("//")===0){const y=e.protocol+w;h.push(y)}else h.push(w)}}return h}function n(...f){const h=t.getElementsByTagName("meta");for(let p=0;p<h.length;p++){const g=h[p],m=["itemprop","property","name"].map(w=>g.getAttribute(w)).filter(w=>w?f.includes(w):!1);if(m.length&&m){const w=g.getAttribute("content");if(w)return w}}return""}function i(){let f=n("name","og:site_name","og:title","twitter:title");return f||(f=t.title),f}function s(){return n("description","og:description","twitter:description","keywords")}const o=i(),a=s(),l=e.origin,c=r();return{description:a,url:l,icons:c,name:o}}yte=QT.getWindowMetadata=XRe;const eOe="0.1.1";function tOe(){return eOe}class Zr extends Error{constructor(e,r={}){const n=(()=>{var l;if(r.cause instanceof Zr){if(r.cause.details)return r.cause.details;if(r.cause.shortMessage)return r.cause.shortMessage}return r.cause&&"details"in r.cause&&typeof r.cause.details=="string"?r.cause.details:(l=r.cause)!=null&&l.message?r.cause.message:r.details})(),i=r.cause instanceof Zr&&r.cause.docsPath||r.docsPath,o=`https://oxlib.sh${i??""}`,a=[e||"An error occurred.",...r.metaMessages?["",...r.metaMessages]:[],...n||i?["",n?`Details: ${n}`:void 0,i?`See: ${o}`:void 0]:[]].filter(l=>typeof l=="string").join(`
`);super(a,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${tOe()}`}),this.cause=r.cause,this.details=n,this.docs=o,this.docsPath=i,this.shortMessage=e}walk(e){return wte(this,e)}}function wte(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?wte(t.cause,e):e?null:t}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const XT=BigInt(0),pS=BigInt(1);function Rw(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function eN(t){if(!Rw(t))throw new Error("Uint8Array expected")}function C2(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Xb(t){const e=t.toString(16);return e.length&1?"0"+e:e}function bte(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?XT:BigInt("0x"+t)}const vte=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",rOe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function A2(t){if(eN(t),vte)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=rOe[t[r]];return e}const Rc={_0:48,_9:57,A:65,F:70,a:97,f:102};function VL(t){if(t>=Rc._0&&t<=Rc._9)return t-Rc._0;if(t>=Rc.A&&t<=Rc.F)return t-(Rc.A-10);if(t>=Rc.a&&t<=Rc.f)return t-(Rc.a-10)}function G5(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(vte)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=VL(t.charCodeAt(s)),a=VL(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=o*16+a}return n}function wh(t){return bte(A2(t))}function xte(t){return eN(t),bte(A2(Uint8Array.from(t).reverse()))}function Ow(t,e){return G5(t.toString(16).padStart(e*2,"0"))}function Ete(t,e){return Ow(t,e).reverse()}function Yo(t,e,r){let n;if(typeof e=="string")try{n=G5(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(Rw(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function K5(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];eN(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}const e7=t=>typeof t=="bigint"&&XT<=t;function tN(t,e,r){return e7(t)&&e7(e)&&e7(r)&&e<=t&&t<r}function U0(t,e,r,n){if(!tN(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function nOe(t){let e;for(e=0;t>XT;t>>=pS,e+=1);return e}const S8=t=>(pS<<BigInt(t))-pS,t7=t=>new Uint8Array(t),GL=t=>Uint8Array.from(t);function iOe(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=t7(t),i=t7(t),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...f)=>r(i,n,...f),l=(f=t7(0))=>{i=a(GL([0]),f),n=a(),f.length!==0&&(i=a(GL([1]),f),n=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const h=[];for(;f<e;){n=a();const p=n.slice();h.push(p),f+=n.length}return K5(...h)};return(f,h)=>{o(),l(f);let p;for(;!(p=h(c()));)l();return o(),p}}const sOe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Rw(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function $8(t,e,r={}){const n=(i,s,o)=>{const a=sOe[s];if(typeof a!="function")throw new Error("invalid validator function");const l=t[i];if(!(o&&l===void 0)&&!a(l,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+l)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}function KL(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}function oOe(t,e){if(QL(t)>e)throw new $Oe({givenSize:QL(t),maxSize:e})}const Oc={zero:48,nine:57,A:65,F:70,a:97,f:102};function YL(t){if(t>=Oc.zero&&t<=Oc.nine)return t-Oc.zero;if(t>=Oc.A&&t<=Oc.F)return t-(Oc.A-10);if(t>=Oc.a&&t<=Oc.f)return t-(Oc.a-10)}function aOe(t,e={}){const{dir:r,size:n=32}=e;if(n===0)return t;if(t.length>n)throw new IOe({size:t.length,targetSize:n,type:"Bytes"});const i=new Uint8Array(n);for(let s=0;s<n;s++){const o=r==="right";i[o?s:n-s-1]=t[o?s:t.length-s-1]}return i}function _te(t,e){if(sf(t)>e)throw new yOe({givenSize:sf(t),maxSize:e})}function lOe(t,e){if(typeof e=="number"&&e>0&&e>sf(t)-1)throw new Ste({offset:e,position:"start",size:sf(t)})}function cOe(t,e,r){if(typeof e=="number"&&typeof r=="number"&&sf(t)!==r-e)throw new Ste({offset:r,position:"end",size:sf(t)})}function Cte(t,e={}){const{dir:r,size:n=32}=e;if(n===0)return t;const i=t.replace("0x","");if(i.length>n*2)throw new wOe({size:Math.ceil(i.length/2),targetSize:n,type:"Hex"});return`0x${i[r==="right"?"padEnd":"padStart"](n*2,"0")}`}const uOe="#__bigint";function rN(t,e,r){return JSON.stringify(t,(n,i)=>typeof i=="bigint"?i.toString()+uOe:i,r)}const dOe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function fOe(t,e={}){const{strict:r=!1}=e;if(!t)throw new ZL(t);if(typeof t!="string")throw new ZL(t);if(r&&!/^0x[0-9a-fA-F]*$/.test(t))throw new JL(t);if(!t.startsWith("0x"))throw new JL(t)}function hOe(...t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}function nN(t){return t instanceof Uint8Array?Y5(t):Array.isArray(t)?Y5(new Uint8Array(t)):t}function Y5(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=dOe[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(_te(n,e.size),Ate(n,e.size)):n}function r7(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new mOe({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:r,size:n,value:`${t}${c}`})}const l=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?pOe(l,n):l}function pOe(t,e){return Cte(t,{dir:"left",size:e})}function Ate(t,e){return Cte(t,{dir:"right",size:e})}function Kc(t,e,r,n={}){const{strict:i}=n;lOe(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(r??t.length)*2)}`;return i&&cOe(s,e,r),s}function sf(t){return Math.ceil((t.length-2)/2)}function gOe(t,e={}){const{strict:r=!1}=e;try{return fOe(t,{strict:r}),!0}catch{return!1}}class mOe extends Zr{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${n?" signed":" unsigned"} integer range ${e?`(\`${r}\` to \`${e}\`)`:`(above \`${r}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class ZL extends Zr{constructor(e){super(`Value \`${typeof e=="object"?rN(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class JL extends Zr{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}let yOe=class extends Zr{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}};class Ste extends Zr{constructor({offset:e,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}let wOe=class extends Zr{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};const bOe=new TextEncoder;function vOe(t){if(!(t instanceof Uint8Array)){if(!t)throw new ev(t);if(typeof t!="object")throw new ev(t);if(!("BYTES_PER_ELEMENT"in t))throw new ev(t);if(t.BYTES_PER_ELEMENT!==1||t.constructor.name!=="Uint8Array")throw new ev(t)}}function xOe(t){return t instanceof Uint8Array?t:typeof t=="string"?_Oe(t):EOe(t)}function EOe(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function _Oe(t,e={}){const{size:r}=e;let n=t;r&&(_te(t,r),n=Ate(t,r));let i=n.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,o=new Uint8Array(s);for(let a=0,l=0;a<s;a++){const c=YL(i.charCodeAt(l++)),u=YL(i.charCodeAt(l++));if(c===void 0||u===void 0)throw new Zr(`Invalid byte sequence ("${i[l-2]}${i[l-1]}" in "${i}").`);o[a]=c*16+u}return o}function COe(t,e={}){const{size:r}=e,n=bOe.encode(t);return typeof r=="number"?(oOe(n,r),AOe(n,r)):n}function AOe(t,e){return aOe(t,{dir:"right",size:e})}function QL(t){return t.length}function SOe(t){try{return vOe(t),!0}catch{return!1}}class ev extends Zr{constructor(e){super(`Value \`${typeof e=="object"?rN(e):e}\` of type \`${typeof e}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}class $Oe extends Zr{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class IOe extends Zr{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}function $te(t,e={}){const{as:r=typeof t=="string"?"Hex":"Bytes"}=e,n=hk(xOe(t));return r==="Bytes"?n:Y5(n)}class kOe extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}}const TOe={checksum:new kOe(8192)},n7=TOe.checksum;function Ite(t,e={}){const{compressed:r}=e,{prefix:n,x:i,y:s}=t;if(r===!1||typeof i=="bigint"&&typeof s=="bigint"){if(n!==4)throw new XL({prefix:n,cause:new MOe});return}if(r===!0||typeof i=="bigint"&&typeof s>"u"){if(n!==3&&n!==2)throw new XL({prefix:n,cause:new jOe});return}throw new OOe({publicKey:t})}function NOe(t){const e=(()=>{if(gOe(t))return kte(t);if(SOe(t))return POe(t);const{prefix:r,x:n,y:i}=t;return typeof n=="bigint"&&typeof i=="bigint"?{prefix:r??4,x:n,y:i}:{prefix:r,x:n}})();return Ite(e),e}function POe(t){return kte(Y5(t))}function kte(t){if(t.length!==132&&t.length!==130&&t.length!==68)throw new DOe({publicKey:t});if(t.length===130){const n=BigInt(Kc(t,0,32)),i=BigInt(Kc(t,32,64));return{prefix:4,x:n,y:i}}if(t.length===132){const n=Number(Kc(t,0,1)),i=BigInt(Kc(t,1,33)),s=BigInt(Kc(t,33,65));return{prefix:n,x:i,y:s}}const e=Number(Kc(t,0,1)),r=BigInt(Kc(t,1,33));return{prefix:e,x:r}}function ROe(t,e={}){Ite(t);const{prefix:r,x:n,y:i}=t,{includePrefix:s=!0}=e;return hOe(s?r7(r,{size:1}):"0x",r7(n,{size:32}),typeof i=="bigint"?r7(i,{size:32}):"0x")}class OOe extends Zr{constructor({publicKey:e}){super(`Value \`${rN(e)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class XL extends Zr{constructor({prefix:e,cause:r}){super(`Prefix "${e}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class jOe extends Zr{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class MOe extends Zr{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}let DOe=class extends Zr{constructor({publicKey:e}){super(`Value \`${e}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${sf(nN(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}};const LOe=/^0x[a-fA-F0-9]{40}$/;function Tte(t,e={}){const{strict:r=!0}=e;if(!LOe.test(t))throw new eF({address:t,cause:new UOe});if(r){if(t.toLowerCase()===t)return;if(Nte(t)!==t)throw new eF({address:t,cause:new WOe})}}function Nte(t){if(n7.has(t))return n7.get(t);Tte(t,{strict:!1});const e=t.substring(2).toLowerCase(),r=$te(COe(e),{as:"Bytes"}),n=e.split("");for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&n[s]&&(n[s]=n[s].toUpperCase()),(r[s>>1]&15)>=8&&n[s+1]&&(n[s+1]=n[s+1].toUpperCase());const i=`0x${n.join("")}`;return n7.set(t,i),i}function FOe(t,e={}){const{checksum:r=!1}=e;return Tte(t),r?Nte(t):t}function BOe(t,e={}){const r=$te(`0x${ROe(t).slice(4)}`).substring(26);return FOe(`0x${r}`,e)}class eF extends Zr{constructor({address:e,cause:r}){super(`Address "${e}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class UOe extends Zr{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class WOe extends Zr{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ls=BigInt(0),ds=BigInt(1),th=BigInt(2),zOe=BigInt(3),Pte=BigInt(4),Rte=BigInt(5),Ote=BigInt(8);function Ns(t,e){const r=t%e;return r>=Ls?r:e+r}function Uo(t,e,r){let n=t;for(;e-- >Ls;)n*=n,n%=r;return n}function gS(t,e){if(t===Ls)throw new Error("invert: expected non-zero number");if(e<=Ls)throw new Error("invert: expected positive modulus, got "+e);let r=Ns(t,e),n=e,i=Ls,s=ds;for(;r!==Ls;){const a=n/r,l=n%r,c=i-s*a;n=r,r=l,i=s,s=c}if(n!==ds)throw new Error("invert: does not exist");return Ns(i,e)}function jte(t,e){const r=(t.ORDER+ds)/Pte,n=t.pow(e,r);if(!t.eql(t.sqr(n),e))throw new Error("Cannot find square root");return n}function HOe(t,e){const r=(t.ORDER-Rte)/Ote,n=t.mul(e,th),i=t.pow(n,r),s=t.mul(e,i),o=t.mul(t.mul(s,th),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function qOe(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-ds,r=0;for(;e%th===Ls;)e/=th,r++;let n=th;const i=iN(t);for(;tF(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return jte;let s=i.pow(n,e);const o=(e+ds)/th;return function(l,c){if(l.is0(c))return c;if(tF(l,c)!==1)throw new Error("Cannot find square root");let u=r,f=l.mul(l.ONE,s),h=l.pow(c,e),p=l.pow(c,o);for(;!l.eql(h,l.ONE);){if(l.is0(h))return l.ZERO;let g=1,m=l.sqr(h);for(;!l.eql(m,l.ONE);)if(g++,m=l.sqr(m),g===u)throw new Error("Cannot find square root");const w=ds<<BigInt(u-g-1),y=l.pow(f,w);u=g,f=l.sqr(y),h=l.mul(h,f),p=l.mul(p,y)}return p}}function VOe(t){return t%Pte===zOe?jte:t%Ote===Rte?HOe:qOe(t)}const GOe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function KOe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=GOe.reduce((n,i)=>(n[i]="function",n),e);return $8(t,r)}function YOe(t,e,r){if(r<Ls)throw new Error("invalid exponent, negatives unsupported");if(r===Ls)return t.ONE;if(r===ds)return e;let n=t.ONE,i=e;for(;r>Ls;)r&ds&&(n=t.mul(n,i)),i=t.sqr(i),r>>=ds;return n}function Mte(t,e,r=!1){const n=new Array(e.length).fill(r?t.ZERO:void 0),i=e.reduce((o,a,l)=>t.is0(a)?o:(n[l]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,l)=>t.is0(a)?o:(n[l]=t.mul(o,n[l]),t.mul(o,a)),s),n}function tF(t,e){const r=(t.ORDER-ds)/th,n=t.pow(e,r),i=t.eql(n,t.ONE),s=t.eql(n,t.ZERO),o=t.eql(n,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function Dte(t,e){e!==void 0&&d1(e);const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function iN(t,e,r=!1,n={}){if(t<=Ls)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=Dte(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:r,BITS:i,BYTES:s,MASK:S8(i),ZERO:Ls,ONE:ds,create:l=>Ns(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return Ls<=l&&l<t},is0:l=>l===Ls,isOdd:l=>(l&ds)===ds,neg:l=>Ns(-l,t),eql:(l,c)=>l===c,sqr:l=>Ns(l*l,t),add:(l,c)=>Ns(l+c,t),sub:(l,c)=>Ns(l-c,t),mul:(l,c)=>Ns(l*c,t),pow:(l,c)=>YOe(a,l,c),div:(l,c)=>Ns(l*gS(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>gS(l,t),sqrt:n.sqrt||(l=>(o||(o=VOe(t)),o(a,l))),toBytes:l=>r?Ete(l,s):Ow(l,s),fromBytes:l=>{if(l.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+l.length);return r?xte(l):wh(l)},invertBatch:l=>Mte(a,l),cmov:(l,c,u)=>u?c:l});return Object.freeze(a)}function Lte(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Fte(t){const e=Lte(t);return e+Math.ceil(e/2)}function ZOe(t,e,r=!1){const n=t.length,i=Lte(e),s=Fte(e);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=r?xte(t):wh(t),a=Ns(o,e-ds)+ds;return r?Ete(a,i):Ow(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const rF=BigInt(0),mS=BigInt(1);function i7(t,e){const r=e.negate();return t?r:e}function Bte(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function s7(t,e){Bte(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1),i=2**t,s=S8(t),o=BigInt(t);return{windows:r,windowSize:n,mask:s,maxNumber:i,shiftBy:o}}function nF(t,e,r){const{windowSize:n,mask:i,maxNumber:s,shiftBy:o}=r;let a=Number(t&i),l=t>>o;a>n&&(a-=s,l+=mS);const c=e*n,u=c+Math.abs(a)-1,f=a===0,h=a<0,p=e%2!==0;return{nextN:l,offset:u,isZero:f,isNeg:h,isNegF:p,offsetF:c}}function JOe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function QOe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const o7=new WeakMap,Ute=new WeakMap;function a7(t){return Ute.get(t)||1}function XOe(t,e){return{constTimeNegate:i7,hasPrecomputes(r){return a7(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>rF;)n&mS&&(i=i.add(s)),s=s.double(),n>>=mS;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=s7(n,e),o=[];let a=r,l=a;for(let c=0;c<i;c++){l=a,o.push(l);for(let u=1;u<s;u++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(r,n,i){let s=t.ZERO,o=t.BASE;const a=s7(r,e);for(let l=0;l<a.windows;l++){const{nextN:c,offset:u,isZero:f,isNeg:h,isNegF:p,offsetF:g}=nF(i,l,a);i=c,f?o=o.add(i7(p,n[g])):s=s.add(i7(h,n[u]))}return{p:s,f:o}},wNAFUnsafe(r,n,i,s=t.ZERO){const o=s7(r,e);for(let a=0;a<o.windows&&i!==rF;a++){const{nextN:l,offset:c,isZero:u,isNeg:f}=nF(i,a,o);if(i=l,!u){const h=n[c];s=s.add(f?h.negate():h)}}return s},getPrecomputes(r,n,i){let s=o7.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&o7.set(n,i(s))),s},wNAFCached(r,n,i){const s=a7(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=a7(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){Bte(n,e),Ute.set(r,n),o7.delete(r)}}}function eje(t,e,r,n){JOe(r,t),QOe(n,e);const i=r.length,s=n.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=nOe(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=S8(l),u=new Array(Number(c)+1).fill(o),f=Math.floor((e.BITS-1)/l)*l;let h=o;for(let p=f;p>=0;p-=l){u.fill(o);for(let m=0;m<s;m++){const w=n[m],y=Number(w>>BigInt(p)&c);u[y]=u[y].add(r[m])}let g=o;for(let m=u.length-1,w=o;m>0;m--)w=w.add(u[m]),g=g.add(w);if(h=h.add(g),p!==0)for(let m=0;m<l;m++)h=h.double()}return h}function Wte(t){return KOe(t.Fp),$8(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Dte(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function iF(t){t.lowS!==void 0&&C2("lowS",t.lowS),t.prehash!==void 0&&C2("prehash",t.prehash)}function tje(t){const e=Wte(t);$8(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class rje extends Error{constructor(e=""){super(e)}}const eu={Err:rje,_tlv:{encode:(t,e)=>{const{Err:r}=eu;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,i=Xb(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?Xb(i.length/2|128):"";return Xb(t)+s+i+e},decode(t,e){const{Err:r}=eu;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const i=e[n++],s=!!(i&128);let o=0;if(!s)o=i;else{const l=i&127;if(!l)throw new r("tlv.decode(long): indefinite length not supported");if(l>4)throw new r("tlv.decode(long): byte length is too big");const c=e.subarray(n,n+l);if(c.length!==l)throw new r("tlv.decode: length bytes not complete");if(c[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const u of c)o=o<<8|u;if(n+=l,o<128)throw new r("tlv.decode(long): not minimal encoding")}const a=e.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+o)}}},_int:{encode(t){const{Err:e}=eu;if(t<iu)throw new e("integer: negative integers are not allowed");let r=Xb(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=eu;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return wh(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=eu,i=Yo("signature",t),{v:s,l:o}=n.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=n.decode(2,s),{v:c,l:u}=n.decode(2,l);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(c)}},hexFromSig(t){const{_tlv:e,_int:r}=eu,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s)),s=n+i;return e.encode(48,s)}};function l7(t,e){return A2(Ow(t,e))}const iu=BigInt(0),Zn=BigInt(1);BigInt(2);const c7=BigInt(3),nje=BigInt(4);function ije(t){const e=tje(t),{Fp:r}=e,n=iN(e.n,e.nBitLength),i=e.toBytes||((v,b,$)=>{const P=b.toAffine();return K5(Uint8Array.from([4]),r.toBytes(P.x),r.toBytes(P.y))}),s=e.fromBytes||(v=>{const b=v.subarray(1),$=r.fromBytes(b.subarray(0,r.BYTES)),P=r.fromBytes(b.subarray(r.BYTES,2*r.BYTES));return{x:$,y:P}});function o(v){const{a:b,b:$}=e,P=r.sqr(v),O=r.mul(P,v);return r.add(r.add(O,r.mul(v,b)),$)}function a(v,b){const $=r.sqr(b),P=o(v);return r.eql($,P)}if(!a(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const l=r.mul(r.pow(e.a,c7),nje),c=r.mul(r.sqr(e.b),BigInt(27));if(r.is0(r.add(l,c)))throw new Error("bad curve params: a or b");function u(v){return tN(v,Zn,e.n)}function f(v){const{allowedPrivateKeyLengths:b,nByteLength:$,wrapPrivateKey:P,n:O}=e;if(b&&typeof v!="bigint"){if(Rw(v)&&(v=A2(v)),typeof v!="string"||!b.includes(v.length))throw new Error("invalid private key");v=v.padStart($*2,"0")}let D;try{D=typeof v=="bigint"?v:wh(Yo("private key",v,$))}catch{throw new Error("invalid private key, expected hex or "+$+" bytes, got "+typeof v)}return P&&(D=Ns(D,O)),U0("private key",D,Zn,O),D}function h(v){if(!(v instanceof m))throw new Error("ProjectivePoint expected")}const p=KL((v,b)=>{const{px:$,py:P,pz:O}=v;if(r.eql(O,r.ONE))return{x:$,y:P};const D=v.is0();b==null&&(b=D?r.ONE:r.inv(O));const B=r.mul($,b),H=r.mul(P,b),q=r.mul(O,b);if(D)return{x:r.ZERO,y:r.ZERO};if(!r.eql(q,r.ONE))throw new Error("invZ was invalid");return{x:B,y:H}}),g=KL(v=>{if(v.is0()){if(e.allowInfinityPoint&&!r.is0(v.py))return;throw new Error("bad point: ZERO")}const{x:b,y:$}=v.toAffine();if(!r.isValid(b)||!r.isValid($))throw new Error("bad point: x or y not FE");if(!a(b,$))throw new Error("bad point: equation left != right");if(!v.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class m{constructor(b,$,P){if(b==null||!r.isValid(b))throw new Error("x required");if($==null||!r.isValid($)||r.is0($))throw new Error("y required");if(P==null||!r.isValid(P))throw new Error("z required");this.px=b,this.py=$,this.pz=P,Object.freeze(this)}static fromAffine(b){const{x:$,y:P}=b||{};if(!b||!r.isValid($)||!r.isValid(P))throw new Error("invalid affine point");if(b instanceof m)throw new Error("projective point not allowed");const O=D=>r.eql(D,r.ZERO);return O($)&&O(P)?m.ZERO:new m($,P,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(b){const $=Mte(r,b.map(P=>P.pz));return b.map((P,O)=>P.toAffine($[O])).map(m.fromAffine)}static fromHex(b){const $=m.fromAffine(s(Yo("pointHex",b)));return $.assertValidity(),$}static fromPrivateKey(b){return m.BASE.multiply(f(b))}static msm(b,$){return eje(m,n,b,$)}_setWindowSize(b){E.setWindowSize(this,b)}assertValidity(){g(this)}hasEvenY(){const{y:b}=this.toAffine();if(r.isOdd)return!r.isOdd(b);throw new Error("Field doesn't support isOdd")}equals(b){h(b);const{px:$,py:P,pz:O}=this,{px:D,py:B,pz:H}=b,q=r.eql(r.mul($,H),r.mul(D,O)),Y=r.eql(r.mul(P,H),r.mul(B,O));return q&&Y}negate(){return new m(this.px,r.neg(this.py),this.pz)}double(){const{a:b,b:$}=e,P=r.mul($,c7),{px:O,py:D,pz:B}=this;let H=r.ZERO,q=r.ZERO,Y=r.ZERO,R=r.mul(O,O),_=r.mul(D,D),x=r.mul(B,B),A=r.mul(O,D);return A=r.add(A,A),Y=r.mul(O,B),Y=r.add(Y,Y),H=r.mul(b,Y),q=r.mul(P,x),q=r.add(H,q),H=r.sub(_,q),q=r.add(_,q),q=r.mul(H,q),H=r.mul(A,H),Y=r.mul(P,Y),x=r.mul(b,x),A=r.sub(R,x),A=r.mul(b,A),A=r.add(A,Y),Y=r.add(R,R),R=r.add(Y,R),R=r.add(R,x),R=r.mul(R,A),q=r.add(q,R),x=r.mul(D,B),x=r.add(x,x),R=r.mul(x,A),H=r.sub(H,R),Y=r.mul(x,_),Y=r.add(Y,Y),Y=r.add(Y,Y),new m(H,q,Y)}add(b){h(b);const{px:$,py:P,pz:O}=this,{px:D,py:B,pz:H}=b;let q=r.ZERO,Y=r.ZERO,R=r.ZERO;const _=e.a,x=r.mul(e.b,c7);let A=r.mul($,D),T=r.mul(P,B),I=r.mul(O,H),N=r.add($,P),M=r.add(D,B);N=r.mul(N,M),M=r.add(A,T),N=r.sub(N,M),M=r.add($,O);let U=r.add(D,H);return M=r.mul(M,U),U=r.add(A,I),M=r.sub(M,U),U=r.add(P,O),q=r.add(B,H),U=r.mul(U,q),q=r.add(T,I),U=r.sub(U,q),R=r.mul(_,M),q=r.mul(x,I),R=r.add(q,R),q=r.sub(T,R),R=r.add(T,R),Y=r.mul(q,R),T=r.add(A,A),T=r.add(T,A),I=r.mul(_,I),M=r.mul(x,M),T=r.add(T,I),I=r.sub(A,I),I=r.mul(_,I),M=r.add(M,I),A=r.mul(T,M),Y=r.add(Y,A),A=r.mul(U,M),q=r.mul(N,q),q=r.sub(q,A),A=r.mul(N,T),R=r.mul(U,R),R=r.add(R,A),new m(q,Y,R)}subtract(b){return this.add(b.negate())}is0(){return this.equals(m.ZERO)}wNAF(b){return E.wNAFCached(this,b,m.normalizeZ)}multiplyUnsafe(b){const{endo:$,n:P}=e;U0("scalar",b,iu,P);const O=m.ZERO;if(b===iu)return O;if(this.is0()||b===Zn)return this;if(!$||E.hasPrecomputes(this))return E.wNAFCachedUnsafe(this,b,m.normalizeZ);let{k1neg:D,k1:B,k2neg:H,k2:q}=$.splitScalar(b),Y=O,R=O,_=this;for(;B>iu||q>iu;)B&Zn&&(Y=Y.add(_)),q&Zn&&(R=R.add(_)),_=_.double(),B>>=Zn,q>>=Zn;return D&&(Y=Y.negate()),H&&(R=R.negate()),R=new m(r.mul(R.px,$.beta),R.py,R.pz),Y.add(R)}multiply(b){const{endo:$,n:P}=e;U0("scalar",b,Zn,P);let O,D;if($){const{k1neg:B,k1:H,k2neg:q,k2:Y}=$.splitScalar(b);let{p:R,f:_}=this.wNAF(H),{p:x,f:A}=this.wNAF(Y);R=E.constTimeNegate(B,R),x=E.constTimeNegate(q,x),x=new m(r.mul(x.px,$.beta),x.py,x.pz),O=R.add(x),D=_.add(A)}else{const{p:B,f:H}=this.wNAF(b);O=B,D=H}return m.normalizeZ([O,D])[0]}multiplyAndAddUnsafe(b,$,P){const O=m.BASE,D=(H,q)=>q===iu||q===Zn||!H.equals(O)?H.multiplyUnsafe(q):H.multiply(q),B=D(this,$).add(D(b,P));return B.is0()?void 0:B}toAffine(b){return p(this,b)}isTorsionFree(){const{h:b,isTorsionFree:$}=e;if(b===Zn)return!0;if($)return $(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:b,clearCofactor:$}=e;return b===Zn?this:$?$(m,this):this.multiplyUnsafe(e.h)}toRawBytes(b=!0){return C2("isCompressed",b),this.assertValidity(),i(m,this,b)}toHex(b=!0){return C2("isCompressed",b),A2(this.toRawBytes(b))}}m.BASE=new m(e.Gx,e.Gy,r.ONE),m.ZERO=new m(r.ZERO,r.ONE,r.ZERO);const{endo:w,nBitLength:y}=e,E=XOe(m,w?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:m,normPrivateKeyToScalar:f,weierstrassEquation:o,isWithinCurveOrder:u}}function sje(t){const e=Wte(t);return $8(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function oje(t){const e=sje(t),{Fp:r,n,nByteLength:i,nBitLength:s}=e,o=r.BYTES+1,a=2*r.BYTES+1;function l(x){return Ns(x,n)}function c(x){return gS(x,n)}const{ProjectivePoint:u,normPrivateKeyToScalar:f,weierstrassEquation:h,isWithinCurveOrder:p}=ije({...e,toBytes(x,A,T){const I=A.toAffine(),N=r.toBytes(I.x),M=K5;return C2("isCompressed",T),T?M(Uint8Array.from([A.hasEvenY()?2:3]),N):M(Uint8Array.from([4]),N,r.toBytes(I.y))},fromBytes(x){const A=x.length,T=x[0],I=x.subarray(1);if(A===o&&(T===2||T===3)){const N=wh(I);if(!tN(N,Zn,r.ORDER))throw new Error("Point is not on curve");const M=h(N);let U;try{U=r.sqrt(M)}catch(Q){const k=Q instanceof Error?": "+Q.message:"";throw new Error("Point is not on curve"+k)}const S=(U&Zn)===Zn;return(T&1)===1!==S&&(U=r.neg(U)),{x:N,y:U}}else if(A===a&&T===4){const N=r.fromBytes(I.subarray(0,r.BYTES)),M=r.fromBytes(I.subarray(r.BYTES,2*r.BYTES));return{x:N,y:M}}else{const N=o,M=a;throw new Error("invalid Point, expected length of "+N+", or uncompressed "+M+", got "+A)}}});function g(x){const A=n>>Zn;return x>A}function m(x){return g(x)?l(-x):x}const w=(x,A,T)=>wh(x.slice(A,T));class y{constructor(A,T,I){U0("r",A,Zn,n),U0("s",T,Zn,n),this.r=A,this.s=T,I!=null&&(this.recovery=I),Object.freeze(this)}static fromCompact(A){const T=i;return A=Yo("compactSignature",A,T*2),new y(w(A,0,T),w(A,T,2*T))}static fromDER(A){const{r:T,s:I}=eu.toSig(Yo("DER",A));return new y(T,I)}assertValidity(){}addRecoveryBit(A){return new y(this.r,this.s,A)}recoverPublicKey(A){const{r:T,s:I,recovery:N}=this,M=O(Yo("msgHash",A));if(N==null||![0,1,2,3].includes(N))throw new Error("recovery id invalid");const U=N===2||N===3?T+e.n:T;if(U>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const S=N&1?"03":"02",F=u.fromHex(S+l7(U,r.BYTES)),Q=c(U),k=l(-M*Q),W=l(I*Q),V=u.BASE.multiplyAndAddUnsafe(F,k,W);if(!V)throw new Error("point at infinify");return V.assertValidity(),V}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return G5(this.toDERHex())}toDERHex(){return eu.hexFromSig(this)}toCompactRawBytes(){return G5(this.toCompactHex())}toCompactHex(){const A=i;return l7(this.r,A)+l7(this.s,A)}}const E={isValidPrivateKey(x){try{return f(x),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const x=Fte(e.n);return ZOe(e.randomBytes(x),e.n)},precompute(x=8,A=u.BASE){return A._setWindowSize(x),A.multiply(BigInt(3)),A}};function v(x,A=!0){return u.fromPrivateKey(x).toRawBytes(A)}function b(x){if(typeof x=="bigint")return!1;if(x instanceof u)return!0;const T=Yo("key",x).length,I=r.BYTES,N=I+1,M=2*I+1;if(!(e.allowedPrivateKeyLengths||i===N))return T===N||T===M}function $(x,A,T=!0){if(b(x)===!0)throw new Error("first arg must be private key");if(b(A)===!1)throw new Error("second arg must be public key");return u.fromHex(A).multiply(f(x)).toRawBytes(T)}const P=e.bits2int||function(x){if(x.length>8192)throw new Error("input is too large");const A=wh(x),T=x.length*8-s;return T>0?A>>BigInt(T):A},O=e.bits2int_modN||function(x){return l(P(x))},D=S8(s);function B(x){return U0("num < 2^"+s,x,iu,D),Ow(x,i)}function H(x,A,T=q){if(["recovered","canonical"].some(te=>te in T))throw new Error("sign() legacy options not supported");const{hash:I,randomBytes:N}=e;let{lowS:M,prehash:U,extraEntropy:S}=T;M==null&&(M=!0),x=Yo("msgHash",x),iF(T),U&&(x=Yo("prehashed msgHash",I(x)));const F=O(x),Q=f(A),k=[B(Q),B(F)];if(S!=null&&S!==!1){const te=S===!0?N(r.BYTES):S;k.push(Yo("extraEntropy",te))}const W=K5(...k),V=F;function ee(te){const ce=P(te);if(!p(ce))return;const K=c(ce),G=u.BASE.multiply(ce).toAffine(),pe=l(G.x);if(pe===iu)return;const de=l(K*l(V+pe*Q));if(de===iu)return;let ye=(G.x===pe?0:2)|Number(G.y&Zn),Ne=de;return M&&g(de)&&(Ne=m(de),ye^=1),new y(pe,Ne,ye)}return{seed:W,k2sig:ee}}const q={lowS:e.lowS,prehash:!1},Y={lowS:e.lowS,prehash:!1};function R(x,A,T=q){const{seed:I,k2sig:N}=H(x,A,T),M=e;return iOe(M.hash.outputLen,M.nByteLength,M.hmac)(I,N)}u.BASE._setWindowSize(8);function _(x,A,T,I=Y){var ye;const N=x;A=Yo("msgHash",A),T=Yo("publicKey",T);const{lowS:M,prehash:U,format:S}=I;if(iF(I),"strict"in I)throw new Error("options.strict was renamed to lowS");if(S!==void 0&&S!=="compact"&&S!=="der")throw new Error("format must be compact or der");const F=typeof N=="string"||Rw(N),Q=!F&&!S&&typeof N=="object"&&N!==null&&typeof N.r=="bigint"&&typeof N.s=="bigint";if(!F&&!Q)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let k,W;try{if(Q&&(k=new y(N.r,N.s)),F){try{S!=="compact"&&(k=y.fromDER(N))}catch(Ne){if(!(Ne instanceof eu.Err))throw Ne}!k&&S!=="der"&&(k=y.fromCompact(N))}W=u.fromHex(T)}catch{return!1}if(!k||M&&k.hasHighS())return!1;U&&(A=e.hash(A));const{r:V,s:ee}=k,te=O(A),ce=c(ee),K=l(te*ce),G=l(V*ce),pe=(ye=u.BASE.multiplyAndAddUnsafe(W,K,G))==null?void 0:ye.toAffine();return pe?l(pe.x)===V:!1}return{CURVE:e,getPublicKey:v,getSharedSecret:$,sign:R,verify:_,ProjectivePoint:u,Signature:y,utils:E}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function aje(t){return{hash:t,hmac:(e,...r)=>Yk(t,e,cY(...r)),randomBytes:dY}}function lje(t,e){const r=n=>oje({...t,...aje(n)});return{...r(e),create:r}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const zte=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),sF=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),cje=BigInt(0),uje=BigInt(1),yS=BigInt(2),oF=(t,e)=>(t+e/yS)/e;function dje(t){const e=zte,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,u=c*c*t%e,f=Uo(u,r,e)*u%e,h=Uo(f,r,e)*u%e,p=Uo(h,yS,e)*c%e,g=Uo(p,i,e)*p%e,m=Uo(g,s,e)*g%e,w=Uo(m,a,e)*m%e,y=Uo(w,l,e)*w%e,E=Uo(y,a,e)*m%e,v=Uo(E,r,e)*u%e,b=Uo(v,o,e)*g%e,$=Uo(b,n,e)*c%e,P=Uo($,yS,e);if(!wS.eql(wS.sqr(P),t))throw new Error("Cannot find square root");return P}const wS=iN(zte,void 0,void 0,{sqrt:dje}),fje=lje({a:cje,b:BigInt(7),Fp:wS,n:sF,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=sF,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-uje*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=oF(s*t,e),l=oF(-n*t,e);let c=Ns(t-a*r-l*i,e),u=Ns(-a*n-l*s,e);const f=c>o,h=u>o;if(f&&(c=e-c),h&&(u=e-u),c>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:c,k2neg:h,k2:u}}}},Ak);function hje(t){if(t.length!==130&&t.length!==132)throw new gje({signature:t});const e=BigInt(Kc(t,0,32)),r=BigInt(Kc(t,32,64)),n=(()=>{const i=+`0x${t.slice(130)}`;if(!Number.isNaN(i))try{return pje(i)}catch{throw new mje({value:i})}})();return typeof n>"u"?{r:e,s:r}:{r:e,s:r,yParity:n}}function pje(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new yje({value:t})}class gje extends Zr{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${sf(nN(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class mje extends Zr{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class yje extends Zr{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function wje(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Hte(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(r=>typeof r=="string"):e.every(r=>Number.isSafeInteger(r)):!1}function Z5(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function sN(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function bS(t){if(!Array.isArray(t))throw new Error("array expected")}function J5(t,e){if(!Hte(!0,e))throw new Error(`${t}: array of strings expected`)}function bje(t,e){if(!Hte(!1,e))throw new Error(`${t}: array of numbers expected`)}function vje(...t){const e=s=>s,r=(s,o)=>a=>s(o(a)),n=t.map(s=>s.encode).reduceRight(r,e),i=t.map(s=>s.decode).reduce(r,e);return{encode:n,decode:i}}function xje(t){const e=typeof t=="string"?t.split(""):t,r=e.length;J5("alphabet",e);const n=new Map(e.map((i,s)=>[i,s]));return{encode:i=>(bS(i),i.map(s=>{if(!Number.isSafeInteger(s)||s<0||s>=r)throw new Error(`alphabet.encode: digit index outside alphabet "${s}". Allowed: ${t}`);return e[s]})),decode:i=>(bS(i),i.map(s=>{Z5("alphabet.decode",s);const o=n.get(s);if(o===void 0)throw new Error(`Unknown letter: "${s}". Allowed: ${t}`);return o}))}}function Eje(t=""){return Z5("join",t),{encode:e=>(J5("join.decode",e),e.join(t)),decode:e=>(Z5("join.decode",e),e.split(t))}}function _je(t,e="="){return sN(t),Z5("padding",e),{encode(r){for(J5("padding.encode",r);r.length*t%8;)r.push(e);return r},decode(r){J5("padding.decode",r);let n=r.length;if(n*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;n>0&&r[n-1]===e;n--)if((n-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return r.slice(0,n)}}}const qte=(t,e)=>e===0?t:qte(e,t%e),Q5=(t,e)=>t+(e-qte(t,e)),u7=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function aF(t,e,r,n){if(bS(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(Q5(e,r)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${r} carryBits=${Q5(e,r)}`);let i=0,s=0;const o=u7[e],a=u7[r]-1,l=[];for(const c of t){if(sN(c),c>=o)throw new Error(`convertRadix2: invalid data word=${c} from=${e}`);if(i=i<<e|c,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=r;s-=r)l.push((i>>s-r&a)>>>0);const u=u7[s];if(u===void 0)throw new Error("invalid carry");i&=u-1}if(i=i<<r-s&a,!n&&s>=e)throw new Error("Excess padding");if(!n&&i>0)throw new Error(`Non-zero padding: ${i}`);return n&&s>0&&l.push(i>>>0),l}function Cje(t,e=!1){if(sN(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(Q5(8,t)>32||Q5(t,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!wje(r))throw new Error("radix2.encode input should be Uint8Array");return aF(Array.from(r),8,t,!e)},decode:r=>(bje("radix2.decode",r),Uint8Array.from(aF(r,t,8,e)))}}const Aje=vje(Cje(5),xje("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),_je(5),Eje(""));function Sje(t){return BOe($je(t))}function $je(t){const{payload:e,signature:r}=t,{r:n,s:i,yParity:s}=r,a=new fje.Signature(BigInt(n),BigInt(i)).addRecoveryBit(s).recoverPublicKey(nN(e).substring(2));return NOe(a)}function Ije(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let c=0;c<e.length;c++)e[c]=255;for(let c=0;c<t.length;c++){const u=t.charAt(c),f=u.charCodeAt(0);if(e[f]!==255)throw new TypeError(u+" is ambiguous");e[f]=c}const r=t.length,n=t.charAt(0),i=Math.log(r)/Math.log(256),s=Math.log(256)/Math.log(r);function o(c){if(c instanceof Uint8Array||(ArrayBuffer.isView(c)?c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength):Array.isArray(c)&&(c=Uint8Array.from(c))),!(c instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(c.length===0)return"";let u=0,f=0,h=0;const p=c.length;for(;h!==p&&c[h]===0;)h++,u++;const g=(p-h)*s+1>>>0,m=new Uint8Array(g);for(;h!==p;){let E=c[h],v=0;for(let b=g-1;(E!==0||v<f)&&b!==-1;b--,v++)E+=256*m[b]>>>0,m[b]=E%r>>>0,E=E/r>>>0;if(E!==0)throw new Error("Non-zero carry");f=v,h++}let w=g-f;for(;w!==g&&m[w]===0;)w++;let y=n.repeat(u);for(;w<g;++w)y+=t.charAt(m[w]);return y}function a(c){if(typeof c!="string")throw new TypeError("Expected String");if(c.length===0)return new Uint8Array;let u=0,f=0,h=0;for(;c[u]===n;)f++,u++;const p=(c.length-u)*i+1>>>0,g=new Uint8Array(p);for(;u<c.length;){const E=c.charCodeAt(u);if(E>255)return;let v=e[E];if(v===255)return;let b=0;for(let $=p-1;(v!==0||b<h)&&$!==-1;$--,b++)v+=r*g[$]>>>0,g[$]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");h=b,u++}let m=p-h;for(;m!==p&&g[m]===0;)m++;const w=new Uint8Array(f+(p-m));let y=f;for(;m!==p;)w[y++]=g[m++];return w}function l(c){const u=a(c);if(u)return u;throw new Error("Non-base"+r+" character")}return{encode:o,decodeUnsafe:a,decode:l}}var kje="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const jw=Ije(kje);function Tje(t){const e=t.length;let r=0,n=0;for(;n<e;){let i=t.charCodeAt(n++);if(i&4294967168)if(!(i&4294965248))r+=2;else{if(i>=55296&&i<=56319&&n<e){const s=t.charCodeAt(n);(s&64512)===56320&&(++n,i=((i&1023)<<10)+(s&1023)+65536)}i&4294901760?r+=4:r+=3}else{r++;continue}}return r}function Nje(t,e,r){const n=t.length;let i=r,s=0;for(;s<n;){let o=t.charCodeAt(s++);if(o&4294967168)if(!(o&4294965248))e[i++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&s<n){const a=t.charCodeAt(s);(a&64512)===56320&&(++s,o=((o&1023)<<10)+(a&1023)+65536)}o&4294901760?(e[i++]=o>>18&7|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128):(e[i++]=o>>12&15|224,e[i++]=o>>6&63|128)}else{e[i++]=o;continue}e[i++]=o&63|128}}const Pje=new TextEncoder,Rje=50;function Oje(t,e,r){Pje.encodeInto(t,e.subarray(r))}function jje(t,e,r){t.length>Rje?Oje(t,e,r):Nje(t,e,r)}const Mje=4096;function Vte(t,e,r){let n=e;const i=n+r,s=[];let o="";for(;n<i;){const a=t[n++];if(!(a&128))s.push(a);else if((a&224)===192){const l=t[n++]&63;s.push((a&31)<<6|l)}else if((a&240)===224){const l=t[n++]&63,c=t[n++]&63;s.push((a&31)<<12|l<<6|c)}else if((a&248)===240){const l=t[n++]&63,c=t[n++]&63,u=t[n++]&63;let f=(a&7)<<18|l<<12|c<<6|u;f>65535&&(f-=65536,s.push(f>>>10&1023|55296),f=56320|f&1023),s.push(f)}else s.push(a);s.length>=Mje&&(o+=String.fromCharCode(...s),s.length=0)}return s.length>0&&(o+=String.fromCharCode(...s)),o}const Dje=new TextDecoder,Lje=200;function Fje(t,e,r){const n=t.subarray(e,e+r);return Dje.decode(n)}function Bje(t,e,r){return r>Lje?Fje(t,e,r):Vte(t,e,r)}class tv{constructor(e,r){this.type=e,this.data=r}}class po extends Error{constructor(e){super(e);const r=Object.create(po.prototype);Object.setPrototypeOf(this,r),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:po.name})}}const Zg=4294967295;function Uje(t,e,r){const n=r/4294967296,i=r;t.setUint32(e,n),t.setUint32(e+4,i)}function Gte(t,e,r){const n=Math.floor(r/4294967296),i=r;t.setUint32(e,n),t.setUint32(e+4,i)}function Kte(t,e){const r=t.getInt32(e),n=t.getUint32(e+4);return r*4294967296+n}function Wje(t,e){const r=t.getUint32(e),n=t.getUint32(e+4);return r*4294967296+n}const zje=-1,Hje=4294967296-1,qje=17179869184-1;function Vje({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=qje)if(e===0&&t<=Hje){const r=new Uint8Array(4);return new DataView(r.buffer).setUint32(0,t),r}else{const r=t/4294967296,n=t&4294967295,i=new Uint8Array(8),s=new DataView(i.buffer);return s.setUint32(0,e<<2|r&3),s.setUint32(4,n),i}else{const r=new Uint8Array(12),n=new DataView(r.buffer);return n.setUint32(0,e),Gte(n,4,t),r}}function Gje(t){const e=t.getTime(),r=Math.floor(e/1e3),n=(e-r*1e3)*1e6,i=Math.floor(n/1e9);return{sec:r+i,nsec:n-i*1e9}}function Kje(t){if(t instanceof Date){const e=Gje(t);return Vje(e)}else return null}function Yje(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const r=e.getUint32(0),n=e.getUint32(4),i=(r&3)*4294967296+n,s=r>>>2;return{sec:i,nsec:s}}case 12:{const r=Kte(e,4),n=e.getUint32(0);return{sec:r,nsec:n}}default:throw new po(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function Zje(t){const e=Yje(t);return new Date(e.sec*1e3+e.nsec/1e6)}const Jje={type:zje,encode:Kje,decode:Zje};class X5{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(Jje)}register({type:e,encode:r,decode:n}){if(e>=0)this.encoders[e]=r,this.decoders[e]=n;else{const i=-1-e;this.builtInEncoders[i]=r,this.builtInDecoders[i]=n}}tryToEncode(e,r){for(let n=0;n<this.builtInEncoders.length;n++){const i=this.builtInEncoders[n];if(i!=null){const s=i(e,r);if(s!=null){const o=-1-n;return new tv(o,s)}}}for(let n=0;n<this.encoders.length;n++){const i=this.encoders[n];if(i!=null){const s=i(e,r);if(s!=null){const o=n;return new tv(o,s)}}}return e instanceof tv?e:null}decode(e,r,n){const i=r<0?this.builtInDecoders[-1-r]:this.decoders[r];return i?i(e,r,n):new tv(r,e)}}X5.defaultCodec=new X5;function Qje(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function vS(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Qje(t)?new Uint8Array(t):Uint8Array.from(t)}const Xje=100,eMe=2048;let tMe=class Yte{constructor(e){this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??X5.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.maxDepth=(e==null?void 0:e.maxDepth)??Xje,this.initialBufferSize=(e==null?void 0:e.initialBufferSize)??eMe,this.sortKeys=(e==null?void 0:e.sortKeys)??!1,this.forceFloat32=(e==null?void 0:e.forceFloat32)??!1,this.ignoreUndefined=(e==null?void 0:e.ignoreUndefined)??!1,this.forceIntegerToFloat=(e==null?void 0:e.forceIntegerToFloat)??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new Yte({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,r){if(r>this.maxDepth)throw new Error(`Too deep objects in depth ${r}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,r)}ensureBufferSizeToWrite(e){const r=this.pos+e;this.view.byteLength<r&&this.resizeBuffer(r*2)}resizeBuffer(e){const r=new ArrayBuffer(e),n=new Uint8Array(r),i=new DataView(r);n.set(this.bytes),this.view=i,this.bytes=n}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const n=Tje(e);this.ensureBufferSizeToWrite(5+n),this.writeStringHeader(n),jje(e,this.bytes,this.pos),this.pos+=n}encodeObject(e,r){const n=this.extensionCodec.tryToEncode(e,this.context);if(n!=null)this.encodeExtension(n);else if(Array.isArray(e))this.encodeArray(e,r);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,r);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const r=e.byteLength;if(r<256)this.writeU8(196),this.writeU8(r);else if(r<65536)this.writeU8(197),this.writeU16(r);else if(r<4294967296)this.writeU8(198),this.writeU32(r);else throw new Error(`Too large binary: ${r}`);const n=vS(e);this.writeU8a(n)}encodeArray(e,r){const n=e.length;if(n<16)this.writeU8(144+n);else if(n<65536)this.writeU8(220),this.writeU16(n);else if(n<4294967296)this.writeU8(221),this.writeU32(n);else throw new Error(`Too large array: ${n}`);for(const i of e)this.doEncode(i,r+1)}countWithoutUndefined(e,r){let n=0;for(const i of r)e[i]!==void 0&&n++;return n}encodeMap(e,r){const n=Object.keys(e);this.sortKeys&&n.sort();const i=this.ignoreUndefined?this.countWithoutUndefined(e,n):n.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error(`Too large map object: ${i}`);for(const s of n){const o=e[s];this.ignoreUndefined&&o===void 0||(this.encodeString(s),this.doEncode(o,r+1))}}encodeExtension(e){if(typeof e.data=="function"){const n=e.data(this.pos+6),i=n.length;if(i>=4294967296)throw new Error(`Too large extension object: ${i}`);this.writeU8(201),this.writeU32(i),this.writeI8(e.type),this.writeU8a(n);return}const r=e.data.length;if(r===1)this.writeU8(212);else if(r===2)this.writeU8(213);else if(r===4)this.writeU8(214);else if(r===8)this.writeU8(215);else if(r===16)this.writeU8(216);else if(r<256)this.writeU8(199),this.writeU8(r);else if(r<65536)this.writeU8(200),this.writeU16(r);else if(r<4294967296)this.writeU8(201),this.writeU32(r);else throw new Error(`Too large extension object: ${r}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const r=e.length;this.ensureBufferSizeToWrite(r),this.bytes.set(e,this.pos),this.pos+=r}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),Uje(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),Gte(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function rMe(t,e){return new tMe(e).encodeSharedRef(t)}function d7(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const nMe=16,iMe=16;class sMe{constructor(e=nMe,r=iMe){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=r,this.caches=[];for(let n=0;n<this.maxKeyLength;n++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,r,n){const i=this.caches[n-1];e:for(const s of i){const o=s.bytes;for(let a=0;a<n;a++)if(o[a]!==e[r+a])continue e;return s.str}return null}store(e,r){const n=this.caches[e.length-1],i={bytes:e,str:r};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=i:n.push(i)}decode(e,r,n){const i=this.find(e,r,n);if(i!=null)return this.hit++,i;this.miss++;const s=Vte(e,r,n),o=Uint8Array.prototype.slice.call(e,r,r+n);return this.store(o,s),s}}const xS="array",Km="map_key",Zte="map_value",oMe=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new po("The type of key must be string or number but "+typeof t)};class aMe{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const r=this.getUninitializedStateFromPool();r.type=xS,r.position=0,r.size=e,r.array=new Array(e)}pushMapState(e){const r=this.getUninitializedStateFromPool();r.type=Km,r.readCount=0,r.size=e,r.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===xS){const n=e;n.size=0,n.array=void 0,n.position=0,n.type=void 0}if(e.type===Km||e.type===Zte){const n=e;n.size=0,n.map=void 0,n.readCount=0,n.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const Jg=-1,oN=new DataView(new ArrayBuffer(0)),lMe=new Uint8Array(oN.buffer);try{oN.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const lF=new RangeError("Insufficient data"),cMe=new sMe;let uMe=class Jte{constructor(e){this.totalPos=0,this.pos=0,this.view=oN,this.bytes=lMe,this.headByte=Jg,this.stack=new aMe,this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??X5.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.rawStrings=(e==null?void 0:e.rawStrings)??!1,this.maxStrLength=(e==null?void 0:e.maxStrLength)??Zg,this.maxBinLength=(e==null?void 0:e.maxBinLength)??Zg,this.maxArrayLength=(e==null?void 0:e.maxArrayLength)??Zg,this.maxMapLength=(e==null?void 0:e.maxMapLength)??Zg,this.maxExtLength=(e==null?void 0:e.maxExtLength)??Zg,this.keyDecoder=(e==null?void 0:e.keyDecoder)!==void 0?e.keyDecoder:cMe,this.mapKeyConverter=(e==null?void 0:e.mapKeyConverter)??oMe}clone(){return new Jte({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=Jg,this.stack.reset()}setBuffer(e){const r=vS(e);this.bytes=r,this.view=new DataView(r.buffer,r.byteOffset,r.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===Jg&&!this.hasRemaining(1))this.setBuffer(e);else{const r=this.bytes.subarray(this.pos),n=vS(e),i=new Uint8Array(r.length+n.length);i.set(r),i.set(n,r.length),this.setBuffer(i)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:r,pos:n}=this;return new RangeError(`Extra ${r.byteLength-n} of ${r.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const r=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return r}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let r=!1,n;for await(const a of e){if(r)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{n=this.doDecodeSync(),r=!0}catch(l){if(!(l instanceof RangeError))throw l}this.totalPos+=this.pos}if(r){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return n}const{headByte:i,pos:s,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${d7(i)} at ${o} (${s} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,r){if(this.entered){yield*this.clone().decodeMultiAsync(e,r);return}try{this.entered=!0;let n=r,i=-1;for await(const s of e){if(r&&i===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s),n&&(i=this.readArraySize(),n=!1,this.complete());try{for(;yield this.doDecodeSync(),--i!==0;);}catch(o){if(!(o instanceof RangeError))throw o}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let r;if(e>=224)r=e-256;else if(e<192)if(e<128)r=e;else if(e<144){const i=e-128;if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e<160){const i=e-144;if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else{const i=e-160;r=this.decodeString(i,0)}else if(e===192)r=null;else if(e===194)r=!1;else if(e===195)r=!0;else if(e===202)r=this.readF32();else if(e===203)r=this.readF64();else if(e===204)r=this.readU8();else if(e===205)r=this.readU16();else if(e===206)r=this.readU32();else if(e===207)this.useBigInt64?r=this.readU64AsBigInt():r=this.readU64();else if(e===208)r=this.readI8();else if(e===209)r=this.readI16();else if(e===210)r=this.readI32();else if(e===211)this.useBigInt64?r=this.readI64AsBigInt():r=this.readI64();else if(e===217){const i=this.lookU8();r=this.decodeString(i,1)}else if(e===218){const i=this.lookU16();r=this.decodeString(i,2)}else if(e===219){const i=this.lookU32();r=this.decodeString(i,4)}else if(e===220){const i=this.readU16();if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else if(e===221){const i=this.readU32();if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else if(e===222){const i=this.readU16();if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e===223){const i=this.readU32();if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e===196){const i=this.lookU8();r=this.decodeBinary(i,1)}else if(e===197){const i=this.lookU16();r=this.decodeBinary(i,2)}else if(e===198){const i=this.lookU32();r=this.decodeBinary(i,4)}else if(e===212)r=this.decodeExtension(1,0);else if(e===213)r=this.decodeExtension(2,0);else if(e===214)r=this.decodeExtension(4,0);else if(e===215)r=this.decodeExtension(8,0);else if(e===216)r=this.decodeExtension(16,0);else if(e===199){const i=this.lookU8();r=this.decodeExtension(i,1)}else if(e===200){const i=this.lookU16();r=this.decodeExtension(i,2)}else if(e===201){const i=this.lookU32();r=this.decodeExtension(i,4)}else throw new po(`Unrecognized type byte: ${d7(e)}`);this.complete();const n=this.stack;for(;n.length>0;){const i=n.top();if(i.type===xS)if(i.array[i.position]=r,i.position++,i.position===i.size)r=i.array,n.release(i);else continue e;else if(i.type===Km){if(r==="__proto__")throw new po("The key __proto__ is not allowed");i.key=this.mapKeyConverter(r),i.type=Zte;continue e}else if(i.map[i.key]=r,i.readCount++,i.readCount===i.size)r=i.map,n.release(i);else{i.key=null,i.type=Km;continue e}}return r}}readHeadByte(){return this.headByte===Jg&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=Jg}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new po(`Unrecognized array type byte: ${d7(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new po(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new po(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,r){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,r):this.decodeBinary(e,r)}decodeUtf8String(e,r){var s;if(e>this.maxStrLength)throw new po(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+r+e)throw lF;const n=this.pos+r;let i;return this.stateIsMapKey()&&((s=this.keyDecoder)!=null&&s.canBeCached(e))?i=this.keyDecoder.decode(this.bytes,n,e):i=Bje(this.bytes,n,e),this.pos+=r+e,i}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===Km:!1}decodeBinary(e,r){if(e>this.maxBinLength)throw new po(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+r))throw lF;const n=this.pos+r,i=this.bytes.subarray(n,n+e);return this.pos+=r+e,i}decodeExtension(e,r){if(e>this.maxExtLength)throw new po(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const n=this.view.getInt8(this.pos+r),i=this.decodeBinary(e,r+1);return this.extensionCodec.decode(i,n,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=Wje(this.view,this.pos);return this.pos+=8,e}readI64(){const e=Kte(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function dMe(t,e){return new uMe(e).decode(t)}const fMe=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r),hMe=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=t.replace(e,'$1"$2n"$3');return JSON.parse(r,(n,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function Hh(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return hMe(t)}catch{return t}}function qh(t){return typeof t=="string"?t:fMe(t)||""}function pMe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Qte(t,...e){if(!pMe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function cF(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function gMe(t,e){Qte(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const Dp=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const f7=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function mMe(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function Xte(t){return typeof t=="string"&&(t=mMe(t)),Qte(t),t}let yMe=class{clone(){return this._cloneInto()}};function wMe(t){const e=n=>t().update(Xte(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function ere(t=32){if(Dp&&typeof Dp.getRandomValues=="function")return Dp.getRandomValues(new Uint8Array(t));if(Dp&&typeof Dp.randomBytes=="function")return Dp.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function bMe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),l=n?4:0,c=n?0:4;t.setUint32(e+l,o,n),t.setUint32(e+c,a,n)}let vMe=class extends yMe{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=f7(this.buffer)}update(e){cF(this);const{view:r,buffer:n,blockLen:i}=this;e=Xte(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=f7(e);for(;i<=s-o;o+=i)this.process(l,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){cF(this),gMe(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;bMe(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=f7(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,u[f],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}};const rv=BigInt(2**32-1),ES=BigInt(32);function tre(t,e=!1){return e?{h:Number(t&rv),l:Number(t>>ES&rv)}:{h:Number(t>>ES&rv)|0,l:Number(t&rv)|0}}function xMe(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=tre(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const EMe=(t,e)=>BigInt(t>>>0)<<ES|BigInt(e>>>0),_Me=(t,e,r)=>t>>>r,CMe=(t,e,r)=>t<<32-r|e>>>r,AMe=(t,e,r)=>t>>>r|e<<32-r,SMe=(t,e,r)=>t<<32-r|e>>>r,$Me=(t,e,r)=>t<<64-r|e>>>r-32,IMe=(t,e,r)=>t>>>r-32|e<<64-r,kMe=(t,e)=>e,TMe=(t,e)=>t,NMe=(t,e,r)=>t<<r|e>>>32-r,PMe=(t,e,r)=>e<<r|t>>>32-r,RMe=(t,e,r)=>e<<r-32|t>>>64-r,OMe=(t,e,r)=>t<<r-32|e>>>64-r;function jMe(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const MMe=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),DMe=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,LMe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),FMe=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,BMe=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),UMe=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,Rt={fromBig:tre,split:xMe,toBig:EMe,shrSH:_Me,shrSL:CMe,rotrSH:AMe,rotrSL:SMe,rotrBH:$Me,rotrBL:IMe,rotr32H:kMe,rotr32L:TMe,rotlSH:NMe,rotlSL:PMe,rotlBH:RMe,rotlBL:OMe,add:jMe,add3L:MMe,add3H:DMe,add4L:LMe,add4H:FMe,add5H:UMe,add5L:BMe},[WMe,zMe]=Rt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),sd=new Uint32Array(80),od=new Uint32Array(80);let HMe=class extends vMe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:f,Fl:h,Gh:p,Gl:g,Hh:m,Hl:w}=this;return[e,r,n,i,s,o,a,l,c,u,f,h,p,g,m,w]}set(e,r,n,i,s,o,a,l,c,u,f,h,p,g,m,w){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=f|0,this.Fl=h|0,this.Gh=p|0,this.Gl=g|0,this.Hh=m|0,this.Hl=w|0}process(e,r){for(let v=0;v<16;v++,r+=4)sd[v]=e.getUint32(r),od[v]=e.getUint32(r+=4);for(let v=16;v<80;v++){const b=sd[v-15]|0,$=od[v-15]|0,P=Rt.rotrSH(b,$,1)^Rt.rotrSH(b,$,8)^Rt.shrSH(b,$,7),O=Rt.rotrSL(b,$,1)^Rt.rotrSL(b,$,8)^Rt.shrSL(b,$,7),D=sd[v-2]|0,B=od[v-2]|0,H=Rt.rotrSH(D,B,19)^Rt.rotrBH(D,B,61)^Rt.shrSH(D,B,6),q=Rt.rotrSL(D,B,19)^Rt.rotrBL(D,B,61)^Rt.shrSL(D,B,6),Y=Rt.add4L(O,q,od[v-7],od[v-16]),R=Rt.add4H(Y,P,H,sd[v-7],sd[v-16]);sd[v]=R|0,od[v]=Y|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:f,El:h,Fh:p,Fl:g,Gh:m,Gl:w,Hh:y,Hl:E}=this;for(let v=0;v<80;v++){const b=Rt.rotrSH(f,h,14)^Rt.rotrSH(f,h,18)^Rt.rotrBH(f,h,41),$=Rt.rotrSL(f,h,14)^Rt.rotrSL(f,h,18)^Rt.rotrBL(f,h,41),P=f&p^~f&m,O=h&g^~h&w,D=Rt.add5L(E,$,O,zMe[v],od[v]),B=Rt.add5H(D,y,b,P,WMe[v],sd[v]),H=D|0,q=Rt.rotrSH(n,i,28)^Rt.rotrBH(n,i,34)^Rt.rotrBH(n,i,39),Y=Rt.rotrSL(n,i,28)^Rt.rotrBL(n,i,34)^Rt.rotrBL(n,i,39),R=n&s^n&a^s&a,_=i&o^i&l^o&l;y=m|0,E=w|0,m=p|0,w=g|0,p=f|0,g=h|0,{h:f,l:h}=Rt.add(c|0,u|0,B|0,H|0),c=a|0,u=l|0,a=s|0,l=o|0,s=n|0,o=i|0;const x=Rt.add3L(H,Y,_);n=Rt.add3H(x,B,q,R),i=x|0}({h:n,l:i}=Rt.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=Rt.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=Rt.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=Rt.add(this.Dh|0,this.Dl|0,c|0,u|0),{h:f,l:h}=Rt.add(this.Eh|0,this.El|0,f|0,h|0),{h:p,l:g}=Rt.add(this.Fh|0,this.Fl|0,p|0,g|0),{h:m,l:w}=Rt.add(this.Gh|0,this.Gl|0,m|0,w|0),{h:y,l:E}=Rt.add(this.Hh|0,this.Hl|0,y|0,E|0),this.set(n,i,s,o,a,l,c,u,f,h,p,g,m,w,y,E)}roundClean(){sd.fill(0),od.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const qMe=wMe(()=>new HMe);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const aN=BigInt(0),rre=BigInt(1),VMe=BigInt(2);function lN(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function cN(t){if(!lN(t))throw new Error("Uint8Array expected")}function h7(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const GMe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function uN(t){cN(t);let e="";for(let r=0;r<t.length;r++)e+=GMe[t[r]];return e}function nre(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?aN:BigInt("0x"+t)}const jc={_0:48,_9:57,A:65,F:70,a:97,f:102};function uF(t){if(t>=jc._0&&t<=jc._9)return t-jc._0;if(t>=jc.A&&t<=jc.F)return t-(jc.A-10);if(t>=jc.a&&t<=jc.f)return t-(jc.a-10)}function ire(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=uF(t.charCodeAt(s)),a=uF(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=o*16+a}return n}function KMe(t){return nre(uN(t))}function w3(t){return cN(t),nre(uN(Uint8Array.from(t).reverse()))}function sre(t,e){return ire(t.toString(16).padStart(e*2,"0"))}function _S(t,e){return sre(t,e).reverse()}function Mc(t,e,r){let n;if(typeof e=="string")try{n=ire(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(lN(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function dF(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];cN(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}const p7=t=>typeof t=="bigint"&&aN<=t;function YMe(t,e,r){return p7(t)&&p7(e)&&p7(r)&&e<=t&&t<r}function Qg(t,e,r,n){if(!YMe(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function ZMe(t){let e;for(e=0;t>aN;t>>=rre,e+=1);return e}const JMe=t=>(VMe<<BigInt(t-1))-rre,QMe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||lN(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function dN(t,e,r={}){const n=(i,s,o)=>{const a=QMe[s];if(typeof a!="function")throw new Error("invalid validator function");const l=t[i];if(!(o&&l===void 0)&&!a(l,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+l)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}function fF(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}const si=BigInt(0),gn=BigInt(1),Hf=BigInt(2),XMe=BigInt(3),CS=BigInt(4),hF=BigInt(5),pF=BigInt(8);function Rn(t,e){const r=t%e;return r>=si?r:e+r}function eDe(t,e,r){if(e<si)throw new Error("invalid exponent, negatives unsupported");if(r<=si)throw new Error("invalid modulus");if(r===gn)return si;let n=gn;for(;e>si;)e&gn&&(n=n*t%r),t=t*t%r,e>>=gn;return n}function wl(t,e,r){let n=t;for(;e-- >si;)n*=n,n%=r;return n}function gF(t,e){if(t===si)throw new Error("invert: expected non-zero number");if(e<=si)throw new Error("invert: expected positive modulus, got "+e);let r=Rn(t,e),n=e,i=si,s=gn;for(;r!==si;){const o=n/r,a=n%r,l=i-s*o;n=r,r=a,i=s,s=l}if(n!==gn)throw new Error("invert: does not exist");return Rn(i,e)}function tDe(t){const e=(t-gn)/Hf;let r,n,i;for(r=t-gn,n=0;r%Hf===si;r/=Hf,n++);for(i=Hf;i<t&&eDe(i,e,t)!==t-gn;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const o=(t+gn)/CS;return function(a,l){const c=a.pow(l,o);if(!a.eql(a.sqr(c),l))throw new Error("Cannot find square root");return c}}const s=(r+gn)/Hf;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let l=n,c=o.pow(o.mul(o.ONE,i),r),u=o.pow(a,s),f=o.pow(a,r);for(;!o.eql(f,o.ONE);){if(o.eql(f,o.ZERO))return o.ZERO;let h=1;for(let g=o.sqr(f);h<l&&!o.eql(g,o.ONE);h++)g=o.sqr(g);const p=o.pow(c,gn<<BigInt(l-h-1));c=o.sqr(p),u=o.mul(u,p),f=o.mul(f,c),l=h}return u}}function rDe(t){if(t%CS===XMe){const e=(t+gn)/CS;return function(r,n){const i=r.pow(n,e);if(!r.eql(r.sqr(i),n))throw new Error("Cannot find square root");return i}}if(t%pF===hF){const e=(t-hF)/pF;return function(r,n){const i=r.mul(n,Hf),s=r.pow(i,e),o=r.mul(n,s),a=r.mul(r.mul(o,Hf),s),l=r.mul(o,r.sub(a,r.ONE));if(!r.eql(r.sqr(l),n))throw new Error("Cannot find square root");return l}}return tDe(t)}const nDe=(t,e)=>(Rn(t,e)&gn)===gn,iDe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function sDe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=iDe.reduce((n,i)=>(n[i]="function",n),e);return dN(t,r)}function oDe(t,e,r){if(r<si)throw new Error("invalid exponent, negatives unsupported");if(r===si)return t.ONE;if(r===gn)return e;let n=t.ONE,i=e;for(;r>si;)r&gn&&(n=t.mul(n,i)),i=t.sqr(i),r>>=gn;return n}function aDe(t,e){const r=new Array(e.length),n=e.reduce((s,o,a)=>t.is0(o)?s:(r[a]=s,t.mul(s,o)),t.ONE),i=t.inv(n);return e.reduceRight((s,o,a)=>t.is0(o)?s:(r[a]=t.mul(s,r[a]),t.mul(s,o)),i),r}function ore(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function are(t,e,r=!1,n={}){if(t<=si)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=ore(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:r,BITS:i,BYTES:s,MASK:JMe(i),ZERO:si,ONE:gn,create:l=>Rn(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return si<=l&&l<t},is0:l=>l===si,isOdd:l=>(l&gn)===gn,neg:l=>Rn(-l,t),eql:(l,c)=>l===c,sqr:l=>Rn(l*l,t),add:(l,c)=>Rn(l+c,t),sub:(l,c)=>Rn(l-c,t),mul:(l,c)=>Rn(l*c,t),pow:(l,c)=>oDe(a,l,c),div:(l,c)=>Rn(l*gF(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>gF(l,t),sqrt:n.sqrt||(l=>(o||(o=rDe(t)),o(a,l))),invertBatch:l=>aDe(a,l),cmov:(l,c,u)=>u?c:l,toBytes:l=>r?_S(l,s):sre(l,s),fromBytes:l=>{if(l.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+l.length);return r?w3(l):KMe(l)}});return Object.freeze(a)}const mF=BigInt(0),nv=BigInt(1);function g7(t,e){const r=e.negate();return t?r:e}function lre(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function m7(t,e){lre(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1);return{windows:r,windowSize:n}}function lDe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function cDe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const y7=new WeakMap,cre=new WeakMap;function w7(t){return cre.get(t)||1}function uDe(t,e){return{constTimeNegate:g7,hasPrecomputes(r){return w7(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>mF;)n&nv&&(i=i.add(s)),s=s.double(),n>>=nv;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=m7(n,e),o=[];let a=r,l=a;for(let c=0;c<i;c++){l=a,o.push(l);for(let u=1;u<s;u++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(r,n,i){const{windows:s,windowSize:o}=m7(r,e);let a=t.ZERO,l=t.BASE;const c=BigInt(2**r-1),u=2**r,f=BigInt(r);for(let h=0;h<s;h++){const p=h*o;let g=Number(i&c);i>>=f,g>o&&(g-=u,i+=nv);const m=p,w=p+Math.abs(g)-1,y=h%2!==0,E=g<0;g===0?l=l.add(g7(y,n[m])):a=a.add(g7(E,n[w]))}return{p:a,f:l}},wNAFUnsafe(r,n,i,s=t.ZERO){const{windows:o,windowSize:a}=m7(r,e),l=BigInt(2**r-1),c=2**r,u=BigInt(r);for(let f=0;f<o;f++){const h=f*a;if(i===mF)break;let p=Number(i&l);if(i>>=u,p>a&&(p-=c,i+=nv),p===0)continue;let g=n[h+Math.abs(p)-1];p<0&&(g=g.negate()),s=s.add(g)}return s},getPrecomputes(r,n,i){let s=y7.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&y7.set(n,i(s))),s},wNAFCached(r,n,i){const s=w7(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=w7(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){lre(n,e),cre.set(r,n),y7.delete(r)}}}function dDe(t,e,r,n){if(lDe(r,t),cDe(n,e),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=ZMe(BigInt(r.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,l=new Array(a+1).fill(i),c=Math.floor((e.BITS-1)/o)*o;let u=i;for(let f=c;f>=0;f-=o){l.fill(i);for(let p=0;p<n.length;p++){const g=n[p],m=Number(g>>BigInt(f)&BigInt(a));l[m]=l[m].add(r[p])}let h=i;for(let p=l.length-1,g=i;p>0;p--)g=g.add(l[p]),h=h.add(g);if(u=u.add(h),f!==0)for(let p=0;p<o;p++)u=u.double()}return u}function fDe(t){return sDe(t.Fp),dN(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ore(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const Aa=BigInt(0),Cs=BigInt(1),iv=BigInt(2),hDe=BigInt(8),pDe={zip215:!0};function gDe(t){const e=fDe(t);return dN(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function mDe(t){const e=gDe(t),{Fp:r,n,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:l}=e,c=iv<<BigInt(a*8)-Cs,u=r.create,f=are(e.n,e.nBitLength),h=e.uvRatio||((x,A)=>{try{return{isValid:!0,value:r.sqrt(x*r.inv(A))}}catch{return{isValid:!1,value:Aa}}}),p=e.adjustScalarBytes||(x=>x),g=e.domain||((x,A,T)=>{if(h7("phflag",T),A.length||T)throw new Error("Contexts/pre-hash are not supported");return x});function m(x,A){Qg("coordinate "+x,A,Aa,c)}function w(x){if(!(x instanceof v))throw new Error("ExtendedPoint expected")}const y=fF((x,A)=>{const{ex:T,ey:I,ez:N}=x,M=x.is0();A==null&&(A=M?hDe:r.inv(N));const U=u(T*A),S=u(I*A),F=u(N*A);if(M)return{x:Aa,y:Cs};if(F!==Cs)throw new Error("invZ was invalid");return{x:U,y:S}}),E=fF(x=>{const{a:A,d:T}=e;if(x.is0())throw new Error("bad point: ZERO");const{ex:I,ey:N,ez:M,et:U}=x,S=u(I*I),F=u(N*N),Q=u(M*M),k=u(Q*Q),W=u(S*A),V=u(Q*u(W+F)),ee=u(k+u(T*u(S*F)));if(V!==ee)throw new Error("bad point: equation left != right (1)");const te=u(I*N),ce=u(M*U);if(te!==ce)throw new Error("bad point: equation left != right (2)");return!0});class v{constructor(A,T,I,N){this.ex=A,this.ey=T,this.ez=I,this.et=N,m("x",A),m("y",T),m("z",I),m("t",N),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(A){if(A instanceof v)throw new Error("extended point not allowed");const{x:T,y:I}=A||{};return m("x",T),m("y",I),new v(T,I,Cs,u(T*I))}static normalizeZ(A){const T=r.invertBatch(A.map(I=>I.ez));return A.map((I,N)=>I.toAffine(T[N])).map(v.fromAffine)}static msm(A,T){return dDe(v,f,A,T)}_setWindowSize(A){P.setWindowSize(this,A)}assertValidity(){E(this)}equals(A){w(A);const{ex:T,ey:I,ez:N}=this,{ex:M,ey:U,ez:S}=A,F=u(T*S),Q=u(M*N),k=u(I*S),W=u(U*N);return F===Q&&k===W}is0(){return this.equals(v.ZERO)}negate(){return new v(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:A}=e,{ex:T,ey:I,ez:N}=this,M=u(T*T),U=u(I*I),S=u(iv*u(N*N)),F=u(A*M),Q=T+I,k=u(u(Q*Q)-M-U),W=F+U,V=W-S,ee=F-U,te=u(k*V),ce=u(W*ee),K=u(k*ee),G=u(V*W);return new v(te,ce,G,K)}add(A){w(A);const{a:T,d:I}=e,{ex:N,ey:M,ez:U,et:S}=this,{ex:F,ey:Q,ez:k,et:W}=A;if(T===BigInt(-1)){const xe=u((M-N)*(Q+F)),he=u((M+N)*(Q-F)),ht=u(he-xe);if(ht===Aa)return this.double();const De=u(U*iv*W),we=u(S*iv*k),_e=we+De,Me=he+xe,ke=we-De,Te=u(_e*ht),Ue=u(Me*ke),Be=u(_e*ke),Z=u(ht*Me);return new v(Te,Ue,Z,Be)}const V=u(N*F),ee=u(M*Q),te=u(S*I*W),ce=u(U*k),K=u((N+M)*(F+Q)-V-ee),G=ce-te,pe=ce+te,de=u(ee-T*V),ye=u(K*G),Ne=u(pe*de),je=u(K*de),Qe=u(G*pe);return new v(ye,Ne,Qe,je)}subtract(A){return this.add(A.negate())}wNAF(A){return P.wNAFCached(this,A,v.normalizeZ)}multiply(A){const T=A;Qg("scalar",T,Cs,n);const{p:I,f:N}=this.wNAF(T);return v.normalizeZ([I,N])[0]}multiplyUnsafe(A,T=v.ZERO){const I=A;return Qg("scalar",I,Aa,n),I===Aa?$:this.is0()||I===Cs?this:P.wNAFCachedUnsafe(this,I,v.normalizeZ,T)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return P.unsafeLadder(this,n).is0()}toAffine(A){return y(this,A)}clearCofactor(){const{h:A}=e;return A===Cs?this:this.multiplyUnsafe(A)}static fromHex(A,T=!1){const{d:I,a:N}=e,M=r.BYTES;A=Mc("pointHex",A,M),h7("zip215",T);const U=A.slice(),S=A[M-1];U[M-1]=S&-129;const F=w3(U),Q=T?c:r.ORDER;Qg("pointHex.y",F,Aa,Q);const k=u(F*F),W=u(k-Cs),V=u(I*k-N);let{isValid:ee,value:te}=h(W,V);if(!ee)throw new Error("Point.fromHex: invalid y coordinate");const ce=(te&Cs)===Cs,K=(S&128)!==0;if(!T&&te===Aa&&K)throw new Error("Point.fromHex: x=0 and x_0=1");return K!==ce&&(te=u(-te)),v.fromAffine({x:te,y:F})}static fromPrivateKey(A){return B(A).point}toRawBytes(){const{x:A,y:T}=this.toAffine(),I=_S(T,r.BYTES);return I[I.length-1]|=A&Cs?128:0,I}toHex(){return uN(this.toRawBytes())}}v.BASE=new v(e.Gx,e.Gy,Cs,u(e.Gx*e.Gy)),v.ZERO=new v(Aa,Cs,Cs,Aa);const{BASE:b,ZERO:$}=v,P=uDe(v,a*8);function O(x){return Rn(x,n)}function D(x){return O(w3(x))}function B(x){const A=r.BYTES;x=Mc("private key",x,A);const T=Mc("hashed private key",s(x),2*A),I=p(T.slice(0,A)),N=T.slice(A,2*A),M=D(I),U=b.multiply(M),S=U.toRawBytes();return{head:I,prefix:N,scalar:M,point:U,pointBytes:S}}function H(x){return B(x).pointBytes}function q(x=new Uint8Array,...A){const T=dF(...A);return D(s(g(T,Mc("context",x),!!i)))}function Y(x,A,T={}){x=Mc("message",x),i&&(x=i(x));const{prefix:I,scalar:N,pointBytes:M}=B(A),U=q(T.context,I,x),S=b.multiply(U).toRawBytes(),F=q(T.context,S,M,x),Q=O(U+F*N);Qg("signature.s",Q,Aa,n);const k=dF(S,_S(Q,r.BYTES));return Mc("result",k,r.BYTES*2)}const R=pDe;function _(x,A,T,I=R){const{context:N,zip215:M}=I,U=r.BYTES;x=Mc("signature",x,2*U),A=Mc("message",A),T=Mc("publicKey",T,U),M!==void 0&&h7("zip215",M),i&&(A=i(A));const S=w3(x.slice(U,2*U));let F,Q,k;try{F=v.fromHex(T,M),Q=v.fromHex(x.slice(0,U),M),k=b.multiplyUnsafe(S)}catch{return!1}if(!M&&F.isSmallOrder())return!1;const W=q(N,Q.toRawBytes(),F.toRawBytes(),A);return Q.add(F.multiplyUnsafe(W)).subtract(k).clearCofactor().equals(v.ZERO)}return b._setWindowSize(8),{CURVE:e,getPublicKey:H,sign:Y,verify:_,ExtendedPoint:v,utils:{getExtendedPublicKey:B,randomPrivateKey:()=>o(r.BYTES),precompute(x=8,A=v.BASE){return A._setWindowSize(x),A.multiply(BigInt(3)),A}}}}BigInt(0),BigInt(1);const fN=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),yF=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const yDe=BigInt(1),wF=BigInt(2);BigInt(3);const wDe=BigInt(5),bDe=BigInt(8);function vDe(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=fN,o=t*t%s*t%s,a=wl(o,wF,s)*o%s,l=wl(a,yDe,s)*t%s,c=wl(l,wDe,s)*l%s,u=wl(c,e,s)*c%s,f=wl(u,r,s)*u%s,h=wl(f,n,s)*f%s,p=wl(h,i,s)*h%s,g=wl(p,i,s)*h%s,m=wl(g,e,s)*c%s;return{pow_p_5_8:wl(m,wF,s)*t%s,b2:o}}function xDe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function EDe(t,e){const r=fN,n=Rn(e*e*e,r),i=Rn(n*n*e,r),s=vDe(t*i).pow_p_5_8;let o=Rn(t*n*s,r);const a=Rn(e*o*o,r),l=o,c=Rn(o*yF,r),u=a===t,f=a===Rn(-t,r),h=a===Rn(-t*yF,r);return u&&(o=l),(f||h)&&(o=c),nDe(o,r)&&(o=Rn(-o,r)),{isValid:u||f,value:o}}const _De=are(fN,void 0,!0),CDe={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:_De,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:bDe,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:qMe,randomBytes:ere,adjustScalarBytes:xDe,uvRatio:EDe},ure=mDe(CDe),ADe="EdDSA",SDe="JWT",e6=".",I8="base64url",dre="utf8",fre="utf8",$De=":",IDe="did",kDe="key",bF="base58btc",TDe="z",NDe="K36",PDe=32;function hN(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function hre(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?hN(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function pre(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const r=hre(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return hN(r)}function RDe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,l=t.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var m=0,w=0,y=0,E=g.length;y!==E&&g[y]===0;)y++,m++;for(var v=(E-y)*u+1>>>0,b=new Uint8Array(v);y!==E;){for(var $=g[y],P=0,O=v-1;($!==0||P<w)&&O!==-1;O--,P++)$+=256*b[O]>>>0,b[O]=$%a>>>0,$=$/a>>>0;if($!==0)throw new Error("Non-zero carry");w=P,y++}for(var D=v-w;D!==v&&b[D]===0;)D++;for(var B=l.repeat(m);D<v;++D)B+=t.charAt(b[D]);return B}function h(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var m=0;if(g[m]!==" "){for(var w=0,y=0;g[m]===l;)w++,m++;for(var E=(g.length-m)*c+1>>>0,v=new Uint8Array(E);g[m];){var b=r[g.charCodeAt(m)];if(b===255)return;for(var $=0,P=E-1;(b!==0||$<y)&&P!==-1;P--,$++)b+=a*v[P]>>>0,v[P]=b%256>>>0,b=b/256>>>0;if(b!==0)throw new Error("Non-zero carry");y=$,m++}if(g[m]!==" "){for(var O=E-y;O!==E&&v[O]===0;)O++;for(var D=new Uint8Array(w+(E-O)),B=w;O!==E;)D[B++]=v[O++];return D}}}function p(g){var m=h(g);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:h,decode:p}}var ODe=RDe,jDe=ODe;const gre=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},MDe=t=>new TextEncoder().encode(t),DDe=t=>new TextDecoder().decode(t);let LDe=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},FDe=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return mre(this,e)}},BDe=class{constructor(e){this.decoders=e}or(e){return mre(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const mre=(t,e)=>new BDe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let UDe=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new LDe(e,r,n),this.decoder=new FDe(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const k8=({name:t,prefix:e,encode:r,decode:n})=>new UDe(t,e,r,n),Mw=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=jDe(r,e);return k8({prefix:t,name:e,encode:n,decode:s=>gre(i(s))})},WDe=(t,e,r,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,l=0,c=0;for(let u=0;u<s;++u){const f=i[t[u]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);l=l<<r|f,a+=r,a>=8&&(a-=8,o[c++]=255&l>>a)}if(a>=r||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return o},zDe=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let l=0;l<t.length;++l)for(a=a<<8|t[l],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},Ci=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>k8({prefix:e,name:t,encode(i){return zDe(i,n,r)},decode(i){return WDe(i,n,r,t)}}),HDe=k8({prefix:"\0",name:"identity",encode:t=>DDe(t),decode:t=>MDe(t)});var qDe=Object.freeze({__proto__:null,identity:HDe});const VDe=Ci({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var GDe=Object.freeze({__proto__:null,base2:VDe});const KDe=Ci({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var YDe=Object.freeze({__proto__:null,base8:KDe});const ZDe=Mw({prefix:"9",name:"base10",alphabet:"0123456789"});var JDe=Object.freeze({__proto__:null,base10:ZDe});const QDe=Ci({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),XDe=Ci({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var eLe=Object.freeze({__proto__:null,base16:QDe,base16upper:XDe});const tLe=Ci({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),rLe=Ci({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),nLe=Ci({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),iLe=Ci({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),sLe=Ci({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),oLe=Ci({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),aLe=Ci({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),lLe=Ci({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),cLe=Ci({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var uLe=Object.freeze({__proto__:null,base32:tLe,base32upper:rLe,base32pad:nLe,base32padupper:iLe,base32hex:sLe,base32hexupper:oLe,base32hexpad:aLe,base32hexpadupper:lLe,base32z:cLe});const dLe=Mw({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),fLe=Mw({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var hLe=Object.freeze({__proto__:null,base36:dLe,base36upper:fLe});const pLe=Mw({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),gLe=Mw({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var mLe=Object.freeze({__proto__:null,base58btc:pLe,base58flickr:gLe});const yLe=Ci({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),wLe=Ci({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),bLe=Ci({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),vLe=Ci({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var xLe=Object.freeze({__proto__:null,base64:yLe,base64pad:wLe,base64url:bLe,base64urlpad:vLe});const yre=Array.from(""),ELe=yre.reduce((t,e,r)=>(t[r]=e,t),[]),_Le=yre.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function CLe(t){return t.reduce((e,r)=>(e+=ELe[r],e),"")}function ALe(t){const e=[];for(const r of t){const n=_Le[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const SLe=k8({prefix:"",name:"base256emoji",encode:CLe,decode:ALe});var $Le=Object.freeze({__proto__:null,base256emoji:SLe}),ILe=wre,vF=128,kLe=-128,TLe=Math.pow(2,31);function wre(t,e,r){e=e||[],r=r||0;for(var n=r;t>=TLe;)e[r++]=t&255|vF,t/=128;for(;t&kLe;)e[r++]=t&255|vF,t>>>=7;return e[r]=t|0,wre.bytes=r-n+1,e}var NLe=AS,PLe=128,xF=127;function AS(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw AS.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&xF)<<i:(o&xF)*Math.pow(2,i),i+=7}while(o>=PLe);return AS.bytes=s-n,r}var RLe=Math.pow(2,7),OLe=Math.pow(2,14),jLe=Math.pow(2,21),MLe=Math.pow(2,28),DLe=Math.pow(2,35),LLe=Math.pow(2,42),FLe=Math.pow(2,49),BLe=Math.pow(2,56),ULe=Math.pow(2,63),WLe=function(t){return t<RLe?1:t<OLe?2:t<jLe?3:t<MLe?4:t<DLe?5:t<LLe?6:t<FLe?7:t<BLe?8:t<ULe?9:10},zLe={encode:ILe,decode:NLe,encodingLength:WLe},bre=zLe;const EF=(t,e,r=0)=>(bre.encode(t,e,r),e),_F=t=>bre.encodingLength(t),SS=(t,e)=>{const r=e.byteLength,n=_F(t),i=n+_F(r),s=new Uint8Array(i+r);return EF(t,s,0),EF(r,s,n),s.set(e,i),new HLe(t,r,e,s)};let HLe=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}};const vre=({name:t,code:e,encode:r})=>new qLe(t,e,r);let qLe=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?SS(this.code,r):r.then(n=>SS(this.code,n))}else throw Error("Unknown type, must be binary type")}};const xre=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),VLe=vre({name:"sha2-256",code:18,encode:xre("SHA-256")}),GLe=vre({name:"sha2-512",code:19,encode:xre("SHA-512")});var KLe=Object.freeze({__proto__:null,sha256:VLe,sha512:GLe});const Ere=0,YLe="identity",_re=gre,ZLe=t=>SS(Ere,_re(t)),JLe={code:Ere,name:YLe,encode:_re,digest:ZLe};var QLe=Object.freeze({__proto__:null,identity:JLe});new TextEncoder,new TextDecoder;const CF={...qDe,...GDe,...YDe,...JDe,...eLe,...uLe,...hLe,...mLe,...xLe,...$Le};({...KLe,...QLe});function Cre(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const AF=Cre("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),b7=Cre("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=hre(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Are={utf8:AF,"utf-8":AF,hex:CF.base16,latin1:b7,ascii:b7,binary:b7,...CF};function T8(t,e="utf8"){const r=Are[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}function mg(t,e="utf8"){const r=Are[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?hN(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function SF(t){return Hh(T8(mg(t,I8),dre))}function t6(t){return T8(mg(qh(t),dre),I8)}function Sre(t){const e=mg(NDe,bF),r=TDe+T8(pre([e,t]),bF);return[IDe,kDe,r].join($De)}function XLe(t){return T8(t,I8)}function eFe(t){return mg(t,I8)}function tFe(t){return mg([t6(t.header),t6(t.payload)].join(e6),fre)}function rFe(t){return[t6(t.header),t6(t.payload),XLe(t.signature)].join(e6)}function $S(t){const e=t.split(e6),r=SF(e[0]),n=SF(e[1]),i=eFe(e[2]),s=mg(e.slice(0,2).join(e6),fre);return{header:r,payload:n,signature:i,data:s}}function $F(t=ere(PDe)){const e=ure.getPublicKey(t);return{secretKey:pre([t,e]),publicKey:e}}async function nFe(t,e,r,n,i=We.fromMiliseconds(Date.now())){const s={alg:ADe,typ:SDe},o=Sre(n.publicKey),a=i+r,l={iss:o,sub:t,aud:e,iat:i,exp:a},c=tFe({header:s,payload:l}),u=ure.sign(c,n.secretKey.slice(0,32));return rFe({header:s,payload:l,signature:u})}function pN(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function $re(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?pN(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Ym(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const r=$re(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return pN(r)}function iFe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,l=t.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var m=0,w=0,y=0,E=g.length;y!==E&&g[y]===0;)y++,m++;for(var v=(E-y)*u+1>>>0,b=new Uint8Array(v);y!==E;){for(var $=g[y],P=0,O=v-1;($!==0||P<w)&&O!==-1;O--,P++)$+=256*b[O]>>>0,b[O]=$%a>>>0,$=$/a>>>0;if($!==0)throw new Error("Non-zero carry");w=P,y++}for(var D=v-w;D!==v&&b[D]===0;)D++;for(var B=l.repeat(m);D<v;++D)B+=t.charAt(b[D]);return B}function h(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var m=0;if(g[m]!==" "){for(var w=0,y=0;g[m]===l;)w++,m++;for(var E=(g.length-m)*c+1>>>0,v=new Uint8Array(E);g[m];){var b=r[g.charCodeAt(m)];if(b===255)return;for(var $=0,P=E-1;(b!==0||$<y)&&P!==-1;P--,$++)b+=a*v[P]>>>0,v[P]=b%256>>>0,b=b/256>>>0;if(b!==0)throw new Error("Non-zero carry");y=$,m++}if(g[m]!==" "){for(var O=E-y;O!==E&&v[O]===0;)O++;for(var D=new Uint8Array(w+(E-O)),B=w;O!==E;)D[B++]=v[O++];return D}}}function p(g){var m=h(g);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:h,decode:p}}var sFe=iFe,oFe=sFe;const aFe=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},lFe=t=>new TextEncoder().encode(t),cFe=t=>new TextDecoder().decode(t);class uFe{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class dFe{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Ire(this,e)}}class fFe{constructor(e){this.decoders=e}or(e){return Ire(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Ire=(t,e)=>new fFe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class hFe{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new uFe(e,r,n),this.decoder=new dFe(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const N8=({name:t,prefix:e,encode:r,decode:n})=>new hFe(t,e,r,n),Dw=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=oFe(r,e);return N8({prefix:t,name:e,encode:n,decode:s=>aFe(i(s))})},pFe=(t,e,r,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,l=0,c=0;for(let u=0;u<s;++u){const f=i[t[u]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);l=l<<r|f,a+=r,a>=8&&(a-=8,o[c++]=255&l>>a)}if(a>=r||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return o},gFe=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let l=0;l<t.length;++l)for(a=a<<8|t[l],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},Ai=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>N8({prefix:e,name:t,encode(i){return gFe(i,n,r)},decode(i){return pFe(i,n,r,t)}}),mFe=N8({prefix:"\0",name:"identity",encode:t=>cFe(t),decode:t=>lFe(t)}),yFe=Object.freeze(Object.defineProperty({__proto__:null,identity:mFe},Symbol.toStringTag,{value:"Module"})),wFe=Ai({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),bFe=Object.freeze(Object.defineProperty({__proto__:null,base2:wFe},Symbol.toStringTag,{value:"Module"})),vFe=Ai({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),xFe=Object.freeze(Object.defineProperty({__proto__:null,base8:vFe},Symbol.toStringTag,{value:"Module"})),EFe=Dw({prefix:"9",name:"base10",alphabet:"0123456789"}),_Fe=Object.freeze(Object.defineProperty({__proto__:null,base10:EFe},Symbol.toStringTag,{value:"Module"})),CFe=Ai({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),AFe=Ai({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),SFe=Object.freeze(Object.defineProperty({__proto__:null,base16:CFe,base16upper:AFe},Symbol.toStringTag,{value:"Module"})),$Fe=Ai({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),IFe=Ai({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),kFe=Ai({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),TFe=Ai({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),NFe=Ai({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),PFe=Ai({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),RFe=Ai({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),OFe=Ai({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),jFe=Ai({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),MFe=Object.freeze(Object.defineProperty({__proto__:null,base32:$Fe,base32hex:NFe,base32hexpad:RFe,base32hexpadupper:OFe,base32hexupper:PFe,base32pad:kFe,base32padupper:TFe,base32upper:IFe,base32z:jFe},Symbol.toStringTag,{value:"Module"})),DFe=Dw({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),LFe=Dw({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),FFe=Object.freeze(Object.defineProperty({__proto__:null,base36:DFe,base36upper:LFe},Symbol.toStringTag,{value:"Module"})),BFe=Dw({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),UFe=Dw({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),WFe=Object.freeze(Object.defineProperty({__proto__:null,base58btc:BFe,base58flickr:UFe},Symbol.toStringTag,{value:"Module"})),zFe=Ai({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),HFe=Ai({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),qFe=Ai({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),VFe=Ai({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),GFe=Object.freeze(Object.defineProperty({__proto__:null,base64:zFe,base64pad:HFe,base64url:qFe,base64urlpad:VFe},Symbol.toStringTag,{value:"Module"})),kre=Array.from(""),KFe=kre.reduce((t,e,r)=>(t[r]=e,t),[]),YFe=kre.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function ZFe(t){return t.reduce((e,r)=>(e+=KFe[r],e),"")}function JFe(t){const e=[];for(const r of t){const n=YFe[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const QFe=N8({prefix:"",name:"base256emoji",encode:ZFe,decode:JFe}),XFe=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:QFe},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const IF={...yFe,...bFe,...xFe,..._Fe,...SFe,...MFe,...FFe,...WFe,...GFe,...XFe};function Tre(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const kF=Tre("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),v7=Tre("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=$re(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Nre={utf8:kF,"utf-8":kF,hex:IF.base16,latin1:v7,ascii:v7,binary:v7,...IF};function sa(t,e="utf8"){const r=Nre[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?pN(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function qs(t,e="utf8"){const r=Nre[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}const eBe={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},tBe="Input must be an string, Buffer or Uint8Array";function rBe(t){let e;if(t instanceof Uint8Array)e=t;else if(typeof t=="string")e=new TextEncoder().encode(t);else throw new Error(tBe);return e}function nBe(t){return Array.prototype.map.call(t,function(e){return(e<16?"0":"")+e.toString(16)}).join("")}function sv(t){return(4294967296+t).toString(16).substring(1)}function iBe(t,e,r){let n=`
`+t+" = ";for(let i=0;i<e.length;i+=2){if(r===32)n+=sv(e[i]).toUpperCase(),n+=" ",n+=sv(e[i+1]).toUpperCase();else if(r===64)n+=sv(e[i+1]).toUpperCase(),n+=sv(e[i]).toUpperCase();else throw new Error("Invalid size "+r);i%6===4?n+=`
`+new Array(t.length+4).join(" "):i<e.length-2&&(n+=" ")}console.log(n)}function sBe(t,e,r){let n=new Date().getTime();const i=new Uint8Array(e);for(let o=0;o<e;o++)i[o]=o%256;const s=new Date().getTime();console.log("Generated random input in "+(s-n)+"ms"),n=s;for(let o=0;o<r;o++){const a=t(i),l=new Date().getTime(),c=l-n;n=l,console.log("Hashed in "+c+"ms: "+a.substring(0,20)+"..."),console.log(Math.round(e/(1<<20)/(c/1e3)*100)/100+" MB PER SECOND")}}var Pre={normalizeInput:rBe,toHex:nBe,debugPrint:iBe,testSpeed:sBe};const b3=Pre;function ov(t,e,r){const n=t[e]+t[r];let i=t[e+1]+t[r+1];n>=4294967296&&i++,t[e]=n,t[e+1]=i}function TF(t,e,r,n){let i=t[e]+r;r<0&&(i+=4294967296);let s=t[e+1]+n;i>=4294967296&&s++,t[e]=i,t[e+1]=s}function Rre(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function ad(t,e,r,n,i,s){const o=xm[i],a=xm[i+1],l=xm[s],c=xm[s+1];ov(kt,t,e),TF(kt,t,o,a);let u=kt[n]^kt[t],f=kt[n+1]^kt[t+1];kt[n]=f,kt[n+1]=u,ov(kt,r,n),u=kt[e]^kt[r],f=kt[e+1]^kt[r+1],kt[e]=u>>>24^f<<8,kt[e+1]=f>>>24^u<<8,ov(kt,t,e),TF(kt,t,l,c),u=kt[n]^kt[t],f=kt[n+1]^kt[t+1],kt[n]=u>>>16^f<<16,kt[n+1]=f>>>16^u<<16,ov(kt,r,n),u=kt[e]^kt[r],f=kt[e+1]^kt[r+1],kt[e]=f>>>31^u<<1,kt[e+1]=u>>>31^f<<1}const Ore=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),oBe=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],Ti=new Uint8Array(oBe.map(function(t){return t*2})),kt=new Uint32Array(32),xm=new Uint32Array(32);function jre(t,e){let r=0;for(r=0;r<16;r++)kt[r]=t.h[r],kt[r+16]=Ore[r];for(kt[24]=kt[24]^t.t,kt[25]=kt[25]^t.t/4294967296,e&&(kt[28]=~kt[28],kt[29]=~kt[29]),r=0;r<32;r++)xm[r]=Rre(t.b,4*r);for(r=0;r<12;r++)ad(0,8,16,24,Ti[r*16+0],Ti[r*16+1]),ad(2,10,18,26,Ti[r*16+2],Ti[r*16+3]),ad(4,12,20,28,Ti[r*16+4],Ti[r*16+5]),ad(6,14,22,30,Ti[r*16+6],Ti[r*16+7]),ad(0,10,20,30,Ti[r*16+8],Ti[r*16+9]),ad(2,12,22,24,Ti[r*16+10],Ti[r*16+11]),ad(4,14,16,26,Ti[r*16+12],Ti[r*16+13]),ad(6,8,18,28,Ti[r*16+14],Ti[r*16+15]);for(r=0;r<16;r++)t.h[r]=t.h[r]^kt[r]^kt[r+16]}const ld=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function Mre(t,e,r,n){if(t===0||t>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(r&&r.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(n&&n.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const i={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:t};ld.fill(0),ld[0]=t,e&&(ld[1]=e.length),ld[2]=1,ld[3]=1,r&&ld.set(r,32),n&&ld.set(n,48);for(let s=0;s<16;s++)i.h[s]=Ore[s]^Rre(ld,s*4);return e&&(gN(i,e),i.c=128),i}function gN(t,e){for(let r=0;r<e.length;r++)t.c===128&&(t.t+=t.c,jre(t,!1),t.c=0),t.b[t.c++]=e[r]}function Dre(t){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;jre(t,!0);const e=new Uint8Array(t.outlen);for(let r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(r&3);return e}function Lre(t,e,r,n,i){r=r||64,t=b3.normalizeInput(t),n&&(n=b3.normalizeInput(n)),i&&(i=b3.normalizeInput(i));const s=Mre(r,e,n,i);return gN(s,t),Dre(s)}function aBe(t,e,r,n,i){const s=Lre(t,e,r,n,i);return b3.toHex(s)}var lBe={blake2b:Lre,blake2bHex:aBe,blake2bInit:Mre,blake2bUpdate:gN,blake2bFinal:Dre};const Fre=Pre;function cBe(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function cd(t,e,r,n,i,s){pr[t]=pr[t]+pr[e]+i,pr[n]=av(pr[n]^pr[t],16),pr[r]=pr[r]+pr[n],pr[e]=av(pr[e]^pr[r],12),pr[t]=pr[t]+pr[e]+s,pr[n]=av(pr[n]^pr[t],8),pr[r]=pr[r]+pr[n],pr[e]=av(pr[e]^pr[r],7)}function av(t,e){return t>>>e^t<<32-e}const Bre=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ni=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),pr=new Uint32Array(16),di=new Uint32Array(16);function Ure(t,e){let r=0;for(r=0;r<8;r++)pr[r]=t.h[r],pr[r+8]=Bre[r];for(pr[12]^=t.t,pr[13]^=t.t/4294967296,e&&(pr[14]=~pr[14]),r=0;r<16;r++)di[r]=cBe(t.b,4*r);for(r=0;r<10;r++)cd(0,4,8,12,di[Ni[r*16+0]],di[Ni[r*16+1]]),cd(1,5,9,13,di[Ni[r*16+2]],di[Ni[r*16+3]]),cd(2,6,10,14,di[Ni[r*16+4]],di[Ni[r*16+5]]),cd(3,7,11,15,di[Ni[r*16+6]],di[Ni[r*16+7]]),cd(0,5,10,15,di[Ni[r*16+8]],di[Ni[r*16+9]]),cd(1,6,11,12,di[Ni[r*16+10]],di[Ni[r*16+11]]),cd(2,7,8,13,di[Ni[r*16+12]],di[Ni[r*16+13]]),cd(3,4,9,14,di[Ni[r*16+14]],di[Ni[r*16+15]]);for(r=0;r<8;r++)t.h[r]^=pr[r]^pr[r+8]}function Wre(t,e){if(!(t>0&&t<=32))throw new Error("Incorrect output length, should be in [1, 32]");const r=e?e.length:0;if(e&&!(r>0&&r<=32))throw new Error("Incorrect key length, should be in [1, 32]");const n={h:new Uint32Array(Bre),b:new Uint8Array(64),c:0,t:0,outlen:t};return n.h[0]^=16842752^r<<8^t,r>0&&(mN(n,e),n.c=64),n}function mN(t,e){for(let r=0;r<e.length;r++)t.c===64&&(t.t+=t.c,Ure(t,!1),t.c=0),t.b[t.c++]=e[r]}function zre(t){for(t.t+=t.c;t.c<64;)t.b[t.c++]=0;Ure(t,!0);const e=new Uint8Array(t.outlen);for(let r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(r&3)&255;return e}function Hre(t,e,r){r=r||32,t=Fre.normalizeInput(t);const n=Wre(r,e);return mN(n,t),zre(n)}function uBe(t,e,r){const n=Hre(t,e,r);return Fre.toHex(n)}var dBe={blake2s:Hre,blake2sHex:uBe,blake2sInit:Wre,blake2sUpdate:mN,blake2sFinal:zre};const Xg=lBe,em=dBe;var fBe={blake2b:Xg.blake2b,blake2bHex:Xg.blake2bHex,blake2bInit:Xg.blake2bInit,blake2bUpdate:Xg.blake2bUpdate,blake2bFinal:Xg.blake2bFinal,blake2s:em.blake2s,blake2sHex:em.blake2sHex,blake2sInit:em.blake2sInit,blake2sUpdate:em.blake2sUpdate,blake2sFinal:em.blake2sFinal},Wl={exports:{}};function hBe(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var pBe=gBe;function gBe(t,e,r){var n=r&&r.stringify||hBe,i=1;if(typeof t=="object"&&t!==null){var s=e.length+i;if(s===1)return t;var o=new Array(s);o[0]=n(t);for(var a=1;a<s;a++)o[a]=n(e[a]);return o.join(" ")}if(typeof t!="string")return t;var l=e.length;if(l===0)return t;for(var c="",u=1-i,f=-1,h=t&&t.length||0,p=0;p<h;){if(t.charCodeAt(p)===37&&p+1<h){switch(f=f>-1?f:0,t.charCodeAt(p+1)){case 100:case 102:if(u>=l||e[u]==null)break;f<p&&(c+=t.slice(f,p)),c+=Number(e[u]),f=p+2,p++;break;case 105:if(u>=l||e[u]==null)break;f<p&&(c+=t.slice(f,p)),c+=Math.floor(Number(e[u])),f=p+2,p++;break;case 79:case 111:case 106:if(u>=l||e[u]===void 0)break;f<p&&(c+=t.slice(f,p));var g=typeof e[u];if(g==="string"){c+="'"+e[u]+"'",f=p+2,p++;break}if(g==="function"){c+=e[u].name||"<anonymous>",f=p+2,p++;break}c+=n(e[u]),f=p+2,p++;break;case 115:if(u>=l)break;f<p&&(c+=t.slice(f,p)),c+=String(e[u]),f=p+2,p++;break;case 37:f<p&&(c+=t.slice(f,p)),c+="%",f=p+2,p++,u--;break}++u}++p}return f===-1?t:(f<h&&(c+=t.slice(f)),c)}const NF=pBe;Wl.exports=mu;const S2=TBe().console||{},mBe={mapHttpRequest:lv,mapHttpResponse:lv,wrapRequestSerializer:x7,wrapResponseSerializer:x7,wrapErrorSerializer:x7,req:lv,res:lv,err:RF,errWithCause:RF};function Rd(t,e){return t==="silent"?1/0:e.levels.values[t]}const yN=Symbol("pino.logFuncs"),IS=Symbol("pino.hierarchy"),yBe={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function PF(t,e){const r={logger:e,parent:t[IS]};e[IS]=r}function wBe(t,e,r){const n={};e.forEach(i=>{n[i]=r[i]?r[i]:S2[i]||S2[yBe[i]||"log"]||W0}),t[yN]=n}function bBe(t,e){return Array.isArray(t)?t.filter(function(r){return r!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function mu(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const r=t.browser.write||S2;t.browser.write&&(t.browser.asObject=!0);const n=t.serializers||{},i=bBe(t.browser.serialize,n);let s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const o=Object.keys(t.customLevels||{}),a=["error","fatal","warn","info","debug","trace"].concat(o);typeof r=="function"&&a.forEach(function(m){r[m]=r}),(t.enabled===!1||t.browser.disabled)&&(t.level="silent");const l=t.level||"info",c=Object.create(r);c.log||(c.log=W0),wBe(c,a,r),PF({},c),Object.defineProperty(c,"levelVal",{get:f}),Object.defineProperty(c,"level",{get:h,set:p});const u={transmit:e,serialize:i,asObject:t.browser.asObject,asObjectBindingsOnly:t.browser.asObjectBindingsOnly,formatters:t.browser.formatters,levels:a,timestamp:$Be(t),messageKey:t.messageKey||"msg",onChild:t.onChild||W0};c.levels=vBe(t),c.level=l,c.isLevelEnabled=function(m){return this.levels.values[m]?this.levels.values[m]>=this.levels.values[this.level]:!1},c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=W0,c.serializers=n,c._serialize=i,c._stdErrSerialize=s,c.child=function(...m){return g.call(this,u,...m)},e&&(c._logEvent=kS());function f(){return Rd(this.level,this)}function h(){return this._level}function p(m){if(m!=="silent"&&!this.levels.values[m])throw Error("unknown level "+m);this._level=m,Nf(this,u,c,"error"),Nf(this,u,c,"fatal"),Nf(this,u,c,"warn"),Nf(this,u,c,"info"),Nf(this,u,c,"debug"),Nf(this,u,c,"trace"),o.forEach(w=>{Nf(this,u,c,w)})}function g(m,w,y){if(!w)throw new Error("missing bindings for child Pino");y=y||{},i&&w.serializers&&(y.serializers=w.serializers);const E=y.serializers;if(i&&E){var v=Object.assign({},n,E),b=t.browser.serialize===!0?Object.keys(v):i;delete w.serializers,wN([w],b,v,this._stdErrSerialize)}function $(O){this._childLevel=(O._childLevel|0)+1,this.bindings=w,v&&(this.serializers=v,this._serialize=b),e&&(this._logEvent=kS([].concat(O._logEvent.bindings,w)))}$.prototype=this;const P=new $(this);return PF(this,P),P.child=function(...O){return g.call(this,m,...O)},P.level=y.level||this.level,m.onChild(P),P}return c}function vBe(t){const e=t.customLevels||{},r=Object.assign({},mu.levels.values,e),n=Object.assign({},mu.levels.labels,xBe(e));return{values:r,labels:n}}function xBe(t){const e={};return Object.keys(t).forEach(function(r){e[t[r]]=r}),e}mu.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},mu.stdSerializers=mBe,mu.stdTimeFunctions=Object.assign({},{nullTime:qre,epochTime:Vre,unixTime:IBe,isoTime:kBe});function EBe(t){const e=[];t.bindings&&e.push(t.bindings);let r=t[IS];for(;r.parent;)r=r.parent,r.logger.bindings&&e.push(r.logger.bindings);return e.reverse()}function Nf(t,e,r,n){if(Object.defineProperty(t,n,{value:Rd(t.level,r)>Rd(n,r)?W0:r[yN][n],writable:!0,enumerable:!0,configurable:!0}),t[n]===W0){if(!e.transmit)return;const s=e.transmit.level||t.level,o=Rd(s,r);if(Rd(n,r)<o)return}t[n]=CBe(t,e,r,n);const i=EBe(t);i.length!==0&&(t[n]=_Be(i,t[n]))}function _Be(t,e){return function(){return e.apply(this,[...t,...arguments])}}function CBe(t,e,r,n){return function(i){return function(){const s=e.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===S2?S2:this;for(var l=0;l<o.length;l++)o[l]=arguments[l];var c=!1;if(e.serialize&&(wN(o,this._serialize,this.serializers,this._stdErrSerialize),c=!0),e.asObject||e.formatters?i.call(a,...ABe(this,n,o,s,e)):i.apply(a,o),e.transmit){const u=e.transmit.level||t._level,f=Rd(u,r),h=Rd(n,r);if(h<f)return;SBe(this,{ts:s,methodLevel:n,methodValue:h,transmitValue:r.levels.values[e.transmit.level||t._level],send:e.transmit.send,val:Rd(t._level,r)},o,c)}}}(t[yN][n])}function ABe(t,e,r,n,i){const{level:s,log:o=f=>f}=i.formatters||{},a=r.slice();let l=a[0];const c={};let u=(t._childLevel|0)+1;if(u<1&&(u=1),n&&(c.time=n),s){const f=s(e,t.levels.values[e]);Object.assign(c,f)}else c.level=t.levels.values[e];if(i.asObjectBindingsOnly){if(l!==null&&typeof l=="object")for(;u--&&typeof a[0]=="object";)Object.assign(c,a.shift());return[o(c),...a]}else{if(l!==null&&typeof l=="object"){for(;u--&&typeof a[0]=="object";)Object.assign(c,a.shift());l=a.length?NF(a.shift(),a):void 0}else typeof l=="string"&&(l=NF(a.shift(),a));return l!==void 0&&(c[i.messageKey]=l),[o(c)]}}function wN(t,e,r,n){for(const i in t)if(n&&t[i]instanceof Error)t[i]=mu.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i])&&e)for(const s in t[i])e.indexOf(s)>-1&&s in r&&(t[i][s]=r[s](t[i][s]))}function SBe(t,e,r,n=!1){const i=e.send,s=e.ts,o=e.methodLevel,a=e.methodValue,l=e.val,c=t._logEvent.bindings;n||wN(r,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=s,t._logEvent.messages=r.filter(function(u){return c.indexOf(u)===-1}),t._logEvent.level.label=o,t._logEvent.level.value=a,i(o,t._logEvent,l),t._logEvent=kS(c)}function kS(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function RF(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const r in t)e[r]===void 0&&(e[r]=t[r]);return e}function $Be(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?qre:Vre}function lv(){return{}}function x7(t){return t}function W0(){}function qre(){return!1}function Vre(){return Date.now()}function IBe(){return Math.round(Date.now()/1e3)}function kBe(){return new Date(Date.now()).toISOString()}function TBe(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}Wl.exports.default=mu;Wl.exports.pino=mu;const NBe={level:"info"},P8="custom_context",bN=1e3*1024;var PBe=Object.defineProperty,RBe=(t,e,r)=>e in t?PBe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,$d=(t,e,r)=>RBe(t,typeof e!="symbol"?e+"":e,r);let OBe=class{constructor(e){$d(this,"nodeValue"),$d(this,"sizeInBytes"),$d(this,"next"),this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},OF=class{constructor(e){$d(this,"lengthInNodes"),$d(this,"sizeInBytes"),$d(this,"head"),$d(this,"tail"),$d(this,"maxSizeInBytes"),this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const r=new OBe(e);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let r=this.head;for(;r!==null;)e.push(r.value),r=r.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const r=e.value;return e=e.next,{done:!1,value:r}}}}};const jBe=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r);function jF(t){return typeof t=="string"?t:jBe(t)||""}var MBe=Object.defineProperty,DBe=(t,e,r)=>e in t?MBe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,cv=(t,e,r)=>DBe(t,typeof e!="symbol"?e+"":e,r);let Gre=class{constructor(e,r=bN){cv(this,"logs"),cv(this,"level"),cv(this,"levelValue"),cv(this,"MAX_LOG_SIZE_IN_BYTES"),this.level=e??"error",this.levelValue=Wl.exports.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new OF(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,r){r===Wl.exports.levels.values.error?console.error(e):r===Wl.exports.levels.values.warn?console.warn(e):r===Wl.exports.levels.values.debug?console.debug(e):r===Wl.exports.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(jF({timestamp:new Date().toISOString(),log:e}));const r=typeof e=="string"?JSON.parse(e).level:e.level;r>=this.levelValue&&this.forwardToConsole(e,r)}getLogs(){return this.logs}clearLogs(){this.logs=new OF(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const r=this.getLogArray();return r.push(jF({extraMetadata:e})),new Blob(r,{type:"application/json"})}};var LBe=Object.defineProperty,FBe=(t,e,r)=>e in t?LBe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,BBe=(t,e,r)=>FBe(t,e+"",r);let UBe=class{constructor(e,r=bN){BBe(this,"baseChunkLogger"),this.baseChunkLogger=new Gre(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const r=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}};var WBe=Object.defineProperty,zBe=(t,e,r)=>e in t?WBe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,HBe=(t,e,r)=>zBe(t,e+"",r);let qBe=class{constructor(e,r=bN){HBe(this,"baseChunkLogger"),this.baseChunkLogger=new Gre(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var VBe=Object.defineProperty,GBe=Object.defineProperties,KBe=Object.getOwnPropertyDescriptors,MF=Object.getOwnPropertySymbols,YBe=Object.prototype.hasOwnProperty,ZBe=Object.prototype.propertyIsEnumerable,DF=(t,e,r)=>e in t?VBe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,r6=(t,e)=>{for(var r in e||(e={}))YBe.call(e,r)&&DF(t,r,e[r]);if(MF)for(var r of MF(e))ZBe.call(e,r)&&DF(t,r,e[r]);return t},n6=(t,e)=>GBe(t,KBe(e));function JBe(t){return n6(r6({},t),{level:(t==null?void 0:t.level)||NBe.level})}function QBe(t,e,r=P8){return t[r]=e,t}function to(t,e=P8){return t[e]||""}function XBe(t,e,r=P8){const n=to(t,r);return n.trim()?`${n}/${e}`:e}function Mo(t,e,r=P8){const n=XBe(t,e,r),i=t.child({context:n});return QBe(i,n,r)}function eUe(t){var e,r;const n=new UBe((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Wl.exports(n6(r6({},t.opts),{level:"trace",browser:n6(r6({},(r=t.opts)==null?void 0:r.browser),{write:i=>n.write(i)})})),chunkLoggerController:n}}function tUe(t){var e;const r=new qBe((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Wl.exports(n6(r6({},t.opts),{level:"trace"}),r),chunkLoggerController:r}}function Kre(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?eUe(t):tUe(t)}var rUe={};const nUe=":";function yu(t){const[e,r]=t.split(nUe);return{namespace:e,reference:r}}function LF(t,e=[]){const r=[];return Object.keys(t).forEach(n=>{if(e.length&&!e.includes(n))return;const i=t[n];r.push(...i.accounts)}),r}function Yre(t,e){return t.includes(":")?[t]:e.chains||[]}var iUe=Object.defineProperty,sUe=Object.defineProperties,oUe=Object.getOwnPropertyDescriptors,FF=Object.getOwnPropertySymbols,aUe=Object.prototype.hasOwnProperty,lUe=Object.prototype.propertyIsEnumerable,TS=(t,e,r)=>e in t?iUe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,BF=(t,e)=>{for(var r in e||(e={}))aUe.call(e,r)&&TS(t,r,e[r]);if(FF)for(var r of FF(e))lUe.call(e,r)&&TS(t,r,e[r]);return t},cUe=(t,e)=>sUe(t,oUe(e)),UF=(t,e,r)=>TS(t,typeof e!="symbol"?e+"":e,r);const uUe="ReactNative",Eo={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},dUe="js";function i6(){return typeof mt<"u"&&typeof mt.versions<"u"&&typeof mt.versions.node<"u"}function xf(){return!zh()&&!!JT()&&navigator.product===uUe}function fUe(){return xf()&&typeof bt<"u"&&typeof(bt==null?void 0:bt.Platform)<"u"&&(bt==null?void 0:bt.Platform.OS)==="android"}function hUe(){return xf()&&typeof bt<"u"&&typeof(bt==null?void 0:bt.Platform)<"u"&&(bt==null?void 0:bt.Platform.OS)==="ios"}function yg(){return!i6()&&!!JT()&&!!zh()}function Lw(){return xf()?Eo.reactNative:i6()?Eo.node:yg()?Eo.browser:Eo.unknown}function WF(){var t;try{return xf()&&typeof bt<"u"&&typeof(bt==null?void 0:bt.Application)<"u"?(t=bt.Application)==null?void 0:t.applicationId:void 0}catch{return}}function pUe(t,e){const r=new URLSearchParams(t);return Object.entries(e).sort(([n],[i])=>n.localeCompare(i)).forEach(([n,i])=>{i!=null&&r.set(n,String(i))}),r.toString()}function gUe(t){var e,r;const n=Zre();try{return t!=null&&t.url&&n.url&&new URL(t.url).host!==new URL(n.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${n.url}. This is probably unintended and can lead to issues.`),t.url=n.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),cUe(BF(BF({},n),t),{url:(t==null?void 0:t.url)||n.url,name:(t==null?void 0:t.name)||n.name,description:(t==null?void 0:t.description)||n.description,icons:(r=t==null?void 0:t.icons)!=null&&r.length&&t.icons.length>0?t.icons:n.icons})}catch(i){return console.warn("Error populating app metadata",i),t||n}}function Zre(){return yte()||{name:"",description:"",url:"",icons:[""]}}function mUe(){if(Lw()===Eo.reactNative&&typeof bt<"u"&&typeof(bt==null?void 0:bt.Platform)<"u"){const{OS:r,Version:n}=bt.Platform;return[r,n].join("-")}const t=cRe();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function yUe(){var t;const e=Lw();return e===Eo.browser?[e,((t=mte())==null?void 0:t.host)||"unknown"].join(":"):e}function Jre(t,e,r){const n=mUe(),i=yUe();return[[t,e].join("-"),[dUe,r].join("-"),n,i].join("/")}function wUe({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:l}){const c=r.split("?"),u=Jre(t,e,n),f={auth:i,ua:u,projectId:s,useOnCloseEvent:o,packageName:l||void 0,bundleId:a||void 0},h=pUe(c[1]||"",f);return c[0]+"?"+h}function rh(t,e){return t.filter(r=>e.includes(r)).length===t.length}function NS(t){return Object.fromEntries(t.entries())}function PS(t){return new Map(Object.entries(t))}function Lf(t=We.FIVE_MINUTES,e){const r=We.toMiliseconds(t||We.FIVE_MINUTES);let n,i,s,o;return{resolve:a=>{s&&n&&(clearTimeout(s),n(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,l)=>{if(o)return a(o);s=setTimeout(()=>{const c=new Error(e);o=Promise.reject(c),l(c)},r),n=a,i=l})}}function Vl(t,e,r){return new Promise(async(n,i)=>{const s=setTimeout(()=>i(new Error(r)),e);try{const o=await t;n(o)}catch(o){i(o)}clearTimeout(s)})}function Qre(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function bUe(t){return Qre("topic",t)}function vUe(t){return Qre("id",t)}function Xre(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function bn(t,e){return We.fromMiliseconds(Date.now()+We.toMiliseconds(t))}function jl(t){return Date.now()>=We.toMiliseconds(t)}function xr(t,e){return`${t}${e?`:${e}`:""}`}function sc(t=[],e=[]){return[...new Set([...t,...e])]}async function xUe({id:t,topic:e,wcDeepLink:r}){var n;try{if(!r)return;const i=typeof r=="string"?JSON.parse(r):r,s=i==null?void 0:i.href;if(typeof s!="string")return;const o=EUe(s,t,e),a=Lw();if(a===Eo.browser){if(!((n=zh())!=null&&n.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}_Ue(o)}else a===Eo.reactNative&&typeof(bt==null?void 0:bt.Linking)<"u"&&await bt.Linking.openURL(o)}catch(i){console.error(i)}}function EUe(t,e,r){const n=`requestId=${e}&sessionTopic=${r}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${$Ue(n,!0)}`}else i=`${i}/wc?${n}`;return i}function _Ue(t){let e="_self";SUe()?e="_top":(AUe()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function CUe(t,e){let r="";try{if(yg()&&(r=localStorage.getItem(e),r))return r;r=await t.getItem(e)}catch(n){console.error(n)}return r}function zF(t,e){if(!t.includes(e))return null;const r=t.split(/([&,?,=])/),n=r.indexOf(e);return r[n+2]}function HF(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function vN(){return typeof mt<"u"&&rUe.IS_VITEST==="true"}function AUe(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function SUe(){try{return window.self!==window.top}catch{return!1}}function $Ue(t,e=!1){const r=Ke.from(t).toString("base64");return e?r.replace(/[=]/g,""):r}function ene(t){return Ke.from(t,"base64").toString("utf-8")}function IUe(t){return new Promise(e=>setTimeout(e,t))}let kUe=class{constructor({limit:e}){UF(this,"limit"),UF(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const r=this.set.values().next().value;r&&this.set.delete(r)}this.set.add(e)}}has(e){return this.set.has(e)}};const uv=BigInt(2**32-1),qF=BigInt(32);function tne(t,e=!1){return e?{h:Number(t&uv),l:Number(t>>qF&uv)}:{h:Number(t>>qF&uv)|0,l:Number(t&uv)|0}}function rne(t,e=!1){const r=t.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){const{h:o,l:a}=tne(t[s],e);[n[s],i[s]]=[o,a]}return[n,i]}const VF=(t,e,r)=>t>>>r,GF=(t,e,r)=>t<<32-r|e>>>r,vd=(t,e,r)=>t>>>r|e<<32-r,xd=(t,e,r)=>t<<32-r|e>>>r,Em=(t,e,r)=>t<<64-r|e>>>r-32,_m=(t,e,r)=>t>>>r-32|e<<64-r,TUe=(t,e)=>e,NUe=(t,e)=>t,PUe=(t,e,r)=>t<<r|e>>>32-r,RUe=(t,e,r)=>e<<r|t>>>32-r,OUe=(t,e,r)=>e<<r-32|t>>>64-r,jUe=(t,e,r)=>t<<r-32|e>>>64-r;function ja(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const xN=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),EN=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,MUe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),DUe=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,LUe=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),FUe=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,Lp=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function R8(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Lu(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function cl(t,...e){if(!R8(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function O8(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Lu(t.outputLen),Lu(t.blockLen)}function of(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function _N(t,e){cl(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function $2(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function ya(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function E7(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function bl(t,e){return t<<32-e|t>>>e}const nne=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function ine(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const Wc=nne?t=>t:t=>ine(t);function BUe(t){for(let e=0;e<t.length;e++)t[e]=ine(t[e]);return t}const Ed=nne?t=>t:BUe,sne=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",UUe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function z0(t){if(cl(t),sne)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=UUe[t[r]];return e}const Dc={_0:48,_9:57,A:65,F:70,a:97,f:102};function KF(t){if(t>=Dc._0&&t<=Dc._9)return t-Dc._0;if(t>=Dc.A&&t<=Dc.F)return t-(Dc.A-10);if(t>=Dc.a&&t<=Dc.f)return t-(Dc.a-10)}function s6(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(sne)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=KF(t.charCodeAt(s)),a=KF(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=o*16+a}return n}function one(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Za(t){return typeof t=="string"&&(t=one(t)),cl(t),t}function Id(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];cl(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}let j8=class{};function Fw(t){const e=n=>t().update(Za(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function WUe(t){const e=(n,i)=>t(i).update(Za(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function pp(t=32){if(Lp&&typeof Lp.getRandomValues=="function")return Lp.getRandomValues(new Uint8Array(t));if(Lp&&typeof Lp.randomBytes=="function")return Uint8Array.from(Lp.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const zUe=BigInt(0),tm=BigInt(1),HUe=BigInt(2),qUe=BigInt(7),VUe=BigInt(256),GUe=BigInt(113),ane=[],lne=[],cne=[];for(let t=0,e=tm,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],ane.push(2*(5*n+r)),lne.push((t+1)*(t+2)/2%64);let i=zUe;for(let s=0;s<7;s++)e=(e<<tm^(e>>qUe)*GUe)%VUe,e&HUe&&(i^=tm<<(tm<<BigInt(s))-tm);cne.push(i)}const une=rne(cne,!0),KUe=une[0],YUe=une[1],YF=(t,e,r)=>r>32?OUe(t,e,r):PUe(t,e,r),ZF=(t,e,r)=>r>32?jUe(t,e,r):RUe(t,e,r);function ZUe(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=r[l],u=r[l+1],f=YF(c,u,1)^r[a],h=ZF(c,u,1)^r[a+1];for(let p=0;p<50;p+=10)t[o+p]^=f,t[o+p+1]^=h}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=lne[o],l=YF(i,s,a),c=ZF(i,s,a),u=ane[o];i=t[u],s=t[u+1],t[u]=l,t[u+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=KUe[n],t[1]^=YUe[n]}ya(r)}let JUe=class dne extends j8{constructor(e,r,n,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,Lu(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=$2(this.state)}clone(){return this._cloneInto()}keccak(){Ed(this.state32),ZUe(this.state32,this.rounds),Ed(this.state32),this.posOut=0,this.pos=0}update(e){of(this),e=Za(e),cl(e);const{blockLen:r,state:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){of(this,!1),cl(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Lu(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(_N(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,ya(this.state)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new dne(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const QUe=(t,e,r)=>Fw(()=>new JUe(e,t,r)),XUe=QUe(1,136,256/8);function eWe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),l=n?4:0,c=n?0:4;t.setUint32(e+l,o,n),t.setUint32(e+c,a,n)}function tWe(t,e,r){return t&e^~t&r}function rWe(t,e,r){return t&e^t&r^e&r}let fne=class extends j8{constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=E7(this.buffer)}update(e){of(this),e=Za(e),cl(e);const{view:r,buffer:n,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=E7(e);for(;i<=s-o;o+=i)this.process(l,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){of(this),_N(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,ya(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;eWe(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=E7(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,u[f],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}};const ud=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Pi=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Ri=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),nWe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),dd=new Uint32Array(64);class iWe extends fne{constructor(e=32){super(64,e,8,!1),this.A=ud[0]|0,this.B=ud[1]|0,this.C=ud[2]|0,this.D=ud[3]|0,this.E=ud[4]|0,this.F=ud[5]|0,this.G=ud[6]|0,this.H=ud[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:l}=this;return[e,r,n,i,s,o,a,l]}set(e,r,n,i,s,o,a,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,r){for(let f=0;f<16;f++,r+=4)dd[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){const h=dd[f-15],p=dd[f-2],g=bl(h,7)^bl(h,18)^h>>>3,m=bl(p,17)^bl(p,19)^p>>>10;dd[f]=m+dd[f-7]+g+dd[f-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let f=0;f<64;f++){const h=bl(a,6)^bl(a,11)^bl(a,25),p=u+h+tWe(a,l,c)+nWe[f]+dd[f]|0,g=(bl(n,2)^bl(n,13)^bl(n,22))+rWe(n,i,s)|0;u=c,c=l,l=a,a=o+p|0,o=s,s=i,i=n,n=p+g|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,i,s,o,a,l,c,u)}roundClean(){ya(dd)}destroy(){this.set(0,0,0,0,0,0,0,0),ya(this.buffer)}}const hne=rne(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),sWe=hne[0],oWe=hne[1],fd=new Uint32Array(80),hd=new Uint32Array(80);let CN=class extends fne{constructor(e=64){super(128,e,16,!1),this.Ah=Ri[0]|0,this.Al=Ri[1]|0,this.Bh=Ri[2]|0,this.Bl=Ri[3]|0,this.Ch=Ri[4]|0,this.Cl=Ri[5]|0,this.Dh=Ri[6]|0,this.Dl=Ri[7]|0,this.Eh=Ri[8]|0,this.El=Ri[9]|0,this.Fh=Ri[10]|0,this.Fl=Ri[11]|0,this.Gh=Ri[12]|0,this.Gl=Ri[13]|0,this.Hh=Ri[14]|0,this.Hl=Ri[15]|0}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:f,Fl:h,Gh:p,Gl:g,Hh:m,Hl:w}=this;return[e,r,n,i,s,o,a,l,c,u,f,h,p,g,m,w]}set(e,r,n,i,s,o,a,l,c,u,f,h,p,g,m,w){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=f|0,this.Fl=h|0,this.Gh=p|0,this.Gl=g|0,this.Hh=m|0,this.Hl=w|0}process(e,r){for(let v=0;v<16;v++,r+=4)fd[v]=e.getUint32(r),hd[v]=e.getUint32(r+=4);for(let v=16;v<80;v++){const b=fd[v-15]|0,$=hd[v-15]|0,P=vd(b,$,1)^vd(b,$,8)^VF(b,$,7),O=xd(b,$,1)^xd(b,$,8)^GF(b,$,7),D=fd[v-2]|0,B=hd[v-2]|0,H=vd(D,B,19)^Em(D,B,61)^VF(D,B,6),q=xd(D,B,19)^_m(D,B,61)^GF(D,B,6),Y=MUe(O,q,hd[v-7],hd[v-16]),R=DUe(Y,P,H,fd[v-7],fd[v-16]);fd[v]=R|0,hd[v]=Y|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:f,El:h,Fh:p,Fl:g,Gh:m,Gl:w,Hh:y,Hl:E}=this;for(let v=0;v<80;v++){const b=vd(f,h,14)^vd(f,h,18)^Em(f,h,41),$=xd(f,h,14)^xd(f,h,18)^_m(f,h,41),P=f&p^~f&m,O=h&g^~h&w,D=LUe(E,$,O,oWe[v],hd[v]),B=FUe(D,y,b,P,sWe[v],fd[v]),H=D|0,q=vd(n,i,28)^Em(n,i,34)^Em(n,i,39),Y=xd(n,i,28)^_m(n,i,34)^_m(n,i,39),R=n&s^n&a^s&a,_=i&o^i&l^o&l;y=m|0,E=w|0,m=p|0,w=g|0,p=f|0,g=h|0,{h:f,l:h}=ja(c|0,u|0,B|0,H|0),c=a|0,u=l|0,a=s|0,l=o|0,s=n|0,o=i|0;const x=xN(H,Y,_);n=EN(x,B,q,R),i=x|0}({h:n,l:i}=ja(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=ja(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=ja(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=ja(this.Dh|0,this.Dl|0,c|0,u|0),{h:f,l:h}=ja(this.Eh|0,this.El|0,f|0,h|0),{h:p,l:g}=ja(this.Fh|0,this.Fl|0,p|0,g|0),{h:m,l:w}=ja(this.Gh|0,this.Gl|0,m|0,w|0),{h:y,l:E}=ja(this.Hh|0,this.Hl|0,y|0,E|0),this.set(n,i,s,o,a,l,c,u,f,h,p,g,m,w,y,E)}roundClean(){ya(fd,hd)}destroy(){ya(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};class aWe extends CN{constructor(){super(48),this.Ah=Pi[0]|0,this.Al=Pi[1]|0,this.Bh=Pi[2]|0,this.Bl=Pi[3]|0,this.Ch=Pi[4]|0,this.Cl=Pi[5]|0,this.Dh=Pi[6]|0,this.Dl=Pi[7]|0,this.Eh=Pi[8]|0,this.El=Pi[9]|0,this.Fh=Pi[10]|0,this.Fl=Pi[11]|0,this.Gh=Pi[12]|0,this.Gl=Pi[13]|0,this.Hh=Pi[14]|0,this.Hl=Pi[15]|0}}const Oi=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class lWe extends CN{constructor(){super(32),this.Ah=Oi[0]|0,this.Al=Oi[1]|0,this.Bh=Oi[2]|0,this.Bl=Oi[3]|0,this.Ch=Oi[4]|0,this.Cl=Oi[5]|0,this.Dh=Oi[6]|0,this.Dl=Oi[7]|0,this.Eh=Oi[8]|0,this.El=Oi[9]|0,this.Fh=Oi[10]|0,this.Fl=Oi[11]|0,this.Gh=Oi[12]|0,this.Gl=Oi[13]|0,this.Hh=Oi[14]|0,this.Hl=Oi[15]|0}}const M8=Fw(()=>new iWe),cWe=Fw(()=>new CN),uWe=Fw(()=>new aWe),dWe=Fw(()=>new lWe),fWe=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),kn=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Ze=new Uint32Array(32);function pd(t,e,r,n,i,s){const o=i[s],a=i[s+1];let l=Ze[2*t],c=Ze[2*t+1],u=Ze[2*e],f=Ze[2*e+1],h=Ze[2*r],p=Ze[2*r+1],g=Ze[2*n],m=Ze[2*n+1],w=xN(l,u,o);c=EN(w,c,f,a),l=w|0,{Dh:m,Dl:g}={Dh:m^c,Dl:g^l},{Dh:m,Dl:g}={Dh:TUe(m,g),Dl:NUe(m)},{h:p,l:h}=ja(p,h,m,g),{Bh:f,Bl:u}={Bh:f^p,Bl:u^h},{Bh:f,Bl:u}={Bh:vd(f,u,24),Bl:xd(f,u,24)},Ze[2*t]=l,Ze[2*t+1]=c,Ze[2*e]=u,Ze[2*e+1]=f,Ze[2*r]=h,Ze[2*r+1]=p,Ze[2*n]=g,Ze[2*n+1]=m}function gd(t,e,r,n,i,s){const o=i[s],a=i[s+1];let l=Ze[2*t],c=Ze[2*t+1],u=Ze[2*e],f=Ze[2*e+1],h=Ze[2*r],p=Ze[2*r+1],g=Ze[2*n],m=Ze[2*n+1],w=xN(l,u,o);c=EN(w,c,f,a),l=w|0,{Dh:m,Dl:g}={Dh:m^c,Dl:g^l},{Dh:m,Dl:g}={Dh:vd(m,g,16),Dl:xd(m,g,16)},{h:p,l:h}=ja(p,h,m,g),{Bh:f,Bl:u}={Bh:f^p,Bl:u^h},{Bh:f,Bl:u}={Bh:Em(f,u,63),Bl:_m(f,u,63)},Ze[2*t]=l,Ze[2*t+1]=c,Ze[2*e]=u,Ze[2*e+1]=f,Ze[2*r]=h,Ze[2*r+1]=p,Ze[2*n]=g,Ze[2*n+1]=m}function hWe(t,e={},r,n,i){if(Lu(r),t<0||t>r)throw new Error("outputLen bigger than keyLen");const{key:s,salt:o,personalization:a}=e;if(s!==void 0&&(s.length<1||s.length>r))throw new Error("key length must be undefined or 1.."+r);if(o!==void 0&&o.length!==n)throw new Error("salt must be undefined or "+n);if(a!==void 0&&a.length!==i)throw new Error("personalization must be undefined or "+i)}class pWe extends j8{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Lu(e),Lu(r),this.blockLen=e,this.outputLen=r,this.buffer=new Uint8Array(e),this.buffer32=$2(this.buffer)}update(e){of(this),e=Za(e),cl(e);const{blockLen:r,buffer:n,buffer32:i}=this,s=e.length,o=e.byteOffset,a=e.buffer;for(let l=0;l<s;){this.pos===r&&(Ed(i),this.compress(i,0,!1),Ed(i),this.pos=0);const c=Math.min(r-this.pos,s-l),u=o+l;if(c===r&&!(u%4)&&l+c<s){const f=new Uint32Array(a,u,Math.floor((s-l)/4));Ed(f);for(let h=0;l+r<s;h+=i.length,l+=r)this.length+=r,this.compress(f,h,!1);Ed(f);continue}n.set(e.subarray(l,l+c),this.pos),this.pos+=c,this.length+=c,l+=c}return this}digestInto(e){of(this),_N(e,this);const{pos:r,buffer32:n}=this;this.finished=!0,ya(this.buffer.subarray(r)),Ed(n),this.compress(n,0,!0),Ed(n);const i=$2(e);this.get().forEach((s,o)=>i[o]=Wc(s))}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){const{buffer:r,length:n,finished:i,destroyed:s,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(r),e.destroyed=s,e.finished=i,e.length=n,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}}class gWe extends pWe{constructor(e={}){const r=e.dkLen===void 0?64:e.dkLen;super(128,r),this.v0l=kn[0]|0,this.v0h=kn[1]|0,this.v1l=kn[2]|0,this.v1h=kn[3]|0,this.v2l=kn[4]|0,this.v2h=kn[5]|0,this.v3l=kn[6]|0,this.v3h=kn[7]|0,this.v4l=kn[8]|0,this.v4h=kn[9]|0,this.v5l=kn[10]|0,this.v5h=kn[11]|0,this.v6l=kn[12]|0,this.v6h=kn[13]|0,this.v7l=kn[14]|0,this.v7h=kn[15]|0,hWe(r,e,64,16,16);let{key:n,personalization:i,salt:s}=e,o=0;if(n!==void 0&&(n=Za(n),o=n.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,s!==void 0){s=Za(s);const a=$2(s);this.v4l^=Wc(a[0]),this.v4h^=Wc(a[1]),this.v5l^=Wc(a[2]),this.v5h^=Wc(a[3])}if(i!==void 0){i=Za(i);const a=$2(i);this.v6l^=Wc(a[0]),this.v6h^=Wc(a[1]),this.v7l^=Wc(a[2]),this.v7h^=Wc(a[3])}if(n!==void 0){const a=new Uint8Array(this.blockLen);a.set(n),this.update(a)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:i,v2l:s,v2h:o,v3l:a,v3h:l,v4l:c,v4h:u,v5l:f,v5h:h,v6l:p,v6h:g,v7l:m,v7h:w}=this;return[e,r,n,i,s,o,a,l,c,u,f,h,p,g,m,w]}set(e,r,n,i,s,o,a,l,c,u,f,h,p,g,m,w){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=s|0,this.v2h=o|0,this.v3l=a|0,this.v3h=l|0,this.v4l=c|0,this.v4h=u|0,this.v5l=f|0,this.v5h=h|0,this.v6l=p|0,this.v6h=g|0,this.v7l=m|0,this.v7h=w|0}compress(e,r,n){this.get().forEach((l,c)=>Ze[c]=l),Ze.set(kn,16);let{h:i,l:s}=tne(BigInt(this.length));Ze[24]=kn[8]^s,Ze[25]=kn[9]^i,n&&(Ze[28]=~Ze[28],Ze[29]=~Ze[29]);let o=0;const a=fWe;for(let l=0;l<12;l++)pd(0,4,8,12,e,r+2*a[o++]),gd(0,4,8,12,e,r+2*a[o++]),pd(1,5,9,13,e,r+2*a[o++]),gd(1,5,9,13,e,r+2*a[o++]),pd(2,6,10,14,e,r+2*a[o++]),gd(2,6,10,14,e,r+2*a[o++]),pd(3,7,11,15,e,r+2*a[o++]),gd(3,7,11,15,e,r+2*a[o++]),pd(0,5,10,15,e,r+2*a[o++]),gd(0,5,10,15,e,r+2*a[o++]),pd(1,6,11,12,e,r+2*a[o++]),gd(1,6,11,12,e,r+2*a[o++]),pd(2,7,8,13,e,r+2*a[o++]),gd(2,7,8,13,e,r+2*a[o++]),pd(3,4,9,14,e,r+2*a[o++]),gd(3,4,9,14,e,r+2*a[o++]);this.v0l^=Ze[0]^Ze[16],this.v0h^=Ze[1]^Ze[17],this.v1l^=Ze[2]^Ze[18],this.v1h^=Ze[3]^Ze[19],this.v2l^=Ze[4]^Ze[20],this.v2h^=Ze[5]^Ze[21],this.v3l^=Ze[6]^Ze[22],this.v3h^=Ze[7]^Ze[23],this.v4l^=Ze[8]^Ze[24],this.v4h^=Ze[9]^Ze[25],this.v5l^=Ze[10]^Ze[26],this.v5h^=Ze[11]^Ze[27],this.v6l^=Ze[12]^Ze[28],this.v6h^=Ze[13]^Ze[29],this.v7l^=Ze[14]^Ze[30],this.v7h^=Ze[15]^Ze[31],ya(Ze)}destroy(){this.destroyed=!0,ya(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const mWe=WUe(t=>new gWe(t)),yWe="https://rpc.walletconnect.org/v1";function pne(t){const e=`Ethereum Signed Message:
${t.length}`,r=new TextEncoder().encode(e+t);return"0x"+Ke.from(XUe(r)).toString("hex")}async function wWe(t,e,r,n,i,s){switch(r.t){case"eip191":return await bWe(t,e,r.s);case"eip1271":return await vWe(t,e,r.s,n,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}function bWe(t,e,r){const n=hje(r);return Sje({payload:pne(e),signature:n}).toLowerCase()===t.toLowerCase()}async function vWe(t,e,r,n,i,s){const o=yu(n);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{const a="0x1626ba7e",l="0000000000000000000000000000000000000000000000000000000000000040",c=r.substring(2),u=(c.length/2).toString(16).padStart(64,"0"),f=(e.startsWith("0x")?e:pne(e)).substring(2),h=a+f+l+u+c,p=await fetch(`${s||yWe}/?chainId=${n}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:xWe(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:h},"latest"]})}),{result:g}=await p.json();return g?g.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function xWe(){return Date.now()+Math.floor(Math.random()*1e3)}function EWe(t){const e=atob(t),r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);const n=r[0];if(n===0)throw new Error("No signatures found");const i=1+n*64;if(r.length<i)throw new Error("Transaction data too short for claimed signature count");if(r.length<100)throw new Error("Transaction too short");const s=Ke.from(t,"base64").slice(1,65);return jw.encode(s)}function _We(t){const e=new Uint8Array(Ke.from(t,"base64")),r=Array.from("TransactionData::").map(s=>s.charCodeAt(0)),n=new Uint8Array(r.length+e.length);n.set(r),n.set(e,r.length);const i=mWe(n,{dkLen:32});return jw.encode(i)}function JF(t){const e=new Uint8Array(M8(CWe(t)));return jw.encode(e)}function CWe(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function QF(t){const e=Ke.from(t,"base64"),r=dMe(e).txn;if(!r)throw new Error("Invalid signed transaction: missing 'txn' field");const n=rMe(r),i=Ke.from("TX"),s=Ke.concat([i,Ke.from(n)]),o=dWe(s);return Aje.encode(o).replace(/=+$/,"")}function _7(t){const e=[];let r=BigInt(t);for(;r>=BigInt(128);)e.push(Number(r&BigInt(127)|BigInt(128))),r>>=BigInt(7);return e.push(Number(r)),Ke.from(e)}function AWe(t){const e=Ke.from(t.signed.bodyBytes,"base64"),r=Ke.from(t.signed.authInfoBytes,"base64"),n=Ke.from(t.signature.signature,"base64"),i=[];i.push(Ke.from([10])),i.push(_7(e.length)),i.push(e),i.push(Ke.from([18])),i.push(_7(r.length)),i.push(r),i.push(Ke.from([26])),i.push(_7(n.length)),i.push(n);const s=Ke.concat(i),o=M8(s);return Ke.from(o).toString("hex").toUpperCase()}function SWe(t){var e,r;const n=[];try{if(typeof t=="string")return n.push(t),n;if(typeof t!="object")return n;t!=null&&t.id&&n.push(t.id);const i=(r=(e=t==null?void 0:t.capabilities)==null?void 0:e.caip345)==null?void 0:r.transactionHashes;i&&n.push(...i)}catch(i){console.warn("getWalletSendCallsHashes failed: ",i)}return n}var $We=Object.defineProperty,IWe=Object.defineProperties,kWe=Object.getOwnPropertyDescriptors,XF=Object.getOwnPropertySymbols,TWe=Object.prototype.hasOwnProperty,NWe=Object.prototype.propertyIsEnumerable,eB=(t,e,r)=>e in t?$We(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,PWe=(t,e)=>{for(var r in e||(e={}))TWe.call(e,r)&&eB(t,r,e[r]);if(XF)for(var r of XF(e))NWe.call(e,r)&&eB(t,r,e[r]);return t},RWe=(t,e)=>IWe(t,kWe(e));const gne="did:pkh:",OWe={eip155:"Ethereum",solana:"Solana",bip122:"Bitcoin"},jWe=t=>t?OWe[t]||t:"",D8=t=>t==null?void 0:t.split(":"),MWe=t=>{const e=t&&D8(t);if(e)return t.includes(gne)?e[3]:e[1]},DWe=t=>{const e=t&&D8(t);if(e)return t.includes(gne)?e[2]:e[0]},RS=t=>{const e=t&&D8(t);if(e)return e[2]+":"+e[3]},o6=t=>{const e=t&&D8(t);if(e)return e.pop()};async function tB(t){const{cacao:e,projectId:r}=t,{s:n,p:i}=e,s=mne(i,i.iss),o=o6(i.iss);return await wWe(o,s,n,RS(i.iss),r)}const mne=(t,e)=>{const r=DWe(e);if(!r)throw new Error("Invalid issuer: "+e);const n=`${t.domain} wants you to sign in with your ${jWe(r)} account:`,i=o6(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let s=t.statement||void 0;const o=`URI: ${t.aud||t.uri}`,a=`Version: ${t.version}`,l=`Chain ID: ${MWe(e)}`,c=`Nonce: ${t.nonce}`,u=`Issued At: ${t.iat}`,f=t.exp?`Expiration Time: ${t.exp}`:void 0,h=t.nbf?`Not Before: ${t.nbf}`:void 0,p=t.requestId?`Request ID: ${t.requestId}`:void 0,g=t.resources?`Resources:${t.resources.map(w=>`
- ${w}`).join("")}`:void 0,m=v3(t.resources);if(m){const w=I2(m);s=VWe(s,w)}return[n,i,"",s,"",o,a,l,c,u,f,h,p,g].filter(w=>w!=null).join(`
`)};function LWe(t){return Ke.from(JSON.stringify(t)).toString("base64")}function FWe(t){return JSON.parse(Ke.from(t,"base64").toString("utf-8"))}function Vh(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(r=>{const n=t.att[r];if(Array.isArray(n))throw new Error(`Resource must be an object: ${r}`);if(typeof n!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(n).forEach(i=>{const s=n[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function BWe(t,e,r,n={}){return r==null||r.sort((i,s)=>i.localeCompare(s)),{att:{[t]:UWe(e,r,n)}}}function UWe(t,e,r={}){e=e==null?void 0:e.sort((i,s)=>i.localeCompare(s));const n=e.map(i=>({[`${t}/${i}`]:[r]}));return Object.assign({},...n)}function yne(t){return Vh(t),`urn:recap:${LWe(t).replace(/=/g,"")}`}function I2(t){const e=FWe(t.replace("urn:recap:",""));return Vh(e),e}function WWe(t,e,r){const n=BWe(t,e,r);return yne(n)}function zWe(t){return t&&t.includes("urn:recap:")}function HWe(t,e){const r=I2(t),n=I2(e),i=qWe(r,n);return yne(i)}function qWe(t,e){Vh(t),Vh(e);const r=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),n={att:{}};return r.forEach(i=>{var s,o;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[i])||{})).sort((a,l)=>a.localeCompare(l)).forEach(a=>{var l,c;n.att[i]=RWe(PWe({},n.att[i]),{[a]:((l=t.att[i])==null?void 0:l[a])||((c=e.att[i])==null?void 0:c[a])})})}),n}function VWe(t="",e){Vh(e);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(r))return t;const n=[];let i=0;Object.keys(e.att).forEach(a=>{const l=Object.keys(e.att[a]).map(f=>({ability:f.split("/")[0],action:f.split("/")[1]}));l.sort((f,h)=>f.action.localeCompare(h.action));const c={};l.forEach(f=>{c[f.ability]||(c[f.ability]=[]),c[f.ability].push(f.action)});const u=Object.keys(c).map(f=>(i++,`(${i}) '${f}': '${c[f].join("', '")}' for '${a}'.`));n.push(u.join(", ").replace(".,","."))});const s=n.join(" "),o=`${r}${s}`;return`${t?t+" ":""}${o}`}function rB(t){var e;const r=I2(t);Vh(r);const n=(e=r.att)==null?void 0:e.eip155;return n?Object.keys(n).map(i=>i.split("/")[1]):[]}function nB(t){const e=I2(t);Vh(e);const r=[];return Object.values(e.att).forEach(n=>{Object.values(n).forEach(i=>{var s;(s=i==null?void 0:i[0])!=null&&s.chains&&r.push(i[0].chains)})}),[...new Set(r.flat())]}function v3(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return zWe(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function wne(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function OS(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function C7(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Ps(t,...e){if(!wne(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function iB(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function GWe(t,e){Ps(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function Yd(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function N1(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function KWe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const YWe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function ZWe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function jS(t){if(typeof t=="string")t=ZWe(t);else if(wne(t))t=MS(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function JWe(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function QWe(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}const XWe=(t,e)=>{function r(n,...i){if(Ps(n),!YWe)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const c=i[0];if(!c)throw new Error("nonce / iv required");t.varSizeNonce?Ps(c):Ps(c,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&Ps(i[1]);const o=e(n,...i),a=(c,u)=>{if(u!==void 0){if(c!==2)throw new Error("cipher output not supported");Ps(u)}};let l=!1;return{encrypt(c,u){if(l)throw new Error("cannot encrypt() twice with same key + nonce");return l=!0,Ps(c),a(o.encrypt.length,u),o.encrypt(c,u)},decrypt(c,u){if(Ps(c),s&&c.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,u),o.decrypt(c,u)}}}return Object.assign(r,t),r};function sB(t,e,r=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(r&&!tze(e))throw new Error("invalid output, must be aligned");return e}function oB(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s);t.setUint32(e+4,o,n),t.setUint32(e+0,a,n)}function eze(t,e,r){OS(r);const n=new Uint8Array(16),i=KWe(n);return oB(i,0,BigInt(e),r),oB(i,8,BigInt(t),r),n}function tze(t){return t.byteOffset%4===0}function MS(t){return Uint8Array.from(t)}const bne=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),rze=bne("expand 16-byte k"),nze=bne("expand 32-byte k"),ize=Yd(rze),sze=Yd(nze);function fr(t,e){return t<<e|t>>>32-e}function DS(t){return t.byteOffset%4===0}const dv=64,oze=16,vne=2**32-1,aB=new Uint32Array;function aze(t,e,r,n,i,s,o,a){const l=i.length,c=new Uint8Array(dv),u=Yd(c),f=DS(i)&&DS(s),h=f?Yd(i):aB,p=f?Yd(s):aB;for(let g=0;g<l;o++){if(t(e,r,n,u,o,a),o>=vne)throw new Error("arx: counter overflow");const m=Math.min(dv,l-g);if(f&&m===dv){const w=g/4;if(g%4!==0)throw new Error("arx: invalid block position");for(let y=0,E;y<oze;y++)E=w+y,p[E]=h[E]^u[y];g+=dv;continue}for(let w=0,y;w<m;w++)y=g+w,s[y]=i[y]^c[w];g+=m}}function lze(t,e){const{allowShortKeys:r,extendNonceFn:n,counterLength:i,counterRight:s,rounds:o}=JWe({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return C7(i),C7(o),OS(s),OS(r),(a,l,c,u,f=0)=>{Ps(a),Ps(l),Ps(c);const h=c.length;if(u===void 0&&(u=new Uint8Array(h)),Ps(u),C7(f),f<0||f>=vne)throw new Error("arx: counter overflow");if(u.length<h)throw new Error(`arx: output (${u.length}) is shorter than data (${h})`);const p=[];let g=a.length,m,w;if(g===32)p.push(m=MS(a)),w=sze;else if(g===16&&r)m=new Uint8Array(32),m.set(a),m.set(a,16),w=ize,p.push(m);else throw new Error(`arx: invalid 32-byte key, got length=${g}`);DS(l)||p.push(l=MS(l));const y=Yd(m);if(n){if(l.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(w,y,Yd(l.subarray(0,16)),y),l=l.subarray(16)}const E=16-i;if(E!==l.length)throw new Error(`arx: nonce must be ${E} or 16 bytes`);if(E!==12){const b=new Uint8Array(12);b.set(l,s?0:12-l.length),l=b,p.push(l)}const v=Yd(l);return aze(t,w,y,v,c,u,f,o),N1(...p),u}}const fi=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class cze{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=jS(e),Ps(e,32);const r=fi(e,0),n=fi(e,2),i=fi(e,4),s=fi(e,6),o=fi(e,8),a=fi(e,10),l=fi(e,12),c=fi(e,14);this.r[0]=r&8191,this.r[1]=(r>>>13|n<<3)&8191,this.r[2]=(n>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|l<<5)&8065,this.r[8]=(l>>>8|c<<8)&8191,this.r[9]=c>>>5&127;for(let u=0;u<8;u++)this.pad[u]=fi(e,16+2*u)}process(e,r,n=!1){const i=n?0:2048,{h:s,r:o}=this,a=o[0],l=o[1],c=o[2],u=o[3],f=o[4],h=o[5],p=o[6],g=o[7],m=o[8],w=o[9],y=fi(e,r+0),E=fi(e,r+2),v=fi(e,r+4),b=fi(e,r+6),$=fi(e,r+8),P=fi(e,r+10),O=fi(e,r+12),D=fi(e,r+14);let B=s[0]+(y&8191),H=s[1]+((y>>>13|E<<3)&8191),q=s[2]+((E>>>10|v<<6)&8191),Y=s[3]+((v>>>7|b<<9)&8191),R=s[4]+((b>>>4|$<<12)&8191),_=s[5]+($>>>1&8191),x=s[6]+(($>>>14|P<<2)&8191),A=s[7]+((P>>>11|O<<5)&8191),T=s[8]+((O>>>8|D<<8)&8191),I=s[9]+(D>>>5|i),N=0,M=N+B*a+H*(5*w)+q*(5*m)+Y*(5*g)+R*(5*p);N=M>>>13,M&=8191,M+=_*(5*h)+x*(5*f)+A*(5*u)+T*(5*c)+I*(5*l),N+=M>>>13,M&=8191;let U=N+B*l+H*a+q*(5*w)+Y*(5*m)+R*(5*g);N=U>>>13,U&=8191,U+=_*(5*p)+x*(5*h)+A*(5*f)+T*(5*u)+I*(5*c),N+=U>>>13,U&=8191;let S=N+B*c+H*l+q*a+Y*(5*w)+R*(5*m);N=S>>>13,S&=8191,S+=_*(5*g)+x*(5*p)+A*(5*h)+T*(5*f)+I*(5*u),N+=S>>>13,S&=8191;let F=N+B*u+H*c+q*l+Y*a+R*(5*w);N=F>>>13,F&=8191,F+=_*(5*m)+x*(5*g)+A*(5*p)+T*(5*h)+I*(5*f),N+=F>>>13,F&=8191;let Q=N+B*f+H*u+q*c+Y*l+R*a;N=Q>>>13,Q&=8191,Q+=_*(5*w)+x*(5*m)+A*(5*g)+T*(5*p)+I*(5*h),N+=Q>>>13,Q&=8191;let k=N+B*h+H*f+q*u+Y*c+R*l;N=k>>>13,k&=8191,k+=_*a+x*(5*w)+A*(5*m)+T*(5*g)+I*(5*p),N+=k>>>13,k&=8191;let W=N+B*p+H*h+q*f+Y*u+R*c;N=W>>>13,W&=8191,W+=_*l+x*a+A*(5*w)+T*(5*m)+I*(5*g),N+=W>>>13,W&=8191;let V=N+B*g+H*p+q*h+Y*f+R*u;N=V>>>13,V&=8191,V+=_*c+x*l+A*a+T*(5*w)+I*(5*m),N+=V>>>13,V&=8191;let ee=N+B*m+H*g+q*p+Y*h+R*f;N=ee>>>13,ee&=8191,ee+=_*u+x*c+A*l+T*a+I*(5*w),N+=ee>>>13,ee&=8191;let te=N+B*w+H*m+q*g+Y*p+R*h;N=te>>>13,te&=8191,te+=_*f+x*u+A*c+T*l+I*a,N+=te>>>13,te&=8191,N=(N<<2)+N|0,N=N+M|0,M=N&8191,N=N>>>13,U+=N,s[0]=M,s[1]=U,s[2]=S,s[3]=F,s[4]=Q,s[5]=k,s[6]=W,s[7]=V,s[8]=ee,s[9]=te}finalize(){const{h:e,pad:r}=this,n=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,n[0]=e[0]+5,i=n[0]>>>13,n[0]&=8191;for(let a=1;a<10;a++)n[a]=e[a]+i,i=n[a]>>>13,n[a]&=8191;n[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)n[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|n[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+r[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+r[a]|0)+(o>>>16)|0,e[a]=o&65535;N1(n)}update(e){iB(this),e=jS(e),Ps(e);const{buffer:r,blockLen:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);if(o===n){for(;n<=i-s;s+=n)this.process(e,s);continue}r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){N1(this.h,this.r,this.buffer,this.pad)}digestInto(e){iB(this),GWe(e,this),this.finished=!0;const{buffer:r,h:n}=this;let{pos:i}=this;if(i){for(r[i++]=1;i<16;i++)r[i]=0;this.process(r,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=n[o]>>>0,e[s++]=n[o]>>>8;return e}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}}function uze(t){const e=(n,i)=>t(i).update(jS(n)).digest(),r=t(new Uint8Array(32));return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}const dze=uze(t=>new cze(t));function fze(t,e,r,n,i,s=20){let o=t[0],a=t[1],l=t[2],c=t[3],u=e[0],f=e[1],h=e[2],p=e[3],g=e[4],m=e[5],w=e[6],y=e[7],E=i,v=r[0],b=r[1],$=r[2],P=o,O=a,D=l,B=c,H=u,q=f,Y=h,R=p,_=g,x=m,A=w,T=y,I=E,N=v,M=b,U=$;for(let F=0;F<s;F+=2)P=P+H|0,I=fr(I^P,16),_=_+I|0,H=fr(H^_,12),P=P+H|0,I=fr(I^P,8),_=_+I|0,H=fr(H^_,7),O=O+q|0,N=fr(N^O,16),x=x+N|0,q=fr(q^x,12),O=O+q|0,N=fr(N^O,8),x=x+N|0,q=fr(q^x,7),D=D+Y|0,M=fr(M^D,16),A=A+M|0,Y=fr(Y^A,12),D=D+Y|0,M=fr(M^D,8),A=A+M|0,Y=fr(Y^A,7),B=B+R|0,U=fr(U^B,16),T=T+U|0,R=fr(R^T,12),B=B+R|0,U=fr(U^B,8),T=T+U|0,R=fr(R^T,7),P=P+q|0,U=fr(U^P,16),A=A+U|0,q=fr(q^A,12),P=P+q|0,U=fr(U^P,8),A=A+U|0,q=fr(q^A,7),O=O+Y|0,I=fr(I^O,16),T=T+I|0,Y=fr(Y^T,12),O=O+Y|0,I=fr(I^O,8),T=T+I|0,Y=fr(Y^T,7),D=D+R|0,N=fr(N^D,16),_=_+N|0,R=fr(R^_,12),D=D+R|0,N=fr(N^D,8),_=_+N|0,R=fr(R^_,7),B=B+H|0,M=fr(M^B,16),x=x+M|0,H=fr(H^x,12),B=B+H|0,M=fr(M^B,8),x=x+M|0,H=fr(H^x,7);let S=0;n[S++]=o+P|0,n[S++]=a+O|0,n[S++]=l+D|0,n[S++]=c+B|0,n[S++]=u+H|0,n[S++]=f+q|0,n[S++]=h+Y|0,n[S++]=p+R|0,n[S++]=g+_|0,n[S++]=m+x|0,n[S++]=w+A|0,n[S++]=y+T|0,n[S++]=E+I|0,n[S++]=v+N|0,n[S++]=b+M|0,n[S++]=$+U|0}const hze=lze(fze,{counterRight:!1,counterLength:4,allowShortKeys:!1}),pze=new Uint8Array(16),lB=(t,e)=>{t.update(e);const r=e.length%16;r&&t.update(pze.subarray(r))},gze=new Uint8Array(32);function cB(t,e,r,n,i){const s=t(e,r,gze),o=dze.create(s);i&&lB(o,i),lB(o,n);const a=eze(n.length,i?i.length:0,!0);o.update(a);const l=o.digest();return N1(s,a),l}const mze=t=>(e,r,n)=>({encrypt(i,s){const o=i.length;s=sB(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,r,a,a,1);const l=cB(t,e,r,a,n);return s.set(l,o),N1(l),s},decrypt(i,s){s=sB(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),l=cB(t,e,r,o,n);if(!QWe(a,l))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,r,s,s,1),N1(l),s}}),xne=XWe({blockSize:64,nonceLength:12,tagLength:16},mze(hze));let Ene=class extends j8{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,O8(e);const n=Za(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),ya(s)}update(e){return of(this),this.iHash.update(e),this}digestInto(e){of(this),cl(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const L8=(t,e,r)=>new Ene(t,e).update(r).digest();L8.create=(t,e)=>new Ene(t,e);function yze(t,e,r){return O8(t),r===void 0&&(r=new Uint8Array(t.outputLen)),L8(t,Za(r),Za(e))}const A7=Uint8Array.from([0]),uB=Uint8Array.of();function wze(t,e,r,n=32){O8(t),Lu(n);const i=t.outputLen;if(n>255*i)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(n/i);r===void 0&&(r=uB);const o=new Uint8Array(s*i),a=L8.create(t,e),l=a._cloneInto(),c=new Uint8Array(a.outputLen);for(let u=0;u<s;u++)A7[0]=u+1,l.update(u===0?uB:c).update(r).update(A7).digestInto(c),o.set(c,i*u),a._cloneInto(l);return a.destroy(),l.destroy(),ya(c,A7),o.slice(0,n)}const bze=(t,e,r,n,i)=>wze(t,yze(t,e,r),n,i),F8=M8,AN=BigInt(0),LS=BigInt(1);function a6(t,e=""){if(typeof t!="boolean"){const r=e&&`"${e}"`;throw new Error(r+"expected boolean, got type="+typeof t)}return t}function nh(t,e,r=""){const n=R8(t),i=t==null?void 0:t.length,s=e!==void 0;if(!n||s&&i!==e){const o=r&&`"${r}" `,a=s?` of length ${e}`:"",l=n?`length=${i}`:`type=${typeof t}`;throw new Error(o+"expected Uint8Array"+a+", got "+l)}return t}function fv(t){const e=t.toString(16);return e.length&1?"0"+e:e}function _ne(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?AN:BigInt("0x"+t)}function B8(t){return _ne(z0(t))}function l6(t){return cl(t),_ne(z0(Uint8Array.from(t).reverse()))}function SN(t,e){return s6(t.toString(16).padStart(e*2,"0"))}function $N(t,e){return SN(t,e).reverse()}function Di(t,e,r){let n;if(typeof e=="string")try{n=s6(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(R8(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}const S7=t=>typeof t=="bigint"&&AN<=t;function vze(t,e,r){return S7(t)&&S7(e)&&S7(r)&&e<=t&&t<r}function FS(t,e,r,n){if(!vze(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function Cne(t){let e;for(e=0;t>AN;t>>=LS,e+=1);return e}const Bw=t=>(LS<<BigInt(t))-LS;function xze(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");const n=h=>new Uint8Array(h),i=h=>Uint8Array.of(h);let s=n(t),o=n(t),a=0;const l=()=>{s.fill(1),o.fill(0),a=0},c=(...h)=>r(o,s,...h),u=(h=n(0))=>{o=c(i(0),h),s=c(),h.length!==0&&(o=c(i(1),h),s=c())},f=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const p=[];for(;h<e;){s=c();const g=s.slice();p.push(g),h+=s.length}return Id(...p)};return(h,p)=>{l(),u(h);let g;for(;!(g=p(f()));)u();return l(),g}}function U8(t,e,r={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function n(i,s,o){const a=t[i];if(o&&a===void 0)return;const l=typeof a;if(l!==s||a===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${l}`)}Object.entries(e).forEach(([i,s])=>n(i,s,!1)),Object.entries(r).forEach(([i,s])=>n(i,s,!0))}function dB(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}const Fs=BigInt(0),fs=BigInt(1),ih=BigInt(2),Ane=BigInt(3),Sne=BigInt(4),$ne=BigInt(5),Eze=BigInt(7),Ine=BigInt(8),_ze=BigInt(9),kne=BigInt(16);function go(t,e){const r=t%e;return r>=Fs?r:e+r}function Pa(t,e,r){let n=t;for(;e-- >Fs;)n*=n,n%=r;return n}function fB(t,e){if(t===Fs)throw new Error("invert: expected non-zero number");if(e<=Fs)throw new Error("invert: expected positive modulus, got "+e);let r=go(t,e),n=e,i=Fs,s=fs;for(;r!==Fs;){const o=n/r,a=n%r,l=i-s*o;n=r,r=a,i=s,s=l}if(n!==fs)throw new Error("invert: does not exist");return go(i,e)}function IN(t,e,r){if(!t.eql(t.sqr(e),r))throw new Error("Cannot find square root")}function Tne(t,e){const r=(t.ORDER+fs)/Sne,n=t.pow(e,r);return IN(t,n,e),n}function Cze(t,e){const r=(t.ORDER-$ne)/Ine,n=t.mul(e,ih),i=t.pow(n,r),s=t.mul(e,i),o=t.mul(t.mul(s,ih),i),a=t.mul(s,t.sub(o,t.ONE));return IN(t,a,e),a}function Aze(t){const e=Ef(t),r=Nne(t),n=r(e,e.neg(e.ONE)),i=r(e,n),s=r(e,e.neg(n)),o=(t+Eze)/kne;return(a,l)=>{let c=a.pow(l,o),u=a.mul(c,n);const f=a.mul(c,i),h=a.mul(c,s),p=a.eql(a.sqr(u),l),g=a.eql(a.sqr(f),l);c=a.cmov(c,u,p),u=a.cmov(h,f,g);const m=a.eql(a.sqr(u),l),w=a.cmov(c,u,m);return IN(a,w,l),w}}function Nne(t){if(t<Ane)throw new Error("sqrt is not defined for small field");let e=t-fs,r=0;for(;e%ih===Fs;)e/=ih,r++;let n=ih;const i=Ef(t);for(;hB(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return Tne;let s=i.pow(n,e);const o=(e+fs)/ih;return function(a,l){if(a.is0(l))return l;if(hB(a,l)!==1)throw new Error("Cannot find square root");let c=r,u=a.mul(a.ONE,s),f=a.pow(l,e),h=a.pow(l,o);for(;!a.eql(f,a.ONE);){if(a.is0(f))return a.ZERO;let p=1,g=a.sqr(f);for(;!a.eql(g,a.ONE);)if(p++,g=a.sqr(g),p===c)throw new Error("Cannot find square root");const m=fs<<BigInt(c-p-1),w=a.pow(u,m);c=p,u=a.sqr(w),f=a.mul(f,u),h=a.mul(h,w)}return h}}function Sze(t){return t%Sne===Ane?Tne:t%Ine===$ne?Cze:t%kne===_ze?Aze(t):Nne(t)}const $ze=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Ize(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=$ze.reduce((n,i)=>(n[i]="function",n),e);return U8(t,r),t}function kze(t,e,r){if(r<Fs)throw new Error("invalid exponent, negatives unsupported");if(r===Fs)return t.ONE;if(r===fs)return e;let n=t.ONE,i=e;for(;r>Fs;)r&fs&&(n=t.mul(n,i)),i=t.sqr(i),r>>=fs;return n}function Pne(t,e,r=!1){const n=new Array(e.length).fill(r?t.ZERO:void 0),i=e.reduce((o,a,l)=>t.is0(a)?o:(n[l]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,l)=>t.is0(a)?o:(n[l]=t.mul(o,n[l]),t.mul(o,a)),s),n}function hB(t,e){const r=(t.ORDER-fs)/ih,n=t.pow(e,r),i=t.eql(n,t.ONE),s=t.eql(n,t.ZERO),o=t.eql(n,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function Rne(t,e){e!==void 0&&Lu(e);const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Ef(t,e,r=!1,n={}){if(t<=Fs)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,s,o=!1,a;if(typeof e=="object"&&e!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");const h=e;h.BITS&&(i=h.BITS),h.sqrt&&(s=h.sqrt),typeof h.isLE=="boolean"&&(r=h.isLE),typeof h.modFromBytes=="boolean"&&(o=h.modFromBytes),a=h.allowedLengths}else typeof e=="number"&&(i=e),n.sqrt&&(s=n.sqrt);const{nBitLength:l,nByteLength:c}=Rne(t,i);if(c>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const f=Object.freeze({ORDER:t,isLE:r,BITS:l,BYTES:c,MASK:Bw(l),ZERO:Fs,ONE:fs,allowedLengths:a,create:h=>go(h,t),isValid:h=>{if(typeof h!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof h);return Fs<=h&&h<t},is0:h=>h===Fs,isValidNot0:h=>!f.is0(h)&&f.isValid(h),isOdd:h=>(h&fs)===fs,neg:h=>go(-h,t),eql:(h,p)=>h===p,sqr:h=>go(h*h,t),add:(h,p)=>go(h+p,t),sub:(h,p)=>go(h-p,t),mul:(h,p)=>go(h*p,t),pow:(h,p)=>kze(f,h,p),div:(h,p)=>go(h*fB(p,t),t),sqrN:h=>h*h,addN:(h,p)=>h+p,subN:(h,p)=>h-p,mulN:(h,p)=>h*p,inv:h=>fB(h,t),sqrt:s||(h=>(u||(u=Sze(t)),u(f,h))),toBytes:h=>r?$N(h,c):SN(h,c),fromBytes:(h,p=!0)=>{if(a){if(!a.includes(h.length)||h.length>c)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+h.length);const m=new Uint8Array(c);m.set(h,r?0:m.length-h.length),h=m}if(h.length!==c)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+h.length);let g=r?l6(h):B8(h);if(o&&(g=go(g,t)),!p&&!f.isValid(g))throw new Error("invalid field element: outside of range 0..ORDER");return g},invertBatch:h=>Pne(f,h),cmov:(h,p,g)=>g?p:h});return Object.freeze(f)}function One(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function jne(t){const e=One(t);return e+Math.ceil(e/2)}function Tze(t,e,r=!1){const n=t.length,i=One(e),s=jne(e);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=r?l6(t):B8(t),a=go(o,e-fs)+fs;return r?$N(a,i):SN(a,i)}const P1=BigInt(0),sh=BigInt(1);function c6(t,e){const r=e.negate();return t?r:e}function $7(t,e){const r=Pne(t.Fp,e.map(n=>n.Z));return e.map((n,i)=>t.fromAffine(n.toAffine(r[i])))}function Mne(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function I7(t,e){Mne(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1),i=2**t,s=Bw(t),o=BigInt(t);return{windows:r,windowSize:n,mask:s,maxNumber:i,shiftBy:o}}function pB(t,e,r){const{windowSize:n,mask:i,maxNumber:s,shiftBy:o}=r;let a=Number(t&i),l=t>>o;a>n&&(a-=s,l+=sh);const c=e*n,u=c+Math.abs(a)-1,f=a===0,h=a<0,p=e%2!==0;return{nextN:l,offset:u,isZero:f,isNeg:h,isNegF:p,offsetF:c}}function Nze(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function Pze(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const k7=new WeakMap,Dne=new WeakMap;function T7(t){return Dne.get(t)||1}function gB(t){if(t!==P1)throw new Error("invalid wNAF")}class Rze{constructor(e,r){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=r}_unsafeLadder(e,r,n=this.ZERO){let i=e;for(;r>P1;)r&sh&&(n=n.add(i)),i=i.double(),r>>=sh;return n}precomputeWindow(e,r){const{windows:n,windowSize:i}=I7(r,this.bits),s=[];let o=e,a=o;for(let l=0;l<n;l++){a=o,s.push(a);for(let c=1;c<i;c++)a=a.add(o),s.push(a);o=a.double()}return s}wNAF(e,r,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let i=this.ZERO,s=this.BASE;const o=I7(e,this.bits);for(let a=0;a<o.windows;a++){const{nextN:l,offset:c,isZero:u,isNeg:f,isNegF:h,offsetF:p}=pB(n,a,o);n=l,u?s=s.add(c6(h,r[p])):i=i.add(c6(f,r[c]))}return gB(n),{p:i,f:s}}wNAFUnsafe(e,r,n,i=this.ZERO){const s=I7(e,this.bits);for(let o=0;o<s.windows&&n!==P1;o++){const{nextN:a,offset:l,isZero:c,isNeg:u}=pB(n,o,s);if(n=a,!c){const f=r[l];i=i.add(u?f.negate():f)}}return gB(n),i}getPrecomputes(e,r,n){let i=k7.get(r);return i||(i=this.precomputeWindow(r,e),e!==1&&(typeof n=="function"&&(i=n(i)),k7.set(r,i))),i}cached(e,r,n){const i=T7(e);return this.wNAF(i,this.getPrecomputes(i,e,n),r)}unsafe(e,r,n,i){const s=T7(e);return s===1?this._unsafeLadder(e,r,i):this.wNAFUnsafe(s,this.getPrecomputes(s,e,n),r,i)}createCache(e,r){Mne(r,this.bits),Dne.set(e,r),k7.delete(e)}hasCache(e){return T7(e)!==1}}function Oze(t,e,r,n){let i=e,s=t.ZERO,o=t.ZERO;for(;r>P1||n>P1;)r&sh&&(s=s.add(i)),n&sh&&(o=o.add(i)),i=i.double(),r>>=sh,n>>=sh;return{p1:s,p2:o}}function jze(t,e,r,n){Nze(r,t),Pze(n,e);const i=r.length,s=n.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=Cne(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=Bw(l),u=new Array(Number(c)+1).fill(o),f=Math.floor((e.BITS-1)/l)*l;let h=o;for(let p=f;p>=0;p-=l){u.fill(o);for(let m=0;m<s;m++){const w=n[m],y=Number(w>>BigInt(p)&c);u[y]=u[y].add(r[m])}let g=o;for(let m=u.length-1,w=o;m>0;m--)w=w.add(u[m]),g=g.add(w);if(h=h.add(g),p!==0)for(let m=0;m<l;m++)h=h.double()}return h}function mB(t,e,r){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return Ize(e),e}else return Ef(t,{isLE:r})}function Mze(t,e,r={},n){if(n===void 0&&(n=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const a of["p","n","h"]){const l=e[a];if(!(typeof l=="bigint"&&l>P1))throw new Error(`CURVE.${a} must be positive bigint`)}const i=mB(e.p,r.Fp,n),s=mB(e.n,r.Fn,n),o=["Gx","Gy","a","b"];for(const a of o)if(!i.isValid(e[a]))throw new Error(`CURVE.${a} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:s}}BigInt(0),BigInt(1),BigInt(2),BigInt(8),one("HashToScalar-");const rm=BigInt(0),Fp=BigInt(1),hv=BigInt(2);function Dze(t){return U8(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function Lze(t){const e=Dze(t),{P:r,type:n,adjustScalarBytes:i,powPminus2:s,randomBytes:o}=e,a=n==="x25519";if(!a&&n!=="x448")throw new Error("invalid type");const l=o||pp,c=a?255:448,u=a?32:56,f=BigInt(a?9:5),h=BigInt(a?121665:39081),p=a?hv**BigInt(254):hv**BigInt(447),g=a?BigInt(8)*hv**BigInt(251)-Fp:BigInt(4)*hv**BigInt(445)-Fp,m=p+g+Fp,w=Y=>go(Y,r),y=E(f);function E(Y){return $N(w(Y),u)}function v(Y){const R=Di("u coordinate",Y,u);return a&&(R[31]&=127),w(l6(R))}function b(Y){return l6(i(Di("scalar",Y,u)))}function $(Y,R){const _=D(v(R),b(Y));if(_===rm)throw new Error("invalid private or public key received");return E(_)}function P(Y){return $(Y,y)}function O(Y,R,_){const x=w(Y*(R-_));return R=w(R-x),_=w(_+x),{x_2:R,x_3:_}}function D(Y,R){FS("u",Y,rm,r),FS("scalar",R,p,m);const _=R,x=Y;let A=Fp,T=rm,I=Y,N=Fp,M=rm;for(let S=BigInt(c-1);S>=rm;S--){const F=_>>S&Fp;M^=F,{x_2:A,x_3:I}=O(M,A,I),{x_2:T,x_3:N}=O(M,T,N),M=F;const Q=A+T,k=w(Q*Q),W=A-T,V=w(W*W),ee=k-V,te=I+N,ce=I-N,K=w(ce*Q),G=w(te*W),pe=K+G,de=K-G;I=w(pe*pe),N=w(x*w(de*de)),A=w(k*V),T=w(ee*(k+w(h*ee)))}({x_2:A,x_3:I}=O(M,A,I)),{x_2:T,x_3:N}=O(M,T,N);const U=s(T);return w(A*U)}const B={secretKey:u,publicKey:u,seed:u},H=(Y=l(u))=>(cl(Y,B.seed),Y);function q(Y){const R=H(Y);return{secretKey:R,publicKey:P(R)}}return{keygen:q,getSharedSecret:(Y,R)=>$(Y,R),getPublicKey:Y=>P(Y),scalarMult:$,scalarMultBase:P,utils:{randomSecretKey:H,randomPrivateKey:H},GuBytes:y.slice(),lengths:B}}const Fze=BigInt(1),yB=BigInt(2),Bze=BigInt(3),Uze=BigInt(5);BigInt(8);const Lne=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),Wze={p:Lne,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function zze(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=Lne,o=t*t%s*t%s,a=Pa(o,yB,s)*o%s,l=Pa(a,Fze,s)*t%s,c=Pa(l,Uze,s)*l%s,u=Pa(c,e,s)*c%s,f=Pa(u,r,s)*u%s,h=Pa(f,n,s)*f%s,p=Pa(h,i,s)*h%s,g=Pa(p,i,s)*h%s,m=Pa(g,e,s)*c%s;return{pow_p_5_8:Pa(m,yB,s)*t%s,b2:o}}function Hze(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const qze=Ef(Wze.p,{isLE:!0}),BS=(()=>{const t=qze.ORDER;return Lze({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:r,b2:n}=zze(e);return go(Pa(r,Bze,t)*n,t)},adjustScalarBytes:Hze})})(),wB=(t,e)=>(t+(t>=0?e:-e)/Fne)/e;function Vze(t,e,r){const[[n,i],[s,o]]=e,a=wB(o*t,r),l=wB(-i*t,r);let c=t-a*n-l*s,u=-a*i-l*o;const f=c<cu,h=u<cu;f&&(c=-c),h&&(u=-u);const p=Bw(Math.ceil(Cne(r)/2))+H0;if(c<cu||c>=p||u<cu||u>=p)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:f,k1:c,k2neg:h,k2:u}}function US(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function N7(t,e){const r={};for(let n of Object.keys(e))r[n]=t[n]===void 0?e[n]:t[n];return a6(r.lowS,"lowS"),a6(r.prehash,"prehash"),r.format!==void 0&&US(r.format),r}class Gze extends Error{constructor(e=""){super(e)}}const tu={Err:Gze,_tlv:{encode:(t,e)=>{const{Err:r}=tu;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,i=fv(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?fv(i.length/2|128):"";return fv(t)+s+i+e},decode(t,e){const{Err:r}=tu;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const i=e[n++],s=!!(i&128);let o=0;if(!s)o=i;else{const l=i&127;if(!l)throw new r("tlv.decode(long): indefinite length not supported");if(l>4)throw new r("tlv.decode(long): byte length is too big");const c=e.subarray(n,n+l);if(c.length!==l)throw new r("tlv.decode: length bytes not complete");if(c[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const u of c)o=o<<8|u;if(n+=l,o<128)throw new r("tlv.decode(long): not minimal encoding")}const a=e.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+o)}}},_int:{encode(t){const{Err:e}=tu;if(t<cu)throw new e("integer: negative integers are not allowed");let r=fv(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=tu;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return B8(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=tu,i=Di("signature",t),{v:s,l:o}=n.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=n.decode(2,s),{v:c,l:u}=n.decode(2,l);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(c)}},hexFromSig(t){const{_tlv:e,_int:r}=tu,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s)),s=n+i;return e.encode(48,s)}},cu=BigInt(0),H0=BigInt(1),Fne=BigInt(2),pv=BigInt(3),Kze=BigInt(4);function w0(t,e){const{BYTES:r}=t;let n;if(typeof e=="bigint")n=e;else{let i=Di("private key",e);try{n=t.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof e}`)}}if(!t.isValidNot0(n))throw new Error("invalid private key: out of range [1..N-1]");return n}function Yze(t,e={}){const r=Mze("weierstrass",t,e),{Fp:n,Fn:i}=r;let s=r.CURVE;const{h:o,n:a}=s;U8(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:l}=e;if(l&&(!n.is0(s.a)||typeof l.beta!="bigint"||!Array.isArray(l.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const c=Une(n,i);function u(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function f(Y,R,_){const{x,y:A}=R.toAffine(),T=n.toBytes(x);if(a6(_,"isCompressed"),_){u();const I=!n.isOdd(A);return Id(Bne(I),T)}else return Id(Uint8Array.of(4),T,n.toBytes(A))}function h(Y){nh(Y,void 0,"Point");const{publicKey:R,publicKeyUncompressed:_}=c,x=Y.length,A=Y[0],T=Y.subarray(1);if(x===R&&(A===2||A===3)){const I=n.fromBytes(T);if(!n.isValid(I))throw new Error("bad point: is not on curve, wrong x");const N=m(I);let M;try{M=n.sqrt(N)}catch(S){const F=S instanceof Error?": "+S.message:"";throw new Error("bad point: is not on curve, sqrt error"+F)}u();const U=n.isOdd(M);return(A&1)===1!==U&&(M=n.neg(M)),{x:I,y:M}}else if(x===_&&A===4){const I=n.BYTES,N=n.fromBytes(T.subarray(0,I)),M=n.fromBytes(T.subarray(I,I*2));if(!w(N,M))throw new Error("bad point: is not on curve");return{x:N,y:M}}else throw new Error(`bad point: got length ${x}, expected compressed=${R} or uncompressed=${_}`)}const p=e.toBytes||f,g=e.fromBytes||h;function m(Y){const R=n.sqr(Y),_=n.mul(R,Y);return n.add(n.add(_,n.mul(Y,s.a)),s.b)}function w(Y,R){const _=n.sqr(R),x=m(Y);return n.eql(_,x)}if(!w(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const y=n.mul(n.pow(s.a,pv),Kze),E=n.mul(n.sqr(s.b),BigInt(27));if(n.is0(n.add(y,E)))throw new Error("bad curve params: a or b");function v(Y,R,_=!1){if(!n.isValid(R)||_&&n.is0(R))throw new Error(`bad point coordinate ${Y}`);return R}function b(Y){if(!(Y instanceof B))throw new Error("ProjectivePoint expected")}function $(Y){if(!l||!l.basises)throw new Error("no endo");return Vze(Y,l.basises,i.ORDER)}const P=dB((Y,R)=>{const{X:_,Y:x,Z:A}=Y;if(n.eql(A,n.ONE))return{x:_,y:x};const T=Y.is0();R==null&&(R=T?n.ONE:n.inv(A));const I=n.mul(_,R),N=n.mul(x,R),M=n.mul(A,R);if(T)return{x:n.ZERO,y:n.ZERO};if(!n.eql(M,n.ONE))throw new Error("invZ was invalid");return{x:I,y:N}}),O=dB(Y=>{if(Y.is0()){if(e.allowInfinityPoint&&!n.is0(Y.Y))return;throw new Error("bad point: ZERO")}const{x:R,y:_}=Y.toAffine();if(!n.isValid(R)||!n.isValid(_))throw new Error("bad point: x or y not field elements");if(!w(R,_))throw new Error("bad point: equation left != right");if(!Y.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function D(Y,R,_,x,A){return _=new B(n.mul(_.X,Y),_.Y,_.Z),R=c6(x,R),_=c6(A,_),R.add(_)}class B{constructor(R,_,x){this.X=v("x",R),this.Y=v("y",_,!0),this.Z=v("z",x),Object.freeze(this)}static CURVE(){return s}static fromAffine(R){const{x:_,y:x}=R||{};if(!R||!n.isValid(_)||!n.isValid(x))throw new Error("invalid affine point");if(R instanceof B)throw new Error("projective point not allowed");return n.is0(_)&&n.is0(x)?B.ZERO:new B(_,x,n.ONE)}static fromBytes(R){const _=B.fromAffine(g(nh(R,void 0,"point")));return _.assertValidity(),_}static fromHex(R){return B.fromBytes(Di("pointHex",R))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(R=8,_=!0){return q.createCache(this,R),_||this.multiply(pv),this}assertValidity(){O(this)}hasEvenY(){const{y:R}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(R)}equals(R){b(R);const{X:_,Y:x,Z:A}=this,{X:T,Y:I,Z:N}=R,M=n.eql(n.mul(_,N),n.mul(T,A)),U=n.eql(n.mul(x,N),n.mul(I,A));return M&&U}negate(){return new B(this.X,n.neg(this.Y),this.Z)}double(){const{a:R,b:_}=s,x=n.mul(_,pv),{X:A,Y:T,Z:I}=this;let N=n.ZERO,M=n.ZERO,U=n.ZERO,S=n.mul(A,A),F=n.mul(T,T),Q=n.mul(I,I),k=n.mul(A,T);return k=n.add(k,k),U=n.mul(A,I),U=n.add(U,U),N=n.mul(R,U),M=n.mul(x,Q),M=n.add(N,M),N=n.sub(F,M),M=n.add(F,M),M=n.mul(N,M),N=n.mul(k,N),U=n.mul(x,U),Q=n.mul(R,Q),k=n.sub(S,Q),k=n.mul(R,k),k=n.add(k,U),U=n.add(S,S),S=n.add(U,S),S=n.add(S,Q),S=n.mul(S,k),M=n.add(M,S),Q=n.mul(T,I),Q=n.add(Q,Q),S=n.mul(Q,k),N=n.sub(N,S),U=n.mul(Q,F),U=n.add(U,U),U=n.add(U,U),new B(N,M,U)}add(R){b(R);const{X:_,Y:x,Z:A}=this,{X:T,Y:I,Z:N}=R;let M=n.ZERO,U=n.ZERO,S=n.ZERO;const F=s.a,Q=n.mul(s.b,pv);let k=n.mul(_,T),W=n.mul(x,I),V=n.mul(A,N),ee=n.add(_,x),te=n.add(T,I);ee=n.mul(ee,te),te=n.add(k,W),ee=n.sub(ee,te),te=n.add(_,A);let ce=n.add(T,N);return te=n.mul(te,ce),ce=n.add(k,V),te=n.sub(te,ce),ce=n.add(x,A),M=n.add(I,N),ce=n.mul(ce,M),M=n.add(W,V),ce=n.sub(ce,M),S=n.mul(F,te),M=n.mul(Q,V),S=n.add(M,S),M=n.sub(W,S),S=n.add(W,S),U=n.mul(M,S),W=n.add(k,k),W=n.add(W,k),V=n.mul(F,V),te=n.mul(Q,te),W=n.add(W,V),V=n.sub(k,V),V=n.mul(F,V),te=n.add(te,V),k=n.mul(W,te),U=n.add(U,k),k=n.mul(ce,te),M=n.mul(ee,M),M=n.sub(M,k),k=n.mul(ee,W),S=n.mul(ce,S),S=n.add(S,k),new B(M,U,S)}subtract(R){return this.add(R.negate())}is0(){return this.equals(B.ZERO)}multiply(R){const{endo:_}=e;if(!i.isValidNot0(R))throw new Error("invalid scalar: out of range");let x,A;const T=I=>q.cached(this,I,N=>$7(B,N));if(_){const{k1neg:I,k1:N,k2neg:M,k2:U}=$(R),{p:S,f:F}=T(N),{p:Q,f:k}=T(U);A=F.add(k),x=D(_.beta,S,Q,I,M)}else{const{p:I,f:N}=T(R);x=I,A=N}return $7(B,[x,A])[0]}multiplyUnsafe(R){const{endo:_}=e,x=this;if(!i.isValid(R))throw new Error("invalid scalar: out of range");if(R===cu||x.is0())return B.ZERO;if(R===H0)return x;if(q.hasCache(this))return this.multiply(R);if(_){const{k1neg:A,k1:T,k2neg:I,k2:N}=$(R),{p1:M,p2:U}=Oze(B,x,T,N);return D(_.beta,M,U,A,I)}else return q.unsafe(x,R)}multiplyAndAddUnsafe(R,_,x){const A=this.multiplyUnsafe(_).add(R.multiplyUnsafe(x));return A.is0()?void 0:A}toAffine(R){return P(this,R)}isTorsionFree(){const{isTorsionFree:R}=e;return o===H0?!0:R?R(B,this):q.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:R}=e;return o===H0?this:R?R(B,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(R=!0){return a6(R,"isCompressed"),this.assertValidity(),p(B,this,R)}toHex(R=!0){return z0(this.toBytes(R))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(R=!0){return this.toBytes(R)}_setWindowSize(R){this.precompute(R)}static normalizeZ(R){return $7(B,R)}static msm(R,_){return jze(B,i,R,_)}static fromPrivateKey(R){return B.BASE.multiply(w0(i,R))}}B.BASE=new B(s.Gx,s.Gy,n.ONE),B.ZERO=new B(n.ZERO,n.ONE,n.ZERO),B.Fp=n,B.Fn=i;const H=i.BITS,q=new Rze(B,e.endo?Math.ceil(H/2):H);return B.BASE.precompute(8),B}function Bne(t){return Uint8Array.of(t?2:3)}function Une(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function Zze(t,e={}){const{Fn:r}=t,n=e.randomBytes||pp,i=Object.assign(Une(t.Fp,r),{seed:jne(r.ORDER)});function s(h){try{return!!w0(r,h)}catch{return!1}}function o(h,p){const{publicKey:g,publicKeyUncompressed:m}=i;try{const w=h.length;return p===!0&&w!==g||p===!1&&w!==m?!1:!!t.fromBytes(h)}catch{return!1}}function a(h=n(i.seed)){return Tze(nh(h,i.seed,"seed"),r.ORDER)}function l(h,p=!0){return t.BASE.multiply(w0(r,h)).toBytes(p)}function c(h){const p=a(h);return{secretKey:p,publicKey:l(p)}}function u(h){if(typeof h=="bigint")return!1;if(h instanceof t)return!0;const{secretKey:p,publicKey:g,publicKeyUncompressed:m}=i;if(r.allowedLengths||p===g)return;const w=Di("key",h).length;return w===g||w===m}function f(h,p,g=!0){if(u(h)===!0)throw new Error("first arg must be private key");if(u(p)===!1)throw new Error("second arg must be public key");const m=w0(r,h);return t.fromHex(p).multiply(m).toBytes(g)}return Object.freeze({getPublicKey:l,getSharedSecret:f,keygen:c,Point:t,utils:{isValidSecretKey:s,isValidPublicKey:o,randomSecretKey:a,isValidPrivateKey:s,randomPrivateKey:a,normPrivateKeyToScalar:h=>w0(r,h),precompute(h=8,p=t.BASE){return p.precompute(h,!1)}},lengths:i})}function Jze(t,e,r={}){O8(e),U8(r,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const n=r.randomBytes||pp,i=r.hmac||((_,...x)=>L8(e,_,Id(...x))),{Fp:s,Fn:o}=t,{ORDER:a,BITS:l}=o,{keygen:c,getPublicKey:u,getSharedSecret:f,utils:h,lengths:p}=Zze(t,r),g={prehash:!1,lowS:typeof r.lowS=="boolean"?r.lowS:!1,format:void 0,extraEntropy:!1},m="compact";function w(_){const x=a>>H0;return _>x}function y(_,x){if(!o.isValidNot0(x))throw new Error(`invalid signature ${_}: out of range 1..Point.Fn.ORDER`);return x}function E(_,x){US(x);const A=p.signature,T=x==="compact"?A:x==="recovered"?A+1:void 0;return nh(_,T,`${x} signature`)}class v{constructor(x,A,T){this.r=y("r",x),this.s=y("s",A),T!=null&&(this.recovery=T),Object.freeze(this)}static fromBytes(x,A=m){E(x,A);let T;if(A==="der"){const{r:U,s:S}=tu.toSig(nh(x));return new v(U,S)}A==="recovered"&&(T=x[0],A="compact",x=x.subarray(1));const I=o.BYTES,N=x.subarray(0,I),M=x.subarray(I,I*2);return new v(o.fromBytes(N),o.fromBytes(M),T)}static fromHex(x,A){return this.fromBytes(s6(x),A)}addRecoveryBit(x){return new v(this.r,this.s,x)}recoverPublicKey(x){const A=s.ORDER,{r:T,s:I,recovery:N}=this;if(N==null||![0,1,2,3].includes(N))throw new Error("recovery id invalid");if(a*Fne<A&&N>1)throw new Error("recovery id is ambiguous for h>1 curve");const M=N===2||N===3?T+a:T;if(!s.isValid(M))throw new Error("recovery id 2 or 3 invalid");const U=s.toBytes(M),S=t.fromBytes(Id(Bne((N&1)===0),U)),F=o.inv(M),Q=$(Di("msgHash",x)),k=o.create(-Q*F),W=o.create(I*F),V=t.BASE.multiplyUnsafe(k).add(S.multiplyUnsafe(W));if(V.is0())throw new Error("point at infinify");return V.assertValidity(),V}hasHighS(){return w(this.s)}toBytes(x=m){if(US(x),x==="der")return s6(tu.hexFromSig(this));const A=o.toBytes(this.r),T=o.toBytes(this.s);if(x==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Id(Uint8Array.of(this.recovery),A,T)}return Id(A,T)}toHex(x){return z0(this.toBytes(x))}assertValidity(){}static fromCompact(x){return v.fromBytes(Di("sig",x),"compact")}static fromDER(x){return v.fromBytes(Di("sig",x),"der")}normalizeS(){return this.hasHighS()?new v(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return z0(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return z0(this.toBytes("compact"))}}const b=r.bits2int||function(_){if(_.length>8192)throw new Error("input is too large");const x=B8(_),A=_.length*8-l;return A>0?x>>BigInt(A):x},$=r.bits2int_modN||function(_){return o.create(b(_))},P=Bw(l);function O(_){return FS("num < 2^"+l,_,cu,P),o.toBytes(_)}function D(_,x){return nh(_,void 0,"message"),x?nh(e(_),void 0,"prehashed message"):_}function B(_,x,A){if(["recovered","canonical"].some(W=>W in A))throw new Error("sign() legacy options not supported");const{lowS:T,prehash:I,extraEntropy:N}=N7(A,g);_=D(_,I);const M=$(_),U=w0(o,x),S=[O(U),O(M)];if(N!=null&&N!==!1){const W=N===!0?n(p.secretKey):N;S.push(Di("extraEntropy",W))}const F=Id(...S),Q=M;function k(W){const V=b(W);if(!o.isValidNot0(V))return;const ee=o.inv(V),te=t.BASE.multiply(V).toAffine(),ce=o.create(te.x);if(ce===cu)return;const K=o.create(ee*o.create(Q+ce*U));if(K===cu)return;let G=(te.x===ce?0:2)|Number(te.y&H0),pe=K;return T&&w(K)&&(pe=o.neg(K),G^=1),new v(ce,pe,G)}return{seed:F,k2sig:k}}function H(_,x,A={}){_=Di("message",_);const{seed:T,k2sig:I}=B(_,x,A);return xze(e.outputLen,o.BYTES,i)(T,I)}function q(_){let x;const A=typeof _=="string"||R8(_),T=!A&&_!==null&&typeof _=="object"&&typeof _.r=="bigint"&&typeof _.s=="bigint";if(!A&&!T)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(T)x=new v(_.r,_.s);else if(A){try{x=v.fromBytes(Di("sig",_),"der")}catch(I){if(!(I instanceof tu.Err))throw I}if(!x)try{x=v.fromBytes(Di("sig",_),"compact")}catch{return!1}}return x||!1}function Y(_,x,A,T={}){const{lowS:I,prehash:N,format:M}=N7(T,g);if(A=Di("publicKey",A),x=D(Di("message",x),N),"strict"in T)throw new Error("options.strict was renamed to lowS");const U=M===void 0?q(_):v.fromBytes(Di("sig",_),M);if(U===!1)return!1;try{const S=t.fromBytes(A);if(I&&U.hasHighS())return!1;const{r:F,s:Q}=U,k=$(x),W=o.inv(Q),V=o.create(k*W),ee=o.create(F*W),te=t.BASE.multiplyUnsafe(V).add(S.multiplyUnsafe(ee));return te.is0()?!1:o.create(te.x)===F}catch{return!1}}function R(_,x,A={}){const{prehash:T}=N7(A,g);return x=D(x,T),v.fromBytes(_,"recovered").recoverPublicKey(x).toBytes()}return Object.freeze({keygen:c,getPublicKey:u,getSharedSecret:f,utils:h,lengths:p,Point:t,sign:H,verify:Y,recoverPublicKey:R,Signature:v,hash:e})}function Qze(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp;let n=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(o=>Math.ceil(o/2)))):void 0;const i=Ef(e.n,{BITS:t.nBitLength,allowedLengths:n,modFromBytes:t.wrapPrivateKey}),s={Fp:r,Fn:i,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:s}}function Xze(t){const{CURVE:e,curveOpts:r}=Qze(t),n={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:r,hash:t.hash,ecdsaOpts:n}}function eHe(t,e){const r=e.Point;return Object.assign({},e,{ProjectivePoint:r,CURVE:Object.assign({},t,Rne(r.Fn.ORDER,r.Fn.BITS))})}function tHe(t){const{CURVE:e,curveOpts:r,hash:n,ecdsaOpts:i}=Xze(t),s=Yze(e,r),o=Jze(s,n,i);return eHe(t,o)}function WS(t,e){const r=n=>tHe({...t,hash:n});return{...r(e),create:r}}const Wne={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},zne={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},Hne={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},rHe=Ef(Wne.p),nHe=Ef(zne.p),iHe=Ef(Hne.p),sHe=WS({...Wne,Fp:rHe,lowS:!1},M8);WS({...zne,Fp:nHe,lowS:!1},uWe),WS({...Hne,Fp:iHe,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},cWe);const oHe=sHe,qne="base10",hs="base16",Rs="base64pad",kd="base64url",Uw="utf8",Vne=0,wu=1,Ww=2,aHe=0,bB=1,Zm=12,kN=32;function lHe(){const t=BS.utils.randomPrivateKey(),e=BS.getPublicKey(t);return{privateKey:qs(t,hs),publicKey:qs(e,hs)}}function zS(){const t=pp(kN);return qs(t,hs)}function cHe(t,e){const r=BS.getSharedSecret(sa(t,hs),sa(e,hs)),n=bze(F8,r,void 0,void 0,kN);return qs(n,hs)}function x3(t){const e=F8(sa(t,hs));return qs(e,hs)}function Zo(t){const e=F8(sa(t,Uw));return qs(e,hs)}function Gne(t){return sa(`${t}`,qne)}function Gh(t){return Number(qs(t,qne))}function Kne(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Yne(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),r=(4-e.length%4)%4;return e+"=".repeat(r)}function uHe(t){const e=Gne(typeof t.type<"u"?t.type:Vne);if(Gh(e)===wu&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?sa(t.senderPublicKey,hs):void 0,n=typeof t.iv<"u"?sa(t.iv,hs):pp(Zm),i=sa(t.symKey,hs),s=xne(i,n).encrypt(sa(t.message,Uw)),o=Zne({type:e,sealed:s,iv:n,senderPublicKey:r});return t.encoding===kd?Kne(o):o}function dHe(t){const e=sa(t.symKey,hs),{sealed:r,iv:n}=k2({encoded:t.encoded,encoding:t.encoding}),i=xne(e,n).decrypt(r);if(i===null)throw new Error("Failed to decrypt");return qs(i,Uw)}function fHe(t,e){const r=Gne(Ww),n=pp(Zm),i=sa(t,Uw),s=Zne({type:r,sealed:i,iv:n});return e===kd?Kne(s):s}function hHe(t,e){const{sealed:r}=k2({encoded:t,encoding:e});return qs(r,Uw)}function Zne(t){if(Gh(t.type)===Ww)return qs(Ym([t.type,t.sealed]),Rs);if(Gh(t.type)===wu){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return qs(Ym([t.type,t.senderPublicKey,t.iv,t.sealed]),Rs)}return qs(Ym([t.type,t.iv,t.sealed]),Rs)}function k2(t){const e=(t.encoding||Rs)===kd?Yne(t.encoded):t.encoded,r=sa(e,Rs),n=r.slice(aHe,bB),i=bB;if(Gh(n)===wu){const l=i+kN,c=l+Zm,u=r.slice(i,l),f=r.slice(l,c),h=r.slice(c);return{type:n,sealed:h,iv:f,senderPublicKey:u}}if(Gh(n)===Ww){const l=r.slice(i),c=pp(Zm);return{type:n,sealed:l,iv:c}}const s=i+Zm,o=r.slice(i,s),a=r.slice(s);return{type:n,sealed:a,iv:o}}function pHe(t,e){const r=k2({encoded:t,encoding:e==null?void 0:e.encoding});return Jne({type:Gh(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?qs(r.senderPublicKey,hs):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function Jne(t){const e=(t==null?void 0:t.type)||Vne;if(e===wu){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function vB(t){return t.type===wu&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function xB(t){return t.type===Ww}function gHe(t){const e=Ke.from(t.x,"base64"),r=Ke.from(t.y,"base64");return Ym([new Uint8Array([4]),e,r])}function mHe(t,e){const[r,n,i]=t.split("."),s=Ke.from(Yne(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),l=`${r}.${n}`,c=F8(l),u=gHe(e);if(!oHe.verify(Ym([o,a]),c,u))throw new Error("Invalid signature");return $S(t).payload}const yHe="irn";function u6(t){return(t==null?void 0:t.relay)||{protocol:yHe}}function b0(t){const e=eBe[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var wHe=Object.defineProperty,bHe=Object.defineProperties,vHe=Object.getOwnPropertyDescriptors,EB=Object.getOwnPropertySymbols,xHe=Object.prototype.hasOwnProperty,EHe=Object.prototype.propertyIsEnumerable,_B=(t,e,r)=>e in t?wHe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,P7=(t,e)=>{for(var r in e||(e={}))xHe.call(e,r)&&_B(t,r,e[r]);if(EB)for(var r of EB(e))EHe.call(e,r)&&_B(t,r,e[r]);return t},_He=(t,e)=>bHe(t,vHe(e));function CHe(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(n)){const s=i.replace(n,""),o=t[i];r[s]=o}}),r}function CB(t){if(!t.includes("wc:")){const c=ene(t);c!=null&&c.includes("wc:")&&(t=c)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),i=t.substring(e+1,r).split("@"),s=typeof r<"u"?t.substring(r):"",o=new URLSearchParams(s),a=Object.fromEntries(o.entries()),l=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:n,topic:AHe(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:CHe(a),methods:l,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function AHe(t){return t.startsWith("//")?t.substring(2):t}function SHe(t,e="-"){const r="relay",n={};return Object.keys(t).forEach(i=>{const s=i,o=r+e+s;t[s]&&(n[o]=t[s])}),n}function AB(t){const e=new URLSearchParams,r=P7(P7(_He(P7({},SHe(t.relay)),{symKey:t.symKey}),t.expiryTimestamp&&{expiryTimestamp:t.expiryTimestamp.toString()}),t.methods&&{methods:t.methods.join(",")});return Object.entries(r).sort(([n],[i])=>n.localeCompare(i)).forEach(([n,i])=>{i!==void 0&&e.append(n,String(i))}),`${t.protocol}:${t.topic}@${t.version}?${e}`}function gv(t,e,r){return`${t}?wc_ev=${r}&topic=${e}`}var $He=Object.defineProperty,IHe=Object.defineProperties,kHe=Object.getOwnPropertyDescriptors,SB=Object.getOwnPropertySymbols,THe=Object.prototype.hasOwnProperty,NHe=Object.prototype.propertyIsEnumerable,$B=(t,e,r)=>e in t?$He(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,PHe=(t,e)=>{for(var r in e||(e={}))THe.call(e,r)&&$B(t,r,e[r]);if(SB)for(var r of SB(e))NHe.call(e,r)&&$B(t,r,e[r]);return t},RHe=(t,e)=>IHe(t,kHe(e));function wg(t){const e=[];return t.forEach(r=>{const[n,i]=r.split(":");e.push(`${n}:${i}`)}),e}function Qne(t){const e=[];return Object.values(t).forEach(r=>{e.push(...wg(r.accounts))}),[...new Set(e)]}function OHe(t){const e=[];return Object.values(t).forEach(r=>{e.push(...r.methods)}),[...new Set(e)]}function jHe(t){const e=[];return Object.values(t).forEach(r=>{e.push(...r.events)}),[...new Set(e)]}function MHe(t,e){const r=[];return Object.values(t).forEach(n=>{wg(n.accounts).includes(e)&&r.push(...n.methods)}),r}function DHe(t,e){const r=[];return Object.values(t).forEach(n=>{wg(n.accounts).includes(e)&&r.push(...n.events)}),r}function W8(t){return t.includes(":")}function v0(t){return W8(t)?t.split(":")[0]:t}function IB(t){var e,r,n;const i={};if(!oc(t))return i;for(const[s,o]of Object.entries(t)){const a=W8(s)?[s]:o.chains,l=o.methods||[],c=o.events||[],u=v0(s);i[u]=RHe(PHe({},i[u]),{chains:sc(a,(e=i[u])==null?void 0:e.chains),methods:sc(l,(r=i[u])==null?void 0:r.methods),events:sc(c,(n=i[u])==null?void 0:n.events)})}return i}function LHe(t){const e={};return t==null||t.forEach(r=>{var n;const[i,s]=r.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(r),(n=e[i].chains)==null||n.push(`${i}:${s}`)}),e}function kB(t,e){e=e.map(n=>n.replace("did:pkh:",""));const r=LHe(e);for(const[n,i]of Object.entries(r))i.methods?i.methods=sc(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return r}function FHe(t,e){var r,n,i,s,o,a;const l=IB(t),c=IB(e),u={},f=Object.keys(l).concat(Object.keys(c));for(const h of f)u[h]={chains:sc((r=l[h])==null?void 0:r.chains,(n=c[h])==null?void 0:n.chains),methods:sc((i=l[h])==null?void 0:i.methods,(s=c[h])==null?void 0:s.methods),events:sc((o=l[h])==null?void 0:o.events,(a=c[h])==null?void 0:a.events)};return u}const BHe={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},UHe={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function He(t,e){const{message:r,code:n}=UHe[t];return{message:e?`${r} ${e}`:r,code:n}}function Br(t,e){const{message:r,code:n}=BHe[t];return{message:e?`${r} ${e}`:r,code:n}}function la(t,e){return!!Array.isArray(t)}function oc(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function ri(t){return typeof t>"u"}function _n(t,e){return e&&ri(t)?!0:typeof t=="string"&&!!t.trim().length}function TN(t,e){return typeof t=="number"&&!isNaN(t)}function WHe(t,e){const{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),i=Object.keys(r);let s=!0;return rh(i,n)?(n.forEach(o=>{const{accounts:a,methods:l,events:c}=t.namespaces[o],u=wg(a),f=r[o];(!rh(Yre(o,f),u)||!rh(f.methods,l)||!rh(f.events,c))&&(s=!1)}),s):!1}function d6(t){return _n(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function zHe(t){if(_n(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const r=e[0]+":"+e[1];return!!e[2]&&d6(r)}}return!1}function HHe(t){function e(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(_n(t,!1)){if(e(t))return!0;const r=ene(t);return e(r)}}catch{}return!1}function qHe(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function VHe(t){return t==null?void 0:t.topic}function GHe(t,e){let r=null;return _n(t==null?void 0:t.publicKey,!1)||(r=He("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function TB(t){let e=!0;return la(t)?t.length&&(e=t.every(r=>_n(r,!1))):e=!1,e}function KHe(t,e,r){let n=null;return la(e)&&e.length?e.forEach(i=>{n||d6(i)||(n=Br("UNSUPPORTED_CHAINS",`${r}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):d6(t)||(n=Br("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function YHe(t,e,r){let n=null;return Object.entries(t).forEach(([i,s])=>{if(n)return;const o=KHe(i,Yre(i,s),`${e} ${r}`);o&&(n=o)}),n}function ZHe(t,e){let r=null;return la(t)?t.forEach(n=>{r||zHe(n)||(r=Br("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=Br("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function JHe(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=ZHe(n==null?void 0:n.accounts,`${e} namespace`);i&&(r=i)}),r}function QHe(t,e){let r=null;return TB(t==null?void 0:t.methods)?TB(t==null?void 0:t.events)||(r=Br("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=Br("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function Xne(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=QHe(n,`${e}, namespace`);i&&(r=i)}),r}function XHe(t,e,r){let n=null;if(t&&oc(t)){const i=Xne(t,e);i&&(n=i);const s=YHe(t,e,r);s&&(n=s)}else n=He("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}function R7(t,e){let r=null;if(t&&oc(t)){const n=Xne(t,e);n&&(r=n);const i=JHe(t,e);i&&(r=i)}else r=He("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function eie(t){return _n(t.protocol,!0)}function eqe(t,e){let r=!1;return t?t&&la(t)&&t.length&&t.forEach(n=>{r=eie(n)}):r=!0,r}function tqe(t){return typeof t=="number"}function $s(t){return typeof t<"u"&&typeof t!==null}function rqe(t){return!(!t||typeof t!="object"||!t.code||!TN(t.code)||!t.message||!_n(t.message,!1))}function nqe(t){return!(ri(t)||!_n(t.method,!1))}function iqe(t){return!(ri(t)||ri(t.result)&&ri(t.error)||!TN(t.id)||!_n(t.jsonrpc,!1))}function sqe(t){return!(ri(t)||!_n(t.name,!1))}function NB(t,e){return!(!d6(e)||!Qne(t).includes(e))}function oqe(t,e,r){return _n(r,!1)?MHe(t,e).includes(r):!1}function aqe(t,e,r){return _n(r,!1)?DHe(t,e).includes(r):!1}function PB(t,e,r){let n=null;const i=lqe(t),s=cqe(e),o=Object.keys(i),a=Object.keys(s),l=RB(Object.keys(t)),c=RB(Object.keys(e)),u=l.filter(f=>!c.includes(f));return u.length&&(n=He("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),rh(o,a)||(n=He("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(f=>{if(!f.includes(":")||n)return;const h=wg(e[f].accounts);h.includes(f)||(n=He("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${f}
        Required: ${f}
        Approved: ${h.toString()}`))}),o.forEach(f=>{n||(rh(i[f].methods,s[f].methods)?rh(i[f].events,s[f].events)||(n=He("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${f}`)):n=He("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${f}`))}),n}function lqe(t){const e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(i=>{e[i]={methods:t[r].methods,events:t[r].events}})}),e}function RB(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function cqe(t){const e={};return Object.keys(t).forEach(r=>{if(r.includes(":"))e[r]=t[r];else{const n=wg(t[r].accounts);n==null||n.forEach(i=>{e[i]={accounts:t[r].accounts.filter(s=>s.includes(`${i}:`)),methods:t[r].methods,events:t[r].events}})}}),e}function uqe(t,e){return TN(t)&&t<=e.max&&t>=e.min}function OB(){const t=Lw();return new Promise(e=>{switch(t){case Eo.browser:e(dqe());break;case Eo.reactNative:e(fqe());break;case Eo.node:e(hqe());break;default:e(!0)}})}function dqe(){return yg()&&(navigator==null?void 0:navigator.onLine)}async function fqe(){if(xf()&&typeof bt<"u"&&bt!=null&&bt.NetInfo){const t=await(bt==null?void 0:bt.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function hqe(){return!0}function pqe(t){switch(Lw()){case Eo.browser:gqe(t);break;case Eo.reactNative:mqe(t);break}}function gqe(t){!xf()&&yg()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function mqe(t){xf()&&typeof bt<"u"&&bt!=null&&bt.NetInfo&&(bt==null||bt.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}function yqe(){var t;return yg()&&zh()?((t=zh())==null?void 0:t.visibilityState)==="visible":!0}const O7={};class nm{static get(e){return O7[e]}static set(e,r){O7[e]=r}static delete(e){delete O7[e]}}function wqe(t){const e=jw.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function bqe({publicKey:t,signature:e,payload:r}){var n;const i=HS(r.method),s=128|parseInt(((n=r.version)==null?void 0:n.toString())||"4"),o=Eqe(r.address),a=r.era==="00"?new Uint8Array([0]):HS(r.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const l=parseInt(r.nonce,16),c=new Uint8Array([l&255,l>>8&255]),u=BigInt(`0x${xqe(r.tip)}`),f=Cqe(u),h=new Uint8Array([0,...t,o,...e,...a,...c,...f,...i]),p=_qe(h.length+1);return new Uint8Array([...p,s,...h])}function vqe(t){const e=HS(t),r=fBe.blake2b(e,void 0,32);return"0x"+Ke.from(r).toString("hex")}function HS(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function xqe(t){return t.startsWith("0x")?t.slice(2):t}function Eqe(t){const e=jw.decode(t)[0];return e===42?0:e===60?2:1}function _qe(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function Cqe(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function Aqe(t){const e=Uint8Array.from(Ke.from(t.signature,"hex")),r=wqe(t.transaction.address),n=bqe({publicKey:r,signature:e,payload:t.transaction}),i=Ke.from(n).toString("hex");return vqe(i)}function NN({logger:t,name:e}){const r=typeof t=="string"?Kre({opts:{level:t,name:e}}).logger:t;return r.level=typeof t=="string"?t:t.level,r}class gp{}let Sqe=class extends gp{constructor(e){super()}};const jB=We.FIVE_SECONDS,mp={pulse:"heartbeat_pulse"};let $qe=class tie extends Sqe{constructor(e){super(e),this.events=new ys.EventEmitter,this.interval=jB,this.interval=(e==null?void 0:e.interval)||jB}static async init(e){const r=new tie(e);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),We.toMiliseconds(this.interval))}pulse(){this.events.emit(mp.pulse)}};function Iqe(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function Gn(t,...e){try{return Iqe(t(...e))}catch(r){return Promise.reject(r)}}function kqe(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function Tqe(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function E3(t){if(kqe(t))return String(t);if(Tqe(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return E3(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const qS="base64:";function Nqe(t){return typeof t=="string"?t:qS+Oqe(t)}function Pqe(t){return typeof t!="string"||!t.startsWith(qS)?t:Rqe(t.slice(qS.length))}function Rqe(t){return globalThis.Buffer?Ke.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function Oqe(t){return globalThis.Buffer?Ke.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function Ss(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function jqe(...t){return Ss(t.join(":"))}function mv(t){return t=Ss(t),t?t+":":""}function Mqe(t,e){if(e===void 0)return!0;let r=0,n=t.indexOf(":");for(;n>-1;)r++,n=t.indexOf(":",n+1);return r<=e}function Dqe(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const Lqe="memory",Fqe=()=>{const t=new Map;return{name:Lqe,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,r){t.set(e,r)},setItemRaw(e,r){t.set(e,r)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function Bqe(t={}){const e={mounts:{"":t.driver||Fqe()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=c=>{for(const u of e.mountpoints)if(c.startsWith(u))return{base:u,relativeKey:c.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:c,driver:e.mounts[""]}},n=(c,u)=>e.mountpoints.filter(f=>f.startsWith(c)||u&&c.startsWith(f)).map(f=>({relativeBase:c.length>f.length?c.slice(f.length):void 0,mountpoint:f,driver:e.mounts[f]})),i=(c,u)=>{if(e.watching){u=Ss(u);for(const f of e.watchListeners)f(c,u)}},s=async()=>{if(!e.watching){e.watching=!0;for(const c in e.mounts)e.unwatch[c]=await MB(e.mounts[c],i,c)}},o=async()=>{if(e.watching){for(const c in e.unwatch)await e.unwatch[c]();e.unwatch={},e.watching=!1}},a=(c,u,f)=>{const h=new Map,p=g=>{let m=h.get(g.base);return m||(m={driver:g.driver,base:g.base,items:[]},h.set(g.base,m)),m};for(const g of c){const m=typeof g=="string",w=Ss(m?g:g.key),y=m?void 0:g.value,E=m||!g.options?u:{...u,...g.options},v=r(w);p(v).items.push({key:w,value:y,relativeKey:v.relativeKey,options:E})}return Promise.all([...h.values()].map(g=>f(g))).then(g=>g.flat())},l={hasItem(c,u={}){c=Ss(c);const{relativeKey:f,driver:h}=r(c);return Gn(h.hasItem,f,u)},getItem(c,u={}){c=Ss(c);const{relativeKey:f,driver:h}=r(c);return Gn(h.getItem,f,u).then(p=>mm(p))},getItems(c,u={}){return a(c,u,f=>f.driver.getItems?Gn(f.driver.getItems,f.items.map(h=>({key:h.relativeKey,options:h.options})),u).then(h=>h.map(p=>({key:jqe(f.base,p.key),value:mm(p.value)}))):Promise.all(f.items.map(h=>Gn(f.driver.getItem,h.relativeKey,h.options).then(p=>({key:h.key,value:mm(p)})))))},getItemRaw(c,u={}){c=Ss(c);const{relativeKey:f,driver:h}=r(c);return h.getItemRaw?Gn(h.getItemRaw,f,u):Gn(h.getItem,f,u).then(p=>Pqe(p))},async setItem(c,u,f={}){if(u===void 0)return l.removeItem(c);c=Ss(c);const{relativeKey:h,driver:p}=r(c);p.setItem&&(await Gn(p.setItem,h,E3(u),f),p.watch||i("update",c))},async setItems(c,u){await a(c,u,async f=>{if(f.driver.setItems)return Gn(f.driver.setItems,f.items.map(h=>({key:h.relativeKey,value:E3(h.value),options:h.options})),u);f.driver.setItem&&await Promise.all(f.items.map(h=>Gn(f.driver.setItem,h.relativeKey,E3(h.value),h.options)))})},async setItemRaw(c,u,f={}){if(u===void 0)return l.removeItem(c,f);c=Ss(c);const{relativeKey:h,driver:p}=r(c);if(p.setItemRaw)await Gn(p.setItemRaw,h,u,f);else if(p.setItem)await Gn(p.setItem,h,Nqe(u),f);else return;p.watch||i("update",c)},async removeItem(c,u={}){typeof u=="boolean"&&(u={removeMeta:u}),c=Ss(c);const{relativeKey:f,driver:h}=r(c);h.removeItem&&(await Gn(h.removeItem,f,u),(u.removeMeta||u.removeMata)&&await Gn(h.removeItem,f+"$",u),h.watch||i("remove",c))},async getMeta(c,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),c=Ss(c);const{relativeKey:f,driver:h}=r(c),p=Object.create(null);if(h.getMeta&&Object.assign(p,await Gn(h.getMeta,f,u)),!u.nativeOnly){const g=await Gn(h.getItem,f+"$",u).then(m=>mm(m));g&&typeof g=="object"&&(typeof g.atime=="string"&&(g.atime=new Date(g.atime)),typeof g.mtime=="string"&&(g.mtime=new Date(g.mtime)),Object.assign(p,g))}return p},setMeta(c,u,f={}){return this.setItem(c+"$",u,f)},removeMeta(c,u={}){return this.removeItem(c+"$",u)},async getKeys(c,u={}){var w;c=mv(c);const f=n(c,!0);let h=[];const p=[];let g=!0;for(const y of f){(w=y.driver.flags)!=null&&w.maxDepth||(g=!1);const E=await Gn(y.driver.getKeys,y.relativeBase,u);for(const v of E){const b=y.mountpoint+Ss(v);h.some($=>b.startsWith($))||p.push(b)}h=[y.mountpoint,...h.filter(v=>!v.startsWith(y.mountpoint))]}const m=u.maxDepth!==void 0&&!g;return p.filter(y=>(!m||Mqe(y,u.maxDepth))&&Dqe(y,c))},async clear(c,u={}){c=mv(c),await Promise.all(n(c,!1).map(async f=>{if(f.driver.clear)return Gn(f.driver.clear,f.relativeBase,u);if(f.driver.removeItem){const h=await f.driver.getKeys(f.relativeBase||"",u);return Promise.all(h.map(p=>f.driver.removeItem(p,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(c=>DB(c)))},async watch(c){return await s(),e.watchListeners.push(c),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==c),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(c,u){if(c=mv(c),c&&e.mounts[c])throw new Error(`already mounted at ${c}`);return c&&(e.mountpoints.push(c),e.mountpoints.sort((f,h)=>h.length-f.length)),e.mounts[c]=u,e.watching&&Promise.resolve(MB(u,i,c)).then(f=>{e.unwatch[c]=f}).catch(console.error),l},async unmount(c,u=!0){var f,h;c=mv(c),!(!c||!e.mounts[c])&&(e.watching&&c in e.unwatch&&((h=(f=e.unwatch)[c])==null||h.call(f),delete e.unwatch[c]),u&&await DB(e.mounts[c]),e.mountpoints=e.mountpoints.filter(p=>p!==c),delete e.mounts[c])},getMount(c=""){c=Ss(c)+":";const u=r(c);return{driver:u.driver,base:u.base}},getMounts(c="",u={}){return c=Ss(c),n(c,u.parents).map(h=>({driver:h.driver,base:h.mountpoint}))},keys:(c,u={})=>l.getKeys(c,u),get:(c,u={})=>l.getItem(c,u),set:(c,u,f={})=>l.setItem(c,u,f),has:(c,u={})=>l.hasItem(c,u),del:(c,u={})=>l.removeItem(c,u),remove:(c,u={})=>l.removeItem(c,u)};return l}function MB(t,e,r){return t.watch?t.watch((n,i)=>e(n,r+i)):()=>{}}async function DB(t){typeof t.dispose=="function"&&await Gn(t.dispose)}function yp(t){return new Promise((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)})}function rie(t,e){let r;const n=()=>{if(r)return r;const i=indexedDB.open(t);return i.onupgradeneeded=()=>i.result.createObjectStore(e),r=yp(i),r.then(s=>{s.onclose=()=>r=void 0},()=>{}),r};return(i,s)=>n().then(o=>s(o.transaction(e,i).objectStore(e)))}let j7;function zw(){return j7||(j7=rie("keyval-store","keyval")),j7}function LB(t,e=zw()){return e("readonly",r=>yp(r.get(t)))}function Uqe(t,e,r=zw()){return r("readwrite",n=>(n.put(e,t),yp(n.transaction)))}function Wqe(t,e=zw()){return e("readwrite",r=>(r.delete(t),yp(r.transaction)))}function zqe(t=zw()){return t("readwrite",e=>(e.clear(),yp(e.transaction)))}function Hqe(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},yp(t.transaction)}function qqe(t=zw()){return t("readonly",e=>{if(e.getAllKeys)return yp(e.getAllKeys());const r=[];return Hqe(e,n=>r.push(n.key)).then(()=>r)})}const Vqe="idb-keyval";var Gqe=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",r=i=>e+i;let n;return t.dbName&&t.storeName&&(n=rie(t.dbName,t.storeName)),{name:Vqe,options:t,async hasItem(i){return!(typeof await LB(r(i),n)>"u")},async getItem(i){return await LB(r(i),n)??null},setItem(i,s){return Uqe(r(i),s,n)},removeItem(i){return Wqe(r(i),n)},getKeys(){return qqe(n)},clear(){return zqe(n)}}};const Kqe="WALLET_CONNECT_V2_INDEXED_DB",Yqe="keyvaluestorage";let Zqe=class{constructor(){this.indexedDb=Bqe({driver:Gqe({dbName:Kqe,storeName:Yqe})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const r=await this.indexedDb.getItem(e);if(r!==null)return r}async setItem(e,r){await this.indexedDb.setItem(e,qh(r))}async removeItem(e){await this.indexedDb.removeItem(e)}};var M7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof bt<"u"?bt:typeof self<"u"?self:{},_3={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof M7<"u"&&M7.localStorage?_3.exports=M7.localStorage:typeof window<"u"&&window.localStorage?_3.exports=window.localStorage:_3.exports=new e})();function Jqe(t){var e;return[t[0],Hh((e=t[1])!=null?e:"")]}let Qqe=class{constructor(){this.localStorage=_3.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(Jqe)}async getItem(e){const r=this.localStorage.getItem(e);if(r!==null)return Hh(r)}async setItem(e,r){this.localStorage.setItem(e,qh(r))}async removeItem(e){this.localStorage.removeItem(e)}};const Xqe="wc_storage_version",FB=1,eVe=async(t,e,r)=>{const n=Xqe,i=await e.getItem(n);if(i&&i>=FB){r(e);return}const s=await t.getKeys();if(!s.length){r(e);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const l=a.toLowerCase();if(l.includes("wc@")||l.includes("walletconnect")||l.includes("wc_")||l.includes("wallet_connect")){const c=await t.getItem(a);await e.setItem(a,c),o.push(a)}}await e.setItem(n,FB),r(e),tVe(t,o)},tVe=async(t,e)=>{e.length&&e.forEach(async r=>{await t.removeItem(r)})};let rVe=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const e=new Qqe;this.storage=e;try{const r=new Zqe;eVe(e,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,r){return await this.initialize(),this.storage.setItem(e,r)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),e())},20)})}};var nVe=Object.defineProperty,iVe=(t,e,r)=>e in t?nVe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,BB=(t,e,r)=>iVe(t,typeof e!="symbol"?e+"":e,r);let sVe=class extends gp{constructor(e){super(),this.opts=e,BB(this,"protocol","wc"),BB(this,"version",2)}};var oVe=Object.defineProperty,aVe=(t,e,r)=>e in t?oVe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,lVe=(t,e,r)=>aVe(t,e+"",r);let cVe=class extends gp{constructor(e,r){super(),this.core=e,this.logger=r,lVe(this,"records",new Map)}},uVe=class{constructor(e,r){this.logger=e,this.core=r}},dVe=class extends gp{constructor(e,r){super(),this.relayer=e,this.logger=r}},fVe=class extends gp{constructor(e){super()}},hVe=class{constructor(e,r,n,i){this.core=e,this.logger=r,this.name=n}},pVe=class extends gp{constructor(e,r){super(),this.relayer=e,this.logger=r}},gVe=class extends gp{constructor(e,r){super(),this.core=e,this.logger=r}},mVe=class{constructor(e,r,n){this.core=e,this.logger=r,this.store=n}},yVe=class{constructor(e,r){this.projectId=e,this.logger=r}},wVe=class{constructor(e,r,n){this.core=e,this.logger=r,this.telemetryEnabled=n}};var bVe=Object.defineProperty,vVe=(t,e,r)=>e in t?bVe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,UB=(t,e,r)=>vVe(t,typeof e!="symbol"?e+"":e,r);let xVe=class{constructor(e){this.opts=e,UB(this,"protocol","wc"),UB(this,"version",2)}},EVe=class{constructor(e){this.client=e}};const _Ve="PARSE_ERROR",CVe="INVALID_REQUEST",AVe="METHOD_NOT_FOUND",SVe="INVALID_PARAMS",nie="INTERNAL_ERROR",PN="SERVER_ERROR",$Ve=[-32700,-32600,-32601,-32602,-32603],Jm={[_Ve]:{code:-32700,message:"Parse error"},[CVe]:{code:-32600,message:"Invalid Request"},[AVe]:{code:-32601,message:"Method not found"},[SVe]:{code:-32602,message:"Invalid params"},[nie]:{code:-32603,message:"Internal error"},[PN]:{code:-32e3,message:"Server error"}},iie=PN;function IVe(t){return $Ve.includes(t)}function WB(t){return Object.keys(Jm).includes(t)?Jm[t]:Jm[iie]}function kVe(t){const e=Object.values(Jm).find(r=>r.code===t);return e||Jm[iie]}function sie(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var oie={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var VS=function(t,e){return VS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},VS(t,e)};function TVe(t,e){VS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var GS=function(){return GS=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},GS.apply(this,arguments)};function NVe(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function PVe(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function RVe(t,e){return function(r,n){e(r,n,t)}}function OVe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function jVe(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})}function MVe(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(u){c=[6,u],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function DVe(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function LVe(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function KS(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function aie(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function FVe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(aie(arguments[e]));return t}function BVe(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function T2(t){return this instanceof T2?(this.v=t,this):new T2(t)}function UVe(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){n[h]&&(i[h]=function(p){return new Promise(function(g,m){s.push([h,p,g,m])>1||a(h,p)})})}function a(h,p){try{l(n[h](p))}catch(g){f(s[0][3],g)}}function l(h){h.value instanceof T2?Promise.resolve(h.value.v).then(c,u):f(s[0][2],h)}function c(h){a("next",h)}function u(h){a("throw",h)}function f(h,p){h(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function WVe(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:T2(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function zVe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof KS=="function"?KS(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}function HVe(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function qVe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function VVe(t){return t&&t.__esModule?t:{default:t}}function GVe(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function KVe(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const YVe=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return GS},__asyncDelegator:WVe,__asyncGenerator:UVe,__asyncValues:zVe,__await:T2,__awaiter:jVe,__classPrivateFieldGet:GVe,__classPrivateFieldSet:KVe,__createBinding:DVe,__decorate:PVe,__exportStar:LVe,__extends:TVe,__generator:MVe,__importDefault:VVe,__importStar:qVe,__makeTemplateObject:HVe,__metadata:OVe,__param:RVe,__read:aie,__rest:NVe,__spread:FVe,__spreadArrays:BVe,__values:KS},Symbol.toStringTag,{value:"Module"})),ZVe=Qh(YVe);var Lc={},zB;function JVe(){if(zB)return Lc;zB=1,Object.defineProperty(Lc,"__esModule",{value:!0}),Lc.isBrowserCryptoAvailable=Lc.getSubtleCrypto=Lc.getBrowerCrypto=void 0;function t(){return(nr==null?void 0:nr.crypto)||(nr==null?void 0:nr.msCrypto)||{}}Lc.getBrowerCrypto=t;function e(){const n=t();return n.subtle||n.webkitSubtle}Lc.getSubtleCrypto=e;function r(){return!!t()&&!!e()}return Lc.isBrowserCryptoAvailable=r,Lc}var Fc={},HB;function QVe(){if(HB)return Fc;HB=1,Object.defineProperty(Fc,"__esModule",{value:!0}),Fc.isBrowser=Fc.isNode=Fc.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Fc.isReactNative=t;function e(){return typeof mt<"u"&&typeof mt.versions<"u"&&typeof mt.versions.node<"u"}Fc.isNode=e;function r(){return!t()&&!e()}return Fc.isBrowser=r,Fc}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=ZVe;e.__exportStar(JVe(),t),e.__exportStar(QVe(),t)})(oie);function Il(t=3){const e=Date.now()*Math.pow(10,t),r=Math.floor(Math.random()*Math.pow(10,t));return e+r}function Od(t=6){return BigInt(Il(t))}function Ba(t,e,r){return{id:r||Il(),jsonrpc:"2.0",method:t,params:e}}function N2(t,e){return{id:t,jsonrpc:"2.0",result:e}}function z8(t,e,r){return{id:t,jsonrpc:"2.0",error:XVe(e)}}function XVe(t,e){return typeof t>"u"?WB(nie):(typeof t=="string"&&(t=Object.assign(Object.assign({},WB(PN)),{message:t})),IVe(t.code)&&(t=kVe(t.code)),t)}let eGe=class{},tGe=class extends eGe{constructor(){super()}},rGe=class extends tGe{constructor(e){super()}};const nGe="^https?:",iGe="^wss?:";function sGe(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function lie(t,e){const r=sGe(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function qB(t){return lie(t,nGe)}function VB(t){return lie(t,iGe)}function oGe(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function cie(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function RN(t){return cie(t)&&"method"in t}function H8(t){return cie(t)&&(kl(t)||Jo(t))}function kl(t){return"result"in t}function Jo(t){return"error"in t}let ON=class extends rGe{constructor(e){super(e),this.events=new ys.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(Ba(e.method,e.params||[],e.id||Od().toString()),r)}async requestStrict(e,r){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{Jo(s)?i(s.error):n(s.result)});try{await this.connection.send(e,r)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),H8(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const aGe=()=>typeof WebSocket<"u"?WebSocket:typeof bt<"u"&&typeof bt.WebSocket<"u"?bt.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),lGe=()=>typeof WebSocket<"u"||typeof bt<"u"&&typeof bt.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",GB=t=>t.split("?")[0],KB=10,cGe=aGe();let uGe=class{constructor(e){if(this.url=e,this.events=new ys.EventEmitter,this.registering=!1,!VB(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(qh(e))}catch(r){this.onError(e.id,r)}}register(e=this.url){if(!VB(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{const i=oie.isReactNative()?void 0:{rejectUnauthorized:!oGe(e)},s=new cGe(e,[],i);lGe()?s.onerror=o=>{const a=o;n(this.emitError(a.error))}:s.on("error",o=>{n(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),r(s)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=r=>this.onClose(r),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?Hh(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=z8(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return sie(e,GB(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>KB&&this.events.setMaxListeners(KB)}emitError(e){const r=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${GB(this.url)}`));return this.events.emit("register_error",r),r}};var dGe={};const uie="wc",die=2,YS="core",mc=`${uie}@2:${YS}:`,fGe={logger:"error"},hGe={database:":memory:"},pGe="crypto",YB="client_ed25519_seed",gGe=We.ONE_DAY,mGe="keychain",yGe="0.3",wGe="messages",bGe="0.3",vGe=We.SIX_HOURS,xGe="publisher",fie="irn",EGe="error",hie="wss://relay.walletconnect.org",_Ge="relayer",En={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},CGe="_subscription",Wo={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},AGe=.1,ZS="2.23.1",Fr={link_mode:"link_mode",relay:"relay"},C3={inbound:"inbound",outbound:"outbound"},SGe="0.3",$Ge="WALLETCONNECT_CLIENT_ID",ZB="WALLETCONNECT_LINK_MODE_APPS",co={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},IGe="subscription",kGe="0.3",TGe="pairing",NGe="0.3",im={wc_pairingDelete:{req:{ttl:We.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:We.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:We.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:We.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:We.ONE_DAY,prompt:!1,tag:0},res:{ttl:We.ONE_DAY,prompt:!1,tag:0}}},qf={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Sa={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},PGe="history",RGe="0.3",OGe="expirer",Vo={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},jGe="0.3",MGe="verify-api",DGe="https://verify.walletconnect.com",pie="https://verify.walletconnect.org",Qm=pie,LGe=`${Qm}/v3`,FGe=[DGe,pie],BGe="echo",UGe="https://echo.walletconnect.com",_l={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},zc={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},$a={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success",session_request_response_started:"session_request_response_started",session_request_response_validation_success:"session_request_response_validation_success",session_request_response_publish_started:"session_request_response_publish_started"},Pf={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found",session_request_response_validation_failure:"session_request_response_validation_failure",session_request_response_publish_failure:"session_request_response_publish_failure"},Rf={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},sm={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},WGe=.1,zGe="event-client",HGe=86400,qGe="https://pulse.walletconnect.org/batch";function VGe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,l=t.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var m=0,w=0,y=0,E=g.length;y!==E&&g[y]===0;)y++,m++;for(var v=(E-y)*u+1>>>0,b=new Uint8Array(v);y!==E;){for(var $=g[y],P=0,O=v-1;($!==0||P<w)&&O!==-1;O--,P++)$+=256*b[O]>>>0,b[O]=$%a>>>0,$=$/a>>>0;if($!==0)throw new Error("Non-zero carry");w=P,y++}for(var D=v-w;D!==v&&b[D]===0;)D++;for(var B=l.repeat(m);D<v;++D)B+=t.charAt(b[D]);return B}function h(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var m=0;if(g[m]!==" "){for(var w=0,y=0;g[m]===l;)w++,m++;for(var E=(g.length-m)*c+1>>>0,v=new Uint8Array(E);g[m];){var b=r[g.charCodeAt(m)];if(b===255)return;for(var $=0,P=E-1;(b!==0||$<y)&&P!==-1;P--,$++)b+=a*v[P]>>>0,v[P]=b%256>>>0,b=b/256>>>0;if(b!==0)throw new Error("Non-zero carry");y=$,m++}if(g[m]!==" "){for(var O=E-y;O!==E&&v[O]===0;)O++;for(var D=new Uint8Array(w+(E-O)),B=w;O!==E;)D[B++]=v[O++];return D}}}function p(g){var m=h(g);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:h,decode:p}}var GGe=VGe,KGe=GGe;const gie=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},YGe=t=>new TextEncoder().encode(t),ZGe=t=>new TextDecoder().decode(t);class JGe{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class QGe{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return mie(this,e)}}class XGe{constructor(e){this.decoders=e}or(e){return mie(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const mie=(t,e)=>new XGe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let eKe=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new JGe(e,r,n),this.decoder=new QGe(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const q8=({name:t,prefix:e,encode:r,decode:n})=>new eKe(t,e,r,n),Hw=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=KGe(r,e);return q8({prefix:t,name:e,encode:n,decode:s=>gie(i(s))})},tKe=(t,e,r,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,l=0,c=0;for(let u=0;u<s;++u){const f=i[t[u]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);l=l<<r|f,a+=r,a>=8&&(a-=8,o[c++]=255&l>>a)}if(a>=r||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return o},rKe=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let l=0;l<t.length;++l)for(a=a<<8|t[l],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},Si=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>q8({prefix:e,name:t,encode(i){return rKe(i,n,r)},decode(i){return tKe(i,n,r,t)}}),nKe=q8({prefix:"\0",name:"identity",encode:t=>ZGe(t),decode:t=>YGe(t)});var iKe=Object.freeze({__proto__:null,identity:nKe});const sKe=Si({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var oKe=Object.freeze({__proto__:null,base2:sKe});const aKe=Si({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var lKe=Object.freeze({__proto__:null,base8:aKe});const cKe=Hw({prefix:"9",name:"base10",alphabet:"0123456789"});var uKe=Object.freeze({__proto__:null,base10:cKe});const dKe=Si({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),fKe=Si({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var hKe=Object.freeze({__proto__:null,base16:dKe,base16upper:fKe});const pKe=Si({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),gKe=Si({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),mKe=Si({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),yKe=Si({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),wKe=Si({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),bKe=Si({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),vKe=Si({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),xKe=Si({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),EKe=Si({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var _Ke=Object.freeze({__proto__:null,base32:pKe,base32upper:gKe,base32pad:mKe,base32padupper:yKe,base32hex:wKe,base32hexupper:bKe,base32hexpad:vKe,base32hexpadupper:xKe,base32z:EKe});const CKe=Hw({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),AKe=Hw({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var SKe=Object.freeze({__proto__:null,base36:CKe,base36upper:AKe});const $Ke=Hw({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),IKe=Hw({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var kKe=Object.freeze({__proto__:null,base58btc:$Ke,base58flickr:IKe});const TKe=Si({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),NKe=Si({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),PKe=Si({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),RKe=Si({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var OKe=Object.freeze({__proto__:null,base64:TKe,base64pad:NKe,base64url:PKe,base64urlpad:RKe});const yie=Array.from(""),jKe=yie.reduce((t,e,r)=>(t[r]=e,t),[]),MKe=yie.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function DKe(t){return t.reduce((e,r)=>(e+=jKe[r],e),"")}function LKe(t){const e=[];for(const r of t){const n=MKe[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const FKe=q8({prefix:"",name:"base256emoji",encode:DKe,decode:LKe});var BKe=Object.freeze({__proto__:null,base256emoji:FKe}),UKe=wie,JB=128,WKe=-128,zKe=Math.pow(2,31);function wie(t,e,r){e=e||[],r=r||0;for(var n=r;t>=zKe;)e[r++]=t&255|JB,t/=128;for(;t&WKe;)e[r++]=t&255|JB,t>>>=7;return e[r]=t|0,wie.bytes=r-n+1,e}var HKe=JS,qKe=128,QB=127;function JS(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw JS.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&QB)<<i:(o&QB)*Math.pow(2,i),i+=7}while(o>=qKe);return JS.bytes=s-n,r}var VKe=Math.pow(2,7),GKe=Math.pow(2,14),KKe=Math.pow(2,21),YKe=Math.pow(2,28),ZKe=Math.pow(2,35),JKe=Math.pow(2,42),QKe=Math.pow(2,49),XKe=Math.pow(2,56),eYe=Math.pow(2,63),tYe=function(t){return t<VKe?1:t<GKe?2:t<KKe?3:t<YKe?4:t<ZKe?5:t<JKe?6:t<QKe?7:t<XKe?8:t<eYe?9:10},rYe={encode:UKe,decode:HKe,encodingLength:tYe},bie=rYe;const XB=(t,e,r=0)=>(bie.encode(t,e,r),e),eU=t=>bie.encodingLength(t),QS=(t,e)=>{const r=e.byteLength,n=eU(t),i=n+eU(r),s=new Uint8Array(i+r);return XB(t,s,0),XB(r,s,n),s.set(e,i),new nYe(t,r,e,s)};class nYe{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}}const vie=({name:t,code:e,encode:r})=>new iYe(t,e,r);class iYe{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?QS(this.code,r):r.then(n=>QS(this.code,n))}else throw Error("Unknown type, must be binary type")}}const xie=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),sYe=vie({name:"sha2-256",code:18,encode:xie("SHA-256")}),oYe=vie({name:"sha2-512",code:19,encode:xie("SHA-512")});var aYe=Object.freeze({__proto__:null,sha256:sYe,sha512:oYe});const Eie=0,lYe="identity",_ie=gie,cYe=t=>QS(Eie,_ie(t)),uYe={code:Eie,name:lYe,encode:_ie,digest:cYe};var dYe=Object.freeze({__proto__:null,identity:uYe});new TextEncoder,new TextDecoder;const tU={...iKe,...oKe,...lKe,...uKe,...hKe,..._Ke,...SKe,...kKe,...OKe,...BKe};({...aYe,...dYe});function Cie(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function fYe(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Cie(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Aie(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const rU=Aie("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),D7=Aie("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=fYe(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),hYe={utf8:rU,"utf-8":rU,hex:tU.base16,latin1:D7,ascii:D7,binary:D7,...tU};function pYe(t,e="utf8"){const r=hYe[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Cie(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}var gYe=Object.defineProperty,mYe=(t,e,r)=>e in t?gYe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,vl=(t,e,r)=>mYe(t,typeof e!="symbol"?e+"":e,r);class yYe{constructor(e,r){this.core=e,this.logger=r,vl(this,"keychain",new Map),vl(this,"name",mGe),vl(this,"version",yGe),vl(this,"initialized",!1),vl(this,"storagePrefix",mc),vl(this,"init",async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}}),vl(this,"has",n=>(this.isInitialized(),this.keychain.has(n))),vl(this,"set",async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()}),vl(this,"get",n=>{this.isInitialized();const i=this.keychain.get(n);if(typeof i>"u"){const{message:s}=He("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(s)}return i}),vl(this,"del",async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()}),this.core=e,this.logger=Mo(r,this.name)}get context(){return to(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,NS(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?PS(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=He("NOT_INITIALIZED",this.name);throw new Error(e)}}}var wYe=Object.defineProperty,bYe=(t,e,r)=>e in t?wYe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,zn=(t,e,r)=>bYe(t,typeof e!="symbol"?e+"":e,r);class vYe{constructor(e,r,n){this.core=e,this.logger=r,zn(this,"name",pGe),zn(this,"keychain"),zn(this,"randomSessionIdentifier",zS()),zn(this,"initialized",!1),zn(this,"clientId"),zn(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),zn(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),zn(this,"getClientId",async()=>{if(this.isInitialized(),this.clientId)return this.clientId;const i=await this.getClientSeed(),s=$F(i),o=Sre(s.publicKey);return this.clientId=o,o}),zn(this,"generateKeyPair",()=>{this.isInitialized();const i=lHe();return this.setPrivateKey(i.publicKey,i.privateKey)}),zn(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),o=$F(s),a=this.randomSessionIdentifier;return await nFe(a,i,gGe,o)}),zn(this,"generateSharedKey",(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),l=cHe(a,s);return this.setSymKey(l,o)}),zn(this,"setSymKey",async(i,s)=>{this.isInitialized();const o=s||x3(i);return await this.keychain.set(o,i),o}),zn(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),zn(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),zn(this,"encode",async(i,s,o)=>{this.isInitialized();const a=Jne(o),l=qh(s);if(xB(a))return fHe(l,o==null?void 0:o.encoding);if(vB(a)){const h=a.senderPublicKey,p=a.receiverPublicKey;i=await this.generateSharedKey(h,p)}const c=this.getSymKey(i),{type:u,senderPublicKey:f}=a;return uHe({type:u,symKey:c,message:l,senderPublicKey:f,encoding:o==null?void 0:o.encoding})}),zn(this,"decode",async(i,s,o)=>{this.isInitialized();const a=pHe(s,o);if(xB(a)){const l=hHe(s,o==null?void 0:o.encoding);return Hh(l)}if(vB(a)){const l=a.receiverPublicKey,c=a.senderPublicKey;i=await this.generateSharedKey(l,c)}try{const l=this.getSymKey(i),c=dHe({symKey:l,encoded:s,encoding:o==null?void 0:o.encoding});return Hh(c)}catch(l){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(l)}}),zn(this,"getPayloadType",(i,s=Rs)=>{const o=k2({encoded:i,encoding:s});return Gh(o.type)}),zn(this,"getPayloadSenderPublicKey",(i,s=Rs)=>{const o=k2({encoded:i,encoding:s});return o.senderPublicKey?qs(o.senderPublicKey,hs):void 0}),this.core=e,this.logger=Mo(r,this.name),this.keychain=n||new yYe(this.core,this.logger)}get context(){return to(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(YB)}catch{e=zS(),await this.keychain.set(YB,e)}return pYe(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=He("NOT_INITIALIZED",this.name);throw new Error(e)}}}var xYe=Object.defineProperty,EYe=Object.defineProperties,_Ye=Object.getOwnPropertyDescriptors,nU=Object.getOwnPropertySymbols,CYe=Object.prototype.hasOwnProperty,AYe=Object.prototype.propertyIsEnumerable,XS=(t,e,r)=>e in t?xYe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,SYe=(t,e)=>{for(var r in e||(e={}))CYe.call(e,r)&&XS(t,r,e[r]);if(nU)for(var r of nU(e))AYe.call(e,r)&&XS(t,r,e[r]);return t},$Ye=(t,e)=>EYe(t,_Ye(e)),io=(t,e,r)=>XS(t,typeof e!="symbol"?e+"":e,r);class IYe extends uVe{constructor(e,r){super(e,r),this.logger=e,this.core=r,io(this,"messages",new Map),io(this,"messagesWithoutClientAck",new Map),io(this,"name",wGe),io(this,"version",bGe),io(this,"initialized",!1),io(this,"storagePrefix",mc),io(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}}),io(this,"set",async(n,i,s)=>{this.isInitialized();const o=Zo(i);let a=this.messages.get(n);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=i,this.messages.set(n,a),s===C3.inbound){const l=this.messagesWithoutClientAck.get(n)||{};this.messagesWithoutClientAck.set(n,$Ye(SYe({},l),{[o]:i}))}return await this.persist(),o}),io(this,"get",n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i}),io(this,"getWithoutAck",n=>{this.isInitialized();const i={};for(const s of n){const o=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(o)}return i}),io(this,"has",(n,i)=>{this.isInitialized();const s=this.get(n),o=Zo(i);return typeof s[o]<"u"}),io(this,"ack",async(n,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(n);if(typeof s>"u")return;const o=Zo(i);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(n):this.messagesWithoutClientAck.set(n,s),await this.persist()}),io(this,"del",async n=>{this.isInitialized(),this.messages.delete(n),this.messagesWithoutClientAck.delete(n),await this.persist()}),this.logger=Mo(e,this.name),this.core=r}get context(){return to(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,NS(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,NS(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?PS(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?PS(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=He("NOT_INITIALIZED",this.name);throw new Error(e)}}}var kYe=Object.defineProperty,TYe=Object.defineProperties,NYe=Object.getOwnPropertyDescriptors,iU=Object.getOwnPropertySymbols,PYe=Object.prototype.hasOwnProperty,RYe=Object.prototype.propertyIsEnumerable,e$=(t,e,r)=>e in t?kYe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Bp=(t,e)=>{for(var r in e||(e={}))PYe.call(e,r)&&e$(t,r,e[r]);if(iU)for(var r of iU(e))RYe.call(e,r)&&e$(t,r,e[r]);return t},sU=(t,e)=>TYe(t,NYe(e)),zo=(t,e,r)=>e$(t,typeof e!="symbol"?e+"":e,r);class OYe extends dVe{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,zo(this,"events",new ys.EventEmitter),zo(this,"name",xGe),zo(this,"queue",new Map),zo(this,"publishTimeout",We.toMiliseconds(We.ONE_MINUTE)),zo(this,"initialPublishTimeout",We.toMiliseconds(We.ONE_SECOND*15)),zo(this,"needsTransportRestart",!1),zo(this,"publish",async(n,i,s)=>{var o,a,l,c,u;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}});const f=(s==null?void 0:s.ttl)||vGe,h=(s==null?void 0:s.prompt)||!1,p=(s==null?void 0:s.tag)||0,g=(s==null?void 0:s.id)||Od().toString(),m=b0(u6().protocol),w={id:g,method:(s==null?void 0:s.publishMethod)||m.publish,params:Bp({topic:n,message:i,ttl:f,prompt:h,tag:p,attestation:s==null?void 0:s.attestation},s==null?void 0:s.tvf)},y=`Failed to publish payload, please try again. id:${g} tag:${p}`;try{ri((o=w.params)==null?void 0:o.prompt)&&((a=w.params)==null||delete a.prompt),ri((l=w.params)==null?void 0:l.tag)&&((c=w.params)==null||delete c.tag);const E=new Promise(async v=>{const b=({id:P})=>{var O;((O=w.id)==null?void 0:O.toString())===P.toString()&&(this.removeRequestFromQueue(P),this.relayer.events.removeListener(En.publish,b),v())};this.relayer.events.on(En.publish,b);const $=Vl(new Promise((P,O)=>{this.rpcPublish(w,s).then(P).catch(D=>{this.logger.warn(D,D==null?void 0:D.message),O(D)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${g} tag:${p}`);try{await $,this.events.removeListener(En.publish,b)}catch(P){this.queue.set(g,{request:w,opts:s,attempt:1}),this.logger.warn(P,P==null?void 0:P.message)}});this.logger.trace({type:"method",method:"publish",params:{id:g,topic:n,message:i,opts:s}}),await Vl(E,this.publishTimeout,y)}catch(E){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(E),(u=s==null?void 0:s.internal)!=null&&u.throwOnFailedPublish)throw E}finally{this.queue.delete(g)}}),zo(this,"publishCustom",async n=>{var i,s,o,a,l;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:n});const{payload:c,opts:u={}}=n,{attestation:f,tvf:h,publishMethod:p,prompt:g,tag:m,ttl:w=We.FIVE_MINUTES}=u,y=u.id||Od().toString(),E=b0(u6().protocol),v=p||E.publish,b={id:y,method:v,params:Bp(sU(Bp({},c),{ttl:w,prompt:g,tag:m,attestation:f}),h)},$=`Failed to publish custom payload, please try again. id:${y} tag:${m}`;try{ri((i=b.params)==null?void 0:i.prompt)&&((s=b.params)==null||delete s.prompt),ri((o=b.params)==null?void 0:o.tag)&&((a=b.params)==null||delete a.tag);const P=new Promise(async O=>{const D=({id:H})=>{var q;((q=b.id)==null?void 0:q.toString())===H.toString()&&(this.removeRequestFromQueue(H),this.relayer.events.removeListener(En.publish,D),O())};this.relayer.events.on(En.publish,D);const B=Vl(new Promise((H,q)=>{this.rpcPublish(b,u).then(H).catch(Y=>{this.logger.warn(Y,Y==null?void 0:Y.message),q(Y)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${v} id:${y} tag:${m}`);try{await B,this.events.removeListener(En.publish,D)}catch(H){this.queue.set(y,{request:b,opts:u,attempt:1}),this.logger.warn(H,H==null?void 0:H.message)}});this.logger.trace({type:"method",method:"publish",params:{id:y,payload:c,opts:u}}),await Vl(P,this.publishTimeout,$)}catch(P){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(P),(l=u==null?void 0:u.internal)!=null&&l.throwOnFailedPublish)throw P}finally{this.queue.delete(y)}}),zo(this,"on",(n,i)=>{this.events.on(n,i)}),zo(this,"once",(n,i)=>{this.events.once(n,i)}),zo(this,"off",(n,i)=>{this.events.off(n,i)}),zo(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.relayer=e,this.logger=Mo(r,this.name),this.registerEventListeners()}get context(){return to(this.logger)}async rpcPublish(e,r){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const n=await this.relayer.request(e);return this.relayer.events.emit(En.publish,Bp(Bp({},e),r)),this.logger.debug("Successfully Published Payload"),n}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,r)=>{var n;const i=e.attempt+1;this.queue.set(r,sU(Bp({},e),{attempt:i})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(n=e.request.params)==null?void 0:n.tag}, attempt: ${i}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(mp.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(En.connection_stalled);return}this.checkQueue()}),this.relayer.on(En.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var jYe=Object.defineProperty,MYe=(t,e,r)=>e in t?jYe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Up=(t,e,r)=>MYe(t,typeof e!="symbol"?e+"":e,r);class DYe{constructor(){Up(this,"map",new Map),Up(this,"set",(e,r)=>{const n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])}),Up(this,"get",e=>this.map.get(e)||[]),Up(this,"exists",(e,r)=>this.get(e).includes(r)),Up(this,"delete",(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,r))return;const i=n.filter(s=>s!==r);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),Up(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var LYe=Object.defineProperty,FYe=Object.defineProperties,BYe=Object.getOwnPropertyDescriptors,oU=Object.getOwnPropertySymbols,UYe=Object.prototype.hasOwnProperty,WYe=Object.prototype.propertyIsEnumerable,t$=(t,e,r)=>e in t?LYe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,om=(t,e)=>{for(var r in e||(e={}))UYe.call(e,r)&&t$(t,r,e[r]);if(oU)for(var r of oU(e))WYe.call(e,r)&&t$(t,r,e[r]);return t},L7=(t,e)=>FYe(t,BYe(e)),Ir=(t,e,r)=>t$(t,typeof e!="symbol"?e+"":e,r);class zYe extends pVe{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,Ir(this,"subscriptions",new Map),Ir(this,"topicMap",new DYe),Ir(this,"events",new ys.EventEmitter),Ir(this,"name",IGe),Ir(this,"version",kGe),Ir(this,"pending",new Map),Ir(this,"cached",[]),Ir(this,"initialized",!1),Ir(this,"storagePrefix",mc),Ir(this,"subscribeTimeout",We.toMiliseconds(We.ONE_MINUTE)),Ir(this,"initialSubscribeTimeout",We.toMiliseconds(We.ONE_SECOND*15)),Ir(this,"clientId"),Ir(this,"batchSubscribeTopicsLimit",500),Ir(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),Ir(this,"subscribe",async(n,i)=>{var s;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{const o=u6(i),a={topic:n,relay:o,transportType:i==null?void 0:i.transportType};(s=i==null?void 0:i.internal)!=null&&s.skipSubscribe||this.pending.set(n,a);const l=await this.rpcSubscribe(n,o,i);return typeof l=="string"&&(this.onSubscribe(l,a),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}})),l}catch(o){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(o),o}}),Ir(this,"unsubscribe",async(n,i)=>{this.isInitialized(),typeof(i==null?void 0:i.id)<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)}),Ir(this,"isSubscribed",n=>new Promise(i=>{i(this.topicMap.topics.includes(n))})),Ir(this,"isKnownTopic",n=>new Promise(i=>{i(this.topicMap.topics.includes(n)||this.pending.has(n)||this.cached.some(s=>s.topic===n))})),Ir(this,"on",(n,i)=>{this.events.on(n,i)}),Ir(this,"once",(n,i)=>{this.events.once(n,i)}),Ir(this,"off",(n,i)=>{this.events.off(n,i)}),Ir(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),Ir(this,"start",async()=>{await this.onConnect()}),Ir(this,"stop",async()=>{await this.onDisconnect()}),Ir(this,"restart",async()=>{await this.restore(),await this.onRestart()}),Ir(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const n=[];this.pending.forEach(i=>{n.push(i)}),await this.batchSubscribe(n)}),Ir(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(mp.pulse,async()=>{await this.checkPending()}),this.events.on(co.created,async n=>{const i=co.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()}),this.events.on(co.deleted,async n=>{const i=co.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()})}),this.relayer=e,this.logger=Mo(r,this.name),this.clientId=""}get context(){return to(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){const n=this.topicMap.get(e);await Promise.all(n.map(async i=>await this.unsubscribeById(e,i,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{const i=u6(n);await this.restartToComplete({topic:e,id:r,relay:i}),await this.rpcUnsubscribe(e,r,i);const s=Br("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,r,n){var i,s;const o=await this.getSubscriptionId(e);if((i=n==null?void 0:n.internal)!=null&&i.skipSubscribe)return o;(!n||(n==null?void 0:n.transportType)===Fr.relay)&&await this.restartToComplete({topic:e,id:e,relay:r});const a={method:b0(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a});const l=(s=n==null?void 0:n.internal)==null?void 0:s.throwOnFailedPublish;try{if((n==null?void 0:n.transportType)===Fr.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(f=>this.logger.warn(f))},We.toMiliseconds(We.ONE_SECOND)),o;const c=new Promise(async f=>{const h=p=>{p.topic===e&&(this.events.removeListener(co.created,h),f(p.id))};this.events.on(co.created,h);try{const p=await Vl(new Promise((g,m)=>{this.relayer.request(a).catch(w=>{this.logger.warn(w,w==null?void 0:w.message),m(w)}).then(g)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(co.created,h),f(p)}catch{}}),u=await Vl(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!u&&l)throw new Error(`Subscribing to ${e} failed, please try again`);return u?o:null}catch(c){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(En.connection_stalled),l)throw c}return null}async rpcBatchSubscribe(e){if(!e.length)return;const r=e[0].relay,n={method:b0(r.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await Vl(new Promise(i=>{this.relayer.request(n).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(En.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const r=e[0].relay,n={method:b0(r.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let i;try{i=await await Vl(new Promise((s,o)=>{this.relayer.request(n).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(En.connection_stalled)}return i}rpcUnsubscribe(e,r,n){const i={method:b0(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,r){this.setSubscription(e,L7(om({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,om({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r)}addSubscription(e,r){this.subscriptions.set(e,om({},r)),this.topicMap.set(r.topic,e),this.events.emit(co.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const r=this.subscriptions.get(e);if(!r){const{message:n}=He("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(co.deleted,L7(om({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(co.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],r=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let n=0;n<r;n++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(co.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(r=>{var n;return r.topic===((n=this.subscriptions.get(r.id))==null?void 0:n.topic)})){const{message:r}=He("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async r=>L7(om({},r),{id:await this.getSubscriptionId(r.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(await IUe(We.toMiliseconds(We.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(r.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=He("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Zo(e+await this.getClientId())}}var HYe=Object.defineProperty,aU=Object.getOwnPropertySymbols,qYe=Object.prototype.hasOwnProperty,VYe=Object.prototype.propertyIsEnumerable,r$=(t,e,r)=>e in t?HYe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,lU=(t,e)=>{for(var r in e||(e={}))qYe.call(e,r)&&r$(t,r,e[r]);if(aU)for(var r of aU(e))VYe.call(e,r)&&r$(t,r,e[r]);return t},hr=(t,e,r)=>r$(t,typeof e!="symbol"?e+"":e,r);class GYe extends fVe{constructor(e){var r;super(e),hr(this,"protocol","wc"),hr(this,"version",2),hr(this,"core"),hr(this,"logger"),hr(this,"events",new ys.EventEmitter),hr(this,"provider"),hr(this,"messages"),hr(this,"subscriber"),hr(this,"publisher"),hr(this,"name",_Ge),hr(this,"transportExplicitlyClosed",!1),hr(this,"initialized",!1),hr(this,"connectionAttemptInProgress",!1),hr(this,"relayUrl"),hr(this,"projectId"),hr(this,"packageName"),hr(this,"bundleId"),hr(this,"hasExperiencedNetworkDisruption",!1),hr(this,"pingTimeout"),hr(this,"heartBeatTimeout",We.toMiliseconds(We.THIRTY_SECONDS+We.FIVE_SECONDS)),hr(this,"reconnectTimeout"),hr(this,"connectPromise"),hr(this,"reconnectInProgress",!1),hr(this,"requestsInFlight",[]),hr(this,"connectTimeout",We.toMiliseconds(We.ONE_SECOND*15)),hr(this,"request",async n=>{var i,s;this.logger.debug("Publishing Request Payload");const o=n.id||Od().toString();await this.toEstablishConnection();try{this.logger.trace({id:o,method:n.method,topic:(i=n.params)==null?void 0:i.topic},"relayer.request - publishing...");const a=`${o}:${((s=n.params)==null?void 0:s.tag)||""}`;this.requestsInFlight.push(a);const l=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==a),l}catch(a){throw this.logger.debug(`Failed to Publish Request: ${o}`),a}}),hr(this,"resetPingTimeout",()=>{i6()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,i,s,o;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(o=(s=(i=(n=this.provider)==null?void 0:n.connection)==null?void 0:i.socket)==null?void 0:s.terminate)==null||o.call(s)}catch(a){this.logger.warn(a,a==null?void 0:a.message)}},this.heartBeatTimeout))}),hr(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),hr(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(En.connect)}),hr(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),hr(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(En.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),hr(this,"registerProviderListeners",()=>{this.provider.on(Wo.payload,this.onPayloadHandler),this.provider.on(Wo.connect,this.onConnectHandler),this.provider.on(Wo.disconnect,this.onDisconnectHandler),this.provider.on(Wo.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=NN({logger:(r=e.logger)!=null?r:EGe,name:this.name}),this.messages=new IYe(this.logger,e.core),this.subscriber=new zYe(this,this.logger),this.publisher=new OYe(this,this.logger),this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||hie,fUe()?this.packageName=WF():hUe()&&(this.bundleId=WF()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e==null?void 0:e.message))}get context(){return to(this.logger)}get connected(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===1||!1}get connecting(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now(),transportType:Fr.relay},C3.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,r){var n,i,s;this.isInitialized(),(!(r!=null&&r.transportType)||(r==null?void 0:r.transportType)==="relay")&&await this.toEstablishConnection();const o=typeof((n=r==null?void 0:r.internal)==null?void 0:n.throwOnFailedPublish)>"u"?!0:(i=r==null?void 0:r.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",l;const c=u=>{u.topic===e&&(this.subscriber.off(co.created,c),l())};return await Promise.all([new Promise(u=>{l=u,this.subscriber.on(co.created,c)}),new Promise(async(u,f)=>{a=await this.subscriber.subscribe(e,lU({internal:{throwOnFailedPublish:o}},r)).catch(h=>{o&&f(h)})||a,u()})]),a}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Vl(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(r,n)=>{await this.connect(e).then(r).catch(n).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await OB())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const r=e.sort((n,i)=>n.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${r.length} message events sorted`);for(const n of r)try{await this.onMessageEvent(n)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+(i==null?void 0:i.message))}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(e,r){const{topic:n}=e;if(!r.sessionExists){const i=bn(We.FIVE_MINUTES),s={topic:n,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,s)}this.events.emit(En.message,e),await this.recordMessageEvent(e,C3.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let r=1;for(;r<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${r}...`),await this.createProvider(),await new Promise(async(n,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to connect"))};this.provider.once(Wo.disconnect,s),await Vl(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(Wo.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const l=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Wo.disconnect,l),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(Wo.disconnect,l)})}),this.hasExperiencedNetworkDisruption=!1,n()})}catch(n){await this.subscriber.stop();const i=n;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${r}`);break}await new Promise(n=>setTimeout(n,We.toMiliseconds(r*1))),r++}}startPingTimeout(){var e,r,n,i,s;if(i6())try{(r=(e=this.provider)==null?void 0:e.connection)!=null&&r.socket&&((s=(i=(n=this.provider)==null?void 0:n.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new ON(new uGe(wUe({sdkVersion:ZS,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,r){const{topic:n,message:i}=e;await this.messages.set(n,i,r)}async shouldIgnoreMessageEvent(e){const{topic:r,message:n}=e;if(!n||n.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isKnownTopic(r))return this.logger.warn(`Ignoring message for unknown topic ${r}`),!0;const i=this.messages.has(r,n);return i&&this.logger.warn(`Ignoring duplicate message: ${n}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),RN(e)){if(!e.method.endsWith(CGe))return;const r=e.params,{topic:n,message:i,publishedAt:s,attestation:o}=r.data,a={topic:n,message:i,publishedAt:s,transportType:Fr.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(lU({type:"event",event:r.id},a)),this.events.emit(r.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else H8(e)&&this.events.emit(En.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,C3.inbound),this.events.emit(En.message,e))}async acknowledgePayload(e){const r=N2(e.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(Wo.payload,this.onPayloadHandler),this.provider.off(Wo.connect,this.onConnectHandler),this.provider.off(Wo.disconnect,this.onDisconnectHandler),this.provider.off(Wo.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await OB();pqe(async r=>{e!==r&&(e=r,r?await this.transportOpen().catch(n=>this.logger.error(n,n==null?void 0:n.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(mp.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&yqe())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(r){this.logger.warn(r,r==null?void 0:r.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(En.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},We.toMiliseconds(AGe)))))}isInitialized(){if(!this.initialized){const{message:e}=He("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function KYe(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function cU(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function uU(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const YYe="[object RegExp]",ZYe="[object String]",JYe="[object Number]",QYe="[object Boolean]",dU="[object Arguments]",XYe="[object Symbol]",eZe="[object Date]",tZe="[object Map]",rZe="[object Set]",nZe="[object Array]",iZe="[object Function]",sZe="[object ArrayBuffer]",F7="[object Object]",oZe="[object Error]",aZe="[object DataView]",lZe="[object Uint8Array]",cZe="[object Uint8ClampedArray]",uZe="[object Uint16Array]",dZe="[object Uint32Array]",fZe="[object BigUint64Array]",hZe="[object Int8Array]",pZe="[object Int16Array]",gZe="[object Int32Array]",mZe="[object BigInt64Array]",yZe="[object Float32Array]",wZe="[object Float64Array]";function bZe(){}function fU(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function vZe(t,e,r){return Cm(t,e,void 0,void 0,void 0,void 0,r)}function Cm(t,e,r,n,i,s,o){const a=o(t,e,r,n,i,s);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return Xm(t,e,s,o)}return Xm(t,e,s,o)}function Xm(t,e,r,n){if(Object.is(t,e))return!0;let i=uU(t),s=uU(e);if(i===dU&&(i=F7),s===dU&&(s=F7),i!==s)return!1;switch(i){case ZYe:return t.toString()===e.toString();case JYe:{const l=t.valueOf(),c=e.valueOf();return KYe(l,c)}case QYe:case eZe:case XYe:return Object.is(t.valueOf(),e.valueOf());case YYe:return t.source===e.source&&t.flags===e.flags;case iZe:return t===e}r=r??new Map;const o=r.get(t),a=r.get(e);if(o!=null&&a!=null)return o===e;r.set(t,e),r.set(e,t);try{switch(i){case tZe:{if(t.size!==e.size)return!1;for(const[l,c]of t.entries())if(!e.has(l)||!Cm(c,e.get(l),l,t,e,r,n))return!1;return!0}case rZe:{if(t.size!==e.size)return!1;const l=Array.from(t.values()),c=Array.from(e.values());for(let u=0;u<l.length;u++){const f=l[u],h=c.findIndex(p=>Cm(f,p,void 0,t,e,r,n));if(h===-1)return!1;c.splice(h,1)}return!0}case nZe:case lZe:case cZe:case uZe:case dZe:case fZe:case hZe:case pZe:case gZe:case mZe:case yZe:case wZe:{if(typeof Ke<"u"&&Ke.isBuffer(t)!==Ke.isBuffer(e)||t.length!==e.length)return!1;for(let l=0;l<t.length;l++)if(!Cm(t[l],e[l],l,t,e,r,n))return!1;return!0}case sZe:return t.byteLength!==e.byteLength?!1:Xm(new Uint8Array(t),new Uint8Array(e),r,n);case aZe:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:Xm(new Uint8Array(t),new Uint8Array(e),r,n);case oZe:return t.name===e.name&&t.message===e.message;case F7:{if(!(Xm(t.constructor,e.constructor,r,n)||fU(t)&&fU(e)))return!1;const l=[...Object.keys(t),...cU(t)],c=[...Object.keys(e),...cU(e)];if(l.length!==c.length)return!1;for(let u=0;u<l.length;u++){const f=l[u],h=t[f];if(!Object.hasOwn(e,f))return!1;const p=e[f];if(!Cm(h,p,f,t,e,r,n))return!1}return!0}default:return!1}}finally{r.delete(t),r.delete(e)}}function xZe(t,e){return vZe(t,e,bZe)}var EZe=Object.defineProperty,hU=Object.getOwnPropertySymbols,_Ze=Object.prototype.hasOwnProperty,CZe=Object.prototype.propertyIsEnumerable,n$=(t,e,r)=>e in t?EZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,pU=(t,e)=>{for(var r in e||(e={}))_Ze.call(e,r)&&n$(t,r,e[r]);if(hU)for(var r of hU(e))CZe.call(e,r)&&n$(t,r,e[r]);return t},As=(t,e,r)=>n$(t,typeof e!="symbol"?e+"":e,r);class wp extends hVe{constructor(e,r,n,i=mc,s=void 0){super(e,r,n,i),this.core=e,this.logger=r,this.name=n,As(this,"map",new Map),As(this,"version",SGe),As(this,"cached",[]),As(this,"initialized",!1),As(this,"getKey"),As(this,"storagePrefix",mc),As(this,"recentlyDeleted",[]),As(this,"recentlyDeletedLimit",200),As(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!ri(o)?this.map.set(this.getKey(o),o):qHe(o)?this.map.set(o.id,o):VHe(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),As(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),As(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),As(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(l=>xZe(a[l],o[l]))):this.values)),As(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const l=pU(pU({},this.getData(o)),a);this.map.set(o,l),await this.persist()}),As(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=Mo(r,this.name),this.storagePrefix=i,this.getKey=s}get context(){return to(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const r=this.map.get(e);if(!r){if(this.recentlyDeleted.includes(e)){const{message:i}=He("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:n}=He("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:r}=He("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=He("NOT_INITIALIZED",this.name);throw new Error(e)}}}var AZe=Object.defineProperty,SZe=(t,e,r)=>e in t?AZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Zt=(t,e,r)=>SZe(t,typeof e!="symbol"?e+"":e,r);class $Ze{constructor(e,r){this.core=e,this.logger=r,Zt(this,"name",TGe),Zt(this,"version",NGe),Zt(this,"events",new cT),Zt(this,"pairings"),Zt(this,"initialized",!1),Zt(this,"storagePrefix",mc),Zt(this,"ignoredPayloadTypes",[wu]),Zt(this,"registeredMethods",[]),Zt(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Zt(this,"register",({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]}),Zt(this,"create",async n=>{this.isInitialized();const i=zS(),s=await this.core.crypto.setSymKey(i),o=bn(We.FIVE_MINUTES),a={protocol:fie},l={topic:s,expiry:o,relay:a,active:!1,methods:n==null?void 0:n.methods},c=AB({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:n==null?void 0:n.methods});return this.events.emit(qf.create,l),this.core.expirer.set(s,o),await this.pairings.set(s,l),await this.core.relayer.subscribe(s,{transportType:n==null?void 0:n.transportType,internal:n==null?void 0:n.internal}),{topic:s,uri:c}}),Zt(this,"pair",async n=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:n==null?void 0:n.uri,trace:[_l.pairing_started]}});this.isValidPair(n,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:l,methods:c}=CB(n.uri);i.props.properties.topic=s,i.addTrace(_l.pairing_uri_validation_success),i.addTrace(_l.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(s)){if(u=this.pairings.get(s),i.addTrace(_l.existing_pairing),u.active)throw i.setError(zc.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(_l.pairing_not_expired)}const f=l||bn(We.FIVE_MINUTES),h={topic:s,relay:a,expiry:f,active:!1,methods:c};this.core.expirer.set(s,f),await this.pairings.set(s,h),i.addTrace(_l.store_new_pairing),n.activatePairing&&await this.activate({topic:s}),this.events.emit(qf.create,h),i.addTrace(_l.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(_l.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(zc.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(p){throw i.setError(zc.subscribe_pairing_topic_failure),p}return i.addTrace(_l.subscribe_pairing_topic_success),h}),Zt(this,"activate",async({topic:n})=>{this.isInitialized();const i=bn(We.FIVE_MINUTES);this.core.expirer.set(n,i),await this.pairings.update(n,{active:!0,expiry:i})}),Zt(this,"ping",async n=>{this.isInitialized(),await this.isValidPing(n),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=n;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:l}=Lf();this.events.once(xr("pairing_ping",s),({error:c})=>{c?l(c):a()}),await o()}}),Zt(this,"updateExpiry",async({topic:n,expiry:i})=>{this.isInitialized(),await this.pairings.update(n,{expiry:i})}),Zt(this,"updateMetadata",async({topic:n,metadata:i})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:i})}),Zt(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Zt(this,"disconnect",async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:i}=n;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Br("USER_DISCONNECTED")),await this.deletePairing(i))}),Zt(this,"formatUriFromPairing",n=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=n,l=this.core.crypto.keychain.get(i);return AB({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:l,relay:s,expiryTimestamp:o,methods:a})}),Zt(this,"sendRequest",async(n,i,s)=>{const o=Ba(i,s),a=await this.core.crypto.encode(n,o),l=im[i].req;return this.core.history.set(n,o),this.core.relayer.publish(n,a,l),o.id}),Zt(this,"sendResult",async(n,i,s)=>{const o=N2(n,s),a=await this.core.crypto.encode(i,o),l=(await this.core.history.get(i,n)).request.method,c=im[l].res;await this.core.relayer.publish(i,a,c),await this.core.history.resolve(o)}),Zt(this,"sendError",async(n,i,s)=>{const o=z8(n,s),a=await this.core.crypto.encode(i,o),l=(await this.core.history.get(i,n)).request.method,c=im[l]?im[l].res:im.unregistered_method.res;await this.core.relayer.publish(i,a,c),await this.core.history.resolve(o)}),Zt(this,"deletePairing",async(n,i)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,Br("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),i?Promise.resolve():this.core.expirer.del(n)])}),Zt(this,"cleanup",async()=>{const n=this.pairings.getAll().filter(i=>jl(i.expiry));await Promise.all(n.map(i=>this.deletePairing(i.topic)))}),Zt(this,"onRelayEventRequest",async n=>{const{topic:i,payload:s}=n;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),Zt(this,"onRelayEventResponse",async n=>{const{topic:i,payload:s}=n,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}}),Zt(this,"onPairingPingRequest",async(n,i)=>{const{id:s}=i;try{this.isValidPing({topic:n}),await this.sendResult(s,n,!0),this.events.emit(qf.ping,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}}),Zt(this,"onPairingPingResponse",(n,i)=>{const{id:s}=i;setTimeout(()=>{kl(i)?this.events.emit(xr("pairing_ping",s),{}):Jo(i)&&this.events.emit(xr("pairing_ping",s),{error:i.error})},500)}),Zt(this,"onPairingDeleteRequest",async(n,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(qf.delete,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}}),Zt(this,"onUnknownRpcMethodRequest",async(n,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=Br("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,n,a),this.logger.error(a)}catch(a){await this.sendError(s,n,a),this.logger.error(a)}}),Zt(this,"onUnknownRpcMethodResponse",n=>{this.registeredMethods.includes(n)||this.logger.error(Br("WC_METHOD_UNSUPPORTED",n))}),Zt(this,"isValidPair",(n,i)=>{var s;if(!$s(n)){const{message:a}=He("MISSING_OR_INVALID",`pair() params: ${n}`);throw i.setError(zc.malformed_pairing_uri),new Error(a)}if(!HHe(n.uri)){const{message:a}=He("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw i.setError(zc.malformed_pairing_uri),new Error(a)}const o=CB(n==null?void 0:n.uri);if(!((s=o==null?void 0:o.relay)!=null&&s.protocol)){const{message:a}=He("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(zc.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=He("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(zc.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&We.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){i.setError(zc.pairing_expired);const{message:a}=He("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),Zt(this,"isValidPing",async n=>{if(!$s(n)){const{message:s}=He("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)}),Zt(this,"isValidDisconnect",async n=>{if(!$s(n)){const{message:s}=He("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)}),Zt(this,"isValidPairingTopic",async n=>{if(!_n(n,!1)){const{message:i}=He("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(i)}if(!this.pairings.keys.includes(n)){const{message:i}=He("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(i)}if(jl(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:i}=He("EXPIRED",`pairing topic: ${n}`);throw new Error(i)}}),this.core=e,this.logger=Mo(r,this.name),this.pairings=new wp(this.core,this.logger,this.name,this.storagePrefix)}get context(){return to(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=He("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(En.message,async e=>{const{topic:r,message:n,transportType:i}=e;if(this.pairings.keys.includes(r)&&i!==Fr.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))try{const s=await this.core.crypto.decode(r,n);RN(s)?(this.core.history.set(r,s),await this.onRelayEventRequest({topic:r,payload:s})):H8(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:r,payload:s}),this.core.history.delete(r,s.id)),await this.core.relayer.messages.ack(r,n)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(Vo.expired,async e=>{const{topic:r}=Xre(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(qf.expire,{topic:r}))})}}var IZe=Object.defineProperty,kZe=(t,e,r)=>e in t?IZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,hi=(t,e,r)=>kZe(t,typeof e!="symbol"?e+"":e,r);class TZe extends cVe{constructor(e,r){super(e,r),this.core=e,this.logger=r,hi(this,"records",new Map),hi(this,"events",new ys.EventEmitter),hi(this,"name",PGe),hi(this,"version",RGe),hi(this,"cached",[]),hi(this,"initialized",!1),hi(this,"storagePrefix",mc),hi(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),hi(this,"set",(n,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:s,expiry:bn(We.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(Sa.created,o)}),hi(this,"resolve",async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=Jo(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.persist(),this.events.emit(Sa.updated,i))}),hi(this,"get",async(n,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i}),await this.getRecord(i))),hi(this,"delete",(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===n){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(Sa.deleted,s)}}),this.persist()}),hi(this,"exists",async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1)),hi(this,"on",(n,i)=>{this.events.on(n,i)}),hi(this,"once",(n,i)=>{this.events.once(n,i)}),hi(this,"off",(n,i)=>{this.events.off(n,i)}),hi(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=Mo(r,this.name)}get context(){return to(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:Ba(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const r=this.records.get(e);if(!r){const{message:n}=He("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Sa.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:r}=He("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Sa.created,e=>{const r=Sa.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(Sa.updated,e=>{const r=Sa.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(Sa.deleted,e=>{const r=Sa.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.core.heartbeat.on(mp.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(r=>{We.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(Sa.deleted,r,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=He("NOT_INITIALIZED",this.name);throw new Error(e)}}}var NZe=Object.defineProperty,PZe=(t,e,r)=>e in t?NZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ji=(t,e,r)=>PZe(t,typeof e!="symbol"?e+"":e,r);class RZe extends gVe{constructor(e,r){super(e,r),this.core=e,this.logger=r,ji(this,"expirations",new Map),ji(this,"events",new ys.EventEmitter),ji(this,"name",OGe),ji(this,"version",jGe),ji(this,"cached",[]),ji(this,"initialized",!1),ji(this,"storagePrefix",mc),ji(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),ji(this,"has",n=>{try{const i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}}),ji(this,"set",(n,i)=>{this.isInitialized();const s=this.formatTarget(n),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(Vo.created,{target:s,expiration:o})}),ji(this,"get",n=>{this.isInitialized();const i=this.formatTarget(n);return this.getExpiration(i)}),ji(this,"del",n=>{if(this.isInitialized(),this.has(n)){const i=this.formatTarget(n),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Vo.deleted,{target:i,expiration:s})}}),ji(this,"on",(n,i)=>{this.events.on(n,i)}),ji(this,"once",(n,i)=>{this.events.once(n,i)}),ji(this,"off",(n,i)=>{this.events.off(n,i)}),ji(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=Mo(r,this.name)}get context(){return to(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return bUe(e);if(typeof e=="number")return vUe(e);const{message:r}=He("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Vo.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:r}=He("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const r=this.expirations.get(e);if(!r){const{message:n}=He("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(n),new Error(n)}return r}checkExpiry(e,r){const{expiry:n}=r;We.toMiliseconds(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(Vo.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(mp.pulse,()=>this.checkExpirations()),this.events.on(Vo.created,e=>{const r=Vo.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Vo.expired,e=>{const r=Vo.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Vo.deleted,e=>{const r=Vo.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=He("NOT_INITIALIZED",this.name);throw new Error(e)}}}var OZe=Object.defineProperty,jZe=(t,e,r)=>e in t?OZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,wn=(t,e,r)=>jZe(t,typeof e!="symbol"?e+"":e,r);class MZe extends mVe{constructor(e,r,n){super(e,r,n),this.core=e,this.logger=r,this.store=n,wn(this,"name",MGe),wn(this,"abortController"),wn(this,"isDevEnv"),wn(this,"verifyUrlV3",LGe),wn(this,"storagePrefix",mc),wn(this,"version",die),wn(this,"publicKey"),wn(this,"fetchPromise"),wn(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&We.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),wn(this,"register",async i=>{if(!yg()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,l=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const c=zh(),u=this.startAbortTimer(We.ONE_SECOND*5),f=await new Promise((h,p)=>{const g=()=>{window.removeEventListener("message",w),c.body.removeChild(m),p("attestation aborted")};this.abortController.signal.addEventListener("abort",g);const m=c.createElement("iframe");m.src=l,m.style.display="none",m.addEventListener("error",g,{signal:this.abortController.signal});const w=y=>{if(y.data&&typeof y.data=="string")try{const E=JSON.parse(y.data);if(E.type==="verify_attestation"){if($S(E.attestation).payload.id!==o)return;clearInterval(u),c.body.removeChild(m),this.abortController.signal.removeEventListener("abort",g),window.removeEventListener("message",w),h(E.attestation===null?"":E.attestation)}}catch(E){this.logger.warn(E)}};c.body.appendChild(m),window.addEventListener("message",w,{signal:this.abortController.signal})});return this.logger.debug(f,"jwt attestation"),f}catch(c){this.logger.warn(c)}return""}),wn(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if($S(s).payload.id!==a)return;const c=await this.isValidJwtAttestation(s);if(c){if(!c.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return c}}if(!o)return;const l=this.getVerifyUrl(i==null?void 0:i.verifyUrl);return this.fetchAttestation(o,l)}),wn(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(We.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),wn(this,"getVerifyUrl",i=>{let s=i||Qm;return FGe.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${Qm}`),s=Qm),s}),wn(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(We.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),wn(this,"persistPublicKey",async i=>{this.logger.debug(i,"persisting public key to local storage"),await this.store.setItem(this.storeKey,i),this.publicKey=i}),wn(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),wn(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),wn(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),wn(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),wn(this,"validateAttestation",(i,s)=>{const o=mHe(i,s.publicKey),a={hasExpired:We.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=Mo(r,this.name),this.abortController=new AbortController,this.isDevEnv=vN(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return to(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),We.toMiliseconds(e))}}var DZe=Object.defineProperty,LZe=(t,e,r)=>e in t?DZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,gU=(t,e,r)=>LZe(t,typeof e!="symbol"?e+"":e,r);class FZe extends yVe{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,gU(this,"context",BGe),gU(this,"registerDeviceToken",async n=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=n,l=`${UGe}/${this.projectId}/clients`;await fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})}),this.logger=Mo(r,this.context)}}var BZe=Object.defineProperty,mU=Object.getOwnPropertySymbols,UZe=Object.prototype.hasOwnProperty,WZe=Object.prototype.propertyIsEnumerable,i$=(t,e,r)=>e in t?BZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,am=(t,e)=>{for(var r in e||(e={}))UZe.call(e,r)&&i$(t,r,e[r]);if(mU)for(var r of mU(e))WZe.call(e,r)&&i$(t,r,e[r]);return t},Hn=(t,e,r)=>i$(t,typeof e!="symbol"?e+"":e,r);class zZe extends wVe{constructor(e,r,n=!0){super(e,r,n),this.core=e,this.logger=r,Hn(this,"context",zGe),Hn(this,"storagePrefix",mc),Hn(this,"storageVersion",WGe),Hn(this,"events",new Map),Hn(this,"shouldPersist",!1),Hn(this,"init",async()=>{if(!vN())try{const i={eventId:HF(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:Jre(this.core.relayer.protocol,this.core.relayer.version,ZS)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),Hn(this,"createEvent",i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:l}}=i,c=HF(),u=this.core.projectId||"",f=Date.now(),h=am({eventId:c,timestamp:f,props:{event:s,type:o,properties:{topic:a,trace:l}},bundleId:u,domain:this.getAppDomain()},this.setMethods(c));return this.telemetryEnabled&&(this.events.set(c,h),this.shouldPersist=!0),h}),Hn(this,"getEvent",i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(l=>l.props.properties.topic===o);if(a)return am(am({},a),this.setMethods(a.eventId))}),Hn(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),Hn(this,"setEventListeners",()=>{this.core.heartbeat.on(mp.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{We.fromMiliseconds(Date.now())-We.fromMiliseconds(i.timestamp)>HGe&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),Hn(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),Hn(this,"addTrace",(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)}),Hn(this,"setError",(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),Hn(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Hn(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,am(am({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),Hn(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),Hn(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${qGe}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${ZS}${s}`,{method:"POST",body:JSON.stringify(i)})}),Hn(this,"getAppDomain",()=>Zre().url),this.logger=Mo(r,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var HZe=Object.defineProperty,yU=Object.getOwnPropertySymbols,qZe=Object.prototype.hasOwnProperty,VZe=Object.prototype.propertyIsEnumerable,s$=(t,e,r)=>e in t?HZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,wU=(t,e)=>{for(var r in e||(e={}))qZe.call(e,r)&&s$(t,r,e[r]);if(yU)for(var r of yU(e))VZe.call(e,r)&&s$(t,r,e[r]);return t},Nr=(t,e,r)=>s$(t,typeof e!="symbol"?e+"":e,r);let GZe=class Sie extends sVe{constructor(e){var r;super(e),Nr(this,"protocol",uie),Nr(this,"version",die),Nr(this,"name",YS),Nr(this,"relayUrl"),Nr(this,"projectId"),Nr(this,"customStoragePrefix"),Nr(this,"events",new ys.EventEmitter),Nr(this,"logger"),Nr(this,"heartbeat"),Nr(this,"relayer"),Nr(this,"crypto"),Nr(this,"storage"),Nr(this,"history"),Nr(this,"expirer"),Nr(this,"pairing"),Nr(this,"verify"),Nr(this,"echoClient"),Nr(this,"linkModeSupportedApps"),Nr(this,"eventClient"),Nr(this,"initialized",!1),Nr(this,"logChunkController"),Nr(this,"on",(a,l)=>this.events.on(a,l)),Nr(this,"once",(a,l)=>this.events.once(a,l)),Nr(this,"off",(a,l)=>this.events.off(a,l)),Nr(this,"removeListener",(a,l)=>this.events.removeListener(a,l)),Nr(this,"dispatchEnvelope",({topic:a,message:l,sessionExists:c})=>{if(!a||!l)return;const u={topic:a,message:l,publishedAt:Date.now(),transportType:Fr.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:c})});const n=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(n)try{return this.customStoragePrefix=n.customStoragePrefix,this.logger=n.logger,this.heartbeat=n.heartbeat,this.crypto=n.crypto,this.history=n.history,this.expirer=n.expirer,this.storage=n.storage,this.relayer=n.relayer,this.pairing=n.pairing,this.verify=n.verify,this.echoClient=n.echoClient,this.linkModeSupportedApps=n.linkModeSupportedApps,this.eventClient=n.eventClient,this.initialized=n.initialized,this.logChunkController=n.logChunkController,n}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||hie,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=JBe({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:fGe.logger,name:YS}),{logger:s,chunkLoggerController:o}=Kre({opts:i,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=o,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,l;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((l=this.logChunkController)==null||l.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Mo(s,this.name),this.heartbeat=new $qe,this.crypto=new vYe(this,this.logger,e==null?void 0:e.keychain),this.history=new TZe(this,this.logger),this.expirer=new RZe(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new rVe(wU(wU({},hGe),e==null?void 0:e.storageOptions)),this.relayer=new GYe({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new $Ze(this,this.logger),this.verify=new MZe(this,this.logger,this.storage),this.echoClient=new FZe(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new zZe(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const r=new Sie(e);await r.initialize();const n=await r.crypto.getClientId();return await r.storage.setItem($Ge,n),r}get context(){return to(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(ZB,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(ZB)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(e,`Core Initialization Failure at epoch ${Date.now()}`),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${e}`,n=`${r}_count`;return globalThis[n]=(globalThis[n]||0)+1,globalThis[n]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[n]} times.`),globalThis[r]}catch(r){console.warn("Failed to get global WalletConnect core",r);return}}setGlobalCore(e){var r;try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${((r=e.opts)==null?void 0:r.customStoragePrefix)||""}`;globalThis[n]=e}catch(n){console.warn("Failed to set global WalletConnect core",n)}}isGlobalCoreDisabled(){try{return typeof mt<"u"&&dGe.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const KZe=GZe,$ie="wc",Iie=2,kie="client",jN=`${$ie}@${Iie}:${kie}:`,B7={name:kie,logger:"error"},bU="WALLETCONNECT_DEEPLINK_CHOICE",YZe="proposal",vU="Proposal expired",ZZe="session",Wp=We.SEVEN_DAYS,JZe="engine",pi={wc_sessionPropose:{req:{ttl:We.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:We.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:We.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:We.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:We.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:We.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:We.ONE_DAY,prompt:!1,tag:1104},res:{ttl:We.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:We.ONE_DAY,prompt:!1,tag:1106},res:{ttl:We.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:We.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:We.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:We.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:We.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:We.ONE_DAY,prompt:!1,tag:1112},res:{ttl:We.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:We.ONE_DAY,prompt:!1,tag:1114},res:{ttl:We.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:We.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:We.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:We.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:We.FIVE_MINUTES,prompt:!1,tag:1119}}},U7={min:We.FIVE_MINUTES,max:We.SEVEN_DAYS},xl={idle:"IDLE",active:"ACTIVE"},QZe={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},XZe="request",eJe=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],tJe="wc",rJe="auth",nJe="authKeys",iJe="pairingTopics",sJe="requests",V8=`${tJe}@${1.5}:${rJe}:`,A3=`${V8}:PUB_KEY`;var oJe=Object.defineProperty,aJe=Object.defineProperties,lJe=Object.getOwnPropertyDescriptors,xU=Object.getOwnPropertySymbols,cJe=Object.prototype.hasOwnProperty,uJe=Object.prototype.propertyIsEnumerable,o$=(t,e,r)=>e in t?oJe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,yr=(t,e)=>{for(var r in e||(e={}))cJe.call(e,r)&&o$(t,r,e[r]);if(xU)for(var r of xU(e))uJe.call(e,r)&&o$(t,r,e[r]);return t},gi=(t,e)=>aJe(t,lJe(e)),Pe=(t,e,r)=>o$(t,typeof e!="symbol"?e+"":e,r);class dJe extends EVe{constructor(e){super(e),Pe(this,"name",JZe),Pe(this,"events",new cT),Pe(this,"initialized",!1),Pe(this,"requestQueue",{state:xl.idle,queue:[]}),Pe(this,"sessionRequestQueue",{state:xl.idle,queue:[]}),Pe(this,"emittedSessionRequests",new kUe({limit:500})),Pe(this,"requestQueueDelay",We.ONE_SECOND),Pe(this,"expectedPairingMethodMap",new Map),Pe(this,"recentlyDeletedMap",new Map),Pe(this,"recentlyDeletedLimit",200),Pe(this,"relayMessageCache",[]),Pe(this,"pendingSessions",new Map),Pe(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(pi)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},We.toMiliseconds(this.requestQueueDelay)))}),Pe(this,"connect",async r=>{var n;this.isInitialized(),await this.confirmOnlineStateOrThrow();const i=gi(yr({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(i),i.optionalNamespaces=FHe(i.requiredNamespaces,i.optionalNamespaces),i.requiredNamespaces={};const{pairingTopic:s,requiredNamespaces:o,optionalNamespaces:a,sessionProperties:l,scopedProperties:c,relays:u,authentication:f,walletPay:h}=i,p=((n=f==null?void 0:f[0])==null?void 0:n.ttl)||pi.wc_sessionPropose.req.ttl||We.FIVE_MINUTES;this.validateRequestExpiry(p);let g=s,m,w=!1;try{if(g){const B=this.client.core.pairing.pairings.get(g);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),w=B.active}}catch(B){throw this.client.logger.error(`connect() -> pairing.get(${g}) failed`),B}if(!g||!w){const{topic:B,uri:H}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});g=B,m=H}if(!g){const{message:B}=He("NO_MATCHING_KEY",`connect() pairing topic: ${g}`);throw new Error(B)}const y=await this.client.core.crypto.generateKeyPair(),E=bn(p),v=yr(gi(yr(yr({requiredNamespaces:o,optionalNamespaces:a,relays:u??[{protocol:fie}],proposer:{publicKey:y,metadata:this.client.metadata},expiryTimestamp:E,pairingTopic:g},l&&{sessionProperties:l}),c&&{scopedProperties:c}),{id:Il()}),(f||h)&&{requests:{authentication:f==null?void 0:f.map(B=>{const{domain:H,chains:q,nonce:Y,uri:R,exp:_,nbf:x,type:A,statement:T,requestId:I,resources:N,signatureTypes:M}=B;return{domain:H,chains:q,nonce:Y,type:A??"caip122",aud:R,version:"1",iat:new Date().toISOString(),exp:_,nbf:x,statement:T,requestId:I,resources:N,signatureTypes:M}}),walletPay:h}}),b=xr("session_connect",v.id),{reject:$,resolve:P,done:O}=Lf(p,vU),D=({id:B})=>{B===v.id&&(this.client.events.off("proposal_expire",D),this.pendingSessions.delete(v.id),this.events.emit(b,{error:{message:vU,code:0}}))};return this.client.events.on("proposal_expire",D),this.events.once(b,({error:B,session:H})=>{this.client.events.off("proposal_expire",D),B?$(B):H&&P(H)}),await this.setProposal(v.id,v),await this.sendProposeSession({proposal:v,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:v.id}}}).catch(B=>{throw this.deleteProposal(v.id),B}),{uri:m,approval:O}}),Pe(this,"pair",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(r)}catch(n){throw this.client.logger.error("pair() failed"),n}}),Pe(this,"approve",async r=>{var n,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(n=r==null?void 0:r.id)==null?void 0:n.toString(),trace:[$a.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(H){throw o.setError(Pf.no_internet_connection),H}try{await this.isValidProposalId(r==null?void 0:r.id)}catch(H){throw this.client.logger.error(`approve() -> proposal.get(${r==null?void 0:r.id}) failed`),o.setError(Pf.proposal_not_found),H}try{await this.isValidApprove(r)}catch(H){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(Pf.session_approve_namespace_validation_failure),H}const{id:a,relayProtocol:l,namespaces:c,sessionProperties:u,scopedProperties:f,sessionConfig:h,proposalRequestsResponses:p}=r,g=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:m,proposer:w,requiredNamespaces:y,optionalNamespaces:E}=g;let v=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:m});v||(v=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:$a.session_approve_started,properties:{topic:m,trace:[$a.session_approve_started,$a.session_namespaces_validation_success]}}));const b=await this.client.core.crypto.generateKeyPair(),$=w.publicKey,P=await this.client.core.crypto.generateSharedKey(b,$),O=gi(yr(yr(yr({relay:{protocol:l??"irn"},namespaces:c,controller:{publicKey:b,metadata:this.client.metadata},expiry:bn(Wp)},u&&{sessionProperties:u}),f&&{scopedProperties:f}),h&&{sessionConfig:h}),{proposalRequestsResponses:p}),D=Fr.relay;v.addTrace($a.subscribing_session_topic);try{await this.client.core.relayer.subscribe(P,{transportType:D,internal:{skipSubscribe:!0}})}catch(H){throw v.setError(Pf.subscribe_session_topic_failure),H}v.addTrace($a.subscribe_session_topic_success);const B=gi(yr({},O),{topic:P,requiredNamespaces:y,optionalNamespaces:E,pairingTopic:m,acknowledged:!1,self:O.controller,peer:{publicKey:w.publicKey,metadata:w.metadata},controller:b,transportType:Fr.relay,authentication:p==null?void 0:p.authentication,walletPayResult:p==null?void 0:p.walletPay});await this.client.session.set(P,B),v.addTrace($a.store_session);try{await this.sendApproveSession({sessionTopic:P,proposal:g,pairingProposalResponse:{relay:{protocol:l??"irn"},responderPublicKey:b},sessionSettleRequest:O,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:yr({correlationId:a},this.getTVFApproveParams(B))}}),v.addTrace($a.session_approve_publish_success)}catch(H){throw this.client.logger.error(H),this.client.session.delete(P,Br("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(P),H}return this.client.core.eventClient.deleteEvent({eventId:v.eventId}),await this.client.core.pairing.updateMetadata({topic:m,metadata:w.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:m}),await this.setExpiry(P,bn(Wp)),{topic:P,acknowledged:()=>Promise.resolve(this.client.session.get(P))}}),Pe(this,"reject",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(r)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:n,reason:i}=r;let s;try{s=this.client.proposal.get(n).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${n}) failed`),o}s&&await this.sendError({id:n,topic:s,error:i,rpcOpts:pi.wc_sessionPropose.reject}),await this.deleteProposal(n)}),Pe(this,"update",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(r)}catch(f){throw this.client.logger.error("update() -> isValidUpdate() failed"),f}const{topic:n,namespaces:i}=r,{done:s,resolve:o,reject:a}=Lf(We.FIVE_MINUTES,"Session update request expired without receiving any acknowledgement"),l=Il(),c=Od().toString(),u=this.client.session.get(n).namespaces;return this.events.once(xr("session_update",l),({error:f})=>{f?a(f):o()}),await this.client.session.update(n,{namespaces:i}),await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:l,relayRpcId:c}).catch(f=>{this.client.logger.error(f),this.client.session.update(n,{namespaces:u}),a(f)}),{acknowledged:s}}),Pe(this,"extend",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(r)}catch(l){throw this.client.logger.error("extend() -> isValidExtend() failed"),l}const{topic:n}=r,i=Il(),{done:s,resolve:o,reject:a}=Lf(We.FIVE_MINUTES,"Session extend request expired without receiving any acknowledgement");return this.events.once(xr("session_extend",i),({error:l})=>{l?a(l):o()}),await this.setExpiry(n,bn(Wp)),this.sendRequest({topic:n,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(l=>{a(l)}),{acknowledged:s}}),Pe(this,"request",async r=>{this.isInitialized();try{await this.isValidRequest(r)}catch(w){throw this.client.logger.error("request() -> isValidRequest() failed"),w}const{chainId:n,request:i,topic:s,expiry:o=pi.wc_sessionRequest.req.ttl}=r,a=this.client.session.get(s);(a==null?void 0:a.transportType)===Fr.relay&&await this.confirmOnlineStateOrThrow();const l=Il(),c=Od().toString(),{done:u,resolve:f,reject:h}=Lf(o,"Request expired. Please try again.");this.events.once(xr("session_request",l),({error:w,result:y})=>{w?h(w):f(y)});const p="wc_sessionRequest",g=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(g)return await this.sendRequest({clientRpcId:l,relayRpcId:c,topic:s,method:p,params:{request:gi(yr({},i),{expiryTimestamp:bn(o)}),chainId:n},expiry:o,throwOnFailedPublish:!0,appLink:g}).catch(w=>h(w)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:l}),await u();const m={request:gi(yr({},i),{expiryTimestamp:bn(o)}),chainId:n};return await Promise.all([new Promise(async w=>{await this.sendRequest({clientRpcId:l,relayRpcId:c,topic:s,method:p,params:m,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(l,m)}).catch(y=>h(y)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:l}),w()}),new Promise(async w=>{var y;if(!((y=a.sessionConfig)!=null&&y.disableDeepLink)){const E=await CUe(this.client.core.storage,bU);await xUe({id:l,topic:s,wcDeepLink:E})}w()}),u()]).then(w=>w[2])}),Pe(this,"respond",async r=>{var n,i;this.isInitialized();const s=this.client.core.eventClient.createEvent({properties:{topic:(r==null?void 0:r.topic)||((i=(n=r==null?void 0:r.response)==null?void 0:n.id)==null?void 0:i.toString()),trace:[$a.session_request_response_started]}});try{await this.isValidRespond(r)}catch(f){throw s.addTrace(f==null?void 0:f.message),s.setError(Pf.session_request_response_validation_failure),f}s.addTrace($a.session_request_response_validation_success);const{topic:o,response:a}=r,{id:l}=a,c=this.client.session.get(o);c.transportType===Fr.relay&&await this.confirmOnlineStateOrThrow();const u=this.getAppLinkIfEnabled(c.peer.metadata,c.transportType);try{s.addTrace($a.session_request_response_publish_started),kl(a)?await this.sendResult({id:l,topic:o,result:a.result,throwOnFailedPublish:!0,appLink:u}):Jo(a)&&await this.sendError({id:l,topic:o,error:a.error,appLink:u}),this.cleanupAfterResponse(r)}catch(f){throw s.addTrace(f==null?void 0:f.message),s.setError(Pf.session_request_response_publish_failure),f}}),Pe(this,"ping",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(r)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:n}=r;if(this.client.session.keys.includes(n)){const i=Il(),s=Od().toString(),{done:o,resolve:a,reject:l}=Lf(We.FIVE_MINUTES,"Ping request expired without receiving any acknowledgement");this.events.once(xr("session_ping",i),({error:c})=>{c?l(c):a()}),await Promise.all([this.sendRequest({topic:n,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(n)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:n}))}),Pe(this,"emit",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(r);const{topic:n,event:i,chainId:s}=r,o=Od().toString(),a=Il();await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),Pe(this,"disconnect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(r);const{topic:n}=r;if(this.client.session.keys.includes(n))await this.sendRequest({topic:n,method:"wc_sessionDelete",params:Br("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:n,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(n))await this.client.core.pairing.disconnect({topic:n});else{const{message:i}=He("MISMATCHED_TOPIC",`Session or pairing topic not found: ${n}`);throw new Error(i)}}),Pe(this,"find",r=>(this.isInitialized(),this.client.session.getAll().filter(n=>WHe(n,r)))),Pe(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),Pe(this,"authenticate",async(r,n)=>{var i;this.isInitialized(),this.isValidAuthenticate(r);const s=n&&this.client.core.linkModeSupportedApps.includes(n)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?Fr.link_mode:Fr.relay;o===Fr.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:l="",uri:c,domain:u,nonce:f,type:h,exp:p,nbf:g,methods:m=[],expiry:w}=r,y=[...r.resources||[]],{topic:E,uri:v}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:E,uri:v}});const b=await this.client.core.crypto.generateKeyPair(),$=x3(b);if(await Promise.all([this.client.auth.authKeys.set(A3,{responseTopic:$,publicKey:b}),this.client.auth.pairingTopics.set($,{topic:$,pairingTopic:E})]),await this.client.core.relayer.subscribe($,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${E}`),m.length>0){const{namespace:N}=yu(a[0]);let M=WWe(N,"request",m);v3(y)&&(M=HWe(M,y.pop())),y.push(M)}const P=w&&w>pi.wc_sessionAuthenticate.req.ttl?w:pi.wc_sessionAuthenticate.req.ttl,O={authPayload:{type:h??"caip122",chains:a,statement:l,aud:c,domain:u,version:"1",nonce:f,iat:new Date().toISOString(),exp:p,nbf:g,resources:y},requester:{publicKey:b,metadata:this.client.metadata},expiryTimestamp:bn(P)},D={eip155:{chains:a,methods:[...new Set(["personal_sign",...m])],events:["chainChanged","accountsChanged"]}},B={requiredNamespaces:{},optionalNamespaces:D,relays:[{protocol:"irn"}],pairingTopic:E,proposer:{publicKey:b,metadata:this.client.metadata},expiryTimestamp:bn(pi.wc_sessionPropose.req.ttl),id:Il()},{done:H,resolve:q,reject:Y}=Lf(P,"Request expired"),R=Il(),_=xr("session_connect",B.id),x=xr("session_request",R),A=async({error:N,session:M})=>{this.events.off(x,T),N?Y(N):M&&q({session:M})},T=async N=>{var M,U,S;if(await this.deletePendingAuthRequest(R,{message:"fulfilled",code:0}),N.error){const te=Br("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return N.error.code===te.code?void 0:(this.events.off(_,A),Y(N.error.message))}await this.deleteProposal(B.id),this.events.off(_,A);const{cacaos:F,responder:Q}=N.result,k=[],W=[];for(const te of F){await tB({cacao:te,projectId:this.client.core.projectId})||(this.client.logger.error(te,"Signature verification failed"),Y(Br("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:ce}=te,K=v3(ce.resources),G=[RS(ce.iss)],pe=o6(ce.iss);if(K){const de=rB(K),ye=nB(K);k.push(...de),G.push(...ye)}for(const de of G)W.push(`${de}:${pe}`)}const V=await this.client.core.crypto.generateSharedKey(b,Q.publicKey);let ee;k.length>0&&(ee={topic:V,acknowledged:!0,self:{publicKey:b,metadata:this.client.metadata},peer:Q,controller:Q.publicKey,expiry:bn(Wp),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:E,namespaces:kB([...new Set(k)],[...new Set(W)]),transportType:o},await this.client.core.relayer.subscribe(V,{transportType:o}),await this.client.session.set(V,ee),E&&await this.client.core.pairing.updateMetadata({topic:E,metadata:Q.metadata}),ee=this.client.session.get(V)),(M=this.client.metadata.redirect)!=null&&M.linkMode&&(U=Q.metadata.redirect)!=null&&U.linkMode&&(S=Q.metadata.redirect)!=null&&S.universal&&n&&(this.client.core.addLinkModeSupportedApp(Q.metadata.redirect.universal),this.client.session.update(V,{transportType:Fr.link_mode})),q({auths:F,session:ee})};this.events.once(_,A),this.events.once(x,T);let I;try{if(s){const N=Ba("wc_sessionAuthenticate",O,R);this.client.core.history.set(E,N);const M=await this.client.core.crypto.encode("",N,{type:Ww,encoding:kd});I=gv(n,E,M)}else await Promise.all([this.sendRequest({topic:E,method:"wc_sessionAuthenticate",params:O,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:R}),this.sendRequest({topic:E,method:"wc_sessionPropose",params:B,expiry:pi.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:B.id})])}catch(N){throw this.events.off(_,A),this.events.off(x,T),N}return await this.setProposal(B.id,B),await this.setAuthRequest(R,{request:gi(yr({},O),{verifyContext:{}}),pairingTopic:E,transportType:o}),{uri:I??v,response:H}}),Pe(this,"approveSessionAuthenticate",async r=>{const{id:n,auths:i}=r,s=this.client.core.eventClient.createEvent({properties:{topic:n.toString(),trace:[Rf.authenticated_session_approve_started]}});try{this.isInitialized()}catch(w){throw s.setError(sm.no_internet_connection),w}const o=this.getPendingAuthRequest(n);if(!o)throw s.setError(sm.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${n}`);const a=o.transportType||Fr.relay;a===Fr.relay&&await this.confirmOnlineStateOrThrow();const l=o.requester.publicKey,c=await this.client.core.crypto.generateKeyPair(),u=x3(l),f={type:wu,receiverPublicKey:l,senderPublicKey:c},h=[],p=[];for(const w of i){if(!await tB({cacao:w,projectId:this.client.core.projectId})){s.setError(sm.invalid_cacao);const $=Br("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:n,topic:u,error:$,encodeOpts:f}),new Error($.message)}s.addTrace(Rf.cacaos_verified);const{p:y}=w,E=v3(y.resources),v=[RS(y.iss)],b=o6(y.iss);if(E){const $=rB(E),P=nB(E);h.push(...$),v.push(...P)}for(const $ of v)p.push(`${$}:${b}`)}const g=await this.client.core.crypto.generateSharedKey(c,l);s.addTrace(Rf.create_authenticated_session_topic);let m;if((h==null?void 0:h.length)>0){m={topic:g,acknowledged:!0,self:{publicKey:c,metadata:this.client.metadata},peer:{publicKey:l,metadata:o.requester.metadata},controller:l,expiry:bn(Wp),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:kB([...new Set(h)],[...new Set(p)]),transportType:a},s.addTrace(Rf.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(g,{transportType:a})}catch(w){throw s.setError(sm.subscribe_authenticated_session_topic_failure),w}s.addTrace(Rf.subscribe_authenticated_session_topic_success),await this.client.session.set(g,m),s.addTrace(Rf.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(Rf.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:n,result:{cacaos:i,responder:{publicKey:c,metadata:this.client.metadata}},encodeOpts:f,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(w){throw s.setError(sm.authenticated_session_approve_publish_failure),w}return await this.client.auth.requests.delete(n,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:m}}),Pe(this,"rejectSessionAuthenticate",async r=>{this.isInitialized();const{id:n,reason:i}=r,s=this.getPendingAuthRequest(n);if(!s)throw new Error(`Could not find pending auth request with id ${n}`);s.transportType===Fr.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),l=x3(o),c={type:wu,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:n,topic:l,error:i,encodeOpts:c,rpcOpts:pi.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(n,{message:"rejected",code:0}),await this.deleteProposal(n)}),Pe(this,"formatAuthMessage",r=>{this.isInitialized();const{request:n,iss:i}=r;return mne(n,i)}),Pe(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const r=this.relayMessageCache.shift();r&&await this.onRelayMessage(r)}catch(r){this.client.logger.error(r)}},50)}),Pe(this,"cleanupDuplicatePairings",async r=>{if(r.pairingTopic)try{const n=this.client.core.pairing.pairings.get(r.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===r.peer.metadata.url&&s.topic&&s.topic!==n.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}}),Pe(this,"deleteSession",async r=>{var n;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=r,{self:l}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,Br("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(l.publicKey)&&await this.client.core.crypto.deleteKeyPair(l.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(bU).catch(c=>this.client.logger.warn(c)),i===((n=this.sessionRequestQueue.queue[0])==null?void 0:n.topic)&&(this.sessionRequestQueue.state=xl.idle),await Promise.all(this.getPendingSessionRequests().filter(c=>c.topic===i).map(c=>this.deletePendingSessionRequest(c.id,Br("USER_DISCONNECTED")))),o&&this.client.events.emit("session_delete",{id:a,topic:i})}),Pe(this,"deleteProposal",async(r,n)=>{if(n)try{const i=this.client.proposal.get(r),s=this.client.core.eventClient.getEvent({topic:i.pairingTopic});s==null||s.setError(Pf.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(r,Br("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")}),Pe(this,"deletePendingSessionRequest",async(r,n,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==r),i&&(this.sessionRequestQueue.state=xl.idle,this.client.events.emit("session_request_expire",{id:r}))}),Pe(this,"deletePendingAuthRequest",async(r,n,i=!1)=>{await Promise.all([this.client.auth.requests.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)])}),Pe(this,"setExpiry",async(r,n)=>{this.client.session.keys.includes(r)&&(this.client.core.expirer.set(r,n),await this.client.session.update(r,{expiry:n}))}),Pe(this,"setProposal",async(r,n)=>{this.client.core.expirer.set(r,bn(pi.wc_sessionPropose.req.ttl)),await this.client.proposal.set(r,n)}),Pe(this,"setAuthRequest",async(r,n)=>{const{request:i,pairingTopic:s,transportType:o=Fr.relay}=n;this.client.core.expirer.set(r,i.expiryTimestamp),await this.client.auth.requests.set(r,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:r,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})}),Pe(this,"setPendingSessionRequest",async r=>{const{id:n,topic:i,params:s,verifyContext:o}=r,a=s.request.expiryTimestamp||bn(pi.wc_sessionRequest.req.ttl);this.client.core.expirer.set(n,a),await this.client.pendingRequest.set(n,{id:n,topic:i,params:s,verifyContext:o})}),Pe(this,"sendRequest",async r=>{const{topic:n,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:l,throwOnFailedPublish:c,appLink:u,tvf:f,publishOpts:h={}}=r,p=Ba(i,s,l);let g;const m=!!u;try{const E=m?kd:Rs;g=await this.client.core.crypto.encode(n,p,{encoding:E})}catch(E){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${n} failed`),E}let w;if(eJe.includes(i)){const E=Zo(JSON.stringify(p)),v=Zo(g);w=await this.client.core.verify.register({id:v,decryptedId:E})}const y=yr(yr({},pi[i].req),h);if(y.attestation=w,o&&(y.ttl=o),a&&(y.id=a),this.client.core.history.set(n,p),m){const E=gv(u,n,g);await bt.Linking.openURL(E,this.client.name)}else y.tvf=gi(yr({},f),{correlationId:p.id}),c?(y.internal=gi(yr({},y.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,g,y)):this.client.core.relayer.publish(n,g,y).catch(E=>this.client.logger.error(E));return p.id}),Pe(this,"sendProposeSession",async r=>{const{proposal:n,publishOpts:i}=r,s=Ba("wc_sessionPropose",n,n.id);this.client.core.history.set(n.pairingTopic,s);const o=await this.client.core.crypto.encode(n.pairingTopic,s,{encoding:Rs}),a=Zo(JSON.stringify(s)),l=Zo(o),c=await this.client.core.verify.register({id:l,decryptedId:a});await this.client.core.relayer.publishCustom({payload:{pairingTopic:n.pairingTopic,sessionProposal:o},opts:gi(yr({},i),{publishMethod:"wc_proposeSession",attestation:c})})}),Pe(this,"sendApproveSession",async r=>{const{sessionTopic:n,pairingProposalResponse:i,proposal:s,sessionSettleRequest:o,publishOpts:a}=r,l=N2(s.id,i),c=await this.client.core.crypto.encode(s.pairingTopic,l,{encoding:Rs}),u=Ba("wc_sessionSettle",o,a==null?void 0:a.id),f=await this.client.core.crypto.encode(n,u,{encoding:Rs});this.client.core.history.set(n,u),await this.client.core.relayer.publishCustom({payload:{sessionTopic:n,pairingTopic:s.pairingTopic,sessionProposalResponse:c,sessionSettlementRequest:f},opts:gi(yr({},a),{publishMethod:"wc_approveSession"})})}),Pe(this,"sendResult",async r=>{const{id:n,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:l}=r,c=N2(n,s);let u;const f=l&&typeof(bt==null?void 0:bt.Linking)<"u";try{const g=f?kd:Rs;u=await this.client.core.crypto.encode(i,c,gi(yr({},a||{}),{encoding:g}))}catch(g){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),g}let h,p;try{h=await this.client.core.history.get(i,n);const g=h.request;try{p=this.getTVFParams(n,g.params,s)}catch(m){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${m==null?void 0:m.message}`)}}catch(g){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${n}) failed`),g}if(f){const g=gv(l,i,u);await bt.Linking.openURL(g,this.client.name)}else{const g=h.request.method,m=pi[g].res;m.tvf=gi(yr({},p),{correlationId:n}),o?(m.internal=gi(yr({},m.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,u,m)):this.client.core.relayer.publish(i,u,m).catch(w=>this.client.logger.error(w))}await this.client.core.history.resolve(c)}),Pe(this,"sendError",async r=>{const{id:n,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:l}=r,c=z8(n,s);let u;const f=l&&typeof(bt==null?void 0:bt.Linking)<"u";try{const p=f?kd:Rs;u=await this.client.core.crypto.encode(i,c,gi(yr({},o||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),p}let h;try{h=await this.client.core.history.get(i,n)}catch(p){throw this.client.logger.error(`sendError() -> history.get(${i}, ${n}) failed`),p}if(f){const p=gv(l,i,u);await bt.Linking.openURL(p,this.client.name)}else{const p=h.request.method,g=a||pi[p].res;this.client.core.relayer.publish(i,u,g)}await this.client.core.history.resolve(c)}),Pe(this,"cleanup",async()=>{const r=[],n=[];this.client.session.getAll().forEach(i=>{let s=!1;jl(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&r.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{jl(i.expiryTimestamp)&&n.push(i.id)}),await Promise.all([...r.map(i=>this.deleteSession({topic:i})),...n.map(i=>this.deleteProposal(i))])}),Pe(this,"onProviderMessageEvent",async r=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(r):await this.onRelayMessage(r)}),Pe(this,"onRelayEventRequest",async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()}),Pe(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===xl.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=xl.active;const r=this.requestQueue.queue.shift();if(r)try{await this.processRequest(r)}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=xl.idle}),Pe(this,"processRequest",async r=>{const{topic:n,payload:i,attestation:s,transportType:o,encryptedId:a}=r,l=i.method;if(!this.shouldIgnorePairingRequest({topic:n,requestMethod:l}))switch(l){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:n,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(n,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(n,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(n,i);case"wc_sessionPing":return await this.onSessionPingRequest(n,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(n,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(n,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${l}`)}}),Pe(this,"onRelayEventResponse",async r=>{const{topic:n,payload:i,transportType:s}=r,o=(await this.client.core.history.get(n,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(n,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(n,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,i);case"wc_sessionExtend":return this.onSessionExtendResponse(n,i);case"wc_sessionPing":return this.onSessionPingResponse(n,i);case"wc_sessionRequest":return this.onSessionRequestResponse(n,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),Pe(this,"onRelayEventUnknownPayload",r=>{const{topic:n}=r,{message:i}=He("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),Pe(this,"shouldIgnorePairingRequest",r=>{const{topic:n,requestMethod:i}=r,s=this.expectedPairingMethodMap.get(n);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),Pe(this,"onSessionProposeRequest",async r=>{const{topic:n,payload:i,attestation:s,encryptedId:o}=r,{params:a,id:l}=i;try{const c=this.client.core.eventClient.getEvent({topic:n});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),c==null||c.setError(zc.proposal_listener_not_found)),this.isValidConnect(yr({},i.params));const u=a.expiryTimestamp||bn(pi.wc_sessionPropose.req.ttl),f=yr({id:l,pairingTopic:n,expiryTimestamp:u,attestation:s,encryptedId:o},a);await this.setProposal(l,f);const h=await this.getVerifyContext({attestationId:s,hash:Zo(JSON.stringify(i)),encryptedId:o,metadata:f.proposer.metadata});c==null||c.addTrace(_l.emit_session_proposal),this.client.events.emit("session_proposal",{id:l,params:f,verifyContext:h})}catch(c){await this.sendError({id:l,topic:n,error:c,rpcOpts:pi.wc_sessionPropose.autoReject}),this.client.logger.error(c)}}),Pe(this,"onSessionProposeResponse",async(r,n,i)=>{const{id:s}=n;if(kl(n)){const{result:o}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const l=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:l});const c=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:c});const u=await this.client.core.crypto.generateSharedKey(l,c);this.pendingSessions.set(s,{sessionTopic:u,pairingTopic:r,proposalId:s,publicKey:l});const f=await this.client.core.relayer.subscribe(u,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:f}),await this.client.core.pairing.activate({topic:r})}else if(Jo(n)){await this.deleteProposal(s);const o=xr("session_connect",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:n.error})}}),Pe(this,"onSessionSettleRequest",async(r,n)=>{const{id:i,params:s}=n;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:l,namespaces:c,sessionProperties:u,scopedProperties:f,sessionConfig:h,proposalRequestsResponses:p}=n.params,g=[...this.pendingSessions.values()].find(y=>y.sessionTopic===r);if(!g)return this.client.logger.error(`Pending session not found for topic ${r}`);const m=this.client.proposal.get(g.proposalId),w=gi(yr(yr(yr({topic:r,relay:o,expiry:l,namespaces:c,acknowledged:!0,pairingTopic:g.pairingTopic,requiredNamespaces:m.requiredNamespaces,optionalNamespaces:m.optionalNamespaces,controller:a.publicKey,self:{publicKey:g.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),f&&{scopedProperties:f}),h&&{sessionConfig:h}),{transportType:Fr.relay,authentication:p==null?void 0:p.authentication,walletPayResult:p==null?void 0:p.walletPay});await this.client.session.set(w.topic,w),await this.setExpiry(w.topic,w.expiry),await this.client.core.pairing.updateMetadata({topic:g.pairingTopic,metadata:w.peer.metadata}),this.pendingSessions.delete(g.proposalId),this.deleteProposal(g.proposalId,!1),this.cleanupDuplicatePairings(w),await this.sendResult({id:n.id,topic:r,throwOnFailedPublish:!0,result:!0}),this.client.events.emit("session_connect",{session:w}),this.events.emit(xr("session_connect",g.proposalId),{session:w})}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),Pe(this,"onSessionSettleResponse",async(r,n)=>{const{id:i}=n;kl(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(xr("session_approve",i),{})):Jo(n)&&(await this.client.session.delete(r,Br("USER_DISCONNECTED")),this.events.emit(xr("session_approve",i),{error:n.error}))}),Pe(this,"onSessionUpdateRequest",async(r,n)=>{const{params:i,id:s}=n;try{const o=`${r}_session_update`,a=nm.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:r,error:Br("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(yr({topic:r},i));try{nm.set(o,s),await this.client.session.update(r,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:r,result:!0})}catch(l){throw nm.delete(o),l}this.client.events.emit("session_update",{id:s,topic:r,params:i})}catch(o){await this.sendError({id:s,topic:r,error:o}),this.client.logger.error(o)}}),Pe(this,"isRequestOutOfSync",(r,n)=>n.toString().slice(0,-3)<r.toString().slice(0,-3)),Pe(this,"onSessionUpdateResponse",(r,n)=>{const{id:i}=n,s=xr("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);kl(n)?this.events.emit(xr("session_update",i),{}):Jo(n)&&this.events.emit(xr("session_update",i),{error:n.error})}),Pe(this,"onSessionExtendRequest",async(r,n)=>{const{id:i}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,bn(Wp)),await this.sendResult({id:i,topic:r,result:!0}),this.client.events.emit("session_extend",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}}),Pe(this,"onSessionExtendResponse",(r,n)=>{const{id:i}=n,s=xr("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);kl(n)?this.events.emit(xr("session_extend",i),{}):Jo(n)&&this.events.emit(xr("session_extend",i),{error:n.error})}),Pe(this,"onSessionPingRequest",async(r,n)=>{const{id:i}=n;try{this.isValidPing({topic:r}),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}}),Pe(this,"onSessionPingResponse",(r,n)=>{const{id:i}=n,s=xr("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);kl(n)?this.events.emit(xr("session_ping",i),{}):Jo(n)&&this.events.emit(xr("session_ping",i),{error:n.error})},500)}),Pe(this,"onSessionDeleteRequest",async(r,n)=>{const{id:i}=n;try{await this.isValidDisconnect({topic:r,reason:n.params}),this.cleanupPendingSentRequestsForTopic({topic:r,error:Br("USER_DISCONNECTED")}),await this.deleteSession({topic:r,id:i})}catch(s){this.client.logger.error(s)}}),Pe(this,"onSessionRequest",async r=>{var n,i,s;const{topic:o,payload:a,attestation:l,encryptedId:c,transportType:u}=r,{id:f,params:h}=a;try{await this.isValidRequest(yr({topic:o},h));const p=this.client.session.get(o),g=await this.getVerifyContext({attestationId:l,hash:Zo(JSON.stringify(Ba("wc_sessionRequest",h,f))),encryptedId:c,metadata:p.peer.metadata,transportType:u}),m={id:f,topic:o,params:h,verifyContext:g};await this.setPendingSessionRequest(m),u===Fr.link_mode&&(n=p.peer.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp((i=p.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(m):(this.addSessionRequestToSessionRequestQueue(m),this.processSessionRequestQueue())}catch(p){await this.sendError({id:f,topic:o,error:p}),this.client.logger.error(p)}}),Pe(this,"onSessionRequestResponse",(r,n)=>{const{id:i}=n,s=xr("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);kl(n)?this.events.emit(xr("session_request",i),{result:n.result}):Jo(n)&&this.events.emit(xr("session_request",i),{error:n.error})}),Pe(this,"onSessionEventRequest",async(r,n)=>{const{id:i,params:s}=n;try{const o=`${r}_session_event_${s.event.name}`,a=nm.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(yr({topic:r},s)),this.client.events.emit("session_event",{id:i,topic:r,params:s}),nm.set(o,i)}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),Pe(this,"onSessionAuthenticateResponse",(r,n)=>{const{id:i}=n;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:n}),kl(n)?this.events.emit(xr("session_request",i),{result:n.result}):Jo(n)&&this.events.emit(xr("session_request",i),{error:n.error})}),Pe(this,"onSessionAuthenticateRequest",async r=>{var n;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:l}=r;try{const{requester:c,authPayload:u,expiryTimestamp:f}=s.params,h=await this.getVerifyContext({attestationId:o,hash:Zo(JSON.stringify(s)),encryptedId:a,metadata:c.metadata,transportType:l}),p={requester:c,pairingTopic:i,id:s.id,authPayload:u,verifyContext:h,expiryTimestamp:f};await this.setAuthRequest(s.id,{request:p,pairingTopic:i,transportType:l}),l===Fr.link_mode&&(n=c.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp(c.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:h})}catch(c){this.client.logger.error(c);const u=s.params.requester.publicKey,f=await this.client.core.crypto.generateKeyPair(),h=this.getAppLinkIfEnabled(s.params.requester.metadata,l),p={type:wu,receiverPublicKey:u,senderPublicKey:f};await this.sendError({id:s.id,topic:i,error:c,encodeOpts:p,rpcOpts:pi.wc_sessionAuthenticate.autoReject,appLink:h})}}),Pe(this,"addSessionRequestToSessionRequestQueue",r=>{this.sessionRequestQueue.queue.push(r)}),Pe(this,"cleanupAfterResponse",r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=xl.idle,this.processSessionRequestQueue()},We.toMiliseconds(this.requestQueueDelay))}),Pe(this,"cleanupPendingSentRequestsForTopic",({topic:r,error:n})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===r&&s.request.method==="wc_sessionRequest").forEach(s=>{this.events.emit(xr("session_request",s.request.id),{error:n})})}),Pe(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===xl.active){this.client.logger.info("session request queue is already active.");return}const r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(r)}catch(n){this.client.logger.error(n)}}),Pe(this,"emitSessionRequest",r=>{if(this.emittedSessionRequests.has(r.id)){this.client.logger.warn({id:r.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${r.id}`);return}this.sessionRequestQueue.state=xl.active,this.emittedSessionRequests.add(r.id),this.client.events.emit("session_request",r)}),Pe(this,"onPairingCreated",r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;const n=this.client.proposal.getAll().find(i=>i.pairingTopic===r.topic);n&&this.onSessionProposeRequest({topic:r.topic,payload:Ba("wc_sessionPropose",gi(yr({},n),{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties,scopedProperties:n.scopedProperties}),n.id),attestation:n.attestation,encryptedId:n.encryptedId})}),Pe(this,"isValidConnect",async r=>{if(!$s(r)){const{message:c}=He("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(c)}const{pairingTopic:n,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:l}=r;if(ri(n)||await this.isValidPairingTopic(n),!eqe(l)){const{message:c}=He("MISSING_OR_INVALID",`connect() relays: ${l}`);throw new Error(c)}if(i&&!ri(i)&&oc(i)!==0){const c="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(c):this.client.logger.warn(c),this.validateNamespaces(i,"requiredNamespaces")}if(s&&!ri(s)&&oc(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),o&&!ri(o)&&this.validateSessionProps(o,"sessionProperties"),a&&!ri(a)){this.validateSessionProps(a,"scopedProperties");const c=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(u=>c.includes(u.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(c)}`)}}),Pe(this,"validateNamespaces",(r,n)=>{const i=XHe(r,"connect()",n);if(i)throw new Error(i.message)}),Pe(this,"isValidApprove",async r=>{if(!$s(r))throw new Error(He("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:n,namespaces:i,relayProtocol:s,sessionProperties:o,scopedProperties:a}=r;this.checkRecentlyDeleted(n),await this.isValidProposalId(n);const l=this.client.proposal.get(n),c=R7(i,"approve()");if(c)throw new Error(c.message);const u=PB(l.requiredNamespaces,i,"approve()");if(u)throw new Error(u.message);if(!_n(s,!0)){const{message:f}=He("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(f)}if(o&&!ri(o)&&this.validateSessionProps(o,"sessionProperties"),a&&!ri(a)){this.validateSessionProps(a,"scopedProperties");const f=new Set(Object.keys(i));if(!Object.keys(a).every(h=>f.has(h.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(f).join(", ")}`)}}),Pe(this,"isValidReject",async r=>{if(!$s(r)){const{message:s}=He("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(s)}const{id:n,reason:i}=r;if(this.checkRecentlyDeleted(n),await this.isValidProposalId(n),!rqe(i)){const{message:s}=He("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),Pe(this,"isValidSessionSettleRequest",r=>{if(!$s(r)){const{message:c}=He("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(c)}const{relay:n,controller:i,namespaces:s,expiry:o}=r;if(!eie(n)){const{message:c}=He("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(c)}const a=GHe(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const l=R7(s,"onSessionSettleRequest()");if(l)throw new Error(l.message);if(jl(o)){const{message:c}=He("EXPIRED","onSessionSettleRequest()");throw new Error(c)}}),Pe(this,"isValidUpdate",async r=>{if(!$s(r)){const{message:l}=He("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(l)}const{topic:n,namespaces:i}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const s=this.client.session.get(n),o=R7(i,"update()");if(o)throw new Error(o.message);const a=PB(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)}),Pe(this,"isValidExtend",async r=>{if(!$s(r)){const{message:i}=He("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(i)}const{topic:n}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n)}),Pe(this,"isValidRequest",async r=>{if(!$s(r)){const{message:l}=He("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(l)}const{topic:n,request:i,chainId:s,expiry:o}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const{namespaces:a}=this.client.session.get(n);if(!NB(a,s)){const{message:l}=He("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(l)}if(!nqe(i)){const{message:l}=He("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(l)}if(!oqe(a,s,i.method)){const{message:l}=He("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(l)}this.validateRequestExpiry(o)}),Pe(this,"isValidRespond",async r=>{var n;if(!$s(r)){const{message:a}=He("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(a)}const{topic:i,response:s}=r;try{await this.isValidSessionTopic(i)}catch(a){throw(n=r==null?void 0:r.response)!=null&&n.id&&this.cleanupAfterResponse(r),a}if(!iqe(s)){const{message:a}=He("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(a)}const o=this.client.pendingRequest.get(s.id);if(o.topic!==i){const{message:a}=He("MISMATCHED_TOPIC",`Request response topic mismatch. reqId: ${s.id}, expected topic: ${o.topic}, received topic: ${i}`);throw new Error(a)}}),Pe(this,"isValidPing",async r=>{if(!$s(r)){const{message:i}=He("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),Pe(this,"isValidEmit",async r=>{if(!$s(r)){const{message:a}=He("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(a)}const{topic:n,event:i,chainId:s}=r;await this.isValidSessionTopic(n);const{namespaces:o}=this.client.session.get(n);if(!NB(o,s)){const{message:a}=He("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!sqe(i)){const{message:a}=He("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!aqe(o,s,i.name)){const{message:a}=He("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),Pe(this,"isValidDisconnect",async r=>{if(!$s(r)){const{message:i}=He("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),Pe(this,"isValidAuthenticate",r=>{const{chains:n,uri:i,domain:s,nonce:o}=r;if(!Array.isArray(n)||n.length===0)throw new Error("chains is required and must be a non-empty array");if(!_n(i,!1))throw new Error("uri is required parameter");if(!_n(s,!1))throw new Error("domain is required parameter");if(!_n(o,!1))throw new Error("nonce is required parameter");if([...new Set(n.map(l=>yu(l).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=yu(n[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),Pe(this,"getVerifyContext",async r=>{const{attestationId:n,hash:i,encryptedId:s,metadata:o,transportType:a}=r,l={verified:{verifyUrl:o.verifyUrl||Qm,validation:"UNKNOWN",origin:o.url||""}};try{if(a===Fr.link_mode){const u=this.getAppLinkIfEnabled(o,a);return l.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",l}const c=await this.client.core.verify.resolve({attestationId:n,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});c&&(l.verified.origin=c.origin,l.verified.isScam=c.isScam,l.verified.validation=c.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(c){this.client.logger.warn(c)}return this.client.logger.debug(`Verify context: ${JSON.stringify(l)}`),l}),Pe(this,"validateSessionProps",(r,n)=>{Object.values(r).forEach((i,s)=>{if(i==null){const{message:o}=He("MISSING_OR_INVALID",`${n} must contain an existing value for each key. Received: ${i} for key ${Object.keys(r)[s]}`);throw new Error(o)}})}),Pe(this,"getPendingAuthRequest",r=>{const n=this.client.auth.requests.get(r);return typeof n=="object"?n:void 0}),Pe(this,"addToRecentlyDeleted",(r,n)=>{if(this.recentlyDeletedMap.set(r,n),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}}),Pe(this,"checkRecentlyDeleted",r=>{const n=this.recentlyDeletedMap.get(r);if(n){const{message:i}=He("MISSING_OR_INVALID",`Record was recently deleted - ${n}: ${r}`);throw new Error(i)}}),Pe(this,"isLinkModeEnabled",(r,n)=>{var i,s,o,a,l,c,u,f,h;return!r||n!==Fr.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((c=(l=this.client.metadata)==null?void 0:l.redirect)==null?void 0:c.universal)!==""&&((u=r==null?void 0:r.redirect)==null?void 0:u.universal)!==void 0&&((f=r==null?void 0:r.redirect)==null?void 0:f.universal)!==""&&((h=r==null?void 0:r.redirect)==null?void 0:h.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(r.redirect.universal)&&typeof(bt==null?void 0:bt.Linking)<"u"}),Pe(this,"getAppLinkIfEnabled",(r,n)=>{var i;return this.isLinkModeEnabled(r,n)?(i=r==null?void 0:r.redirect)==null?void 0:i.universal:void 0}),Pe(this,"handleLinkModeMessage",({url:r})=>{if(!r||!r.includes("wc_ev")||!r.includes("topic"))return;const n=zF(r,"topic")||"",i=decodeURIComponent(zF(r,"wc_ev")||""),s=this.client.session.keys.includes(n);s&&this.client.session.update(n,{transportType:Fr.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:i,sessionExists:s})}),Pe(this,"registerLinkModeListeners",async()=>{var r;if(vN()||xf()&&(r=this.client.metadata.redirect)!=null&&r.linkMode){const n=bt==null?void 0:bt.Linking;if(typeof n<"u"){n.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await n.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),Pe(this,"getTVFApproveParams",r=>{try{const n=Qne(r.namespaces),i=OHe(r.namespaces),s=jHe(r.namespaces),o=r.sessionProperties,a=r.scopedProperties;return{approvedChains:n,approvedMethods:i,approvedEvents:s,sessionProperties:o,scopedProperties:a}}catch(n){return this.client.logger.warn(n,"Error getting TVF approve params"),{}}}),Pe(this,"getTVFParams",(r,n,i)=>{var s,o,a;if(!((s=n.request)!=null&&s.method))return{};const l={correlationId:r,rpcMethods:[n.request.method],chainId:n.chainId};try{const c=this.extractTxHashesFromResult(n.request,i);l.txHashes=c,l.contractAddresses=this.isValidContractData(n.request.params)?[(a=(o=n.request.params)==null?void 0:o[0])==null?void 0:a.to]:[]}catch(c){this.client.logger.warn(c,"Error getting TVF params")}return l}),Pe(this,"isValidContractData",r=>{var n;if(!r)return!1;try{const i=(r==null?void 0:r.data)||((n=r==null?void 0:r[0])==null?void 0:n.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),Pe(this,"extractTxHashesFromResult",(r,n)=>{var i;try{if(!n)return[];const s=r.method,o=QZe[s];if(s==="sui_signTransaction")return[_We(n.transactionBytes)];if(s==="near_signTransaction")return[JF(n)];if(s==="near_signTransactions")return n.map(l=>JF(l));if(s==="xrpl_signTransactionFor"||s==="xrpl_signTransaction")return[(i=n.tx_json)==null?void 0:i.hash];if(s==="polkadot_signTransaction")return[Aqe({transaction:r.params.transactionPayload,signature:n.signature})];if(s==="algo_signTxn")return la(n)?n.map(l=>QF(l)):[QF(n)];if(s==="cosmos_signDirect")return[AWe(n)];if(s==="wallet_sendCalls")return SWe(n);if(typeof n=="string")return[n];const a=n[o.key];if(la(a))return s==="solana_signAllTransactions"?a.map(l=>EWe(l)):a;if(typeof a=="string")return[a]}catch(s){this.client.logger.warn(s,"Error extracting tx hashes from result")}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,r=this.client.core.relayer.messages.getWithoutAck(e);for(const[n,i]of Object.entries(r))for(const s of i)try{await this.onProviderMessageEvent({topic:n,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${n}, message: ${s}`)}}catch(e){this.client.logger.warn(e,"processPendingMessageEvents failed")}}isInitialized(){if(!this.initialized){const{message:e}=He("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(En.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:r,message:n,attestation:i,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(A3)?this.client.auth.authKeys.get(A3):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(r,n,{receiverPublicKey:o,encoding:s===Fr.link_mode?kd:Rs});RN(a)?(this.client.core.history.set(r,a),await this.onRelayEventRequest({topic:r,payload:a,attestation:i,transportType:s,encryptedId:Zo(n)})):H8(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:r,payload:a,transportType:s}),this.client.core.history.delete(r,a.id)):(this.client.logger.error(`onRelayMessage() -> unknown payload: ${JSON.stringify(a)}`),await this.onRelayEventUnknownPayload({topic:r,payload:a,transportType:s})),await this.client.core.relayer.messages.ack(r,n)}catch(a){this.client.logger.error(`onRelayMessage() -> failed to process an inbound message: ${n}`),this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(Vo.expired,async e=>{const{topic:r,id:n}=Xre(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,He("EXPIRED"),!0);if(n&&this.client.auth.requests.keys.includes(n))return await this.deletePendingAuthRequest(n,He("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on(qf.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(qf.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!_n(e,!1)){const{message:r}=He("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:r}=He("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(jl(this.client.core.pairing.pairings.get(e).expiry)){const{message:r}=He("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!_n(e,!1)){const{message:r}=He("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:r}=He("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(jl(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:r}=He("EXPIRED",`session topic: ${e}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(e)){const{message:r}=He("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(_n(e,!1)){const{message:r}=He("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{const{message:r}=He("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!tqe(e)){const{message:r}=He("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){const{message:r}=He("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(jl(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:r}=He("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}validateRequestExpiry(e){if(e&&!uqe(e,U7)){const{message:r}=He("MISSING_OR_INVALID",`request() expiry: ${e}. Expiry must be a number (in seconds) between ${U7.min} and ${U7.max}`);throw new Error(r)}}}class fJe extends wp{constructor(e,r){super(e,r,YZe,jN),this.core=e,this.logger=r}}let hJe=class extends wp{constructor(e,r){super(e,r,ZZe,jN),this.core=e,this.logger=r}};class pJe extends wp{constructor(e,r){super(e,r,XZe,jN,n=>n.id),this.core=e,this.logger=r}}class gJe extends wp{constructor(e,r){super(e,r,nJe,V8,()=>A3),this.core=e,this.logger=r}}class mJe extends wp{constructor(e,r){super(e,r,iJe,V8),this.core=e,this.logger=r}}class yJe extends wp{constructor(e,r){super(e,r,sJe,V8,n=>n.id),this.core=e,this.logger=r}}var wJe=Object.defineProperty,bJe=(t,e,r)=>e in t?wJe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,W7=(t,e,r)=>bJe(t,typeof e!="symbol"?e+"":e,r);class vJe{constructor(e,r){this.core=e,this.logger=r,W7(this,"authKeys"),W7(this,"pairingTopics"),W7(this,"requests"),this.authKeys=new gJe(this.core,this.logger),this.pairingTopics=new mJe(this.core,this.logger),this.requests=new yJe(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var xJe=Object.defineProperty,EJe=(t,e,r)=>e in t?xJe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Jt=(t,e,r)=>EJe(t,typeof e!="symbol"?e+"":e,r);let _Je=class Tie extends xVe{constructor(e){super(e),Jt(this,"protocol",$ie),Jt(this,"version",Iie),Jt(this,"name",B7.name),Jt(this,"metadata"),Jt(this,"core"),Jt(this,"logger"),Jt(this,"events",new ys.EventEmitter),Jt(this,"engine"),Jt(this,"session"),Jt(this,"proposal"),Jt(this,"pendingRequest"),Jt(this,"auth"),Jt(this,"signConfig"),Jt(this,"on",(n,i)=>this.events.on(n,i)),Jt(this,"once",(n,i)=>this.events.once(n,i)),Jt(this,"off",(n,i)=>this.events.off(n,i)),Jt(this,"removeListener",(n,i)=>this.events.removeListener(n,i)),Jt(this,"removeAllListeners",n=>this.events.removeAllListeners(n)),Jt(this,"connect",async n=>{try{return await this.engine.connect(n)}catch(i){throw this.logger.error(i.message),i}}),Jt(this,"pair",async n=>{try{return await this.engine.pair(n)}catch(i){throw this.logger.error(i.message),i}}),Jt(this,"approve",async n=>{try{return await this.engine.approve(n)}catch(i){throw this.logger.error(i.message),i}}),Jt(this,"reject",async n=>{try{return await this.engine.reject(n)}catch(i){throw this.logger.error(i.message),i}}),Jt(this,"update",async n=>{try{return await this.engine.update(n)}catch(i){throw this.logger.error(i.message),i}}),Jt(this,"extend",async n=>{try{return await this.engine.extend(n)}catch(i){throw this.logger.error(i.message),i}}),Jt(this,"request",async n=>{try{return await this.engine.request(n)}catch(i){throw this.logger.error(i.message),i}}),Jt(this,"respond",async n=>{try{return await this.engine.respond(n)}catch(i){throw this.logger.error(i.message),i}}),Jt(this,"ping",async n=>{try{return await this.engine.ping(n)}catch(i){throw this.logger.error(i.message),i}}),Jt(this,"emit",async n=>{try{return await this.engine.emit(n)}catch(i){throw this.logger.error(i.message),i}}),Jt(this,"disconnect",async n=>{try{return await this.engine.disconnect(n)}catch(i){throw this.logger.error(i.message),i}}),Jt(this,"find",n=>{try{return this.engine.find(n)}catch(i){throw this.logger.error(i.message),i}}),Jt(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}}),Jt(this,"authenticate",async(n,i)=>{try{return await this.engine.authenticate(n,i)}catch(s){throw this.logger.error(s.message),s}}),Jt(this,"formatAuthMessage",n=>{try{return this.engine.formatAuthMessage(n)}catch(i){throw this.logger.error(i.message),i}}),Jt(this,"approveSessionAuthenticate",async n=>{try{return await this.engine.approveSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),Jt(this,"rejectSessionAuthenticate",async n=>{try{return await this.engine.rejectSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),this.name=(e==null?void 0:e.name)||B7.name,this.metadata=gUe(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const r=NN({logger:(e==null?void 0:e.logger)||B7.logger,name:this.name});this.logger=r,this.core=(e==null?void 0:e.core)||new KZe(e),this.session=new hJe(this.core,this.logger),this.proposal=new fJe(this.core,this.logger),this.pendingRequest=new pJe(this.core,this.logger),this.engine=new dJe(this),this.auth=new vJe(this.core,this.logger)}static async init(e){const r=new Tie(e);return await r.initialize(),r}get context(){return to(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};const CJe=_Je;var a$={exports:{}};(function(t,e){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof nr<"u"&&nr,n=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof nr<"u"&&nr||{},l={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function c(x){return x&&DataView.prototype.isPrototypeOf(x)}if(l.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(x){return x&&u.indexOf(Object.prototype.toString.call(x))>-1};function h(x){if(typeof x!="string"&&(x=String(x)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(x)||x==="")throw new TypeError('Invalid character in header field name: "'+x+'"');return x.toLowerCase()}function p(x){return typeof x!="string"&&(x=String(x)),x}function g(x){var A={next:function(){var T=x.shift();return{done:T===void 0,value:T}}};return l.iterable&&(A[Symbol.iterator]=function(){return A}),A}function m(x){this.map={},x instanceof m?x.forEach(function(A,T){this.append(T,A)},this):Array.isArray(x)?x.forEach(function(A){if(A.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+A.length);this.append(A[0],A[1])},this):x&&Object.getOwnPropertyNames(x).forEach(function(A){this.append(A,x[A])},this)}m.prototype.append=function(x,A){x=h(x),A=p(A);var T=this.map[x];this.map[x]=T?T+", "+A:A},m.prototype.delete=function(x){delete this.map[h(x)]},m.prototype.get=function(x){return x=h(x),this.has(x)?this.map[x]:null},m.prototype.has=function(x){return this.map.hasOwnProperty(h(x))},m.prototype.set=function(x,A){this.map[h(x)]=p(A)},m.prototype.forEach=function(x,A){for(var T in this.map)this.map.hasOwnProperty(T)&&x.call(A,this.map[T],T,this)},m.prototype.keys=function(){var x=[];return this.forEach(function(A,T){x.push(T)}),g(x)},m.prototype.values=function(){var x=[];return this.forEach(function(A){x.push(A)}),g(x)},m.prototype.entries=function(){var x=[];return this.forEach(function(A,T){x.push([T,A])}),g(x)},l.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function w(x){if(!x._noBody){if(x.bodyUsed)return Promise.reject(new TypeError("Already read"));x.bodyUsed=!0}}function y(x){return new Promise(function(A,T){x.onload=function(){A(x.result)},x.onerror=function(){T(x.error)}})}function E(x){var A=new FileReader,T=y(A);return A.readAsArrayBuffer(x),T}function v(x){var A=new FileReader,T=y(A),I=/charset=([A-Za-z0-9_-]+)/.exec(x.type),N=I?I[1]:"utf-8";return A.readAsText(x,N),T}function b(x){for(var A=new Uint8Array(x),T=new Array(A.length),I=0;I<A.length;I++)T[I]=String.fromCharCode(A[I]);return T.join("")}function $(x){if(x.slice)return x.slice(0);var A=new Uint8Array(x.byteLength);return A.set(new Uint8Array(x)),A.buffer}function P(){return this.bodyUsed=!1,this._initBody=function(x){this.bodyUsed=this.bodyUsed,this._bodyInit=x,x?typeof x=="string"?this._bodyText=x:l.blob&&Blob.prototype.isPrototypeOf(x)?this._bodyBlob=x:l.formData&&FormData.prototype.isPrototypeOf(x)?this._bodyFormData=x:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(x)?this._bodyText=x.toString():l.arrayBuffer&&l.blob&&c(x)?(this._bodyArrayBuffer=$(x.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(x)||f(x))?this._bodyArrayBuffer=$(x):this._bodyText=x=Object.prototype.toString.call(x):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof x=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(x)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var x=w(this);if(x)return x;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var x=w(this);return x||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(l.blob)return this.blob().then(E);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var x=w(this);if(x)return x;if(this._bodyBlob)return v(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(b(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(H)}),this.json=function(){return this.text().then(JSON.parse)},this}var O=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function D(x){var A=x.toUpperCase();return O.indexOf(A)>-1?A:x}function B(x,A){if(!(this instanceof B))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');A=A||{};var T=A.body;if(x instanceof B){if(x.bodyUsed)throw new TypeError("Already read");this.url=x.url,this.credentials=x.credentials,A.headers||(this.headers=new m(x.headers)),this.method=x.method,this.mode=x.mode,this.signal=x.signal,!T&&x._bodyInit!=null&&(T=x._bodyInit,x.bodyUsed=!0)}else this.url=String(x);if(this.credentials=A.credentials||this.credentials||"same-origin",(A.headers||!this.headers)&&(this.headers=new m(A.headers)),this.method=D(A.method||this.method||"GET"),this.mode=A.mode||this.mode||null,this.signal=A.signal||this.signal||function(){if("AbortController"in a){var M=new AbortController;return M.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&T)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(T),(this.method==="GET"||this.method==="HEAD")&&(A.cache==="no-store"||A.cache==="no-cache")){var I=/([?&])_=[^&]*/;if(I.test(this.url))this.url=this.url.replace(I,"$1_="+new Date().getTime());else{var N=/\?/;this.url+=(N.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}B.prototype.clone=function(){return new B(this,{body:this._bodyInit})};function H(x){var A=new FormData;return x.trim().split("&").forEach(function(T){if(T){var I=T.split("="),N=I.shift().replace(/\+/g," "),M=I.join("=").replace(/\+/g," ");A.append(decodeURIComponent(N),decodeURIComponent(M))}}),A}function q(x){var A=new m,T=x.replace(/\r?\n[\t ]+/g," ");return T.split("\r").map(function(I){return I.indexOf(`
`)===0?I.substr(1,I.length):I}).forEach(function(I){var N=I.split(":"),M=N.shift().trim();if(M){var U=N.join(":").trim();try{A.append(M,U)}catch(S){console.warn("Response "+S.message)}}}),A}P.call(B.prototype);function Y(x,A){if(!(this instanceof Y))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(A||(A={}),this.type="default",this.status=A.status===void 0?200:A.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=A.statusText===void 0?"":""+A.statusText,this.headers=new m(A.headers),this.url=A.url||"",this._initBody(x)}P.call(Y.prototype),Y.prototype.clone=function(){return new Y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},Y.error=function(){var x=new Y(null,{status:200,statusText:""});return x.ok=!1,x.status=0,x.type="error",x};var R=[301,302,303,307,308];Y.redirect=function(x,A){if(R.indexOf(A)===-1)throw new RangeError("Invalid status code");return new Y(null,{status:A,headers:{location:x}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(A,T){this.message=A,this.name=T;var I=Error(A);this.stack=I.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function _(x,A){return new Promise(function(T,I){var N=new B(x,A);if(N.signal&&N.signal.aborted)return I(new o.DOMException("Aborted","AbortError"));var M=new XMLHttpRequest;function U(){M.abort()}M.onload=function(){var Q={statusText:M.statusText,headers:q(M.getAllResponseHeaders()||"")};N.url.indexOf("file://")===0&&(M.status<200||M.status>599)?Q.status=200:Q.status=M.status,Q.url="responseURL"in M?M.responseURL:Q.headers.get("X-Request-URL");var k="response"in M?M.response:M.responseText;setTimeout(function(){T(new Y(k,Q))},0)},M.onerror=function(){setTimeout(function(){I(new TypeError("Network request failed"))},0)},M.ontimeout=function(){setTimeout(function(){I(new TypeError("Network request timed out"))},0)},M.onabort=function(){setTimeout(function(){I(new o.DOMException("Aborted","AbortError"))},0)};function S(Q){try{return Q===""&&a.location.href?a.location.href:Q}catch{return Q}}if(M.open(N.method,S(N.url),!0),N.credentials==="include"?M.withCredentials=!0:N.credentials==="omit"&&(M.withCredentials=!1),"responseType"in M&&(l.blob?M.responseType="blob":l.arrayBuffer&&(M.responseType="arraybuffer")),A&&typeof A.headers=="object"&&!(A.headers instanceof m||a.Headers&&A.headers instanceof a.Headers)){var F=[];Object.getOwnPropertyNames(A.headers).forEach(function(Q){F.push(h(Q)),M.setRequestHeader(Q,p(A.headers[Q]))}),N.headers.forEach(function(Q,k){F.indexOf(k)===-1&&M.setRequestHeader(k,Q)})}else N.headers.forEach(function(Q,k){M.setRequestHeader(k,Q)});N.signal&&(N.signal.addEventListener("abort",U),M.onreadystatechange=function(){M.readyState===4&&N.signal.removeEventListener("abort",U)}),M.send(typeof N._bodyInit>"u"?null:N._bodyInit)})}return _.polyfill=!0,a.fetch||(a.fetch=_,a.Headers=m,a.Request=B,a.Response=Y),o.Headers=m,o.Request=B,o.Response=Y,o.fetch=_,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=r.fetch?r:n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(a$,a$.exports);var AJe=a$.exports;const EU=wc(AJe);var SJe=Object.defineProperty,$Je=Object.defineProperties,IJe=Object.getOwnPropertyDescriptors,_U=Object.getOwnPropertySymbols,kJe=Object.prototype.hasOwnProperty,TJe=Object.prototype.propertyIsEnumerable,CU=(t,e,r)=>e in t?SJe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,AU=(t,e)=>{for(var r in e||(e={}))kJe.call(e,r)&&CU(t,r,e[r]);if(_U)for(var r of _U(e))TJe.call(e,r)&&CU(t,r,e[r]);return t},SU=(t,e)=>$Je(t,IJe(e));const NJe={Accept:"application/json","Content-Type":"application/json"},PJe="POST",$U={headers:NJe,method:PJe},IU=10;let Nie=class{constructor(e,r=!1){if(this.url=e,this.disableProviderPing=r,this.events=new ys.EventEmitter,this.isAvailable=!1,this.registering=!1,!qB(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=r}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const r=qh(e),n=await(await EU(this.url,SU(AU({},$U),{body:r}))).json();this.onPayload({data:n})}catch(r){this.onError(e.id,r)}}async register(e=this.url){if(!qB(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));n()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const r=qh({id:1,jsonrpc:"2.0",method:"test",params:[]});await EU(e,SU(AU({},$U),{body:r}))}this.onOpen()}catch(r){const n=this.parseError(r);throw this.events.emit("register_error",n),this.onClose(),n}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?Hh(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=z8(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return sie(e,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>IU&&this.events.setMaxListeners(IU)}};function MN(t){return t==null||typeof t!="object"&&typeof t!="function"}function Pie(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function Rie(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const RJe="[object RegExp]",Oie="[object String]",jie="[object Number]",Mie="[object Boolean]",Die="[object Arguments]",OJe="[object Symbol]",jJe="[object Date]",MJe="[object Map]",DJe="[object Set]",LJe="[object Array]",FJe="[object ArrayBuffer]",BJe="[object Object]",UJe="[object DataView]",WJe="[object Uint8Array]",zJe="[object Uint8ClampedArray]",HJe="[object Uint16Array]",qJe="[object Uint32Array]",VJe="[object Int8Array]",GJe="[object Int16Array]",KJe="[object Int32Array]",YJe="[object Float32Array]",ZJe="[object Float64Array]";function DN(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function JJe(t,e){return x0(t,void 0,t,new Map,e)}function x0(t,e,r,n=new Map,i=void 0){const s=i==null?void 0:i(t,e,r,n);if(s!=null)return s;if(MN(t))return t;if(n.has(t))return n.get(t);if(Array.isArray(t)){const o=new Array(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=x0(t[a],a,r,n,i);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;n.set(t,o);for(const[a,l]of t)o.set(a,x0(l,a,r,n,i));return o}if(t instanceof Set){const o=new Set;n.set(t,o);for(const a of t)o.add(x0(a,void 0,r,n,i));return o}if(typeof Ke<"u"&&Ke.isBuffer(t))return t.subarray();if(DN(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=x0(t[a],a,r,n,i);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return n.set(t,o),Vf(o,t,r,n,i),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return n.set(t,o),Vf(o,t,r,n,i),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return n.set(t,o),Vf(o,t,r,n,i),o}if(t instanceof Error){const o=new t.constructor;return n.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,Vf(o,t,r,n,i),o}if(typeof t=="object"&&QJe(t)){const o=Object.create(Object.getPrototypeOf(t));return n.set(t,o),Vf(o,t,r,n,i),o}return t}function Vf(t,e,r=t,n,i){const s=[...Object.keys(e),...Pie(e)];for(let o=0;o<s.length;o++){const a=s[o],l=Object.getOwnPropertyDescriptor(t,a);(l==null||l.writable)&&(t[a]=x0(e[a],a,r,n,i))}}function QJe(t){switch(Rie(t)){case Die:case LJe:case FJe:case UJe:case Mie:case jJe:case YJe:case ZJe:case VJe:case GJe:case KJe:case MJe:case jie:case BJe:case RJe:case DJe:case Oie:case OJe:case WJe:case zJe:case HJe:case qJe:return!0;default:return!1}}function XJe(t,e){return JJe(t,(r,n,i,s)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case jie:case Oie:case Mie:{const o=new t.constructor(t==null?void 0:t.valueOf());return Vf(o,t),o}case Die:{const o={};return Vf(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function kU(t){return XJe(t)}function TU(t){return t!==null&&typeof t=="object"&&Rie(t)==="[object Arguments]"}function NU(t){return typeof t=="object"&&t!==null}function eQe(){}function tQe(t){return DN(t)}function rQe(t){var r;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const n=t[Symbol.toStringTag];return n==null||!((r=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&r.writable)?!1:t.toString()===`[object ${n}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function nQe(t){if(MN(t))return t;if(Array.isArray(t)||DN(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),r=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new r(t);if(t instanceof RegExp){const n=new r(t);return n.lastIndex=t.lastIndex,n}if(t instanceof DataView)return new r(t.buffer.slice(0));if(t instanceof Error){const n=new r(t.message);return n.stack=t.stack,n.name=t.name,n.cause=t.cause,n}if(typeof File<"u"&&t instanceof File)return new r([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const n=Object.create(e);return Object.assign(n,t)}return t}function iQe(t,...e){const r=e.slice(0,-1),n=e[e.length-1];let i=t;for(let s=0;s<r.length;s++){const o=r[s];i=l$(i,o,n,new Map)}return i}function l$(t,e,r,n){if(MN(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(n.has(e))return nQe(n.get(e));if(n.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...Pie(e)];for(let s=0;s<i.length;s++){const o=i[s];let a=e[o],l=t[o];if(TU(a)&&(a={...a}),TU(l)&&(l={...l}),typeof Ke<"u"&&Ke.isBuffer(a)&&(a=kU(a)),Array.isArray(a))if(typeof l=="object"&&l!=null){const u=[],f=Reflect.ownKeys(l);for(let h=0;h<f.length;h++){const p=f[h];u[p]=l[p]}l=u}else l=[];const c=r(l,a,o,t,e,n);c!=null?t[o]=c:Array.isArray(a)||NU(l)&&NU(a)?t[o]=l$(l,a,r,n):l==null&&rQe(a)?t[o]=l$({},a,r,n):l==null&&tQe(a)?t[o]=kU(a):(l===void 0||a!==void 0)&&(t[o]=a)}return t}function sQe(t,...e){return iQe(t,...e,eQe)}const PU="error",oQe="wss://relay.walletconnect.org",aQe="wc",Lie="universal_provider",yv=`${aQe}@2:${Lie}:`,Fie="https://rpc.walletconnect.org/v1/",Bie="generic",lQe=`${Fie}bundler`,q0="call_status",cQe=86400,LN={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var uQe=Object.defineProperty,dQe=Object.defineProperties,fQe=Object.getOwnPropertyDescriptors,RU=Object.getOwnPropertySymbols,hQe=Object.prototype.hasOwnProperty,pQe=Object.prototype.propertyIsEnumerable,OU=(t,e,r)=>e in t?uQe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,wv=(t,e)=>{for(var r in e||(e={}))hQe.call(e,r)&&OU(t,r,e[r]);if(RU)for(var r of RU(e))pQe.call(e,r)&&OU(t,r,e[r]);return t},gQe=(t,e)=>dQe(t,fQe(e));function Uie(t,e,r){var n;const i=yu(t);return((n=e.rpcMap)==null?void 0:n[i.reference])||`${Fie}?chainId=${i.namespace}:${i.reference}&projectId=${r}`}function mQe(t){return t.includes(":")?t.split(":")[1]:t}function Wie(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function yQe(t,e){const r=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!r.length)return[];const n=[];return r.forEach(i=>{const s=e.namespaces[i].accounts;n.push(...s)}),n}function jU(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>{var n,i;return((n=r==null?void 0:r.chains)==null?void 0:n.length)&&((i=r==null?void 0:r.chains)==null?void 0:i.length)>0}))}function bv(t={},e={}){const r=jU(MU(t)),n=jU(MU(e));return sQe(r,n)}function MU(t){var e,r,n,i,s;const o={};if(!oc(t))return o;for(const[a,l]of Object.entries(t)){const c=W8(a)?[a]:l.chains,u=l.methods||[],f=l.events||[],h=l.rpcMap||{},p=v0(a);o[p]=gQe(wv(wv({},o[p]),l),{chains:sc(c,(e=o[p])==null?void 0:e.chains),methods:sc(u,(r=o[p])==null?void 0:r.methods),events:sc(f,(n=o[p])==null?void 0:n.events)}),(oc(h)||oc(((i=o[p])==null?void 0:i.rpcMap)||{}))&&(o[p].rpcMap=wv(wv({},h),(s=o[p])==null?void 0:s.rpcMap))}return o}function DU(t){return t.includes(":")?t.split(":")[2]:t}function LU(t){const e={};for(const[r,n]of Object.entries(t)){const i=n.methods||[],s=n.events||[],o=n.accounts||[],a=W8(r)?[r]:n.chains?n.chains:Wie(n.accounts);e[r]={chains:a,methods:i,events:s,accounts:o}}return e}function z7(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}function wQe(t){try{const e=JSON.parse(t);return typeof e=="object"&&e!==null&&!Array.isArray(e)}catch{return!1}}const zie={},V0=t=>zie[t],H7=(t,e)=>{zie[t]=e};var bQe=Object.defineProperty,FU=Object.getOwnPropertySymbols,vQe=Object.prototype.hasOwnProperty,xQe=Object.prototype.propertyIsEnumerable,BU=(t,e,r)=>e in t?bQe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,UU=(t,e)=>{for(var r in e||(e={}))vQe.call(e,r)&&BU(t,r,e[r]);if(FU)for(var r of FU(e))xQe.call(e,r)&&BU(t,r,e[r]);return t};const WU="eip155",EQe=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],_Qe=t=>t&&t.startsWith("0x")?BigInt(t).toString(10):t,q7=t=>t&&t.startsWith("0x")?t:`0x${BigInt(t).toString(16)}`,zU=t=>Object.keys(t).filter(e=>EQe.includes(e)).reduce((e,r)=>(e[r]=CQe(t[r]),e),{}),CQe=t=>typeof t=="string"&&wQe(t)?JSON.parse(t):t,AQe=(t,e,r)=>{const{sessionProperties:n={},scopedProperties:i={}}=t,s={};if(!oc(i)&&!oc(n))return;const o=zU(n);for(const a of r){const l=_Qe(a);if(!l)continue;s[q7(l)]=o;const c=i==null?void 0:i[`${WU}:${l}`];if(c){const u=c==null?void 0:c[`${WU}:${l}:${e}`];s[q7(l)]=UU(UU({},s[q7(l)]),zU(u||c))}}for(const[a,l]of Object.entries(s))Object.keys(l).length===0&&delete s[a];return Object.keys(s).length>0?s:void 0};var SQe=Object.defineProperty,$Qe=(t,e,r)=>e in t?SQe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,IQe=(t,e,r)=>$Qe(t,e+"",r);let V7,kQe=class Hie{constructor(e){IQe(this,"storage"),this.storage=e}async getItem(e){return await this.storage.getItem(e)}async setItem(e,r){return await this.storage.setItem(e,r)}async removeItem(e){return await this.storage.removeItem(e)}static getStorage(e){return V7||(V7=new Hie(e)),V7}};var TQe=Object.defineProperty,NQe=Object.defineProperties,PQe=Object.getOwnPropertyDescriptors,HU=Object.getOwnPropertySymbols,RQe=Object.prototype.hasOwnProperty,OQe=Object.prototype.propertyIsEnumerable,qU=(t,e,r)=>e in t?TQe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,jQe=(t,e)=>{for(var r in e||(e={}))RQe.call(e,r)&&qU(t,r,e[r]);if(HU)for(var r of HU(e))OQe.call(e,r)&&qU(t,r,e[r]);return t},MQe=(t,e)=>NQe(t,PQe(e));async function DQe(t,e){const r=yu(t.result.capabilities.caip345.caip2),n=t.result.capabilities.caip345.transactionHashes,i=await Promise.allSettled(n.map(f=>LQe(r.reference,f,e))),s=i.filter(f=>f.status==="fulfilled").map(f=>f.value).filter(f=>f);i.filter(f=>f.status==="rejected").forEach(f=>console.warn("Failed to fetch transaction receipt:",f.reason));const o=!s.length||s.some(f=>!f),a=s.every(f=>(f==null?void 0:f.status)==="0x1"),l=s.every(f=>(f==null?void 0:f.status)==="0x0"),c=s.some(f=>(f==null?void 0:f.status)==="0x0");let u;return o?u=100:a?u=200:l?u=500:c&&(u=600),{id:t.result.id,version:t.request.version,atomic:t.request.atomicRequired,chainId:t.request.chainId,capabilities:t.result.capabilities,receipts:s,status:u}}async function LQe(t,e,r){return await r(parseInt(t)).request(Ba("eth_getTransactionReceipt",[e]))}async function FQe({sendCalls:t,storage:e}){const r=await e.getItem(q0);await e.setItem(q0,MQe(jQe({},r),{[t.result.id]:{request:t.request,result:t.result,expiry:bn(cQe)}}))}async function BQe({resultId:t,storage:e}){const r=await e.getItem(q0);if(r){delete r[t],await e.setItem(q0,r);for(const n in r)jl(r[n].expiry)&&delete r[n];await e.setItem(q0,r)}}async function UQe({resultId:t,storage:e}){const r=await e.getItem(q0),n=r==null?void 0:r[t];if(n&&!jl(n.expiry))return n;await BQe({resultId:t,storage:e})}var WQe=Object.defineProperty,zQe=Object.defineProperties,HQe=Object.getOwnPropertyDescriptors,VU=Object.getOwnPropertySymbols,qQe=Object.prototype.hasOwnProperty,VQe=Object.prototype.propertyIsEnumerable,c$=(t,e,r)=>e in t?WQe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,G7=(t,e)=>{for(var r in e||(e={}))qQe.call(e,r)&&c$(t,r,e[r]);if(VU)for(var r of VU(e))VQe.call(e,r)&&c$(t,r,e[r]);return t},K7=(t,e)=>zQe(t,HQe(e)),Of=(t,e,r)=>c$(t,typeof e!="symbol"?e+"":e,r);class GQe{constructor(e){Of(this,"name","eip155"),Of(this,"client"),Of(this,"chainId"),Of(this,"namespace"),Of(this,"httpProviders"),Of(this,"events"),Of(this,"storage"),this.namespace=e.namespace,this.events=V0("events"),this.client=V0("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain()),this.storage=kQe.getStorage(this.client.core.storage)}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e);case"wallet_sendCalls":return await this.sendCalls(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(parseInt(e),r);const n=this.chainId;this.chainId=parseInt(e),this.events.emit(LN.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${n}`})}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,r){const n=r||Uie(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new ON(new Nie(n,V0("disableProviderPing")))}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=parseInt(mQe(r));e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}getHttpProvider(e){const r=e||this.chainId;return this.httpProviders[r]||(this.httpProviders=K7(G7({},this.httpProviders),{[r]:this.createHttpProvider(r)}),this.httpProviders[r])}async handleSwitchChain(e){var r,n;let i=e.request.params?(r=e.request.params[0])==null?void 0:r.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(n=this.namespace.chains)==null?void 0:n[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var r,n,i,s,o;const a=(n=(r=e.request)==null?void 0:r.params)==null?void 0:n[0],l=((s=(i=e.request)==null?void 0:i.params)==null?void 0:s[1])||[];if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const c=this.client.session.get(e.topic),u=((o=c==null?void 0:c.sessionProperties)==null?void 0:o.capabilities)||{},f=`${a}${l.join(",")}`,h=u==null?void 0:u[f];if(h)return h;let p;try{p=AQe(c,a,l)}catch(m){console.warn("Failed to extract capabilities from session",m)}if(p)return p;const g=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:K7(G7({},c.sessionProperties||{}),{capabilities:K7(G7({},u||{}),{[f]:g})})})}catch(m){console.warn("Failed to update session with capabilities",m)}return g}async getCallStatus(e){var r,n,i;const s=this.client.session.get(e.topic),o=(r=s.sessionProperties)==null?void 0:r.bundler_name;if(o){const c=this.getBundlerUrl(e.chainId,o);try{return await this.getUserOperationReceipt(c,e)}catch(u){console.warn("Failed to fetch call status from bundler",u,c)}}const a=(n=s.sessionProperties)==null?void 0:n.bundler_url;if(a)try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn("Failed to fetch call status from custom bundler",c,a)}const l=await UQe({resultId:(i=e.request.params)==null?void 0:i[0],storage:this.storage});if(l)try{return await DQe(l,this.getHttpProvider.bind(this))}catch(c){console.warn("Failed to fetch call status from stored send calls",c,l)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,r){var n;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ba("eth_getUserOperationReceipt",[(n=r.request.params)==null?void 0:n[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,r){return`${lQe}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${r}`}async sendCalls(e){var r,n,i;const s=await this.client.request(e),o=(r=e.request.params)==null?void 0:r[0],a=s==null?void 0:s.id,l=(s==null?void 0:s.capabilities)||{},c=(n=l==null?void 0:l.caip345)==null?void 0:n.caip2,u=(i=l==null?void 0:l.caip345)==null?void 0:i.transactionHashes;return!a||!c||!(u!=null&&u.length)||await FQe({sendCalls:{request:o,result:s},storage:this.storage}),s}}var KQe=Object.defineProperty,YQe=(t,e,r)=>e in t?KQe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,zp=(t,e,r)=>YQe(t,typeof e!="symbol"?e+"":e,r);class ZQe{constructor(e){zp(this,"name",Bie),zp(this,"client"),zp(this,"httpProviders"),zp(this,"events"),zp(this,"namespace"),zp(this,"chainId"),this.namespace=e.namespace,this.events=V0("events"),this.client=V0("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r);const n=this.chainId;this.chainId=e,this.events.emit(LN.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${n}`})}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return yu(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){var e,r;const n={};return(r=(e=this.namespace)==null?void 0:e.accounts)==null||r.forEach(i=>{var s,o;const a=yu(i),l=(o=(s=this.namespace)==null?void 0:s.rpcMap)==null?void 0:o[`${a.namespace}:${a.reference}`];n[a.reference]=this.createHttpProvider(i,l)}),n}getHttpProvider(e){const r=yu(e).reference,n=this.httpProviders[r];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Uie(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new ON(new Nie(n,V0("disableProviderPing")))}}var JQe=Object.defineProperty,QQe=Object.defineProperties,XQe=Object.getOwnPropertyDescriptors,GU=Object.getOwnPropertySymbols,eXe=Object.prototype.hasOwnProperty,tXe=Object.prototype.propertyIsEnumerable,u$=(t,e,r)=>e in t?JQe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,lm=(t,e)=>{for(var r in e||(e={}))eXe.call(e,r)&&u$(t,r,e[r]);if(GU)for(var r of GU(e))tXe.call(e,r)&&u$(t,r,e[r]);return t},vv=(t,e)=>QQe(t,XQe(e)),so=(t,e,r)=>u$(t,typeof e!="symbol"?e+"":e,r);let rXe=class qie{constructor(e){so(this,"client"),so(this,"namespaces"),so(this,"optionalNamespaces"),so(this,"sessionProperties"),so(this,"scopedProperties"),so(this,"events",new cT),so(this,"rpcProviders",{}),so(this,"session"),so(this,"providerOpts"),so(this,"logger"),so(this,"uri"),so(this,"disableProviderPing",!1),so(this,"connectParams");var r,n;this.providerOpts=e,this.logger=NN({logger:(r=e.logger)!=null?r:PU,name:(n=this.providerOpts.name)!=null?n:Lie}),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const r=new qie(e);return await r.initialize(),r}async request(e,r,n){const[i,s]=this.validateChain(r);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:lm({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:n})}sendAsync(e,r,n,i){const s=new Date().getTime();this.request(e,n,i).then(o=>r(null,N2(s,o))).catch(o=>r(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Br("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.connectParams=e,this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,r){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:n,response:i}=await this.client.authenticate(e,r);n&&(this.uri=n,this.events.emit("display_uri",n));const s=await i();if(this.session=s.session,this.session){const o=LU(this.session.namespaces);this.namespaces=bv(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}removeListener(e,r){this.events.removeListener(e,r)}off(e,r){this.events.off(e,r)}get isWalletConnect(){return!0}async pair(e){var r,n;const{uri:i,approval:s}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties,authentication:(r=this.connectParams)==null?void 0:r.authentication,walletPay:(n=this.connectParams)==null?void 0:n.walletPay});i&&(this.uri=i,this.events.emit("display_uri",i));const o=await s();this.session=o;const a=LU(o.namespaces);return this.namespaces=bv(this.namespaces,a),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,r){try{if(!this.session)return;const[n,i]=this.validateChain(e);this.getProvider(n).setDefaultChain(i,r)}catch(n){if(!/Please call connect/.test(n.message))throw n}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");const r=this.client.pairing.getAll();if(!la(r))return;for(const n of r)e.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info(`Inactive pairings cleared: ${r.length}`)}catch(r){this.logger.warn(r,"Failed to cleanup pending pairings")}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,r;if(this.client=this.providerOpts.client||await CJe.init({core:this.providerOpts.core,logger:this.providerOpts.logger||PU,relayUrl:this.providerOpts.relayUrl||oQe,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(n){throw this.logger.error(n,"Failed to get session"),new Error(`The provided session: ${(r=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:r.topic} doesn't exist in the Sign client`)}else{const n=this.client.session.getAll();this.session=n[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(r=>v0(r)))];H7("client",this.client),H7("events",this.events),H7("disableProviderPing",this.disableProviderPing),e.forEach(r=>{if(!this.session)return;const n=yQe(r,this.session);if((n==null?void 0:n.length)===0)return;const i=Wie(n),s=bv(this.namespaces,this.optionalNamespaces),o=vv(lm({},s[r]),{accounts:n,chains:i});switch(r){case"eip155":this.rpcProviders[r]=new GQe({namespace:o});break;default:this.rpcProviders[r]=new ZQe({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var r;const{topic:n}=e;n===((r=this.session)==null?void 0:r.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var r;const{params:n,topic:i}=e;if(i!==((r=this.session)==null?void 0:r.topic))return;const{event:s}=n;if(s.name==="accountsChanged"){const o=s.data;o&&la(o)&&this.events.emit("accountsChanged",o.map(DU))}else if(s.name==="chainChanged"){const o=n.chainId,a=n.event.data,l=v0(o),c=z7(o)!==z7(a)?`${l}:${z7(a)}`:o;this.onChainChanged({currentCaipChainId:c})}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:r})=>{var n,i;if(e!==((n=this.session)==null?void 0:n.topic))return;const{namespaces:s}=r,o=(i=this.client)==null?void 0:i.session.get(e);this.session=vv(lm({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:r})}),this.client.on("session_delete",async e=>{var r;e.topic===((r=this.session)==null?void 0:r.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",vv(lm({},Br("USER_DISCONNECTED")),{data:e.topic})))}),this.on(LN.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(vv(lm({},e),{internal:!0}))})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[Bie]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var r;this.getProvider(e).updateNamespace((r=this.session)==null?void 0:r.namespaces[e])})}setNamespaces(e){const{namespaces:r={},optionalNamespaces:n={},sessionProperties:i,scopedProperties:s}=e;this.optionalNamespaces=bv(r,n),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[r,n]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[r,n];if(r&&!Object.keys(this.namespaces||{}).map(o=>v0(o)).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&n)return[r,n];const i=v0(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged({currentCaipChainId:e,previousCaipChainId:r,internal:n=!1}){if(!this.namespaces)return;const[i,s]=this.validateChain(e);s&&(this.updateNamespaceChain(i,s),n?(this.events.emit("chainChanged",s),this.emitAccountsChangedOnChainChange({namespace:i,currentCaipChainId:e,previousCaipChainId:r})):this.getProvider(i).setDefaultChain(s),await this.persist("namespaces",this.namespaces))}emitAccountsChangedOnChainChange({namespace:e,currentCaipChainId:r,previousCaipChainId:n}){var i,s;try{if(n===r)return;const o=(s=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:s.accounts;if(!o)return;const a=o.filter(l=>l.includes(`${r}:`)).map(DU);if(!la(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn(o,"Failed to emit accountsChanged on chain change")}}updateNamespaceChain(e,r){if(!this.namespaces)return;const n=this.namespaces[e]?e:`${e}:${r}`,i={chains:[],methods:[],events:[],defaultChain:r};this.namespaces[n]?this.namespaces[n]&&(this.namespaces[n].defaultChain=r):this.namespaces[n]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.connectParams=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,r){var n;const i=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.setItem(`${yv}/${e}${i}`,r)}async getFromStore(e){var r;const n=((r=this.session)==null?void 0:r.topic)||"";return await this.client.core.storage.getItem(`${yv}/${e}${n}`)}async deleteFromStore(e){var r;const n=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.removeItem(`${yv}/${e}${n}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const r=await this.client.core.storage.getKeys();for(const n of r)n.startsWith(yv)&&await this.client.core.storage.removeItem(n)}catch(r){this.logger.warn(r,"Failed to cleanup storage")}}};const nXe=rXe,iXe="wc",sXe="ethereum_provider",oXe=`${iXe}@2:${sXe}:`,aXe="https://rpc.walletconnect.org/v1/",d$=["eth_sendTransaction","personal_sign"],Vie=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],f$=["chainChanged","accountsChanged"],Gie=["chainChanged","accountsChanged","message","disconnect","connect"],lXe=async()=>{const{createAppKit:t}=await hu(()=>import("./core-Bi4A3vy5.js").then(e=>e.a1),[]);return t};var cXe=Object.defineProperty,uXe=Object.defineProperties,dXe=Object.getOwnPropertyDescriptors,KU=Object.getOwnPropertySymbols,fXe=Object.prototype.hasOwnProperty,hXe=Object.prototype.propertyIsEnumerable,h$=(t,e,r)=>e in t?cXe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ff=(t,e)=>{for(var r in e||(e={}))fXe.call(e,r)&&h$(t,r,e[r]);if(KU)for(var r of KU(e))hXe.call(e,r)&&h$(t,r,e[r]);return t},cm=(t,e)=>uXe(t,dXe(e)),oo=(t,e,r)=>h$(t,typeof e!="symbol"?e+"":e,r);function f6(t){return Number(t[0].split(":")[1])}function xv(t){return`0x${t.toString(16)}`}function pXe(t){const{chains:e,optionalChains:r,methods:n,optionalMethods:i,events:s,optionalEvents:o,rpcMap:a}=t;if(!la(e))throw new Error("Invalid chains");const l={chains:e,methods:n||d$,events:s||f$,rpcMap:Ff({},e.length?{[f6(e)]:a[f6(e)]}:{})},c=s==null?void 0:s.filter(p=>!f$.includes(p)),u=n==null?void 0:n.filter(p=>!d$.includes(p));if(!r&&!o&&!i&&!(c!=null&&c.length)&&!(u!=null&&u.length))return{required:e.length?l:void 0};const f=(c==null?void 0:c.length)&&(u==null?void 0:u.length)||!r,h={chains:[...new Set(f?l.chains.concat(r||[]):r)],methods:[...new Set(l.methods.concat(i!=null&&i.length?i:Vie))],events:[...new Set(l.events.concat(o!=null&&o.length?o:Gie))],rpcMap:a};return{required:e.length?l:void 0,optional:r.length?h:void 0}}let gXe=class Kie{constructor(){oo(this,"events",new ys.EventEmitter),oo(this,"namespace","eip155"),oo(this,"accounts",[]),oo(this,"signer"),oo(this,"chainId",1),oo(this,"modal"),oo(this,"rpc"),oo(this,"STORAGE_KEY",oXe),oo(this,"on",(e,r)=>(this.events.on(e,r),this)),oo(this,"once",(e,r)=>(this.events.once(e,r),this)),oo(this,"removeListener",(e,r)=>(this.events.removeListener(e,r),this)),oo(this,"off",(e,r)=>(this.events.off(e,r),this)),oo(this,"parseAccount",e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e),this.signer={},this.rpc={}}static async init(e){const r=new Kie;return await r.initialize(e),r}async request(e,r){return await this.signer.request(e,this.formatChainId(this.chainId),r)}sendAsync(e,r,n){this.signer.sendAsync(e,r,this.formatChainId(this.chainId),n)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){var r;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:n,optional:i}=pXe(this.rpc);try{const s=await new Promise(async(a,l)=>{var c,u;this.rpc.showQrModal&&((c=this.modal)==null||c.open(),(u=this.modal)==null||u.subscribeState(h=>{!h.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),l(new Error("Connection request reset. Please try again.")))}));const f=e!=null&&e.scopedProperties?{[this.namespace]:e.scopedProperties}:void 0;await this.signer.connect(cm(Ff({namespaces:Ff({},n&&{[this.namespace]:n})},i&&{optionalNamespaces:{[this.namespace]:i}}),{pairingTopic:e==null?void 0:e.pairingTopic,scopedProperties:f})).then(h=>{a(h)}).catch(h=>{var p;(p=this.modal)==null||p.showErrorMessage("Unable to connect"),l(new Error(h.message))})});if(!s)return;const o=LF(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit("connect",{chainId:xv(this.chainId)})}catch(s){throw this.signer.logger.error(s),s}finally{(r=this.modal)==null||r.close()}}async authenticate(e,r){var n;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:e==null?void 0:e.chains});try{const i=await new Promise(async(o,a)=>{var l,c;this.rpc.showQrModal&&((l=this.modal)==null||l.open(),(c=this.modal)==null||c.subscribeState(u=>{!u.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),a(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(cm(Ff({},e),{chains:this.rpc.chains}),r).then(u=>{o(u)}).catch(u=>{var f;(f=this.modal)==null||f.showErrorMessage("Unable to connect"),a(new Error(u.message))})}),s=i.session;if(s){const o=LF(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit("connect",{chainId:xv(this.chainId)})}return i}catch(i){throw this.signer.logger.error(i),i}finally{(n=this.modal)==null||n.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:r}=e,{event:n}=r;n.name==="accountsChanged"?(this.accounts=this.parseAccounts(n.data),this.events.emit("accountsChanged",this.accounts)):n.name==="chainChanged"?this.setChainId(this.formatChainId(n.data)):this.events.emit(n.name,n.data),this.events.emit("session_event",e)}),this.signer.on("accountsChanged",e=>{this.accounts=this.parseAccounts(e),this.events.emit("accountsChanged",this.accounts)}),this.signer.on("chainChanged",e=>{const r=parseInt(e);this.chainId=r,this.events.emit("chainChanged",xv(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",cm(Ff({},Br("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const r=e.filter(n=>this.isCompatibleChainId(n)).map(n=>this.parseChainId(n));r.length&&(this.chainId=r[0],this.events.emit("chainChanged",xv(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const r=this.parseChainId(e);this.chainId=r,this.switchEthereumChain(r)}}parseAccountId(e){const[r,n,i]=e.split(":");return{chainId:`${r}:${n}`,address:i}}setAccounts(e){this.accounts=e.filter(r=>this.parseChainId(this.parseAccountId(r).chainId)===this.chainId).map(r=>this.parseAccountId(r).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var r,n;const i=(r=e==null?void 0:e.chains)!=null?r:[],s=(n=e==null?void 0:e.optionalChains)!=null?n:[],o=i.concat(s);if(!o.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const a=i.length?(e==null?void 0:e.methods)||d$:[],l=i.length?(e==null?void 0:e.events)||f$:[],c=(e==null?void 0:e.optionalMethods)||[],u=(e==null?void 0:e.optionalEvents)||[],f=(e==null?void 0:e.rpcMap)||this.buildRpcMap(o,e.projectId),h=(e==null?void 0:e.qrModalOptions)||void 0;return{chains:i==null?void 0:i.map(p=>this.formatChainId(p)),optionalChains:s.map(p=>this.formatChainId(p)),methods:a,events:l,optionalMethods:c,optionalEvents:u,rpcMap:f,showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:h,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,r){const n={};return e.forEach(i=>{n[i]=this.getRpcUrl(i,r)}),n}async initialize(e){var r;if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?f6(this.rpc.chains):f6(this.rpc.optionalChains),this.signer=await nXe.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storage:e.storage,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled,logger:e.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let n;try{const i=await lXe(),{convertWCMToAppKitOptions:s}=await Promise.resolve().then(function(){return SXe}),o=s(cm(Ff({},this.rpc.qrModalOptions),{chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId}));if(!o.networks.length)throw new Error("No networks found for WalletConnect");n=i(cm(Ff({},o),{universalProvider:this.signer,manualWCControl:!0,enableMobileFullScreen:((r=this.rpc.qrModalOptions)==null?void 0:r.enableMobileFullScreen)===!0}))}catch(i){throw console.warn(i),new Error("To use QR modal, please install @reown/appkit package")}if(n)try{this.modal=n}catch(i){throw this.signer.logger.error(i),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:r,optionalChains:n,rpcMap:i}=e;r&&la(r)&&(this.rpc.chains=r.map(s=>this.formatChainId(s)),r.forEach(s=>{this.rpc.rpcMap[s]=(i==null?void 0:i[s])||this.getRpcUrl(s)})),n&&la(n)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=n==null?void 0:n.map(s=>this.formatChainId(s)),n.forEach(s=>{this.rpc.rpcMap[s]=(i==null?void 0:i[s])||this.getRpcUrl(s)}))}getRpcUrl(e,r){var n;return((n=this.rpc.rpcMap)==null?void 0:n[e])||`${aXe}?chainId=eip155:${e}&projectId=${r||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),r=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:r==null?void 0:r.accounts),this.setAccounts(r==null?void 0:r.accounts)}catch(e){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(e),await this.disconnect().catch(r=>this.signer.logger.warn(r))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(r=>this.parseAccount(r))}};const mXe=gXe;var yXe=Object.defineProperty,wXe=Object.defineProperties,bXe=Object.getOwnPropertyDescriptors,YU=Object.getOwnPropertySymbols,vXe=Object.prototype.hasOwnProperty,xXe=Object.prototype.propertyIsEnumerable,ZU=(t,e,r)=>e in t?yXe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Yie=(t,e)=>{for(var r in e||(e={}))vXe.call(e,r)&&ZU(t,r,e[r]);if(YU)for(var r of YU(e))xXe.call(e,r)&&ZU(t,r,e[r]);return t},EXe=(t,e)=>wXe(t,bXe(e));function _Xe(t){if(t)return{"--w3m-font-family":t["--wcm-font-family"],"--w3m-accent":t["--wcm-accent-color"],"--w3m-color-mix":t["--wcm-background-color"],"--w3m-z-index":t["--wcm-z-index"]?Number(t["--wcm-z-index"]):void 0,"--w3m-qr-color":t["--wcm-accent-color"],"--w3m-font-size-master":t["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":t["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}const CXe=t=>{const[e,r]=t.split(":");return Zie({id:r,caipNetworkId:t,chainNamespace:e,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};function AXe(t){var e,r,n,i,s,o,a;const l=(e=t.chains)==null?void 0:e.map(CXe).filter(Boolean);if(l.length===0)throw new Error("At least one chain must be specified");const c=l.find(f=>{var h;return f.id===((h=t.defaultChain)==null?void 0:h.id)}),u={projectId:t.projectId,networks:l,themeMode:t.themeMode,themeVariables:_Xe(t.themeVariables),chainImages:t.chainImages,connectorImages:t.walletImages,defaultNetwork:c,metadata:EXe(Yie({},t.metadata),{name:((r=t.metadata)==null?void 0:r.name)||"WalletConnect",description:((n=t.metadata)==null?void 0:n.description)||"Connect to WalletConnect-compatible wallets",url:((i=t.metadata)==null?void 0:i.url)||"https://walletconnect.org",icons:((s=t.metadata)==null?void 0:s.icons)||["https://walletconnect.org/walletconnect-logo.png"]}),showWallets:!0,featuredWalletIds:t.explorerRecommendedWalletIds==="NONE"?[]:Array.isArray(t.explorerRecommendedWalletIds)?t.explorerRecommendedWalletIds:[],excludeWalletIds:t.explorerExcludedWalletIds==="ALL"?[]:Array.isArray(t.explorerExcludedWalletIds)?t.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if((o=t.mobileWallets)!=null&&o.length||(a=t.desktopWallets)!=null&&a.length){const f=[...(t.mobileWallets||[]).map(g=>({id:g.id,name:g.name,links:g.links})),...(t.desktopWallets||[]).map(g=>({id:g.id,name:g.name,links:{native:g.links.native,universal:g.links.universal}}))],h=[...u.featuredWalletIds||[],...u.excludeWalletIds||[]],p=f.filter(g=>!h.includes(g.id));p.length&&(u.customWallets=p)}return u}function Zie(t){return Yie({formatters:void 0,fees:void 0,serializers:void 0},t)}var SXe=Object.freeze({__proto__:null,convertWCMToAppKitOptions:AXe,defineChain:Zie});let G0=class extends dg{async initialize(){var n,i,s,o;let e=await this.createProvider();if(this.provider=e,this.proxyProvider.setWalletProvider(e),this.subscribeListeners(),e.session){if((i=(n=this.walletProvider)==null?void 0:n.session)!=null&&i.peer.metadata.url){let a=KE((o=(s=this.walletProvider)==null?void 0:s.session)==null?void 0:o.peer.metadata.url);this.walletEntry=a==null?void 0:a.entry,this.walletClientType=(a==null?void 0:a.walletClientType)||"unknown"}this.connected=!0,await this.syncAccounts()}this.initialized=!0,this.emit("initialized");let{WalletConnectModal:r}=await hu(()=>import("./index-XczXGCV1.js").then(a=>a.i),[]);this.modal=new r({projectId:this.walletConnectCloudProjectId,themeVariables:{"--wcm-z-index":"1000000"}}),this.modal.subscribeModal(a=>{var l;a.open||(l=this.walletProvider)!=null&&l.session||!this.onQrModalClosed||this.onQrModalClosed()})}async connect(e){return e.showPrompt&&await this.promptConnection(),this.getConnectedWallet()}async isConnected(){var e;return!!((e=this.walletProvider)!=null&&e.connected)}get walletBranding(){var r,n,i,s,o,a,l;if(this.walletClientType==="metamask")return{name:"MetaMask",icon:LPe,id:"io.metamask"};let e=(i=(n=(r=this.walletProvider)==null?void 0:r.session)==null?void 0:n.peer.metadata.icons)==null?void 0:i[0];return{name:D9e(((o=(s=this.walletProvider)==null?void 0:s.session)==null?void 0:o.peer.metadata.name)||"")||"WalletConnect",icon:typeof e=="string"?e:HPe,id:((l=(a=this.walletProvider)==null?void 0:a.session)==null?void 0:l.peer.metadata.name.toLowerCase())||"wallet_connect_v2"}}async resetConnection(e){var r;this.walletProvider&&this.walletProvider.connected&&(await this.walletProvider.disconnect(),this.walletProvider.signer.session=void 0,(r=this.walletEntry)!=null&&r.isWalletEntryOverriden||(this.walletEntry=TA[e]),this.walletClientType=e,this.redirectUri=void 0,this.fallbackUniversalRedirectUri=void 0,H9e(),this.onDisconnect())}async promptConnection(){if(this.provider)return new Promise((e,r)=>{this.onQrModalClosed=()=>{r(new see)},(async()=>{var s,o,a,l,c;let n="",i=await Promise.race([(s=this.walletProvider)==null?void 0:s.enable(),this.proxyProvider.walletTimeout()]);if(i!=null&&i.length&&(n=i[0]),!n||n==="")throw new Ur("Unable to retrieve address");if((a=(o=this.walletProvider)==null?void 0:o.session)!=null&&a.peer.metadata.url){let u=KE((c=(l=this.walletProvider)==null?void 0:l.session)==null?void 0:c.peer.metadata.url);this.walletEntry=u==null?void 0:u.entry,this.walletClientType=(u==null?void 0:u.walletClientType)||"unknown",this.proxyProvider.rpcTimeoutDuration=kT(this.rpcConfig,this.walletClientType)}this.connected=!0,await this.syncAccounts(i),e()})().catch(n=>{r(n?up(n):new Ur("Unknown error during connection"))}).finally(()=>{var n;return(n=this.modal)==null?void 0:n.closeModal()})})}disconnect(){var e;(e=this.walletProvider)==null||e.disconnect().then(()=>this.onDisconnect()).catch(()=>console.warn("Unable to disconnect Wallet Connect provider"))}get walletProvider(){return this.proxyProvider.walletProvider}setWalletProvider(e){this.proxyProvider.setWalletProvider(e)}async createProvider(){let e={};for(let s of this.chains){let o=F9e(s.id,this.chains,this.rpcConfig,this.privyAppId);o&&(e[s.id]=o)}let r=this.shouldEnforceDefaultChainOnConnect?[this.defaultChain.id]:[],n=this.chains.map(s=>s.id),i=await mXe.init({projectId:this.walletConnectCloudProjectId,chains:r,optionalChains:n,optionalEvents:Gie,optionalMethods:Vie,rpcMap:e,showQrModal:!1,metadata:{description:this.privyAppName,name:this.privyAppName,url:window.location.toString(),icons:[]}});return i.on("display_uri",s=>{var o,a;if(i.signer.abortPairingAttempt(),this.walletEntry){let{redirect:l,href:c}=W9e(s,this.walletEntry);q9e({href:c,name:this.walletEntry.displayName}),this.redirectUri=l;let u=z9e(s,this.walletEntry);u!=null&&u.redirect&&(this.fallbackUniversalRedirectUri=u.redirect),bi&&VJ(l,"_self"),(o=this.showPrivyQrModal)==null||o.call(this,{native:l,universal:this.fallbackUniversalRedirectUri})}else(a=this.modal)==null||a.openModal({uri:s,chains:[this.defaultChain.id]})}),i.on("connect",()=>{var s,o,a;if((s=this.modal)==null||s.closeModal(),(o=i.session)==null?void 0:o.peer.metadata.url){let l=KE((a=i.session)==null?void 0:a.peer.metadata.url);this.walletEntry=l==null?void 0:l.entry,this.walletClientType=(l==null?void 0:l.walletClientType)||"unknown"}}),i}async enableProvider(){var e,r;return(e=this.walletProvider)!=null&&e.connected?Promise.resolve(this.walletProvider.accounts):await((r=this.walletProvider)==null?void 0:r.enable())}setWalletEntry(e,r){this.walletEntry=e,this.showPrivyQrModal=r}constructor(e,r,n,i,s,o,a,l){super(l||"unknown",n,i,r),this.connectorType="wallet_connect_v2",this.privyAppId=o,this.privyAppName=a,this.walletConnectCloudProjectId=e,this.rpcConfig=r,this.shouldEnforceDefaultChainOnConnect=s,this.proxyProvider=new is(void 0,this.rpcTimeoutDuration),l&&(this.walletEntry=TA[l],this.walletClientType=l)}};var $Xe=(t,e)=>{let r=C.useRef(()=>{});C.useEffect(()=>{r.current=t}),C.useEffect(()=>{if(e!==null){let n=setInterval(()=>r.current(),e||0);return()=>clearInterval(n)}},[e])};function IXe(){let[t,e]=C.useState(!1),r=C.useCallback(()=>{document.hidden&&e(!0)},[]);return C.useEffect(()=>(document.addEventListener("visibilitychange",r),()=>document.removeEventListener("visibilitychange",r)),[r]),{hasTabbedAway:t,reset:()=>e(!1)}}const Jie=t=>(t==null?void 0:t.privyErrorCode)===ue.LINKED_TO_ANOTHER_USER?Sd.ERROR_USER_EXISTS:t instanceof Ka&&!t.details.default?t.details:t instanceof iee?Sd.ERROR_TIMED_OUT:t instanceof see?Sd.ERROR_USER_REJECTED_CONNECTION:(t==null?void 0:t.privyErrorCode)===ue.CANNOT_LINK_MORE_OF_TYPE?Sd.ERROR_USER_LIMIT_REACHED:Sd.ERROR_WALLET_CONNECTION,kXe=()=>{var de,ye,Ne,je,Qe,xe,he,ht,De,we,_e;let t,[e,r]=C.useState(!1),[n,i]=C.useState(!1),[s,o]=C.useState(void 0),{authenticated:a,logout:l}=zt(),{app:c,navigate:u,navigateBack:f,lastScreen:h,currentScreen:p,setModalData:g,data:m}=qe(),{getAuthFlow:w,walletConnectionStatus:y,closePrivyModal:E,initLoginWithWallet:v,loginWithWallet:b,updateWallets:$,createAnalyticsEvent:P}=Ye(),{walletConnectors:O}=zt(),[D,B]=C.useState(0),{user:H}=zt(),[q]=C.useState((H==null?void 0:H.linkedAccounts.length)||0),[Y,R]=C.useState(""),[_,x]=C.useState(""),[A,T]=C.useState(!1),{hasTabbedAway:I}=IXe(),{enabled:N,token:M}=eo(),U=bi&&((de=y==null?void 0:y.connector)==null?void 0:de.connectorType)==="wallet_connect_v2"||bi&&((ye=y==null?void 0:y.connector)==null?void 0:ye.connectorType)==="coinbase_wallet"||bi&&((Ne=y==null?void 0:y.connector)==null?void 0:Ne.connectorType)==="injected"&&((je=y==null?void 0:y.connector)==null?void 0:je.walletClientType)==="phantom",S=(y==null?void 0:y.status)==="connected",F=(y==null?void 0:y.status)==="switching_to_supported_chain";C.useEffect(()=>{var Te;let Me=w(),ke=Me instanceof I5||Me instanceof MA?Me:void 0;S&&!ke&&(!N||M||a?v(y.connectedWallet,M,(Te=m==null?void 0:m.login)==null?void 0:Te.disableSignup).then(()=>{T(!0)}):(g({captchaModalData:{callback:Ue=>{var Be;return v(y.connectedWallet,Ue,(Be=m==null?void 0:m.login)==null?void 0:Be.disableSignup).then(()=>{T(!0)})},userIntentRequired:!1,onSuccessNavigateTo:se.AWAITING_CONNECTION,onErrorNavigateTo:se.ERROR_SCREEN}}),u(se.CAPTCHA_SCREEN,!1))),ke&&U&&S&&!ke.preparedMessage?ke.buildMessage():ke&&!U&&S&&(n||(async()=>{var Ue,Be;i(!0),o(void 0);try{((Ue=y==null?void 0:y.connector)==null?void 0:Ue.connectorType)==="wallet_connect_v2"&&((Be=y==null?void 0:y.connector)==null?void 0:Be.walletClientType)==="metamask"&&await BJ(2500),await k()}catch(Z){console.warn("Auto-prompted signature failed",Z)}finally{i(!1)}})())},[D,S,A]),C.useEffect(()=>{var Me;if(H&&e){let ke=zr-500;if(c!=null&&c.legal.requireUsersAcceptTerms&&!H.hasAcceptedTerms){let Ue=setTimeout(()=>{u(se.AFFIRMATIVE_CONSENT_SCREEN)},ke);return()=>clearTimeout(Ue)}if(Pu(H,(Me=c==null?void 0:c.embeddedWallets)==null?void 0:Me.createOnLogin)){let Ue=setTimeout(()=>{g({createWallet:{onSuccess:()=>{},onFailure:Be=>{console.error(Be),P({eventName:"embedded_wallet_creation_failure_logout",payload:{error:Be,screen:"ConnectionStatusScreen"}}),l()},callAuthOnSuccessOnClose:!0}}),u(se.EMBEDDED_WALLET_ON_ACCOUNT_CREATE_SCREEN)},ke);return()=>clearTimeout(Ue)}$();let Te=setTimeout(()=>E({shouldCallAuthOnSuccess:!0,isSuccess:!0}),zr);return()=>clearTimeout(Te)}},[H,e]);let Q=Me=>{var ke,Te,Ue,Be,Z,j,L,X,ae,fe,ge,Ie,Se,Ve;if((Me==null?void 0:Me.privyErrorCode)!==ue.ALLOWLIST_REJECTED){if((Me==null?void 0:Me.privyErrorCode)===ue.USER_LIMIT_REACHED)return console.error(new hw(Me).toString()),void u(se.USER_LIMIT_REACHED_SCREEN);if((Me==null?void 0:Me.privyErrorCode)!==ue.USER_DOES_NOT_EXIST)return(Me==null?void 0:Me.privyErrorCode)===ue.ACCOUNT_TRANSFER_REQUIRED&&((Te=(ke=Me.data)==null?void 0:ke.data)!=null&&Te.nonce)?(g({accountTransfer:{nonce:(Be=(Ue=Me.data)==null?void 0:Ue.data)==null?void 0:Be.nonce,account:(Z=w())==null?void 0:Z.meta.address,displayName:(X=(L=(j=Me.data)==null?void 0:j.data)==null?void 0:L.account)==null?void 0:X.displayName,externalWalletMetadata:{walletClientType:(ae=w())==null?void 0:ae.meta.walletClientType,chainId:(fe=w())==null?void 0:fe.meta.chainId,connectorType:(ge=w())==null?void 0:ge.meta.connectorType},linkMethod:"siwe",embeddedWalletAddress:(Ve=(Se=(Ie=Me.data)==null?void 0:Ie.data)==null?void 0:Se.otherUser)==null?void 0:Ve.embeddedWalletAddress}}),void u(se.LINK_CONFLICT_SCREEN)):void o(Jie(Me));u(se.ACCOUNT_NOT_FOUND_SCREEN)}else u(se.ALLOWLIST_REJECTION_SCREEN)};async function k(){try{await b(),r(!0)}catch(Me){Q(Me)}finally{i(!1)}}C.useEffect(()=>{y!=null&&y.connectError&&Q(y==null?void 0:y.connectError)},[y]),$Xe(()=>{let Me=W==="wallet_connect_v2"&&(y==null?void 0:y.connector)instanceof G0?y.connector.redirectUri:void 0;Me&&R(Me);let ke=W==="wallet_connect_v2"&&(y==null?void 0:y.connector)instanceof G0?y.connector.fallbackUniversalRedirectUri:void 0;ke&&x(ke)},(y==null?void 0:y.connector)instanceof G0&&!Y?500:null);let W=((Qe=y==null?void 0:y.connector)==null?void 0:Qe.connectorType)||"injected",V=((xe=y==null?void 0:y.connector)==null?void 0:xe.walletClientType)||"unknown",ee=((he=ic[V])==null?void 0:he.displayName)||((ht=y==null?void 0:y.connector)==null?void 0:ht.walletBranding.name)||"Browser Extension",te=((De=ic[V])==null?void 0:De.logo)||((we=y==null?void 0:y.connector)==null?void 0:we.walletBranding.icon)||(Me=>d.jsx(ZT,{...Me})),ce=ee==="Browser Extension"?ee.toLowerCase():ee;t=e?`Successfully connected with ${ce}`:s?s.message:F?"Switching networks":S?n&&U?"Signing":"Sign to verify":`Waiting for ${ce}`;let K="Dont see your wallet? Check your other browser windows.";e?K=q===((H==null?void 0:H.linkedAccounts.length)||0)?"Wallet was already linked.":"Youre good to go!":D>=2&&s?K="Unable to connect wallet":s?K=s.detail:F?K="Switch your wallet to the requested network.":S&&U?K="Sign the message in your wallet to verify it belongs to you.":V==="metamask"&&bi?K="Click continue to open and connect MetaMask.":V==="metamask"?K="For the best experience, connect only one wallet at a time.":W==="wallet_connect"?K="Open your mobile wallet app to continue":W!=="coinbase_wallet"||LJ()||(K=PL(H)?"Continue with the Coinbase app. Not the right wallet? Reset your connection below.":"Open the Coinbase app on your phone to continue.");let G=(_e=O==null?void 0:O.walletConnectors)==null?void 0:_e.find(Me=>Me.walletClientType==="coinbase_wallet"),pe=V==="coinbase_wallet"&&(PL(H)||s===Sd.ERROR_USER_EXISTS);return d.jsxs(d.Fragment,{children:[d.jsx(ze,{backFn:h&&p!==h?f:void 0}),d.jsxs(TXe,{children:[d.jsx(Qie,{walletLogo:te,success:e,fail:!!s}),d.jsxs(Io,{children:[d.jsx("h3",{children:t}),d.jsx("p",{children:K}),S||!Y||I?null:d.jsxs("p",{children:["Still here?"," ",d.jsx("a",{href:Y,target:"_blank",style:{textDecoration:"underline"},children:"Try connecting again"}),_&&d.jsxs(d.Fragment,{children:[" ","or"," ",d.jsx("a",{href:_,target:"_blank",style:{textDecoration:"underline"},children:"use this different link"})]})]})]}),pe?d.jsx(at,{onClick:()=>G&&(G==null?void 0:G.disconnect()),disabled:e,children:"Use a different wallet"}):s==Sd.ERROR_USER_EXISTS&&p!==h?d.jsx(at,{onClick:f,children:"Use a different wallet"}):S&&!e&&U?d.jsx(at,{onClick:()=>{i(!0),k()},disabled:n,children:n?"Signing":"Sign with your wallet"}):!e&&(s!=null&&s.retryable)&&D<2?d.jsx(at,{onClick:()=>{B(D+1),o(void 0),S?(i(!0),k()):y==null||y.connectRetry()},disabled:!e&&(!(s!=null&&s.retryable)||D>=2),children:"Retry"}):e||s?null:d.jsx(at,{onClick:()=>{},disabled:!0,children:"Connecting"})]}),d.jsx(Bt,{})]})};let TXe=ne.div.withConfig({displayName:"ConnectContainer",componentId:"sc-afad057-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;"]),NXe=ne.div.withConfig({displayName:"StackedContainer",componentId:"sc-afad057-1"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > span{position:absolute;left:-41px;top:-41px;}> div > :last-child{position:absolute;left:-19px;top:-19px;}"]);const Qie=t=>{let e=t.walletLogo;return d.jsx(d.Fragment,{children:d.jsx(NXe,{children:d.jsxs("div",{children:[d.jsx(sl,{success:t.success,fail:t.fail}),typeof e=="string"?d.jsx("span",{style:{background:`url('${e}')`,height:"38px",width:"38px",borderRadius:"6px",margin:"auto",backgroundSize:"cover"}}):d.jsx(e,{style:{width:"38px",height:"38px"}})]})})})},PXe=()=>{var $,P,O,D,B,H;let t,{navigateBack:e,navigate:r,lastScreen:n,currentScreen:i,data:s,setModalData:o}=qe(),{walletConnectionStatus:a,closePrivyModal:l}=Ye(),[c,u]=C.useState(void 0),[f,h]=C.useState(0),p=(a==null?void 0:a.status)==="connected",g=(a==null?void 0:a.status)==="switching_to_supported_chain";C.useEffect(()=>{var q,Y;if(p){let R;if((q=s==null?void 0:s.externalConnectWallet)!=null&&q.onCompleteNavigateTo){let _=s.externalConnectWallet.onCompleteNavigateTo,x=(Y=a.connectedWallet)==null?void 0:Y.address;R=setTimeout(()=>{var A;s.funding&&o({...s,funding:{...s.funding,connectedWalletAddress:x}}),r(_({walletChainType:(A=a.connector)==null?void 0:A.chainType}))},zr)}else R=setTimeout(l,zr);return()=>clearTimeout(R)}},[p]),C.useEffect(()=>{var q;a!=null&&a.connectError&&(q=a==null?void 0:a.connectError,u(Jie(q)))},[a]);let m=(($=a==null?void 0:a.connector)==null?void 0:$.connectorType)||"injected",w=((P=a==null?void 0:a.connector)==null?void 0:P.walletClientType)||"unknown",y=((O=ic[w])==null?void 0:O.displayName)||((D=a==null?void 0:a.connector)==null?void 0:D.walletBranding.name)||"Browser Extension",E=((B=ic[w])==null?void 0:B.logo)||((H=a==null?void 0:a.connector)==null?void 0:H.walletBranding.icon)||(q=>d.jsx(ZT,{...q})),v=y==="Browser Extension"?y.toLowerCase():y;t=p?`Successfully connected with ${v}`:c?c.message:g?"Switching networks":`Waiting for ${v}`;let b="Dont see your wallet? Check your other browser windows.";return p?b="Youre good to go!":f>=2&&c?b="Unable to connect wallet":c?b=c.detail:g?b="Switch your wallet to the requested network.":w==="metamask"&&bi?b="Click to continue to open and connect MetaMask.":w==="metamask"?b="For the best experience, connect only one wallet at a time.":m==="wallet_connect_v2"?b="Open your mobile wallet app to continue":m==="coinbase_wallet"&&(b="Open the Coinbase app on your phone to continue."),d.jsxs(d.Fragment,{children:[d.jsx(ze,{backFn:i===n?void 0:e}),d.jsxs(RXe,{children:[d.jsx(Qie,{walletLogo:E,success:p,fail:!!c}),d.jsxs(Io,{children:[d.jsx("h3",{children:t}),d.jsx("p",{children:b})]}),c==Sd.ERROR_USER_EXISTS?d.jsx(at,{onClick:e,children:"Use a different wallet"}):!p&&(c!=null&&c.retryable)&&f<2?d.jsx(at,{onClick:()=>{h(f+1),u(void 0),a==null||a.connectRetry()},disabled:!p&&(!(c!=null&&c.retryable)||f>=2),children:"Retry"}):!p&&c&&f>=2?d.jsx(at,{onClick:e,children:"Use a different wallet"}):null]}),d.jsx(Bt,{})]})};let RXe=ne.div.withConfig({displayName:"ConnectContainer",componentId:"sc-1346f57-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;"]);const Xie=({name:t,logoUrl:e,size:r="38px"})=>typeof e=="string"?d.jsx("img",{src:e,alt:`${t??"Provider app"} logo`,style:{width:r,height:r,maxHeight:"90px",maxWidth:"180px",borderRadius:"8px"}}):d.jsx("span",{});function OXe(t){let{logout:e}=C.useContext(hg);return FT("logout",t),{logout:e}}const jXe=()=>{let t=$n(),{data:e,navigate:r,setModalData:n,onUserCloseViaDialogOrKeybindRef:i}=qe(),{crossAppAuthFlow:s,updateWallets:o,closePrivyModal:a,createAnalyticsEvent:l}=Ye(),{logout:c}=OXe(),[u,f]=C.useState({}),h=e==null?void 0:e.crossAppAuth,p={id:h.appId,name:h.name,logoUrl:h.logoUrl},g=new le(`There was an issue connecting your ${p.name} account. Please try again.`),m=new Vi(async v=>{if(h.popup)try{let b=await s({appId:v,popup:h.popup,action:h.action});f({data:b})}catch(b){b instanceof le?f({error:b}):(b instanceof Qo&&h.popup&&h.popup.close(),f({error:g}))}else f({error:g})}),w=()=>{u.data&&(o(),h.onSuccess(u.data),a({shouldCallAuthOnSuccess:!0,isSuccess:!0})),h.onError(u.error??new le("User canceled flow")),a({shouldCallAuthOnSuccess:!1,isSuccess:!1})};i.current=w,C.useEffect(()=>{p.id.length&&m.execute(p.id)},[p.id]),C.useEffect(()=>{var $;if(!u.data)return;let v=u.data;if(t.legal.requireUsersAcceptTerms&&!v.hasAcceptedTerms){let P=setTimeout(()=>{r(se.AFFIRMATIVE_CONSENT_SCREEN)},zr);return()=>clearTimeout(P)}if(Pu(v,($=t.embeddedWallets)==null?void 0:$.createOnLogin)){let P=setTimeout(()=>{n({createWallet:{onSuccess:()=>{},onFailure:O=>{console.error(O),l({eventName:"embedded_wallet_creation_failure_logout",payload:{error:O,provider:`privy:${p.id}`,screen:"CrossAppAuthScreen"}}),c()},callAuthOnSuccessOnClose:!0}}),r(se.EMBEDDED_WALLET_ON_ACCOUNT_CREATE_SCREEN)},zr);return()=>clearTimeout(P)}let b=setTimeout(w,zr);return()=>clearTimeout(b)},[u.data]);let{title:y,subtitle:E}=C.useMemo(()=>u.data?{title:`Successfully connected with ${p.name}`,subtitle:"You're good to go!"}:u.error?{title:"Authentication failed",subtitle:u.error.message}:{title:`Connecting to ${p.name}`,subtitle:`Please check the pop-up from ${p.name} to continue`},[u,p.name]);return d.jsxs(d.Fragment,{children:[d.jsx(ze,{onClose:w}),d.jsx(wr,{}),d.jsxs(MXe,{children:[d.jsx(Ys,{children:d.jsxs("div",{children:[d.jsx(sl,{success:!!u.data,fail:!!u.error}),d.jsx(Xie,{name:p.name,logoUrl:p.logoUrl})]})}),d.jsxs(Io,{children:[d.jsx("h3",{children:y}),d.jsx("p",{children:E})]})]}),d.jsx(vr,{}),d.jsx(Bt,{})]})};let MXe=ne.div.withConfig({displayName:"ConnectContainer",componentId:"sc-2ae0702a-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:27px;margin-right:27px;gap:24px;"]);function DXe({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const hl=C.forwardRef(DXe);function LXe({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"}))}const FXe=C.forwardRef(LXe),BXe=ne.div.withConfig({displayName:"Column",componentId:"sc-cfc52180-0"})(["display:flex;flex-direction:column;"]),Fu=ne.span.withConfig({displayName:"ErrorMessage",componentId:"sc-fcb8cd50-0"})(["text-align:left;font-size:0.75rem;font-weight:500;line-height:1.125rem;color:var(--privy-color-error);"]),UXe=ne.span.withConfig({displayName:"LabelXs",componentId:"sc-4c43f9fd-0"})(["color:var(--privy-color-foreground-3);font-size:0.75rem;font-weight:500;line-height:1.125rem;"]),ese=ai(["&&{border-width:1px;padding:0.5rem 1rem;}width:100%;text-align:left;border:solid 1px var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);display:flex;justify-content:space-between;align-items:center;",""],t=>t.$state==="error"?"border-color: var(--privy-color-error);":""),FN=ne.div.withConfig({displayName:"Box",componentId:"sc-1660059c-0"})(["",""],ese),G8=({errMsg:t,balance:e,address:r,isLoading:n,className:i,title:s,isPulsing:o,showIcon:a,statusColor:l="green"})=>{let c;return c=l||(t?"red":"green"),d.jsxs(d.Fragment,{children:[d.jsxs(FN,{className:i,$state:t?"error":void 0,children:[d.jsxs(BXe,{children:[d.jsx(UXe,{children:s||"Pay with"}),d.jsx(ii,{address:r,showCopyIcon:a||!!t})]}),e!==void 0&&d.jsx(ll,{isLoading:n,isPulsing:o,color:c,children:e})]}),t&&d.jsx(Fu,{style:{marginTop:"0.25rem"},children:t})]})},WXe=()=>{let{app:t,data:e}=qe(),{closePrivyModal:r}=Ye(),[n,i]=C.useState(!1),[s,o]=C.useState(),{address:a,onDelegate:l,onSuccess:c,onError:u}=e.delegatedActions.consent,f=async()=>{n?c():u(s??new le("User declined delegating actions.")),r({shouldCallAuthOnSuccess:!1})};return C.useEffect(()=>{if(!n&&!s)return;let h=setTimeout(f,iT);return()=>clearTimeout(h)},[n,s]),d.jsxs(d.Fragment,n||s?{children:[d.jsx(ze,{onClose:f}),d.jsx(wr,{}),d.jsxs(VT,{children:[s?d.jsx(b8,{stroke:"var(--privy-color-error)",width:"64px",height:"64px"}):d.jsx(hl,{stroke:"var(--privy-color-success)",width:"64px",height:"64px"}),d.jsx(KT,{height:20}),d.jsx(Yr,{title:s?"Something went wrong":"Success!",description:s?"Please try again.":`Youve successfully granted delegated action permissions to ${t.name}.`})]}),d.jsx(vr,{}),d.jsx(ft,{})]}:{children:[d.jsx(ze,{closeable:!0,onClose:f}),d.jsx(FXe,{width:56,height:56,style:{margin:"auto"}}),d.jsx(Er,{style:{marginTop:24,color:"var(--privy-color-foreground)"},children:"Enable offline access"}),d.jsxs(_r,{style:{marginBottom:24,textWrap:"pretty"},children:["By confirming, ",t.name," will be able to use your wallet for you even when you're not around. You can revoke this later."]}),d.jsx(HXe,{showIcon:!0,address:a,title:"Wallet",isLoading:!1}),d.jsxs(zXe,{style:{marginTop:24},children:[d.jsx(Mu,{onClick:f,children:"Not now"}),d.jsx(at,{onClick:async()=>{try{await l(),i(!0)}catch(h){o(h)}},children:"Accept"})]}),d.jsx(ft,{})]})};let zXe=ne.div.withConfig({displayName:"ButtonsContainer",componentId:"sc-b99bc0c0-0"})(["display:flex;gap:10px;"]),HXe=ne(G8).withConfig({displayName:"StyledWalletInfoCard",componentId:"sc-b99bc0c0-1"})(["margin-top:1.5rem;"]);function qXe({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.364 18.364A9 9 0 0 0 5.636 5.636m12.728 12.728A9 9 0 0 1 5.636 5.636m12.728 12.728L5.636 5.636"}))}const VXe=C.forwardRef(qXe),GXe=()=>{let{app:t,data:e}=qe(),{closePrivyModal:r}=Ye(),[n,i]=C.useState(!1),[s,o]=C.useState(),{onRevoke:a,onSuccess:l,onError:c}=e.delegatedActions.revoke,u=async()=>{n?l():c(s??new le("User declined revoking access to their delegated wallet.")),r({shouldCallAuthOnSuccess:!1})};return C.useEffect(()=>{if(!n&&!s)return;let f=setTimeout(u,iT);return()=>clearTimeout(f)},[n,s]),d.jsxs(d.Fragment,n||s?{children:[d.jsx(ze,{onClose:u}),d.jsx(wr,{}),d.jsxs(VT,{children:[s?d.jsx(b8,{stroke:"var(--privy-color-error)",width:"64px",height:"64px"}):d.jsx(hl,{stroke:"var(--privy-color-success)",width:"64px",height:"64px"}),d.jsx(KT,{height:20}),d.jsx(Yr,{title:s?"Something went wrong":"Success!",description:s?"Please try again.":"You've successfully revoked permissions."})]}),d.jsx(vr,{}),d.jsx(ft,{})]}:{children:[d.jsx(ze,{closeable:!0,onClose:u}),d.jsx(VXe,{width:56,height:56,style:{margin:"auto"}}),d.jsx(Er,{style:{marginTop:24},children:"Revoke offline access to wallet"}),d.jsxs(_r,{children:["By confirming, ",t.name," will no longer be able to use this wallet on your behalf when you are not online."]}),d.jsxs(KXe,{style:{marginTop:24},children:[d.jsx(Mu,{onClick:u,children:"Deny"}),d.jsx(at,{onClick:async()=>{try{await a(),i(!0)}catch(f){o(f)}},children:"Confirm"})]}),d.jsx(ft,{})]})};let KXe=ne.div.withConfig({displayName:"ButtonsContainer",componentId:"sc-8ff214d7-0"})(["display:flex;gap:10px;"]);const tse=()=>d.jsx(YXe,{children:d.jsxs(ZXe,{children:[d.jsx(JXe,{}),d.jsx(QXe,{})]})});let YXe=ne.div.withConfig({displayName:"LoadingContainer",componentId:"sc-85b54ede-0"})(["display:flex;justify-content:center;align-items:center;flex-grow:1;margin:12px;padding:16px;@media all and (display-mode:standalone){margin-bottom:30px;}"]),ZXe=ne.div.withConfig({displayName:"SpinnerContainer",componentId:"sc-85b54ede-1"})(["position:relative;height:140px;width:140px;opacity:1;animation:fadein 200ms ease;"]),JXe=ne.div.withConfig({displayName:"CircleFixed",componentId:"sc-85b54ede-2"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:140px;height:140px;&&{border:4px solid var(--privy-color-accent-light);border-radius:50%;}"]),QXe=ne.div.withConfig({displayName:"CircleRotate",componentId:"sc-85b54ede-3"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:140px;height:140px;animation:spin 1200ms linear infinite;&&{border:4px solid;border-color:var(--privy-color-accent) transparent transparent transparent;border-radius:50%;}@keyframes spin{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}"]);const XXe=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","missing_or_invalid_mfa","mfa_verification_max_attempts_reached","mfa_timeout","twilio_verification_failed"];let on=class extends Error{constructor(e,r){super(r),this.type=e}};function bg(t){let e=t.type;return typeof e=="string"&&XXe.includes(e)}function h6(t){return bg(t)&&t.type==="wallet_not_on_device"}function eet(t){return bg(t)&&(t.type==="invalid_recovery_pin"||t.type==="invalid_request_arguments")}function BN(t){return!!bg(t)&&t.type==="mfa_timeout"}function UN(t){return!!bg(t)&&t.type==="missing_or_invalid_mfa"}function tet(t){return!!bg(t)&&t.type==="mfa_verification_max_attempts_reached"}function rse(t){return!(!bg(t)||!t.message.includes("code 429"))}function nse(t){return!!function(e){let r=e.type;return typeof r=="string"&&r==="client_error"}(t)&&t.message==="MFA canceled"}function K8(){return f5(OA(36))}function WN(){return K8()}async function zN(t,e="S256"){if(e!="S256")return t;{let r=await t7e(t);return f5(r)}}function ret(){let t=lt.get(wm);if(!t)throw new le("Authentication error.");return t}function ise({isCreatingWallet:t,skipSplashScreen:e}){return t?se.EMBEDDED_WALLET_PASSWORD_CREATE_SCREEN:e?se.EMBEDDED_WALLET_PASSWORD_UPDATE_SCREEN:se.EMBEDDED_WALLET_PASSWORD_UPDATE_SPLASH_SCREEN}function sse({walletAction:t,availableRecoveryMethods:e,legacySetWalletPasswordFlow:r,isResettingPassword:n,showAutomaticRecovery:i}){return i?se.EMBEDDED_WALLET_SET_AUTOMATIC_RECOVERY_SCREEN:r||e.length===1?ise({isCreatingWallet:t==="create",skipSplashScreen:n}):se.EMBEDDED_WALLET_RECOVERY_SELECTION_SCREEN}function ose(t){switch(t){case"user-passcode":return se.EMBEDDED_WALLET_PASSWORD_RECOVERY_SCREEN;case"google-drive":case"icloud":return se.EMBEDDED_WALLET_RECOVERY_OAUTH_SCREEN;default:throw Error("Recovery method not supported")}}async function JU({api:t,provider:e}){let r=K8(),n=WN(),i=await zN(r);try{return e==="icloud"?{url:(await t.post(c9e,{client_type:"web"})).url}:{url:(await t.post(l9e,{redirect_to:window.location.href,code_challenge:i,state_code:n})).url,codeVerifier:r,stateCode:n,provider:e}}catch(s){throw Xt(s)}}async function net({api:t,provider:e,stateCode:r,codeVerifier:n,authorizationCode:i}){if(!i||!r)throw new le("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenicate.");if(i==="undefined")throw new le("User denied confirmation during OAuth flow");try{return(await t.post(u9e,{authorization_code:i,state_code:r,code_verifier:n,provider:e})).access_token}catch(s){let o=Xt(s);throw o.privyErrorCode?new le(o.message||"Invalid code during OAuth flow.",void 0,o.privyErrorCode):o.message==="User denied confirmation during OAuth flow"?new le("Invalid code during oauth flow.",void 0,ue.OAUTH_USER_DENIED):new le("Invalid code during OAuth flow.",void 0,ue.UNKNOWN_AUTH_ERROR)}}const iet=()=>{let{authenticated:t,user:e,getAccessToken:r}=zt(),{closePrivyModal:n,createAnalyticsEvent:i,walletProxy:s}=Ye(),{navigate:o,data:a,setModalData:l,onUserCloseViaDialogOrKeybindRef:c}=qe(),u=C.useMemo(()=>Date.now(),[]),[f,h]=C.useState(!1),{onCompleteNavigateTo:p,onFailure:g,shouldForceMFA:m,entropyId:w,entropyIdVerifier:y}=a==null?void 0:a.connectWallet,E=b=>{f||(h(!0),g(typeof b=="string"?Error(b):b))};C.useEffect(()=>{let b,$=T5(e,w);return t&&$?s?((async()=>{let P=await r();if(!P)return E("User must be authenticated and have a Privy wallet before it can be connected");try{await s.connect({accessToken:P,entropyId:w,entropyIdVerifier:y}),m&&await s.verifyMfa({accessToken:P});let O=(Date.now()-u)/1e3;p===se.EMBEDDED_WALLET_KEY_EXPORT_SCREEN&&O<1?b=setTimeout(()=>{o(p,!1)},1e3*(1-O)):o(p,!1)}catch(O){if(h6(O)&&$.recoveryMethod==="privy"){let D=await r();if(!D)return E("User must be authenticated and have a Privy wallet before it can be recovered");try{i({eventName:"embedded_wallet_pinless_recovery_started",payload:{walletAddress:$.address}});let B=await(s==null?void 0:s.recover({accessToken:D,entropyId:w,entropyIdVerifier:y}));B!=null&&B.entropyId||E(Error("Unable to recover wallet")),p?o(p):n({shouldCallAuthOnSuccess:!1}),i({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:$.address}}),o(p)}catch{E("An error has occurred, please try again.")}}else h6(O)&&$.recoveryMethod!=="privy"?(l({...a,recoverWallet:{entropyId:w,entropyIdVerifier:y,onCompleteNavigateTo:p,onFailure:g},recoveryOAuthStatus:{provider:$.recoveryMethod,action:"recover",isInAccountCreateFlow:!1}}),o(ose($.recoveryMethod))):E(O)}})(),()=>clearTimeout(b)):void 0:E("User must be authenticated and have a Privy wallet before it can be connected")},[t,e,s]);let v=()=>{E("User exited before wallet could be connected"),n({shouldCallAuthOnSuccess:!1})};return c.current=v,d.jsxs(d.Fragment,{children:[d.jsx(ze,{onClose:v}),f?d.jsxs(d.Fragment,{children:[d.jsxs(Ju,{children:[d.jsx(_8,{fill:"var(--privy-color-error)",width:"64px",height:"64px"}),d.jsx(Yr,{title:"Something went wrong",description:"Were on it. Please try again later."})]}),d.jsx(at,{onClick:()=>n({shouldCallAuthOnSuccess:!1}),children:"Close"})]}):d.jsx(tse,{}),d.jsx(set,{})]})};let set=ne.div.withConfig({displayName:"BottomSpacing",componentId:"sc-124dbb1c-0"})(["height:44px;"]);const oet=()=>{let{user:t}=zt(),{closePrivyModal:e,isNewUserThisSession:r,updateWallets:n}=Ye(),{app:i,data:s,onUserCloseViaDialogOrKeybindRef:o}=qe(),{onSuccess:a,onFailure:l,callAuthOnSuccessOnClose:c}=s.createWallet,u=()=>{let f=ks(t);f?(n(),a(f)):l(Error("Failed to create wallet")),e({shouldCallAuthOnSuccess:c})};return C.useEffect(()=>{let f=setTimeout(u,iT);return()=>clearTimeout(f)},[]),o.current=u,d.jsxs(d.Fragment,{children:[d.jsx(ze,{onClose:u}),d.jsx(wr,{}),d.jsxs(Ju,{children:[d.jsx(Uh,{fill:"var(--privy-color-accent)",width:"64px",height:"64px"}),d.jsx(Yr,{title:r?"Welcome"+(i!=null&&i.name?` to ${i==null?void 0:i.name}`:""):"All set!",description:r?"Youve successfully created an account.":"Your account is secured."})]}),d.jsx(vr,{}),d.jsx(ft,{})]})},aet=({children:t,theme:e})=>d.jsxs(cet,{$theme:e,children:[d.jsx(Zu,{width:"1.25rem",color:e==="dark"?"#FDE68A":"var(--privy-color-warn)"}),t]});let cet=ne.div.withConfig({displayName:"Container",componentId:"sc-97f152b3-0"})(["display:flex;gap:0.5rem;background-color:",";"," align-items:flex-start;text-align:left;padding:0.5rem 0.75rem;font-size:0.8125rem;font-weight:400;line-height:1.125rem;padding:0.75rem;&&{border-radius:var(--privy-border-radius-sm);}"],t=>t.$theme==="dark"?"var(--privy-color-background-2)":"var(--privy-color-warn-light)",t=>t.$theme==="dark"?"color: #FDE68A;":"");const _f=ne.span.withConfig({displayName:"Subtitle",componentId:"sc-7a11f796-0"})(["margin-top:4px;color:var(--privy-color-foreground);text-align:center;font-size:0.875rem;font-weight:400;line-height:1.375rem;&& a{color:var(--privy-color-accent);}"]),Bu=ne.span.withConfig({displayName:"Title",componentId:"sc-66de63c-0"})(["color:var(--privy-color-foreground);font-size:1.125rem;font-weight:600;line-height:1.875rem;text-align:center;"]),uet=()=>{let[t,e]=C.useState(null),{authenticated:r,user:n,getAccessToken:i}=zt(),{closePrivyModal:s,createAnalyticsEvent:o,clientAnalyticsId:a}=Ye(),l=$n(),{data:c,onUserCloseViaDialogOrKeybindRef:u}=qe(),{onFailure:f,onSuccess:h,origin:p,appId:g,appClientId:m,walletToExport:w,primaryWallet:y}=c.keyExport,E=b=>{s({shouldCallAuthOnSuccess:!1}),f(typeof b=="string"?Error(b):b)},v=()=>{s({shouldCallAuthOnSuccess:!1}),h(),o({eventName:"embedded_wallet_key_export_completed",payload:{walletAddress:w.address}})};return C.useEffect(()=>{if(!r||!w)return E("User must be authenticated before exporting their wallet");i().then(e,E)},[r,n]),u.current=v,d.jsxs(d.Fragment,{children:[d.jsx(ze,{onClose:v}),d.jsxs(fet,{children:[d.jsx(Bu,{children:"Transfer wallet"}),d.jsxs(_f,{children:["Either copy your private key or seed phrase to transfer your wallet."," ",d.jsx("a",{href:"https://privy-io.notion.site/Transferring-your-account-9dab9e16c6034a7ab1ff7fa479b02828",target:"blank",rel:"noopener noreferrer",children:"Learn more"})]}),d.jsx(aet,{theme:l.appearance.palette.colorScheme,children:"Never share your private key or seed phrase with anyone."}),d.jsx(G8,{isLoading:!1,isPulsing:!1,title:"Your wallet",address:w.address,showIcon:!0}),d.jsx("div",{style:{width:"100%"},children:t&&d.jsx(det,{origin:p,appId:g,appClientId:m,accessToken:t,clientAnalyticsId:a,walletToExport:w,primaryWallet:y,dimensions:{height:"44px"}})})]}),d.jsx(ft,{})]})};function det(t){let[e,r]=C.useState(t.dimensions.width),[n,i]=C.useState(void 0),s=C.useRef(null);C.useEffect(()=>{if(s.current&&e===void 0){let{width:l}=s.current.getBoundingClientRect();r(l)}let a=getComputedStyle(document.documentElement);i({background:a.getPropertyValue("--privy-color-background"),background2:a.getPropertyValue("--privy-color-background-2"),foreground3:a.getPropertyValue("--privy-color-foreground-3"),foregroundAccent:a.getPropertyValue("--privy-color-foreground-accent"),accent:a.getPropertyValue("--privy-color-accent"),accentDark:a.getPropertyValue("--privy-color-accent-dark"),success:a.getPropertyValue("--privy-color-success")})},[]);let o=t.walletToExport.chainType==="ethereum"&&!t.walletToExport.imported;return d.jsx("div",{ref:s,children:e&&d.jsxs(het,{children:[d.jsx("iframe",{style:{position:"absolute",zIndex:1},width:e,height:t.dimensions.height,allow:"clipboard-write self *",src:UJ(t.origin,`/apps/${t.appId}/embedded-wallets/export`,{client_id:t.appClientId,primaryAddress:t.primaryWallet.address,address:t.walletToExport.address,walletIndex:t.walletToExport.walletIndex,width:`${e}px`,caid:t.clientAnalyticsId,phrase_export:o,...n},{token:t.accessToken})}),d.jsx(QU,{children:"Loading..."}),o&&d.jsx(QU,{children:"Loading..."})]})})}let fet=ne.div.withConfig({displayName:"EmbeddedWalletScreenContainer",componentId:"sc-eaab13a9-0"})(["display:flex;flex-direction:column;gap:1.25rem;text-align:left;"]),het=ne.div.withConfig({displayName:"ButtonContainer",componentId:"sc-eaab13a9-1"})(["overflow:visible;position:relative;overflow:none;height:44px;display:flex;gap:12px;"]),QU=ne.div.withConfig({displayName:"LoadingButton",componentId:"sc-eaab13a9-2"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:16px;font-weight:500;border-radius:var(--privy-border-radius-md);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);"]);function ase(){let{getAccessToken:t}=zt(),{refreshUser:e,createAnalyticsEvent:r,initializeWalletProxy:n}=Ye(),i=C.useRef(!1);return{createWallet:C.useCallback(async({user:s,recoveryPassword:o})=>{let a=await t();if(!a)throw r({eventName:"embedded_wallet_creation_failed",payload:{error:"Missing access token for user."}}),Error("An error has occured, please login again.");try{r({eventName:"embedded_wallet_creation_started"});let l=await n(sT);if(!l)throw Error("walletProxy does not exist.");let c=new Promise((p,g)=>{setTimeout(()=>{g(Error("walletProxy.create timed out."))},2e4)}),u=Ul(s);if(!await Promise.race([l.create({accessToken:a,recoveryPassword:o,recoveryMethod:o?"user-passcode":void 0,solanaAddress:u==null?void 0:u.address}),c]))throw Error("walletProxy.create did not send a response.");let f=await e();if(!f)throw Error("Failed to refresh user.");let h=ks(f);if(!h)throw Error("Updated user is missing embedded wallet.");return r({eventName:"embedded_wallet_creation_completed",payload:{walletAddress:h.address}}),i.current=!0,h}catch(l){if(i.current)return;throw r({eventName:"embedded_wallet_creation_failed",payload:{error:l.toString()}}),console.warn(l),l}},[])}}const pet=()=>{let{app:t,setModalData:e,navigate:r,data:n,onUserCloseViaDialogOrKeybindRef:i}=qe(),[s,o]=C.useState(""),{embeddedWallets:a}=$n(),{authenticated:l,user:c}=zt(),{closePrivyModal:u}=Ye(),{onSuccess:f,onFailure:h,callAuthOnSuccessOnClose:p}=n.createWallet,g=(t==null?void 0:t.embeddedWallets.requireUserOwnedRecoveryOnCreate)===!0,{createWallet:m}=ase(),[w,y]=C.useState(null),E=new Vi(async()=>{try{let v=await m({user:c});if(!v)return;y(v),r(se.EMBEDDED_WALLET_CREATED_SCREEN)}catch(v){o(v.message)}});return C.useEffect(()=>l&&c?g?(e({...n,recoverySelection:{...n==null?void 0:n.recoverySelection,isInAccountCreateFlow:!0}}),r(sse({walletAction:"create",showAutomaticRecovery:!1,availableRecoveryMethods:a.userOwnedRecoveryOptions,legacySetWalletPasswordFlow:!1,isResettingPassword:!1}))):void E.execute():(r(se.LANDING),void h(Error("User must be authenticated before creating a Privy wallet"))),[g,l]),i.current=()=>null,s?d.jsxs(d.Fragment,{children:[d.jsx(ze,{closeable:!1}),d.jsxs(Ju,{children:[d.jsx(_8,{fill:"var(--privy-color-error)",width:"64px",height:"64px"}),d.jsx(Yr,{title:"Something went wrong",description:s})]}),d.jsx(at,{onClick:()=>{w?(f(w),u({shouldCallAuthOnSuccess:p})):(h(new Gd("User wallet creation failed")),u({shouldCallAuthOnSuccess:!1}))},children:"Close"}),d.jsx(get,{})]}):d.jsx(tse,{})};let get=ne.div.withConfig({displayName:"BottomSpacing",componentId:"sc-eabafbf4-0"})(["height:44px;"]);var met=function(e,r){return Math.round(r*Math.log(e)/Math.LN2)},yet=[{name:"lowercase",re:/[a-z]/,length:26},{name:"uppercase",re:/[A-Z]/,length:26},{name:"numbers",re:/[0-9]/,length:10},{name:"symbols",re:/[^a-zA-Z0-9]/,length:33}],wet=function(e){return function(r){return e.reduce(function(n,i){return n+(i.re.test(r)?i.length:0)},0)}},bet=wet(yet),vet=function(e){return e?met(bet(e),e.length):0},xet=vet;const Eet=wc(xet);function lse(t){return crypto.getRandomValues(new Uint8Array(t))}const _et=256,ey=65536;function Cet(){const[t]=lse(1);return t}function Aet(){const[t,e]=lse(2);return(t<<8)+e}function $et(t){if(typeof t!="number"||t<2||t>ey)throw new Error(`Invalid number: number must be at least two and at most ${ey}`);const e=t>256,r=e?ey:_et,n=e?Aet:Cet,i=t*Math.floor(r/t);for(;;){const s=n();if(s<i)return s%t}}function Iet(t,e,r){if(typeof r!="number"||r>ey)throw new Error(`Invalid argument: end must be a number less than or equal to ${ey}`);if(r-e<2)throw new Error("Invalid range: range must contain at least two values");const n=[];for(let i=0;i<t;i++)n[i]=e+$et(r-e);return n}function ket(t,e,r="-"){if(!Array.isArray(e)||e.length<2)throw new Error("Invalid argument: wordlist argument must be an array with length greater than or equal to 2");if(typeof r!="string")throw new Error("Invalid argument: sep argument must be a string");return Iet(t,0,e.length).reduce((n,i,s)=>{const o=e[i];return n+(s===0?o:r+o)},"")}const Tet=Object.freeze(["abacus","abdomen","abdominal","abide","abiding","ability","ablaze","able","abnormal","abrasion","abrasive","abreast","abridge","abroad","abruptly","absence","absentee","absently","absinthe","absolute","absolve","abstain","abstract","absurd","accent","acclaim","acclimate","accompany","account","accuracy","accurate","accustom","acetone","achiness","aching","acid","acorn","acquaint","acquire","acre","acrobat","acronym","acting","action","activate","activator","active","activism","activist","activity","actress","acts","acutely","acuteness","aeration","aerobics","aerosol","aerospace","afar","affair","affected","affecting","affection","affidavit","affiliate","affirm","affix","afflicted","affluent","afford","affront","aflame","afloat","aflutter","afoot","afraid","afterglow","afterlife","aftermath","aftermost","afternoon","aged","ageless","agency","agenda","agent","aggregate","aghast","agile","agility","aging","agnostic","agonize","agonizing","agony","agreeable","agreeably","agreed","agreeing","agreement","aground","ahead","ahoy","aide","aids","aim","ajar","alabaster","alarm","albatross","album","alfalfa","algebra","algorithm","alias","alibi","alienable","alienate","aliens","alike","alive","alkaline","alkalize","almanac","almighty","almost","aloe","aloft","aloha","alone","alongside","aloof","alphabet","alright","although","altitude","alto","aluminum","alumni","always","amaretto","amaze","amazingly","amber","ambiance","ambiguity","ambiguous","ambition","ambitious","ambulance","ambush","amendable","amendment","amends","amenity","amiable","amicably","amid","amigo","amino","amiss","ammonia","ammonium","amnesty","amniotic","among","amount","amperage","ample","amplifier","amplify","amply","amuck","amulet","amusable","amused","amusement","amuser","amusing","anaconda","anaerobic","anagram","anatomist","anatomy","anchor","anchovy","ancient","android","anemia","anemic","aneurism","anew","angelfish","angelic","anger","angled","angler","angles","angling","angrily","angriness","anguished","angular","animal","animate","animating","animation","animator","anime","animosity","ankle","annex","annotate","announcer","annoying","annually","annuity","anointer","another","answering","antacid","antarctic","anteater","antelope","antennae","anthem","anthill","anthology","antibody","antics","antidote","antihero","antiquely","antiques","antiquity","antirust","antitoxic","antitrust","antiviral","antivirus","antler","antonym","antsy","anvil","anybody","anyhow","anymore","anyone","anyplace","anything","anytime","anyway","anywhere","aorta","apache","apostle","appealing","appear","appease","appeasing","appendage","appendix","appetite","appetizer","applaud","applause","apple","appliance","applicant","applied","apply","appointee","appraisal","appraiser","apprehend","approach","approval","approve","apricot","april","apron","aptitude","aptly","aqua","aqueduct","arbitrary","arbitrate","ardently","area","arena","arguable","arguably","argue","arise","armadillo","armband","armchair","armed","armful","armhole","arming","armless","armoire","armored","armory","armrest","army","aroma","arose","around","arousal","arrange","array","arrest","arrival","arrive","arrogance","arrogant","arson","art","ascend","ascension","ascent","ascertain","ashamed","ashen","ashes","ashy","aside","askew","asleep","asparagus","aspect","aspirate","aspire","aspirin","astonish","astound","astride","astrology","astronaut","astronomy","astute","atlantic","atlas","atom","atonable","atop","atrium","atrocious","atrophy","attach","attain","attempt","attendant","attendee","attention","attentive","attest","attic","attire","attitude","attractor","attribute","atypical","auction","audacious","audacity","audible","audibly","audience","audio","audition","augmented","august","authentic","author","autism","autistic","autograph","automaker","automated","automatic","autopilot","available","avalanche","avatar","avenge","avenging","avenue","average","aversion","avert","aviation","aviator","avid","avoid","await","awaken","award","aware","awhile","awkward","awning","awoke","awry","axis","babble","babbling","babied","baboon","backache","backboard","backboned","backdrop","backed","backer","backfield","backfire","backhand","backing","backlands","backlash","backless","backlight","backlit","backlog","backpack","backpedal","backrest","backroom","backshift","backside","backslid","backspace","backspin","backstab","backstage","backtalk","backtrack","backup","backward","backwash","backwater","backyard","bacon","bacteria","bacterium","badass","badge","badland","badly","badness","baffle","baffling","bagel","bagful","baggage","bagged","baggie","bagginess","bagging","baggy","bagpipe","baguette","baked","bakery","bakeshop","baking","balance","balancing","balcony","balmy","balsamic","bamboo","banana","banish","banister","banjo","bankable","bankbook","banked","banker","banking","banknote","bankroll","banner","bannister","banshee","banter","barbecue","barbed","barbell","barber","barcode","barge","bargraph","barista","baritone","barley","barmaid","barman","barn","barometer","barrack","barracuda","barrel","barrette","barricade","barrier","barstool","bartender","barterer","bash","basically","basics","basil","basin","basis","basket","batboy","batch","bath","baton","bats","battalion","battered","battering","battery","batting","battle","bauble","bazooka","blabber","bladder","blade","blah","blame","blaming","blanching","blandness","blank","blaspheme","blasphemy","blast","blatancy","blatantly","blazer","blazing","bleach","bleak","bleep","blemish","blend","bless","blighted","blimp","bling","blinked","blinker","blinking","blinks","blip","blissful","blitz","blizzard","bloated","bloating","blob","blog","bloomers","blooming","blooper","blot","blouse","blubber","bluff","bluish","blunderer","blunt","blurb","blurred","blurry","blurt","blush","blustery","boaster","boastful","boasting","boat","bobbed","bobbing","bobble","bobcat","bobsled","bobtail","bodacious","body","bogged","boggle","bogus","boil","bok","bolster","bolt","bonanza","bonded","bonding","bondless","boned","bonehead","boneless","bonelike","boney","bonfire","bonnet","bonsai","bonus","bony","boogeyman","boogieman","book","boondocks","booted","booth","bootie","booting","bootlace","bootleg","boots","boozy","borax","boring","borough","borrower","borrowing","boss","botanical","botanist","botany","botch","both","bottle","bottling","bottom","bounce","bouncing","bouncy","bounding","boundless","bountiful","bovine","boxcar","boxer","boxing","boxlike","boxy","breach","breath","breeches","breeching","breeder","breeding","breeze","breezy","brethren","brewery","brewing","briar","bribe","brick","bride","bridged","brigade","bright","brilliant","brim","bring","brink","brisket","briskly","briskness","bristle","brittle","broadband","broadcast","broaden","broadly","broadness","broadside","broadways","broiler","broiling","broken","broker","bronchial","bronco","bronze","bronzing","brook","broom","brought","browbeat","brownnose","browse","browsing","bruising","brunch","brunette","brunt","brush","brussels","brute","brutishly","bubble","bubbling","bubbly","buccaneer","bucked","bucket","buckle","buckshot","buckskin","bucktooth","buckwheat","buddhism","buddhist","budding","buddy","budget","buffalo","buffed","buffer","buffing","buffoon","buggy","bulb","bulge","bulginess","bulgur","bulk","bulldog","bulldozer","bullfight","bullfrog","bullhorn","bullion","bullish","bullpen","bullring","bullseye","bullwhip","bully","bunch","bundle","bungee","bunion","bunkbed","bunkhouse","bunkmate","bunny","bunt","busboy","bush","busily","busload","bust","busybody","buzz","cabana","cabbage","cabbie","cabdriver","cable","caboose","cache","cackle","cacti","cactus","caddie","caddy","cadet","cadillac","cadmium","cage","cahoots","cake","calamari","calamity","calcium","calculate","calculus","caliber","calibrate","calm","caloric","calorie","calzone","camcorder","cameo","camera","camisole","camper","campfire","camping","campsite","campus","canal","canary","cancel","candied","candle","candy","cane","canine","canister","cannabis","canned","canning","cannon","cannot","canola","canon","canopener","canopy","canteen","canyon","capable","capably","capacity","cape","capillary","capital","capitol","capped","capricorn","capsize","capsule","caption","captivate","captive","captivity","capture","caramel","carat","caravan","carbon","cardboard","carded","cardiac","cardigan","cardinal","cardstock","carefully","caregiver","careless","caress","caretaker","cargo","caring","carless","carload","carmaker","carnage","carnation","carnival","carnivore","carol","carpenter","carpentry","carpool","carport","carried","carrot","carrousel","carry","cartel","cartload","carton","cartoon","cartridge","cartwheel","carve","carving","carwash","cascade","case","cash","casing","casino","casket","cassette","casually","casualty","catacomb","catalog","catalyst","catalyze","catapult","cataract","catatonic","catcall","catchable","catcher","catching","catchy","caterer","catering","catfight","catfish","cathedral","cathouse","catlike","catnap","catnip","catsup","cattail","cattishly","cattle","catty","catwalk","caucasian","caucus","causal","causation","cause","causing","cauterize","caution","cautious","cavalier","cavalry","caviar","cavity","cedar","celery","celestial","celibacy","celibate","celtic","cement","census","ceramics","ceremony","certainly","certainty","certified","certify","cesarean","cesspool","chafe","chaffing","chain","chair","chalice","challenge","chamber","chamomile","champion","chance","change","channel","chant","chaos","chaperone","chaplain","chapped","chaps","chapter","character","charbroil","charcoal","charger","charging","chariot","charity","charm","charred","charter","charting","chase","chasing","chaste","chastise","chastity","chatroom","chatter","chatting","chatty","cheating","cheddar","cheek","cheer","cheese","cheesy","chef","chemicals","chemist","chemo","cherisher","cherub","chess","chest","chevron","chevy","chewable","chewer","chewing","chewy","chief","chihuahua","childcare","childhood","childish","childless","childlike","chili","chill","chimp","chip","chirping","chirpy","chitchat","chivalry","chive","chloride","chlorine","choice","chokehold","choking","chomp","chooser","choosing","choosy","chop","chosen","chowder","chowtime","chrome","chubby","chuck","chug","chummy","chump","chunk","churn","chute","cider","cilantro","cinch","cinema","cinnamon","circle","circling","circular","circulate","circus","citable","citadel","citation","citizen","citric","citrus","city","civic","civil","clad","claim","clambake","clammy","clamor","clamp","clamshell","clang","clanking","clapped","clapper","clapping","clarify","clarinet","clarity","clash","clasp","class","clatter","clause","clavicle","claw","clay","clean","clear","cleat","cleaver","cleft","clench","clergyman","clerical","clerk","clever","clicker","client","climate","climatic","cling","clinic","clinking","clip","clique","cloak","clobber","clock","clone","cloning","closable","closure","clothes","clothing","cloud","clover","clubbed","clubbing","clubhouse","clump","clumsily","clumsy","clunky","clustered","clutch","clutter","coach","coagulant","coastal","coaster","coasting","coastland","coastline","coat","coauthor","cobalt","cobbler","cobweb","cocoa","coconut","cod","coeditor","coerce","coexist","coffee","cofounder","cognition","cognitive","cogwheel","coherence","coherent","cohesive","coil","coke","cola","cold","coleslaw","coliseum","collage","collapse","collar","collected","collector","collide","collie","collision","colonial","colonist","colonize","colony","colossal","colt","coma","come","comfort","comfy","comic","coming","comma","commence","commend","comment","commerce","commode","commodity","commodore","common","commotion","commute","commuting","compacted","compacter","compactly","compactor","companion","company","compare","compel","compile","comply","component","composed","composer","composite","compost","composure","compound","compress","comprised","computer","computing","comrade","concave","conceal","conceded","concept","concerned","concert","conch","concierge","concise","conclude","concrete","concur","condense","condiment","condition","condone","conducive","conductor","conduit","cone","confess","confetti","confidant","confident","confider","confiding","configure","confined","confining","confirm","conflict","conform","confound","confront","confused","confusing","confusion","congenial","congested","congrats","congress","conical","conjoined","conjure","conjuror","connected","connector","consensus","consent","console","consoling","consonant","constable","constant","constrain","constrict","construct","consult","consumer","consuming","contact","container","contempt","contend","contented","contently","contents","contest","context","contort","contour","contrite","control","contusion","convene","convent","copartner","cope","copied","copier","copilot","coping","copious","copper","copy","coral","cork","cornball","cornbread","corncob","cornea","corned","corner","cornfield","cornflake","cornhusk","cornmeal","cornstalk","corny","coronary","coroner","corporal","corporate","corral","correct","corridor","corrode","corroding","corrosive","corsage","corset","cortex","cosigner","cosmetics","cosmic","cosmos","cosponsor","cost","cottage","cotton","couch","cough","could","countable","countdown","counting","countless","country","county","courier","covenant","cover","coveted","coveting","coyness","cozily","coziness","cozy","crabbing","crabgrass","crablike","crabmeat","cradle","cradling","crafter","craftily","craftsman","craftwork","crafty","cramp","cranberry","crane","cranial","cranium","crank","crate","crave","craving","crawfish","crawlers","crawling","crayfish","crayon","crazed","crazily","craziness","crazy","creamed","creamer","creamlike","crease","creasing","creatable","create","creation","creative","creature","credible","credibly","credit","creed","creme","creole","crepe","crept","crescent","crested","cresting","crestless","crevice","crewless","crewman","crewmate","crib","cricket","cried","crier","crimp","crimson","cringe","cringing","crinkle","crinkly","crisped","crisping","crisply","crispness","crispy","criteria","critter","croak","crock","crook","croon","crop","cross","crouch","crouton","crowbar","crowd","crown","crucial","crudely","crudeness","cruelly","cruelness","cruelty","crumb","crummiest","crummy","crumpet","crumpled","cruncher","crunching","crunchy","crusader","crushable","crushed","crusher","crushing","crust","crux","crying","cryptic","crystal","cubbyhole","cube","cubical","cubicle","cucumber","cuddle","cuddly","cufflink","culinary","culminate","culpable","culprit","cultivate","cultural","culture","cupbearer","cupcake","cupid","cupped","cupping","curable","curator","curdle","cure","curfew","curing","curled","curler","curliness","curling","curly","curry","curse","cursive","cursor","curtain","curtly","curtsy","curvature","curve","curvy","cushy","cusp","cussed","custard","custodian","custody","customary","customer","customize","customs","cut","cycle","cyclic","cycling","cyclist","cylinder","cymbal","cytoplasm","cytoplast","dab","dad","daffodil","dagger","daily","daintily","dainty","dairy","daisy","dallying","dance","dancing","dandelion","dander","dandruff","dandy","danger","dangle","dangling","daredevil","dares","daringly","darkened","darkening","darkish","darkness","darkroom","darling","darn","dart","darwinism","dash","dastardly","data","datebook","dating","daughter","daunting","dawdler","dawn","daybed","daybreak","daycare","daydream","daylight","daylong","dayroom","daytime","dazzler","dazzling","deacon","deafening","deafness","dealer","dealing","dealmaker","dealt","dean","debatable","debate","debating","debit","debrief","debtless","debtor","debug","debunk","decade","decaf","decal","decathlon","decay","deceased","deceit","deceiver","deceiving","december","decency","decent","deception","deceptive","decibel","decidable","decimal","decimeter","decipher","deck","declared","decline","decode","decompose","decorated","decorator","decoy","decrease","decree","dedicate","dedicator","deduce","deduct","deed","deem","deepen","deeply","deepness","deface","defacing","defame","default","defeat","defection","defective","defendant","defender","defense","defensive","deferral","deferred","defiance","defiant","defile","defiling","define","definite","deflate","deflation","deflator","deflected","deflector","defog","deforest","defraud","defrost","deftly","defuse","defy","degraded","degrading","degrease","degree","dehydrate","deity","dejected","delay","delegate","delegator","delete","deletion","delicacy","delicate","delicious","delighted","delirious","delirium","deliverer","delivery","delouse","delta","deluge","delusion","deluxe","demanding","demeaning","demeanor","demise","democracy","democrat","demote","demotion","demystify","denatured","deniable","denial","denim","denote","dense","density","dental","dentist","denture","deny","deodorant","deodorize","departed","departure","depict","deplete","depletion","deplored","deploy","deport","depose","depraved","depravity","deprecate","depress","deprive","depth","deputize","deputy","derail","deranged","derby","derived","desecrate","deserve","deserving","designate","designed","designer","designing","deskbound","desktop","deskwork","desolate","despair","despise","despite","destiny","destitute","destruct","detached","detail","detection","detective","detector","detention","detergent","detest","detonate","detonator","detoxify","detract","deuce","devalue","deviancy","deviant","deviate","deviation","deviator","device","devious","devotedly","devotee","devotion","devourer","devouring","devoutly","dexterity","dexterous","diabetes","diabetic","diabolic","diagnoses","diagnosis","diagram","dial","diameter","diaper","diaphragm","diary","dice","dicing","dictate","dictation","dictator","difficult","diffused","diffuser","diffusion","diffusive","dig","dilation","diligence","diligent","dill","dilute","dime","diminish","dimly","dimmed","dimmer","dimness","dimple","diner","dingbat","dinghy","dinginess","dingo","dingy","dining","dinner","diocese","dioxide","diploma","dipped","dipper","dipping","directed","direction","directive","directly","directory","direness","dirtiness","disabled","disagree","disallow","disarm","disarray","disaster","disband","disbelief","disburse","discard","discern","discharge","disclose","discolor","discount","discourse","discover","discuss","disdain","disengage","disfigure","disgrace","dish","disinfect","disjoin","disk","dislike","disliking","dislocate","dislodge","disloyal","dismantle","dismay","dismiss","dismount","disobey","disorder","disown","disparate","disparity","dispatch","dispense","dispersal","dispersed","disperser","displace","display","displease","disposal","dispose","disprove","dispute","disregard","disrupt","dissuade","distance","distant","distaste","distill","distinct","distort","distract","distress","district","distrust","ditch","ditto","ditzy","dividable","divided","dividend","dividers","dividing","divinely","diving","divinity","divisible","divisibly","division","divisive","divorcee","dizziness","dizzy","doable","docile","dock","doctrine","document","dodge","dodgy","doily","doing","dole","dollar","dollhouse","dollop","dolly","dolphin","domain","domelike","domestic","dominion","dominoes","donated","donation","donator","donor","donut","doodle","doorbell","doorframe","doorknob","doorman","doormat","doornail","doorpost","doorstep","doorstop","doorway","doozy","dork","dormitory","dorsal","dosage","dose","dotted","doubling","douche","dove","down","dowry","doze","drab","dragging","dragonfly","dragonish","dragster","drainable","drainage","drained","drainer","drainpipe","dramatic","dramatize","drank","drapery","drastic","draw","dreaded","dreadful","dreadlock","dreamboat","dreamily","dreamland","dreamless","dreamlike","dreamt","dreamy","drearily","dreary","drench","dress","drew","dribble","dried","drier","drift","driller","drilling","drinkable","drinking","dripping","drippy","drivable","driven","driver","driveway","driving","drizzle","drizzly","drone","drool","droop","drop-down","dropbox","dropkick","droplet","dropout","dropper","drove","drown","drowsily","drudge","drum","dry","dubbed","dubiously","duchess","duckbill","ducking","duckling","ducktail","ducky","duct","dude","duffel","dugout","duh","duke","duller","dullness","duly","dumping","dumpling","dumpster","duo","dupe","duplex","duplicate","duplicity","durable","durably","duration","duress","during","dusk","dust","dutiful","duty","duvet","dwarf","dweeb","dwelled","dweller","dwelling","dwindle","dwindling","dynamic","dynamite","dynasty","dyslexia","dyslexic","each","eagle","earache","eardrum","earflap","earful","earlobe","early","earmark","earmuff","earphone","earpiece","earplugs","earring","earshot","earthen","earthlike","earthling","earthly","earthworm","earthy","earwig","easeful","easel","easiest","easily","easiness","easing","eastbound","eastcoast","easter","eastward","eatable","eaten","eatery","eating","eats","ebay","ebony","ebook","ecard","eccentric","echo","eclair","eclipse","ecologist","ecology","economic","economist","economy","ecosphere","ecosystem","edge","edginess","edging","edgy","edition","editor","educated","education","educator","eel","effective","effects","efficient","effort","eggbeater","egging","eggnog","eggplant","eggshell","egomaniac","egotism","egotistic","either","eject","elaborate","elastic","elated","elbow","eldercare","elderly","eldest","electable","election","elective","elephant","elevate","elevating","elevation","elevator","eleven","elf","eligible","eligibly","eliminate","elite","elitism","elixir","elk","ellipse","elliptic","elm","elongated","elope","eloquence","eloquent","elsewhere","elude","elusive","elves","email","embargo","embark","embassy","embattled","embellish","ember","embezzle","emblaze","emblem","embody","embolism","emboss","embroider","emcee","emerald","emergency","emission","emit","emote","emoticon","emotion","empathic","empathy","emperor","emphases","emphasis","emphasize","emphatic","empirical","employed","employee","employer","emporium","empower","emptier","emptiness","empty","emu","enable","enactment","enamel","enchanted","enchilada","encircle","enclose","enclosure","encode","encore","encounter","encourage","encroach","encrust","encrypt","endanger","endeared","endearing","ended","ending","endless","endnote","endocrine","endorphin","endorse","endowment","endpoint","endurable","endurance","enduring","energetic","energize","energy","enforced","enforcer","engaged","engaging","engine","engorge","engraved","engraver","engraving","engross","engulf","enhance","enigmatic","enjoyable","enjoyably","enjoyer","enjoying","enjoyment","enlarged","enlarging","enlighten","enlisted","enquirer","enrage","enrich","enroll","enslave","ensnare","ensure","entail","entangled","entering","entertain","enticing","entire","entitle","entity","entomb","entourage","entrap","entree","entrench","entrust","entryway","entwine","enunciate","envelope","enviable","enviably","envious","envision","envoy","envy","enzyme","epic","epidemic","epidermal","epidermis","epidural","epilepsy","epileptic","epilogue","epiphany","episode","equal","equate","equation","equator","equinox","equipment","equity","equivocal","eradicate","erasable","erased","eraser","erasure","ergonomic","errand","errant","erratic","error","erupt","escalate","escalator","escapable","escapade","escapist","escargot","eskimo","esophagus","espionage","espresso","esquire","essay","essence","essential","establish","estate","esteemed","estimate","estimator","estranged","estrogen","etching","eternal","eternity","ethanol","ether","ethically","ethics","euphemism","evacuate","evacuee","evade","evaluate","evaluator","evaporate","evasion","evasive","even","everglade","evergreen","everybody","everyday","everyone","evict","evidence","evident","evil","evoke","evolution","evolve","exact","exalted","example","excavate","excavator","exceeding","exception","excess","exchange","excitable","exciting","exclaim","exclude","excluding","exclusion","exclusive","excretion","excretory","excursion","excusable","excusably","excuse","exemplary","exemplify","exemption","exerciser","exert","exes","exfoliate","exhale","exhaust","exhume","exile","existing","exit","exodus","exonerate","exorcism","exorcist","expand","expanse","expansion","expansive","expectant","expedited","expediter","expel","expend","expenses","expensive","expert","expire","expiring","explain","expletive","explicit","explode","exploit","explore","exploring","exponent","exporter","exposable","expose","exposure","express","expulsion","exquisite","extended","extending","extent","extenuate","exterior","external","extinct","extortion","extradite","extras","extrovert","extrude","extruding","exuberant","fable","fabric","fabulous","facebook","facecloth","facedown","faceless","facelift","faceplate","faceted","facial","facility","facing","facsimile","faction","factoid","factor","factsheet","factual","faculty","fade","fading","failing","falcon","fall","false","falsify","fame","familiar","family","famine","famished","fanatic","fancied","fanciness","fancy","fanfare","fang","fanning","fantasize","fantastic","fantasy","fascism","fastball","faster","fasting","fastness","faucet","favorable","favorably","favored","favoring","favorite","fax","feast","federal","fedora","feeble","feed","feel","feisty","feline","felt-tip","feminine","feminism","feminist","feminize","femur","fence","fencing","fender","ferment","fernlike","ferocious","ferocity","ferret","ferris","ferry","fervor","fester","festival","festive","festivity","fetal","fetch","fever","fiber","fiction","fiddle","fiddling","fidelity","fidgeting","fidgety","fifteen","fifth","fiftieth","fifty","figment","figure","figurine","filing","filled","filler","filling","film","filter","filth","filtrate","finale","finalist","finalize","finally","finance","financial","finch","fineness","finer","finicky","finished","finisher","finishing","finite","finless","finlike","fiscally","fit","five","flaccid","flagman","flagpole","flagship","flagstick","flagstone","flail","flakily","flaky","flame","flammable","flanked","flanking","flannels","flap","flaring","flashback","flashbulb","flashcard","flashily","flashing","flashy","flask","flatbed","flatfoot","flatly","flatness","flatten","flattered","flatterer","flattery","flattop","flatware","flatworm","flavored","flavorful","flavoring","flaxseed","fled","fleshed","fleshy","flick","flier","flight","flinch","fling","flint","flip","flirt","float","flock","flogging","flop","floral","florist","floss","flounder","flyable","flyaway","flyer","flying","flyover","flypaper","foam","foe","fog","foil","folic","folk","follicle","follow","fondling","fondly","fondness","fondue","font","food","fool","footage","football","footbath","footboard","footer","footgear","foothill","foothold","footing","footless","footman","footnote","footpad","footpath","footprint","footrest","footsie","footsore","footwear","footwork","fossil","foster","founder","founding","fountain","fox","foyer","fraction","fracture","fragile","fragility","fragment","fragrance","fragrant","frail","frame","framing","frantic","fraternal","frayed","fraying","frays","freckled","freckles","freebase","freebee","freebie","freedom","freefall","freehand","freeing","freeload","freely","freemason","freeness","freestyle","freeware","freeway","freewill","freezable","freezing","freight","french","frenzied","frenzy","frequency","frequent","fresh","fretful","fretted","friction","friday","fridge","fried","friend","frighten","frightful","frigidity","frigidly","frill","fringe","frisbee","frisk","fritter","frivolous","frolic","from","front","frostbite","frosted","frostily","frosting","frostlike","frosty","froth","frown","frozen","fructose","frugality","frugally","fruit","frustrate","frying","gab","gaffe","gag","gainfully","gaining","gains","gala","gallantly","galleria","gallery","galley","gallon","gallows","gallstone","galore","galvanize","gambling","game","gaming","gamma","gander","gangly","gangrene","gangway","gap","garage","garbage","garden","gargle","garland","garlic","garment","garnet","garnish","garter","gas","gatherer","gathering","gating","gauging","gauntlet","gauze","gave","gawk","gazing","gear","gecko","geek","geiger","gem","gender","generic","generous","genetics","genre","gentile","gentleman","gently","gents","geography","geologic","geologist","geology","geometric","geometry","geranium","gerbil","geriatric","germicide","germinate","germless","germproof","gestate","gestation","gesture","getaway","getting","getup","giant","gibberish","giblet","giddily","giddiness","giddy","gift","gigabyte","gigahertz","gigantic","giggle","giggling","giggly","gigolo","gilled","gills","gimmick","girdle","giveaway","given","giver","giving","gizmo","gizzard","glacial","glacier","glade","gladiator","gladly","glamorous","glamour","glance","glancing","glandular","glare","glaring","glass","glaucoma","glazing","gleaming","gleeful","glider","gliding","glimmer","glimpse","glisten","glitch","glitter","glitzy","gloater","gloating","gloomily","gloomy","glorified","glorifier","glorify","glorious","glory","gloss","glove","glowing","glowworm","glucose","glue","gluten","glutinous","glutton","gnarly","gnat","goal","goatskin","goes","goggles","going","goldfish","goldmine","goldsmith","golf","goliath","gonad","gondola","gone","gong","good","gooey","goofball","goofiness","goofy","google","goon","gopher","gore","gorged","gorgeous","gory","gosling","gossip","gothic","gotten","gout","gown","grab","graceful","graceless","gracious","gradation","graded","grader","gradient","grading","gradually","graduate","graffiti","grafted","grafting","grain","granddad","grandkid","grandly","grandma","grandpa","grandson","granite","granny","granola","grant","granular","grape","graph","grapple","grappling","grasp","grass","gratified","gratify","grating","gratitude","gratuity","gravel","graveness","graves","graveyard","gravitate","gravity","gravy","gray","grazing","greasily","greedily","greedless","greedy","green","greeter","greeting","grew","greyhound","grid","grief","grievance","grieving","grievous","grill","grimace","grimacing","grime","griminess","grimy","grinch","grinning","grip","gristle","grit","groggily","groggy","groin","groom","groove","grooving","groovy","grope","ground","grouped","grout","grove","grower","growing","growl","grub","grudge","grudging","grueling","gruffly","grumble","grumbling","grumbly","grumpily","grunge","grunt","guacamole","guidable","guidance","guide","guiding","guileless","guise","gulf","gullible","gully","gulp","gumball","gumdrop","gumminess","gumming","gummy","gurgle","gurgling","guru","gush","gusto","gusty","gutless","guts","gutter","guy","guzzler","gyration","habitable","habitant","habitat","habitual","hacked","hacker","hacking","hacksaw","had","haggler","haiku","half","halogen","halt","halved","halves","hamburger","hamlet","hammock","hamper","hamster","hamstring","handbag","handball","handbook","handbrake","handcart","handclap","handclasp","handcraft","handcuff","handed","handful","handgrip","handgun","handheld","handiness","handiwork","handlebar","handled","handler","handling","handmade","handoff","handpick","handprint","handrail","handsaw","handset","handsfree","handshake","handstand","handwash","handwork","handwoven","handwrite","handyman","hangnail","hangout","hangover","hangup","hankering","hankie","hanky","haphazard","happening","happier","happiest","happily","happiness","happy","harbor","hardcopy","hardcore","hardcover","harddisk","hardened","hardener","hardening","hardhat","hardhead","hardiness","hardly","hardness","hardship","hardware","hardwired","hardwood","hardy","harmful","harmless","harmonica","harmonics","harmonize","harmony","harness","harpist","harsh","harvest","hash","hassle","haste","hastily","hastiness","hasty","hatbox","hatchback","hatchery","hatchet","hatching","hatchling","hate","hatless","hatred","haunt","haven","hazard","hazelnut","hazily","haziness","hazing","hazy","headache","headband","headboard","headcount","headdress","headed","header","headfirst","headgear","heading","headlamp","headless","headlock","headphone","headpiece","headrest","headroom","headscarf","headset","headsman","headstand","headstone","headway","headwear","heap","heat","heave","heavily","heaviness","heaving","hedge","hedging","heftiness","hefty","helium","helmet","helper","helpful","helping","helpless","helpline","hemlock","hemstitch","hence","henchman","henna","herald","herbal","herbicide","herbs","heritage","hermit","heroics","heroism","herring","herself","hertz","hesitancy","hesitant","hesitate","hexagon","hexagram","hubcap","huddle","huddling","huff","hug","hula","hulk","hull","human","humble","humbling","humbly","humid","humiliate","humility","humming","hummus","humongous","humorist","humorless","humorous","humpback","humped","humvee","hunchback","hundredth","hunger","hungrily","hungry","hunk","hunter","hunting","huntress","huntsman","hurdle","hurled","hurler","hurling","hurray","hurricane","hurried","hurry","hurt","husband","hush","husked","huskiness","hut","hybrid","hydrant","hydrated","hydration","hydrogen","hydroxide","hyperlink","hypertext","hyphen","hypnoses","hypnosis","hypnotic","hypnotism","hypnotist","hypnotize","hypocrisy","hypocrite","ibuprofen","ice","iciness","icing","icky","icon","icy","idealism","idealist","idealize","ideally","idealness","identical","identify","identity","ideology","idiocy","idiom","idly","igloo","ignition","ignore","iguana","illicitly","illusion","illusive","image","imaginary","imagines","imaging","imbecile","imitate","imitation","immature","immerse","immersion","imminent","immobile","immodest","immorally","immortal","immovable","immovably","immunity","immunize","impaired","impale","impart","impatient","impeach","impeding","impending","imperfect","imperial","impish","implant","implement","implicate","implicit","implode","implosion","implosive","imply","impolite","important","importer","impose","imposing","impotence","impotency","impotent","impound","imprecise","imprint","imprison","impromptu","improper","improve","improving","improvise","imprudent","impulse","impulsive","impure","impurity","iodine","iodize","ion","ipad","iphone","ipod","irate","irk","iron","irregular","irrigate","irritable","irritably","irritant","irritate","islamic","islamist","isolated","isolating","isolation","isotope","issue","issuing","italicize","italics","item","itinerary","itunes","ivory","ivy","jab","jackal","jacket","jackknife","jackpot","jailbird","jailbreak","jailer","jailhouse","jalapeno","jam","janitor","january","jargon","jarring","jasmine","jaundice","jaunt","java","jawed","jawless","jawline","jaws","jaybird","jaywalker","jazz","jeep","jeeringly","jellied","jelly","jersey","jester","jet","jiffy","jigsaw","jimmy","jingle","jingling","jinx","jitters","jittery","job","jockey","jockstrap","jogger","jogging","john","joining","jokester","jokingly","jolliness","jolly","jolt","jot","jovial","joyfully","joylessly","joyous","joyride","joystick","jubilance","jubilant","judge","judgingly","judicial","judiciary","judo","juggle","juggling","jugular","juice","juiciness","juicy","jujitsu","jukebox","july","jumble","jumbo","jump","junction","juncture","june","junior","juniper","junkie","junkman","junkyard","jurist","juror","jury","justice","justifier","justify","justly","justness","juvenile","kabob","kangaroo","karaoke","karate","karma","kebab","keenly","keenness","keep","keg","kelp","kennel","kept","kerchief","kerosene","kettle","kick","kiln","kilobyte","kilogram","kilometer","kilowatt","kilt","kimono","kindle","kindling","kindly","kindness","kindred","kinetic","kinfolk","king","kinship","kinsman","kinswoman","kissable","kisser","kissing","kitchen","kite","kitten","kitty","kiwi","kleenex","knapsack","knee","knelt","knickers","knoll","koala","kooky","kosher","krypton","kudos","kung","labored","laborer","laboring","laborious","labrador","ladder","ladies","ladle","ladybug","ladylike","lagged","lagging","lagoon","lair","lake","lance","landed","landfall","landfill","landing","landlady","landless","landline","landlord","landmark","landmass","landmine","landowner","landscape","landside","landslide","language","lankiness","lanky","lantern","lapdog","lapel","lapped","lapping","laptop","lard","large","lark","lash","lasso","last","latch","late","lather","latitude","latrine","latter","latticed","launch","launder","laundry","laurel","lavender","lavish","laxative","lazily","laziness","lazy","lecturer","left","legacy","legal","legend","legged","leggings","legible","legibly","legislate","lego","legroom","legume","legwarmer","legwork","lemon","lend","length","lens","lent","leotard","lesser","letdown","lethargic","lethargy","letter","lettuce","level","leverage","levers","levitate","levitator","liability","liable","liberty","librarian","library","licking","licorice","lid","life","lifter","lifting","liftoff","ligament","likely","likeness","likewise","liking","lilac","lilly","lily","limb","limeade","limelight","limes","limit","limping","limpness","line","lingo","linguini","linguist","lining","linked","linoleum","linseed","lint","lion","lip","liquefy","liqueur","liquid","lisp","list","litigate","litigator","litmus","litter","little","livable","lived","lively","liver","livestock","lividly","living","lizard","lubricant","lubricate","lucid","luckily","luckiness","luckless","lucrative","ludicrous","lugged","lukewarm","lullaby","lumber","luminance","luminous","lumpiness","lumping","lumpish","lunacy","lunar","lunchbox","luncheon","lunchroom","lunchtime","lung","lurch","lure","luridness","lurk","lushly","lushness","luster","lustfully","lustily","lustiness","lustrous","lusty","luxurious","luxury","lying","lyrically","lyricism","lyricist","lyrics","macarena","macaroni","macaw","mace","machine","machinist","magazine","magenta","maggot","magical","magician","magma","magnesium","magnetic","magnetism","magnetize","magnifier","magnify","magnitude","magnolia","mahogany","maimed","majestic","majesty","majorette","majority","makeover","maker","makeshift","making","malformed","malt","mama","mammal","mammary","mammogram","manager","managing","manatee","mandarin","mandate","mandatory","mandolin","manger","mangle","mango","mangy","manhandle","manhole","manhood","manhunt","manicotti","manicure","manifesto","manila","mankind","manlike","manliness","manly","manmade","manned","mannish","manor","manpower","mantis","mantra","manual","many","map","marathon","marauding","marbled","marbles","marbling","march","mardi","margarine","margarita","margin","marigold","marina","marine","marital","maritime","marlin","marmalade","maroon","married","marrow","marry","marshland","marshy","marsupial","marvelous","marxism","mascot","masculine","mashed","mashing","massager","masses","massive","mastiff","matador","matchbook","matchbox","matcher","matching","matchless","material","maternal","maternity","math","mating","matriarch","matrimony","matrix","matron","matted","matter","maturely","maturing","maturity","mauve","maverick","maximize","maximum","maybe","mayday","mayflower","moaner","moaning","mobile","mobility","mobilize","mobster","mocha","mocker","mockup","modified","modify","modular","modulator","module","moisten","moistness","moisture","molar","molasses","mold","molecular","molecule","molehill","mollusk","mom","monastery","monday","monetary","monetize","moneybags","moneyless","moneywise","mongoose","mongrel","monitor","monkhood","monogamy","monogram","monologue","monopoly","monorail","monotone","monotype","monoxide","monsieur","monsoon","monstrous","monthly","monument","moocher","moodiness","moody","mooing","moonbeam","mooned","moonlight","moonlike","moonlit","moonrise","moonscape","moonshine","moonstone","moonwalk","mop","morale","morality","morally","morbidity","morbidly","morphine","morphing","morse","mortality","mortally","mortician","mortified","mortify","mortuary","mosaic","mossy","most","mothball","mothproof","motion","motivate","motivator","motive","motocross","motor","motto","mountable","mountain","mounted","mounting","mourner","mournful","mouse","mousiness","moustache","mousy","mouth","movable","move","movie","moving","mower","mowing","much","muck","mud","mug","mulberry","mulch","mule","mulled","mullets","multiple","multiply","multitask","multitude","mumble","mumbling","mumbo","mummified","mummify","mummy","mumps","munchkin","mundane","municipal","muppet","mural","murkiness","murky","murmuring","muscular","museum","mushily","mushiness","mushroom","mushy","music","musket","muskiness","musky","mustang","mustard","muster","mustiness","musty","mutable","mutate","mutation","mute","mutilated","mutilator","mutiny","mutt","mutual","muzzle","myself","myspace","mystified","mystify","myth","nacho","nag","nail","name","naming","nanny","nanometer","nape","napkin","napped","napping","nappy","narrow","nastily","nastiness","national","native","nativity","natural","nature","naturist","nautical","navigate","navigator","navy","nearby","nearest","nearly","nearness","neatly","neatness","nebula","nebulizer","nectar","negate","negation","negative","neglector","negligee","negligent","negotiate","nemeses","nemesis","neon","nephew","nerd","nervous","nervy","nest","net","neurology","neuron","neurosis","neurotic","neuter","neutron","never","next","nibble","nickname","nicotine","niece","nifty","nimble","nimbly","nineteen","ninetieth","ninja","nintendo","ninth","nuclear","nuclei","nucleus","nugget","nullify","number","numbing","numbly","numbness","numeral","numerate","numerator","numeric","numerous","nuptials","nursery","nursing","nurture","nutcase","nutlike","nutmeg","nutrient","nutshell","nuttiness","nutty","nuzzle","nylon","oaf","oak","oasis","oat","obedience","obedient","obituary","object","obligate","obliged","oblivion","oblivious","oblong","obnoxious","oboe","obscure","obscurity","observant","observer","observing","obsessed","obsession","obsessive","obsolete","obstacle","obstinate","obstruct","obtain","obtrusive","obtuse","obvious","occultist","occupancy","occupant","occupier","occupy","ocean","ocelot","octagon","octane","october","octopus","ogle","oil","oink","ointment","okay","old","olive","olympics","omega","omen","ominous","omission","omit","omnivore","onboard","oncoming","ongoing","onion","online","onlooker","only","onscreen","onset","onshore","onslaught","onstage","onto","onward","onyx","oops","ooze","oozy","opacity","opal","open","operable","operate","operating","operation","operative","operator","opium","opossum","opponent","oppose","opposing","opposite","oppressed","oppressor","opt","opulently","osmosis","other","otter","ouch","ought","ounce","outage","outback","outbid","outboard","outbound","outbreak","outburst","outcast","outclass","outcome","outdated","outdoors","outer","outfield","outfit","outflank","outgoing","outgrow","outhouse","outing","outlast","outlet","outline","outlook","outlying","outmatch","outmost","outnumber","outplayed","outpost","outpour","output","outrage","outrank","outreach","outright","outscore","outsell","outshine","outshoot","outsider","outskirts","outsmart","outsource","outspoken","outtakes","outthink","outward","outweigh","outwit","oval","ovary","oven","overact","overall","overarch","overbid","overbill","overbite","overblown","overboard","overbook","overbuilt","overcast","overcoat","overcome","overcook","overcrowd","overdraft","overdrawn","overdress","overdrive","overdue","overeager","overeater","overexert","overfed","overfeed","overfill","overflow","overfull","overgrown","overhand","overhang","overhaul","overhead","overhear","overheat","overhung","overjoyed","overkill","overlabor","overlaid","overlap","overlay","overload","overlook","overlord","overlying","overnight","overpass","overpay","overplant","overplay","overpower","overprice","overrate","overreach","overreact","override","overripe","overrule","overrun","overshoot","overshot","oversight","oversized","oversleep","oversold","overspend","overstate","overstay","overstep","overstock","overstuff","oversweet","overtake","overthrow","overtime","overtly","overtone","overture","overturn","overuse","overvalue","overview","overwrite","owl","oxford","oxidant","oxidation","oxidize","oxidizing","oxygen","oxymoron","oyster","ozone","paced","pacemaker","pacific","pacifier","pacifism","pacifist","pacify","padded","padding","paddle","paddling","padlock","pagan","pager","paging","pajamas","palace","palatable","palm","palpable","palpitate","paltry","pampered","pamperer","pampers","pamphlet","panama","pancake","pancreas","panda","pandemic","pang","panhandle","panic","panning","panorama","panoramic","panther","pantomime","pantry","pants","pantyhose","paparazzi","papaya","paper","paprika","papyrus","parabola","parachute","parade","paradox","paragraph","parakeet","paralegal","paralyses","paralysis","paralyze","paramedic","parameter","paramount","parasail","parasite","parasitic","parcel","parched","parchment","pardon","parish","parka","parking","parkway","parlor","parmesan","parole","parrot","parsley","parsnip","partake","parted","parting","partition","partly","partner","partridge","party","passable","passably","passage","passcode","passenger","passerby","passing","passion","passive","passivism","passover","passport","password","pasta","pasted","pastel","pastime","pastor","pastrami","pasture","pasty","patchwork","patchy","paternal","paternity","path","patience","patient","patio","patriarch","patriot","patrol","patronage","patronize","pauper","pavement","paver","pavestone","pavilion","paving","pawing","payable","payback","paycheck","payday","payee","payer","paying","payment","payphone","payroll","pebble","pebbly","pecan","pectin","peculiar","peddling","pediatric","pedicure","pedigree","pedometer","pegboard","pelican","pellet","pelt","pelvis","penalize","penalty","pencil","pendant","pending","penholder","penknife","pennant","penniless","penny","penpal","pension","pentagon","pentagram","pep","perceive","percent","perch","percolate","perennial","perfected","perfectly","perfume","periscope","perish","perjurer","perjury","perkiness","perky","perm","peroxide","perpetual","perplexed","persecute","persevere","persuaded","persuader","pesky","peso","pessimism","pessimist","pester","pesticide","petal","petite","petition","petri","petroleum","petted","petticoat","pettiness","petty","petunia","phantom","phobia","phoenix","phonebook","phoney","phonics","phoniness","phony","phosphate","photo","phrase","phrasing","placard","placate","placidly","plank","planner","plant","plasma","plaster","plastic","plated","platform","plating","platinum","platonic","platter","platypus","plausible","plausibly","playable","playback","player","playful","playgroup","playhouse","playing","playlist","playmaker","playmate","playoff","playpen","playroom","playset","plaything","playtime","plaza","pleading","pleat","pledge","plentiful","plenty","plethora","plexiglas","pliable","plod","plop","plot","plow","ploy","pluck","plug","plunder","plunging","plural","plus","plutonium","plywood","poach","pod","poem","poet","pogo","pointed","pointer","pointing","pointless","pointy","poise","poison","poker","poking","polar","police","policy","polio","polish","politely","polka","polo","polyester","polygon","polygraph","polymer","poncho","pond","pony","popcorn","pope","poplar","popper","poppy","popsicle","populace","popular","populate","porcupine","pork","porous","porridge","portable","portal","portfolio","porthole","portion","portly","portside","poser","posh","posing","possible","possibly","possum","postage","postal","postbox","postcard","posted","poster","posting","postnasal","posture","postwar","pouch","pounce","pouncing","pound","pouring","pout","powdered","powdering","powdery","power","powwow","pox","praising","prance","prancing","pranker","prankish","prankster","prayer","praying","preacher","preaching","preachy","preamble","precinct","precise","precision","precook","precut","predator","predefine","predict","preface","prefix","preflight","preformed","pregame","pregnancy","pregnant","preheated","prelaunch","prelaw","prelude","premiere","premises","premium","prenatal","preoccupy","preorder","prepaid","prepay","preplan","preppy","preschool","prescribe","preseason","preset","preshow","president","presoak","press","presume","presuming","preteen","pretended","pretender","pretense","pretext","pretty","pretzel","prevail","prevalent","prevent","preview","previous","prewar","prewashed","prideful","pried","primal","primarily","primary","primate","primer","primp","princess","print","prior","prism","prison","prissy","pristine","privacy","private","privatize","prize","proactive","probable","probably","probation","probe","probing","probiotic","problem","procedure","process","proclaim","procreate","procurer","prodigal","prodigy","produce","product","profane","profanity","professed","professor","profile","profound","profusely","progeny","prognosis","program","progress","projector","prologue","prolonged","promenade","prominent","promoter","promotion","prompter","promptly","prone","prong","pronounce","pronto","proofing","proofread","proofs","propeller","properly","property","proponent","proposal","propose","props","prorate","protector","protegee","proton","prototype","protozoan","protract","protrude","proud","provable","proved","proven","provided","provider","providing","province","proving","provoke","provoking","provolone","prowess","prowler","prowling","proximity","proxy","prozac","prude","prudishly","prune","pruning","pry","psychic","public","publisher","pucker","pueblo","pug","pull","pulmonary","pulp","pulsate","pulse","pulverize","puma","pumice","pummel","punch","punctual","punctuate","punctured","pungent","punisher","punk","pupil","puppet","puppy","purchase","pureblood","purebred","purely","pureness","purgatory","purge","purging","purifier","purify","purist","puritan","purity","purple","purplish","purposely","purr","purse","pursuable","pursuant","pursuit","purveyor","pushcart","pushchair","pusher","pushiness","pushing","pushover","pushpin","pushup","pushy","putdown","putt","puzzle","puzzling","pyramid","pyromania","python","quack","quadrant","quail","quaintly","quake","quaking","qualified","qualifier","qualify","quality","qualm","quantum","quarrel","quarry","quartered","quarterly","quarters","quartet","quench","query","quicken","quickly","quickness","quicksand","quickstep","quiet","quill","quilt","quintet","quintuple","quirk","quit","quiver","quizzical","quotable","quotation","quote","rabid","race","racing","racism","rack","racoon","radar","radial","radiance","radiantly","radiated","radiation","radiator","radio","radish","raffle","raft","rage","ragged","raging","ragweed","raider","railcar","railing","railroad","railway","raisin","rake","raking","rally","ramble","rambling","ramp","ramrod","ranch","rancidity","random","ranged","ranger","ranging","ranked","ranking","ransack","ranting","rants","rare","rarity","rascal","rash","rasping","ravage","raven","ravine","raving","ravioli","ravishing","reabsorb","reach","reacquire","reaction","reactive","reactor","reaffirm","ream","reanalyze","reappear","reapply","reappoint","reapprove","rearrange","rearview","reason","reassign","reassure","reattach","reawake","rebalance","rebate","rebel","rebirth","reboot","reborn","rebound","rebuff","rebuild","rebuilt","reburial","rebuttal","recall","recant","recapture","recast","recede","recent","recess","recharger","recipient","recital","recite","reckless","reclaim","recliner","reclining","recluse","reclusive","recognize","recoil","recollect","recolor","reconcile","reconfirm","reconvene","recopy","record","recount","recoup","recovery","recreate","rectal","rectangle","rectified","rectify","recycled","recycler","recycling","reemerge","reenact","reenter","reentry","reexamine","referable","referee","reference","refill","refinance","refined","refinery","refining","refinish","reflected","reflector","reflex","reflux","refocus","refold","reforest","reformat","reformed","reformer","reformist","refract","refrain","refreeze","refresh","refried","refueling","refund","refurbish","refurnish","refusal","refuse","refusing","refutable","refute","regain","regalia","regally","reggae","regime","region","register","registrar","registry","regress","regretful","regroup","regular","regulate","regulator","rehab","reheat","rehire","rehydrate","reimburse","reissue","reiterate","rejoice","rejoicing","rejoin","rekindle","relapse","relapsing","relatable","related","relation","relative","relax","relay","relearn","release","relenting","reliable","reliably","reliance","reliant","relic","relieve","relieving","relight","relish","relive","reload","relocate","relock","reluctant","rely","remake","remark","remarry","rematch","remedial","remedy","remember","reminder","remindful","remission","remix","remnant","remodeler","remold","remorse","remote","removable","removal","removed","remover","removing","rename","renderer","rendering","rendition","renegade","renewable","renewably","renewal","renewed","renounce","renovate","renovator","rentable","rental","rented","renter","reoccupy","reoccur","reopen","reorder","repackage","repacking","repaint","repair","repave","repaying","repayment","repeal","repeated","repeater","repent","rephrase","replace","replay","replica","reply","reporter","repose","repossess","repost","repressed","reprimand","reprint","reprise","reproach","reprocess","reproduce","reprogram","reps","reptile","reptilian","repugnant","repulsion","repulsive","repurpose","reputable","reputably","request","require","requisite","reroute","rerun","resale","resample","rescuer","reseal","research","reselect","reseller","resemble","resend","resent","reset","reshape","reshoot","reshuffle","residence","residency","resident","residual","residue","resigned","resilient","resistant","resisting","resize","resolute","resolved","resonant","resonate","resort","resource","respect","resubmit","result","resume","resupply","resurface","resurrect","retail","retainer","retaining","retake","retaliate","retention","rethink","retinal","retired","retiree","retiring","retold","retool","retorted","retouch","retrace","retract","retrain","retread","retreat","retrial","retrieval","retriever","retry","return","retying","retype","reunion","reunite","reusable","reuse","reveal","reveler","revenge","revenue","reverb","revered","reverence","reverend","reversal","reverse","reversing","reversion","revert","revisable","revise","revision","revisit","revivable","revival","reviver","reviving","revocable","revoke","revolt","revolver","revolving","reward","rewash","rewind","rewire","reword","rework","rewrap","rewrite","rhyme","ribbon","ribcage","rice","riches","richly","richness","rickety","ricotta","riddance","ridden","ride","riding","rifling","rift","rigging","rigid","rigor","rimless","rimmed","rind","rink","rinse","rinsing","riot","ripcord","ripeness","ripening","ripping","ripple","rippling","riptide","rise","rising","risk","risotto","ritalin","ritzy","rival","riverbank","riverbed","riverboat","riverside","riveter","riveting","roamer","roaming","roast","robbing","robe","robin","robotics","robust","rockband","rocker","rocket","rockfish","rockiness","rocking","rocklike","rockslide","rockstar","rocky","rogue","roman","romp","rope","roping","roster","rosy","rotten","rotting","rotunda","roulette","rounding","roundish","roundness","roundup","roundworm","routine","routing","rover","roving","royal","rubbed","rubber","rubbing","rubble","rubdown","ruby","ruckus","rudder","rug","ruined","rule","rumble","rumbling","rummage","rumor","runaround","rundown","runner","running","runny","runt","runway","rupture","rural","ruse","rush","rust","rut","sabbath","sabotage","sacrament","sacred","sacrifice","sadden","saddlebag","saddled","saddling","sadly","sadness","safari","safeguard","safehouse","safely","safeness","saffron","saga","sage","sagging","saggy","said","saint","sake","salad","salami","salaried","salary","saline","salon","saloon","salsa","salt","salutary","salute","salvage","salvaging","salvation","same","sample","sampling","sanction","sanctity","sanctuary","sandal","sandbag","sandbank","sandbar","sandblast","sandbox","sanded","sandfish","sanding","sandlot","sandpaper","sandpit","sandstone","sandstorm","sandworm","sandy","sanitary","sanitizer","sank","santa","sapling","sappiness","sappy","sarcasm","sarcastic","sardine","sash","sasquatch","sassy","satchel","satiable","satin","satirical","satisfied","satisfy","saturate","saturday","sauciness","saucy","sauna","savage","savanna","saved","savings","savior","savor","saxophone","say","scabbed","scabby","scalded","scalding","scale","scaling","scallion","scallop","scalping","scam","scandal","scanner","scanning","scant","scapegoat","scarce","scarcity","scarecrow","scared","scarf","scarily","scariness","scarring","scary","scavenger","scenic","schedule","schematic","scheme","scheming","schilling","schnapps","scholar","science","scientist","scion","scoff","scolding","scone","scoop","scooter","scope","scorch","scorebook","scorecard","scored","scoreless","scorer","scoring","scorn","scorpion","scotch","scoundrel","scoured","scouring","scouting","scouts","scowling","scrabble","scraggly","scrambled","scrambler","scrap","scratch","scrawny","screen","scribble","scribe","scribing","scrimmage","script","scroll","scrooge","scrounger","scrubbed","scrubber","scruffy","scrunch","scrutiny","scuba","scuff","sculptor","sculpture","scurvy","scuttle","secluded","secluding","seclusion","second","secrecy","secret","sectional","sector","secular","securely","security","sedan","sedate","sedation","sedative","sediment","seduce","seducing","segment","seismic","seizing","seldom","selected","selection","selective","selector","self","seltzer","semantic","semester","semicolon","semifinal","seminar","semisoft","semisweet","senate","senator","send","senior","senorita","sensation","sensitive","sensitize","sensually","sensuous","sepia","september","septic","septum","sequel","sequence","sequester","series","sermon","serotonin","serpent","serrated","serve","service","serving","sesame","sessions","setback","setting","settle","settling","setup","sevenfold","seventeen","seventh","seventy","severity","shabby","shack","shaded","shadily","shadiness","shading","shadow","shady","shaft","shakable","shakily","shakiness","shaking","shaky","shale","shallot","shallow","shame","shampoo","shamrock","shank","shanty","shape","shaping","share","sharpener","sharper","sharpie","sharply","sharpness","shawl","sheath","shed","sheep","sheet","shelf","shell","shelter","shelve","shelving","sherry","shield","shifter","shifting","shiftless","shifty","shimmer","shimmy","shindig","shine","shingle","shininess","shining","shiny","ship","shirt","shivering","shock","shone","shoplift","shopper","shopping","shoptalk","shore","shortage","shortcake","shortcut","shorten","shorter","shorthand","shortlist","shortly","shortness","shorts","shortwave","shorty","shout","shove","showbiz","showcase","showdown","shower","showgirl","showing","showman","shown","showoff","showpiece","showplace","showroom","showy","shrank","shrapnel","shredder","shredding","shrewdly","shriek","shrill","shrimp","shrine","shrink","shrivel","shrouded","shrubbery","shrubs","shrug","shrunk","shucking","shudder","shuffle","shuffling","shun","shush","shut","shy","siamese","siberian","sibling","siding","sierra","siesta","sift","sighing","silenced","silencer","silent","silica","silicon","silk","silliness","silly","silo","silt","silver","similarly","simile","simmering","simple","simplify","simply","sincere","sincerity","singer","singing","single","singular","sinister","sinless","sinner","sinuous","sip","siren","sister","sitcom","sitter","sitting","situated","situation","sixfold","sixteen","sixth","sixties","sixtieth","sixtyfold","sizable","sizably","size","sizing","sizzle","sizzling","skater","skating","skedaddle","skeletal","skeleton","skeptic","sketch","skewed","skewer","skid","skied","skier","skies","skiing","skilled","skillet","skillful","skimmed","skimmer","skimming","skimpily","skincare","skinhead","skinless","skinning","skinny","skintight","skipper","skipping","skirmish","skirt","skittle","skydiver","skylight","skyline","skype","skyrocket","skyward","slab","slacked","slacker","slacking","slackness","slacks","slain","slam","slander","slang","slapping","slapstick","slashed","slashing","slate","slather","slaw","sled","sleek","sleep","sleet","sleeve","slept","sliceable","sliced","slicer","slicing","slick","slider","slideshow","sliding","slighted","slighting","slightly","slimness","slimy","slinging","slingshot","slinky","slip","slit","sliver","slobbery","slogan","sloped","sloping","sloppily","sloppy","slot","slouching","slouchy","sludge","slug","slum","slurp","slush","sly","small","smartly","smartness","smasher","smashing","smashup","smell","smelting","smile","smilingly","smirk","smite","smith","smitten","smock","smog","smoked","smokeless","smokiness","smoking","smoky","smolder","smooth","smother","smudge","smudgy","smuggler","smuggling","smugly","smugness","snack","snagged","snaking","snap","snare","snarl","snazzy","sneak","sneer","sneeze","sneezing","snide","sniff","snippet","snipping","snitch","snooper","snooze","snore","snoring","snorkel","snort","snout","snowbird","snowboard","snowbound","snowcap","snowdrift","snowdrop","snowfall","snowfield","snowflake","snowiness","snowless","snowman","snowplow","snowshoe","snowstorm","snowsuit","snowy","snub","snuff","snuggle","snugly","snugness","speak","spearfish","spearhead","spearman","spearmint","species","specimen","specked","speckled","specks","spectacle","spectator","spectrum","speculate","speech","speed","spellbind","speller","spelling","spendable","spender","spending","spent","spew","sphere","spherical","sphinx","spider","spied","spiffy","spill","spilt","spinach","spinal","spindle","spinner","spinning","spinout","spinster","spiny","spiral","spirited","spiritism","spirits","spiritual","splashed","splashing","splashy","splatter","spleen","splendid","splendor","splice","splicing","splinter","splotchy","splurge","spoilage","spoiled","spoiler","spoiling","spoils","spoken","spokesman","sponge","spongy","sponsor","spoof","spookily","spooky","spool","spoon","spore","sporting","sports","sporty","spotless","spotlight","spotted","spotter","spotting","spotty","spousal","spouse","spout","sprain","sprang","sprawl","spray","spree","sprig","spring","sprinkled","sprinkler","sprint","sprite","sprout","spruce","sprung","spry","spud","spur","sputter","spyglass","squabble","squad","squall","squander","squash","squatted","squatter","squatting","squeak","squealer","squealing","squeamish","squeegee","squeeze","squeezing","squid","squiggle","squiggly","squint","squire","squirt","squishier","squishy","stability","stabilize","stable","stack","stadium","staff","stage","staging","stagnant","stagnate","stainable","stained","staining","stainless","stalemate","staleness","stalling","stallion","stamina","stammer","stamp","stand","stank","staple","stapling","starboard","starch","stardom","stardust","starfish","stargazer","staring","stark","starless","starlet","starlight","starlit","starring","starry","starship","starter","starting","startle","startling","startup","starved","starving","stash","state","static","statistic","statue","stature","status","statute","statutory","staunch","stays","steadfast","steadier","steadily","steadying","steam","steed","steep","steerable","steering","steersman","stegosaur","stellar","stem","stench","stencil","step","stereo","sterile","sterility","sterilize","sterling","sternness","sternum","stew","stick","stiffen","stiffly","stiffness","stifle","stifling","stillness","stilt","stimulant","stimulate","stimuli","stimulus","stinger","stingily","stinging","stingray","stingy","stinking","stinky","stipend","stipulate","stir","stitch","stock","stoic","stoke","stole","stomp","stonewall","stoneware","stonework","stoning","stony","stood","stooge","stool","stoop","stoplight","stoppable","stoppage","stopped","stopper","stopping","stopwatch","storable","storage","storeroom","storewide","storm","stout","stove","stowaway","stowing","straddle","straggler","strained","strainer","straining","strangely","stranger","strangle","strategic","strategy","stratus","straw","stray","streak","stream","street","strength","strenuous","strep","stress","stretch","strewn","stricken","strict","stride","strife","strike","striking","strive","striving","strobe","strode","stroller","strongbox","strongly","strongman","struck","structure","strudel","struggle","strum","strung","strut","stubbed","stubble","stubbly","stubborn","stucco","stuck","student","studied","studio","study","stuffed","stuffing","stuffy","stumble","stumbling","stump","stung","stunned","stunner","stunning","stunt","stupor","sturdily","sturdy","styling","stylishly","stylist","stylized","stylus","suave","subarctic","subatomic","subdivide","subdued","subduing","subfloor","subgroup","subheader","subject","sublease","sublet","sublevel","sublime","submarine","submerge","submersed","submitter","subpanel","subpar","subplot","subprime","subscribe","subscript","subsector","subside","subsiding","subsidize","subsidy","subsoil","subsonic","substance","subsystem","subtext","subtitle","subtly","subtotal","subtract","subtype","suburb","subway","subwoofer","subzero","succulent","such","suction","sudden","sudoku","suds","sufferer","suffering","suffice","suffix","suffocate","suffrage","sugar","suggest","suing","suitable","suitably","suitcase","suitor","sulfate","sulfide","sulfite","sulfur","sulk","sullen","sulphate","sulphuric","sultry","superbowl","superglue","superhero","superior","superjet","superman","supermom","supernova","supervise","supper","supplier","supply","support","supremacy","supreme","surcharge","surely","sureness","surface","surfacing","surfboard","surfer","surgery","surgical","surging","surname","surpass","surplus","surprise","surreal","surrender","surrogate","surround","survey","survival","survive","surviving","survivor","sushi","suspect","suspend","suspense","sustained","sustainer","swab","swaddling","swagger","swampland","swan","swapping","swarm","sway","swear","sweat","sweep","swell","swept","swerve","swifter","swiftly","swiftness","swimmable","swimmer","swimming","swimsuit","swimwear","swinger","swinging","swipe","swirl","switch","swivel","swizzle","swooned","swoop","swoosh","swore","sworn","swung","sycamore","sympathy","symphonic","symphony","symptom","synapse","syndrome","synergy","synopses","synopsis","synthesis","synthetic","syrup","system","t-shirt","tabasco","tabby","tableful","tables","tablet","tableware","tabloid","tackiness","tacking","tackle","tackling","tacky","taco","tactful","tactical","tactics","tactile","tactless","tadpole","taekwondo","tag","tainted","take","taking","talcum","talisman","tall","talon","tamale","tameness","tamer","tamper","tank","tanned","tannery","tanning","tantrum","tapeless","tapered","tapering","tapestry","tapioca","tapping","taps","tarantula","target","tarmac","tarnish","tarot","tartar","tartly","tartness","task","tassel","taste","tastiness","tasting","tasty","tattered","tattle","tattling","tattoo","taunt","tavern","thank","that","thaw","theater","theatrics","thee","theft","theme","theology","theorize","thermal","thermos","thesaurus","these","thesis","thespian","thicken","thicket","thickness","thieving","thievish","thigh","thimble","thing","think","thinly","thinner","thinness","thinning","thirstily","thirsting","thirsty","thirteen","thirty","thong","thorn","those","thousand","thrash","thread","threaten","threefold","thrift","thrill","thrive","thriving","throat","throbbing","throng","throttle","throwaway","throwback","thrower","throwing","thud","thumb","thumping","thursday","thus","thwarting","thyself","tiara","tibia","tidal","tidbit","tidiness","tidings","tidy","tiger","tighten","tightly","tightness","tightrope","tightwad","tigress","tile","tiling","till","tilt","timid","timing","timothy","tinderbox","tinfoil","tingle","tingling","tingly","tinker","tinkling","tinsel","tinsmith","tint","tinwork","tiny","tipoff","tipped","tipper","tipping","tiptoeing","tiptop","tiring","tissue","trace","tracing","track","traction","tractor","trade","trading","tradition","traffic","tragedy","trailing","trailside","train","traitor","trance","tranquil","transfer","transform","translate","transpire","transport","transpose","trapdoor","trapeze","trapezoid","trapped","trapper","trapping","traps","trash","travel","traverse","travesty","tray","treachery","treading","treadmill","treason","treat","treble","tree","trekker","tremble","trembling","tremor","trench","trend","trespass","triage","trial","triangle","tribesman","tribunal","tribune","tributary","tribute","triceps","trickery","trickily","tricking","trickle","trickster","tricky","tricolor","tricycle","trident","tried","trifle","trifocals","trillion","trilogy","trimester","trimmer","trimming","trimness","trinity","trio","tripod","tripping","triumph","trivial","trodden","trolling","trombone","trophy","tropical","tropics","trouble","troubling","trough","trousers","trout","trowel","truce","truck","truffle","trump","trunks","trustable","trustee","trustful","trusting","trustless","truth","try","tubby","tubeless","tubular","tucking","tuesday","tug","tuition","tulip","tumble","tumbling","tummy","turban","turbine","turbofan","turbojet","turbulent","turf","turkey","turmoil","turret","turtle","tusk","tutor","tutu","tux","tweak","tweed","tweet","tweezers","twelve","twentieth","twenty","twerp","twice","twiddle","twiddling","twig","twilight","twine","twins","twirl","twistable","twisted","twister","twisting","twisty","twitch","twitter","tycoon","tying","tyke","udder","ultimate","ultimatum","ultra","umbilical","umbrella","umpire","unabashed","unable","unadorned","unadvised","unafraid","unaired","unaligned","unaltered","unarmored","unashamed","unaudited","unawake","unaware","unbaked","unbalance","unbeaten","unbend","unbent","unbiased","unbitten","unblended","unblessed","unblock","unbolted","unbounded","unboxed","unbraided","unbridle","unbroken","unbuckled","unbundle","unburned","unbutton","uncanny","uncapped","uncaring","uncertain","unchain","unchanged","uncharted","uncheck","uncivil","unclad","unclaimed","unclamped","unclasp","uncle","unclip","uncloak","unclog","unclothed","uncoated","uncoiled","uncolored","uncombed","uncommon","uncooked","uncork","uncorrupt","uncounted","uncouple","uncouth","uncover","uncross","uncrown","uncrushed","uncured","uncurious","uncurled","uncut","undamaged","undated","undaunted","undead","undecided","undefined","underage","underarm","undercoat","undercook","undercut","underdog","underdone","underfed","underfeed","underfoot","undergo","undergrad","underhand","underline","underling","undermine","undermost","underpaid","underpass","underpay","underrate","undertake","undertone","undertook","undertow","underuse","underwear","underwent","underwire","undesired","undiluted","undivided","undocked","undoing","undone","undrafted","undress","undrilled","undusted","undying","unearned","unearth","unease","uneasily","uneasy","uneatable","uneaten","unedited","unelected","unending","unengaged","unenvied","unequal","unethical","uneven","unexpired","unexposed","unfailing","unfair","unfasten","unfazed","unfeeling","unfiled","unfilled","unfitted","unfitting","unfixable","unfixed","unflawed","unfocused","unfold","unfounded","unframed","unfreeze","unfrosted","unfrozen","unfunded","unglazed","ungloved","unglue","ungodly","ungraded","ungreased","unguarded","unguided","unhappily","unhappy","unharmed","unhealthy","unheard","unhearing","unheated","unhelpful","unhidden","unhinge","unhitched","unholy","unhook","unicorn","unicycle","unified","unifier","uniformed","uniformly","unify","unimpeded","uninjured","uninstall","uninsured","uninvited","union","uniquely","unisexual","unison","unissued","unit","universal","universe","unjustly","unkempt","unkind","unknotted","unknowing","unknown","unlaced","unlatch","unlawful","unleaded","unlearned","unleash","unless","unleveled","unlighted","unlikable","unlimited","unlined","unlinked","unlisted","unlit","unlivable","unloaded","unloader","unlocked","unlocking","unlovable","unloved","unlovely","unloving","unluckily","unlucky","unmade","unmanaged","unmanned","unmapped","unmarked","unmasked","unmasking","unmatched","unmindful","unmixable","unmixed","unmolded","unmoral","unmovable","unmoved","unmoving","unnamable","unnamed","unnatural","unneeded","unnerve","unnerving","unnoticed","unopened","unopposed","unpack","unpadded","unpaid","unpainted","unpaired","unpaved","unpeeled","unpicked","unpiloted","unpinned","unplanned","unplanted","unpleased","unpledged","unplowed","unplug","unpopular","unproven","unquote","unranked","unrated","unraveled","unreached","unread","unreal","unreeling","unrefined","unrelated","unrented","unrest","unretired","unrevised","unrigged","unripe","unrivaled","unroasted","unrobed","unroll","unruffled","unruly","unrushed","unsaddle","unsafe","unsaid","unsalted","unsaved","unsavory","unscathed","unscented","unscrew","unsealed","unseated","unsecured","unseeing","unseemly","unseen","unselect","unselfish","unsent","unsettled","unshackle","unshaken","unshaved","unshaven","unsheathe","unshipped","unsightly","unsigned","unskilled","unsliced","unsmooth","unsnap","unsocial","unsoiled","unsold","unsolved","unsorted","unspoiled","unspoken","unstable","unstaffed","unstamped","unsteady","unsterile","unstirred","unstitch","unstopped","unstuck","unstuffed","unstylish","unsubtle","unsubtly","unsuited","unsure","unsworn","untagged","untainted","untaken","untamed","untangled","untapped","untaxed","unthawed","unthread","untidy","untie","until","untimed","untimely","untitled","untoasted","untold","untouched","untracked","untrained","untreated","untried","untrimmed","untrue","untruth","unturned","untwist","untying","unusable","unused","unusual","unvalued","unvaried","unvarying","unveiled","unveiling","unvented","unviable","unvisited","unvocal","unwanted","unwarlike","unwary","unwashed","unwatched","unweave","unwed","unwelcome","unwell","unwieldy","unwilling","unwind","unwired","unwitting","unwomanly","unworldly","unworn","unworried","unworthy","unwound","unwoven","unwrapped","unwritten","unzip","upbeat","upchuck","upcoming","upcountry","update","upfront","upgrade","upheaval","upheld","uphill","uphold","uplifted","uplifting","upload","upon","upper","upright","uprising","upriver","uproar","uproot","upscale","upside","upstage","upstairs","upstart","upstate","upstream","upstroke","upswing","uptake","uptight","uptown","upturned","upward","upwind","uranium","urban","urchin","urethane","urgency","urgent","urging","urologist","urology","usable","usage","useable","used","uselessly","user","usher","usual","utensil","utility","utilize","utmost","utopia","utter","vacancy","vacant","vacate","vacation","vagabond","vagrancy","vagrantly","vaguely","vagueness","valiant","valid","valium","valley","valuables","value","vanilla","vanish","vanity","vanquish","vantage","vaporizer","variable","variably","varied","variety","various","varmint","varnish","varsity","varying","vascular","vaseline","vastly","vastness","veal","vegan","veggie","vehicular","velcro","velocity","velvet","vendetta","vending","vendor","veneering","vengeful","venomous","ventricle","venture","venue","venus","verbalize","verbally","verbose","verdict","verify","verse","version","versus","vertebrae","vertical","vertigo","very","vessel","vest","veteran","veto","vexingly","viability","viable","vibes","vice","vicinity","victory","video","viewable","viewer","viewing","viewless","viewpoint","vigorous","village","villain","vindicate","vineyard","vintage","violate","violation","violator","violet","violin","viper","viral","virtual","virtuous","virus","visa","viscosity","viscous","viselike","visible","visibly","vision","visiting","visitor","visor","vista","vitality","vitalize","vitally","vitamins","vivacious","vividly","vividness","vixen","vocalist","vocalize","vocally","vocation","voice","voicing","void","volatile","volley","voltage","volumes","voter","voting","voucher","vowed","vowel","voyage","wackiness","wad","wafer","waffle","waged","wager","wages","waggle","wagon","wake","waking","walk","walmart","walnut","walrus","waltz","wand","wannabe","wanted","wanting","wasabi","washable","washbasin","washboard","washbowl","washcloth","washday","washed","washer","washhouse","washing","washout","washroom","washstand","washtub","wasp","wasting","watch","water","waviness","waving","wavy","whacking","whacky","wham","wharf","wheat","whenever","whiff","whimsical","whinny","whiny","whisking","whoever","whole","whomever","whoopee","whooping","whoops","why","wick","widely","widen","widget","widow","width","wieldable","wielder","wife","wifi","wikipedia","wildcard","wildcat","wilder","wildfire","wildfowl","wildland","wildlife","wildly","wildness","willed","willfully","willing","willow","willpower","wilt","wimp","wince","wincing","wind","wing","winking","winner","winnings","winter","wipe","wired","wireless","wiring","wiry","wisdom","wise","wish","wisplike","wispy","wistful","wizard","wobble","wobbling","wobbly","wok","wolf","wolverine","womanhood","womankind","womanless","womanlike","womanly","womb","woof","wooing","wool","woozy","word","work","worried","worrier","worrisome","worry","worsening","worshiper","worst","wound","woven","wow","wrangle","wrath","wreath","wreckage","wrecker","wrecking","wrench","wriggle","wriggly","wrinkle","wrinkly","wrist","writing","written","wrongdoer","wronged","wrongful","wrongly","wrongness","wrought","xbox","xerox","yahoo","yam","yanking","yapping","yard","yarn","yeah","yearbook","yearling","yearly","yearning","yeast","yelling","yelp","yen","yesterday","yiddish","yield","yin","yippee","yo-yo","yodel","yoga","yogurt","yonder","yoyo","yummy","zap","zealous","zebra","zen","zeppelin","zero","zestfully","zesty","zigzagged","zipfile","zipping","zippy","zips","zit","zodiac","zombie","zone","zoning","zookeeper","zoologist","zoology","zoom"]),Net=Object.freeze(Tet.filter(t=>!t.includes("-")));let Pet=/[a-z]/,Ret=/[A-Z]/,Oet=/[0-9]/,cse="!@#$%^&*()\\-_+.",use=`a-zA-Z0-9${cse}`,jet=RegExp(`[${cse}]`),Met=RegExp(`[${use}]`);const Det=RegExp(`^[${use}]{6,}$`),Let=(t="")=>[...new Set(t.split("").filter(e=>!Met.test(e)).map(e=>e.replace(" ","SPACE")))],dse=()=>ket(4,Net);function Fet(t){return t>.9?"Strong":t>.5?"Medium":"Weak"}function Bet(t){if(t.length<8)return 0;let e=0;return Pet.test(t)&&(e+=1),Ret.test(t)&&(e+=1),Oet.test(t)&&(e+=1),jet.test(t)&&(e+=1),Math.max(0,Math.min(1,e/3))}function Uet(t=""){return(.3*Bet(t)+Eet(t)/95)/2}function Wet(t=""){let e=Uet(t);return{value:e,label:Fet(e)}}function zet({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const Het=C.forwardRef(zet);function qet({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Vet=C.forwardRef(qet);function Get({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const Ket=C.forwardRef(Get);let Yet=ai(["font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;text-align:left;transition:color 0.1s ease-in;"]);const fse=ne.span.withConfig({displayName:"StatusText",componentId:"sc-3f6866a9-0"})([""," transition:color 0.1s ease-in;color:",";text-transform:",";&[aria-hidden='true']{visibility:hidden;}"],Yet,({error:t})=>t?"var(--privy-color-error)":"var(--privy-color-foreground-3)",({error:t})=>t?"":"capitalize"),Y8=ne.div.withConfig({displayName:"EmbeddedWalletScreenContainer",componentId:"sc-3f6866a9-1"})(["display:flex;flex-direction:column;justify-content:center;flex-grow:1;"]),Z8=ne(at).withConfig({displayName:"NoAnimationPrimaryButton",componentId:"sc-3f6866a9-2"})(["",""],t=>t.hideAnimations&&ai(["&&{transition:none;}"]));let hse=ai(["&&{width:100%;border-width:1px;border-radius:var(--privy-border-radius-md);border-color:var(--privy-color-foreground-3);background:var(--privy-color-background);color:var(--privy-color-foreground);padding:12px;font-size:16px;font-style:normal;font-weight:300;line-height:22px;}"]);const HN=ne.input.withConfig({displayName:"PasswordInput",componentId:"sc-3f6866a9-3"})([""," &::placeholder{color:var(--privy-color-foreground-3);font-style:italic;font-size:14px;}overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"],hse),Zet=ne.div.withConfig({displayName:"PasswordDisplay",componentId:"sc-3f6866a9-4"})(["",""],hse),J8=ne.div.withConfig({displayName:"PasswordContainer",componentId:"sc-3f6866a9-5"})(["position:relative;width:100%;display:flex;align-items:center;justify-content:",";"],({centered:t})=>t?"center":"space-between"),Q8=ne.div.withConfig({displayName:"Header",componentId:"sc-3f6866a9-6"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin:32px 0;gap:4px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]),qN=ne.div.withConfig({displayName:"Details",componentId:"sc-3f6866a9-7"})(["display:flex;flex-direction:column;gap:10px;padding-bottom:1rem;"]),p$=ne.div.withConfig({displayName:"DetailItem",componentId:"sc-3f6866a9-8"})(["display:flex;text-align:left;align-items:center;gap:8px;max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;margin:0 8px;color:var(--privy-color-foreground-2);> :first-child{min-width:24px;}"]),XU=ne(y8).withConfig({displayName:"ExportButton",componentId:"sc-3f6866a9-10"})(["display:flex;flex:1;gap:4px;justify-content:center;&&{background:var(--privy-color-background);border-radius:var(--privy-border-radius-md);border-color:var(--privy-color-foreground-3);border-width:1px;}"]),VN=ne.div.withConfig({displayName:"InputRightIcons",componentId:"sc-3f6866a9-11"})(["position:absolute;right:0.5rem;display:flex;flex-direction:row;justify-content:space-around;align-items:center;"]),Jet=ne(Het).withConfig({displayName:"RegenerateIcon",componentId:"sc-3f6866a9-12"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),GN=ne(Ket).withConfig({displayName:"HiddenIcon",componentId:"sc-3f6866a9-13"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),KN=ne(Vet).withConfig({displayName:"ShownIcon",componentId:"sc-3f6866a9-14"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),Qet=ne.progress.withConfig({displayName:"StrengthMeter",componentId:"sc-3f6866a9-15"})(["height:4px;width:100%;margin:8px 0;::-webkit-progress-bar{border-radius:8px;background:var(--privy-color-foreground-4);}::-webkit-progress-value{border-radius:8px;transition:all 0.1s ease-out;background:",";}"],({label:t})=>(t==="Strong"?"#78dca6":t==="Medium"&&"var(--privy-color-warn)")||"var(--privy-color-error)"),Xet=({buttonHideAnimations:t,buttonLoading:e,password:r,onSubmit:n,onBack:i})=>{let[s,o]=C.useState(!0),[a,l]=C.useState(!1),[c,u]=C.useState(""),f=r===c;return C.useEffect(()=>{c&&!a&&l(!0)},[c]),d.jsxs(d.Fragment,{children:[d.jsx(ze,{closeable:!1,backFn:i}),d.jsx(wr,{}),d.jsxs(Y8,{children:[d.jsxs(Q8,{children:[d.jsx(Zu,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-accent)"}),d.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Confirm your password"}),d.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Please re-enter your password below to continue."})]}),d.jsxs(J8,{children:[d.jsx(HN,{value:c,onChange:h=>u(h.target.value),onKeyUp:h=>{h.key==="Enter"&&n()},onBlur:()=>l(!0),placeholder:"confirm your password",type:s?"password":"text",style:{paddingRight:"2.3rem"}}),d.jsx(VN,{style:{right:"0.75rem"},children:s?d.jsx(GN,{onClick:()=>o(!1)}):d.jsx(KN,{onClick:()=>o(!0)})})]}),d.jsx(fse,{"aria-hidden":!a||f,error:!0,children:"Passwords do not match"})]}),d.jsx(Z8,{onClick:n,loading:e,disabled:!f,hideAnimations:t,children:"Continue"}),d.jsx(vr,{}),d.jsx(ft,{})]})},ett=({className:t,checked:e,color:r="var(--privy-color-accent)",...n})=>d.jsx("label",{children:d.jsxs(ttt,{className:t,children:[d.jsx(gse,{checked:e,...n}),d.jsx(rtt,{color:r,checked:e,children:d.jsx(pse,{viewBox:"0 0 24 24",children:d.jsx("polyline",{points:"20 6 9 17 4 12"})})})]})});let ttt=ne.div.withConfig({displayName:"CheckboxContainer",componentId:"sc-db51b935-1"})(["display:inline-block;vertical-align:middle;"]),pse=ne.svg.withConfig({displayName:"Icon",componentId:"sc-db51b935-2"})(["fill:none;stroke:white;stroke-width:3px;"]),gse=ne.input.attrs({type:"checkbox"}).withConfig({displayName:"HiddenCheckbox",componentId:"sc-db51b935-3"})(["border:0;clip:rect(0 0 0 0);clippath:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;"]),rtt=ne.div.withConfig({displayName:"StyledCheckbox",componentId:"sc-db51b935-4"})(["display:inline-block;width:18px;height:18px;transition:all 150ms;cursor:pointer;border-color:",";border-radius:3px;background:",";&&{border-width:1px;}",":focus + &{box-shadow:0 0 0 1px ",";}","{visibility:",";}"],t=>t.color,t=>t.checked?t.color:"var(--privy-color-background)",gse,t=>t.color,pse,t=>t.checked?"visible":"hidden");const ntt=({buttonHideAnimations:t,buttonLoading:e,onSubmit:r,onBack:n,config:i})=>{let[s,o]=C.useState(!1);return d.jsxs(d.Fragment,{children:[d.jsx(ze,{closeable:!1,backFn:n}),d.jsx(wr,{}),d.jsxs(Y8,{children:[d.jsxs(Q8,{children:[d.jsx(Zu,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-error)"}),d.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Confirm you have saved"}),d.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Losing access to your password means you will lose access to your account."})]}),d.jsx(qN,{children:d.jsxs(p$,{style:{color:"var(--privy-color-error)",cursor:"pointer"},onClick:a=>{a.preventDefault(),o(l=>!l)},children:[d.jsx(ett,{color:"var(--privy-color-error)",readOnly:!0,checked:s}),d.jsx(d.Fragment,{children:"I understand that if I lose my password and device, I will lose access to my account and my assets."})]})})]}),d.jsxs(itt,{children:[i.initiatedBy==="user"&&d.jsx(Mu,{onClick:i.onCancel,disabled:e,children:"Cancel"}),d.jsx(Z8,{onClick:r,loading:e,hideAnimations:t,disabled:!s,children:"Set Password"})]}),d.jsx(vr,{}),d.jsx(ft,{})]})};let itt=ne.div.withConfig({displayName:"ButtonsContainer",componentId:"sc-eb601350-0"})(["display:flex;gap:10px;"]);function stt({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const ott=C.forwardRef(stt),att=({buttonHideAnimations:t,buttonLoading:e,password:r="",config:n,isResettingPassword:i,onSubmit:s,onClose:o,onBack:a,onPasswordChange:l,onPasswordGenerate:c})=>{let[u,f]=C.useState(!1),[h,p]=C.useState(!1);C.useEffect(()=>{r&&!h&&p(!0)},[r]);let g=C.useMemo(()=>h?6>((r==null?void 0:r.length)||0)?"Password must be at least 6 characters":Det.test(r||"")?null:`Invalid characters used ( ${Let(r).join(" ")} )`:null,[r,h]),m=C.useMemo(()=>g?{value:0,label:"Weak"}:Wet(r),[r,g]),w=C.useMemo(()=>!(r!=null&&r.length)||!!g,[g,r]);return d.jsxs(d.Fragment,{children:[d.jsx(ze,{onClose:o,closeable:n.initiatedBy==="user",backFn:a}),d.jsx(wr,{}),d.jsxs(Y8,{children:[d.jsxs(Q8,{children:[d.jsx(ott,{height:48,width:48,stroke:"var(--privy-color-accent)"}),d.jsxs("h3",{style:{color:"var(--privy-color-foreground)"},children:[i?"Reset":"Set"," your password"]}),d.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Select a strong, memorable password to secure your account."})]}),d.jsxs(J8,{children:[d.jsx(HN,{value:r,onChange:y=>l(y.target.value),onKeyUp:y=>{y.key==="Enter"&&s()},placeholder:"enter or generate a strong password",type:u?"password":"text",style:{paddingRight:"3.8rem"}}),d.jsxs(VN,{style:{width:"3.5rem"},children:[u?d.jsx(GN,{onClick:()=>f(!1)}):d.jsx(KN,{onClick:()=>f(!0)}),d.jsx(Jet,{onClick:c})]})]}),d.jsx(Qet,{value:m.value===0?.01:m.value,label:m.label}),d.jsx(fse,{error:!!g,children:g||`Password Strength: ${h?m.label:"--"}`}),d.jsxs(ctt,{children:[d.jsx(ltt,{children:d.jsxs(qN,{children:[d.jsxs(p$,{children:[d.jsx(Uh,{width:24,height:24,fill:"var(--privy-color-accent)"}),"This password is used to secure your account."]}),d.jsxs(p$,{children:[d.jsx(Uh,{width:24,height:24,fill:"var(--privy-color-accent)"}),"Use it to log in on a new environment, like another browser or device."]})]})}),d.jsx(Z8,{onClick:s,loading:e,disabled:w,hideAnimations:t,children:"Continue"})]})]}),d.jsx(vr,{}),d.jsx(ft,{})]})};let ltt=ne(qN).withConfig({displayName:"DetailsContainer",componentId:"sc-7b3b7727-0"})(["flex:1;padding-top:1rem;"]),ctt=ne.div.withConfig({displayName:"LowerContainer",componentId:"sc-7b3b7727-1"})(["display:flex;flex-direction:column;height:100%;"]);function utt({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const dtt=C.forwardRef(utt);function ftt({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const mse=C.forwardRef(ftt);function htt({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const ptt=C.forwardRef(htt),gtt=({buttonHideAnimations:t,buttonLoading:e,appName:r,password:n,onSubmit:i,onBack:s})=>{let[o,a]=C.useState(!1),l=C.useCallback(()=>{a(!0),n&&navigator.clipboard.writeText(n)},[n]),c=C.useCallback(()=>{let u=document.createElement("a"),f=r.toLowerCase().replace(/[^a-z\s]/g,"").replace(/\s/g,"-"),h=new Blob([mtt(r,n)],{type:"text/plain"}),p=URL.createObjectURL(h);u.href=p,u.target="_blank",u.download=`${f}-privy-wallet-recovery.txt`,document.body.appendChild(u),u.click(),setTimeout(()=>{u.remove(),URL.revokeObjectURL(p)},5e3)},[n]);return d.jsxs(d.Fragment,{children:[d.jsx(ze,{backFn:s,closeable:!1}),d.jsx(wr,{}),d.jsxs(Y8,{children:[d.jsxs(Q8,{children:[d.jsx(Zu,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-accent)"}),d.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Save your password"}),d.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"For your security, this password cannot be reset, so keep it somewhere safe."})]}),d.jsx(J8,{centered:!0,children:d.jsx(Zet,{children:n})}),d.jsxs("div",{style:{display:"flex",margin:"12px 0",gap:"12px"},children:[d.jsx(XU,{onClick:l,children:d.jsxs(d.Fragment,o?{children:[d.jsx(mse,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Copied"]}:{children:[d.jsx(ptt,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Copy"]})}),d.jsxs(XU,{onClick:c,children:[d.jsx(dtt,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Download"]})]})]}),d.jsx(Z8,{onClick:i,loading:e,hideAnimations:t,children:"Continue"}),d.jsx(vr,{}),d.jsx(ft,{})]})};let mtt=(t,e)=>`Your wallet recovery password for ${t} is

${e}

You will need this password to access your ${t} wallet on a new device. Please keep it somewhere safe.`;const ytt=({error:t,onClose:e})=>d.jsxs(d.Fragment,{children:[d.jsx(ze,{closeable:!1}),d.jsx(wr,{}),d.jsxs(Ju,t?{children:[d.jsx(_8,{fill:"var(--privy-color-error)",width:"64px",height:"64px"}),d.jsx(Yr,{title:"Something went wrong",description:t})]}:{children:[d.jsx(Uh,{fill:"var(--privy-color-success)",width:"64px",height:"64px"}),d.jsx(Yr,{title:"Success"})]}),d.jsx(at,{onClick:e,children:"Close"}),d.jsx(vr,{}),d.jsx(ft,{})]});let wtt=(t,e)=>{switch(t){case"creating":return e==="back"?t:"saving";case"saving":return e==="back"?"creating":"confirming";case"confirming":return e==="back"?"saving":"finalizing";case"finalizing":return e==="back"?"confirming":"done";default:return t}};const btt=()=>{let[t,e]=C.useReducer(wtt,"creating");return{send:e,state:t}},yse=({onSubmit:t,...e})=>{let{lastScreen:r,navigate:n}=qe(),{send:i,state:s}=btt(),o=C.useCallback(async()=>{s==="finalizing"&&await t(),i("next")},[s,i,t]);C.useEffect(()=>{let c;return s==="done"&&e.config.initiatedBy==="automatic"&&(c=setTimeout(()=>{var u;return(u=e.onClose)==null?void 0:u.call(e)},zr)),()=>{c&&clearTimeout(c)}},[s,e.config.initiatedBy,e.onClose]);let a=C.useCallback(()=>{i("back")},[i]),l=C.useCallback(()=>{n(se.EMBEDDED_WALLET_RECOVERY_SELECTION_SCREEN)},[r,n]);return s==="creating"?d.jsx(att,{...e,onSubmit:o,onBack:r===se.EMBEDDED_WALLET_RECOVERY_SELECTION_SCREEN?l:void 0}):s==="saving"?d.jsx(gtt,{...e,onSubmit:o,onBack:a}):s==="confirming"?d.jsx(Xet,{...e,onSubmit:o,onBack:a}):s==="finalizing"?d.jsx(ntt,{...e,onSubmit:o,onBack:a}):s==="done"?d.jsx(ytt,{...e,onSubmit:o}):null},vtt=()=>{let[t,e]=C.useState(null),[r,n]=C.useState(!1),[i,s]=C.useState(null),[o,a]=C.useState(""),{authenticated:l,getAccessToken:c,user:u}=zt(),{walletProxy:f,refreshUser:h,closePrivyModal:p,createAnalyticsEvent:g}=Ye(),{app:m,navigate:w,data:y,onUserCloseViaDialogOrKeybindRef:E}=qe(),{onSuccess:v,onFailure:b}=y.createWallet,$=Is(u),P=(t==null?void 0:t.recoveryMethod)==="user-passcode",O=($==null?void 0:$.recoveryMethod)==="user-passcode";C.useEffect(()=>{l||(w(se.LANDING),b(new TEe("User must be authenticated before setting a password on a Privy wallet")))},[l]);let D=()=>i?(b(i),void p({shouldCallAuthOnSuccess:!1})):P?(v(t),void p({shouldCallAuthOnSuccess:!1})):(b(new Gd("Exited before password was added to wallet")),void p({shouldCallAuthOnSuccess:!1}));return E.current=D,d.jsx(yse,{appName:(m==null?void 0:m.name)||"privy",config:{initiatedBy:"user",onCancel:D},error:i?"An error has occurred, please try again.":void 0,buttonLoading:r,buttonHideAnimations:!1,password:o,isResettingPassword:O,onPasswordGenerate:()=>a(dse()),onPasswordChange:a,onSubmit:async()=>{P?(v(t),p({shouldCallAuthOnSuccess:!1})):(n(!0),s(null),await(async()=>{let B=await c();if(B&&($!=null&&$.address)&&o&&f)try{g({eventName:"embedded_wallet_set_recovery_started",payload:{walletAddress:$.address,existingRecoveryMethod:$.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:O}});let{entropyId:H,entropyIdVerifier:q}=Qr($);if(!(await f.setRecovery({accessToken:B,entropyId:H,entropyIdVerifier:q,recoveryPassword:o,recoveryMethod:"user-passcode"})).entropyId)return s(new Gd("Error setting password on privy wallet")),void g({eventName:"embedded_wallet_set_recovery_failed",payload:{walletAddress:$.address,existingRecoveryMethod:$.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:O,reason:"error setting password"}});let Y=await h(),R=Is(Y);if(!R)return s(new Gd("Error setting password on privy wallet")),void g({eventName:"embedded_wallet_set_recovery_failed",payload:{walletAddress:$.address,existingRecoveryMethod:$.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:O,reason:"wallet disconnected"}});e(R),g({eventName:"embedded_wallet_set_recovery_completed",payload:{walletAddress:$.address,existingRecoveryMethod:$.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:O}})}catch(H){console.warn(H),s(H instanceof Error?H:Error("Error setting password on privy wallet")),g({eventName:"embedded_wallet_set_password_failed",payload:{walletAddress:$.address,reason:H}})}})(),n(!1))},onClose:D})};function xtt({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const YN=C.forwardRef(xtt);function Ett({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{fillRule:"evenodd",d:"M12 1.5a5.25 5.25 0 0 0-5.25 5.25v3a3 3 0 0 0-3 3v6.75a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3v-6.75a3 3 0 0 0-3-3v-3c0-2.9-2.35-5.25-5.25-5.25Zm3.75 8.25v-3a3.75 3.75 0 1 0-7.5 0v3h7.5Z",clipRule:"evenodd"}))}const wse=C.forwardRef(Ett),_tt=()=>{let{closePrivyModal:t}=Ye(),{data:e,setModalData:r,navigate:n,onUserCloseViaDialogOrKeybindRef:i}=qe(),{onSuccess:s,onFailure:o}=e.setWalletPassword,a=()=>{o(new Gd("Exited before password was added to wallet")),t({shouldCallAuthOnSuccess:!1})};return i.current=a,d.jsxs(d.Fragment,{children:[d.jsx(ze,{onClose:a}),d.jsx(wr,{}),d.jsxs(Ju,{children:[d.jsxs(gPe,{children:[d.jsx(YN,{stroke:"var(--privy-color-accent)",width:"64px",height:"64px"}),d.jsx(mPe,{style:{width:24,height:24,position:"absolute",bottom:0,right:0},children:d.jsx(wse,{width:"12px",height:"12px",fill:"white"})})]}),d.jsxs(Yr,{title:"Secure Your Account",children:["Please set a password to secure your account.",d.jsx("p",{children:"Losing access to this password and this device will make your account inaccessible."})]})]}),d.jsx(at,{onClick:()=>{r({createWallet:{onFailure:o,onSuccess:s,callAuthOnSuccessOnClose:!1,addPasswordToExistingWallet:!0}}),n(se.EMBEDDED_WALLET_PASSWORD_UPDATE_SCREEN)},children:"Add password"}),d.jsx(vr,{}),d.jsx(ft,{})]})};let Ctt=(t,e)=>{let r=d.jsx(Zu,{height:38,width:38,stroke:"var(--privy-color-error)"});if(t instanceof le)switch(t.privyErrorCode){case ue.CLIENT_REQUEST_TIMEOUT:return{title:"Timed out",detail:t.message,ctaText:"Try again",icon:r};case ue.INSUFFICIENT_BALANCE:return{title:"Insufficient balance",detail:t.message,ctaText:"Try again",icon:r};case ue.TRANSACTION_FAILURE:return{title:"Transaction failure",detail:t.message,ctaText:"Try again",icon:r};default:return{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:r}}else{if(t instanceof on&&t.type==="twilio_verification_failed")return{title:"Something went wrong",detail:t.message,ctaText:"Try again",icon:d.jsx(ol,{height:38,width:38,stroke:"var(--privy-color-error)"})};if(!(t instanceof Ks))return t instanceof Qo&&t.status&&[400,422].includes(t.status)?{title:"Something went wrong",detail:t.message,ctaText:"Try again",icon:r}:{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:r};switch(t.privyErrorCode){case ue.INVALID_CAPTCHA:return{title:"Something went wrong",detail:"Please try again.",ctaText:"Try again",icon:r};case ue.DISALLOWED_LOGIN_METHOD:return{title:"Not allowed",detail:t.message,ctaText:"Try another method",icon:r};case ue.ALLOWLIST_REJECTED:return{title:e.errorTitle||"You don't have access to this app",detail:e.errorDetail||"Have you been invited?",ctaText:e.errorCtaText||"Try another account",icon:d.jsx(ste,{style:{width:"38px",height:"38px",strokeWidth:"1",stroke:"var(--privy-color-accent)",fill:"var(--privy-color-accent)"}})};case ue.CAPTCHA_FAILURE:return{title:"Something went wrong",detail:"You did not pass CAPTCHA. Please try again.",ctaText:"Try again",icon:d.jsx("span",{})};case ue.CAPTCHA_TIMEOUT:return{title:"Something went wrong",detail:"Something went wrong! Please try again later.",ctaText:"Try again",icon:d.jsx("span",{})};case ue.LINKED_TO_ANOTHER_USER:return{title:"Authentication failed",detail:"This account has already been linked to another user.",ctaText:"Try again",icon:r};case ue.NOT_SUPPORTED:return{title:"This region is not supported",detail:"SMS authentication from this region is not available",ctaText:"Try another method",icon:r};case ue.TOO_MANY_REQUESTS:return{title:"Request failed",detail:"Too many attempts.",ctaText:"Try again later",icon:r};default:return{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:r}}}};const Att=()=>{var o,a;let{navigate:t,navigateBack:e,data:r,lastScreen:n,currentScreen:i}=qe(),s=((o=r==null?void 0:r.errorModalData)==null?void 0:o.previousScreen)||(n===i?void 0:n);return d.jsx(qw,{error:((a=r==null?void 0:r.errorModalData)==null?void 0:a.error)||Error(),backFn:()=>s?t(s,!1):e(),onClick:()=>t(s||se.LANDING,!1)})},qw=({error:t,backFn:e,onClick:r})=>{let{reset:n}=eo(),{app:i}=qe(),s=Ctt(t,i.allowlistConfig);return d.jsxs(d.Fragment,{children:[d.jsx(ze,{backFn:e}),d.jsxs(Stt,{children:[d.jsx(Ys,{children:d.jsxs("div",{children:[d.jsx(HT,{color:"var(--privy-color-error)"}),s.icon]})}),d.jsxs($tt,{children:[d.jsx("h3",{children:s.title}),d.jsx("p",{children:s.detail})]}),d.jsx(at,{color:"var(--privy-color-error)",onClick:()=>{t instanceof Ks&&(t.privyErrorCode===ue.INVALID_CAPTCHA&&n(),t.privyErrorCode===ue.ALLOWLIST_REJECTED&&i.allowlistConfig.errorCtaLink)?window.location.href=i.allowlistConfig.errorCtaLink:r==null||r()},children:s.ctaText})]})]})};let Stt=ne.div.withConfig({displayName:"ConnectContainer",componentId:"sc-1d84a574-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;padding-bottom:16px;"]),$tt=ne.div.withConfig({displayName:"GappedContainer",componentId:"sc-1d84a574-1"})(["display:flex;flex-direction:column;gap:8px;"]);const bse=({style:t,color:e,...r})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:e||"currentColor",style:{height:"1.5rem",width:"1.5rem",...t},...r,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),Itt=({color:t,...e})=>d.jsx("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 115.77 122.88",xmlSpace:"preserve",...e,children:d.jsx("g",{children:d.jsx("path",{fill:t||"currentColor",className:"st0",d:"M89.62,13.96v7.73h12.19h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02v0.02 v73.27v0.01h-0.02c-0.01,3.84-1.57,7.33-4.1,9.86c-2.51,2.5-5.98,4.06-9.82,4.07v0.02h-0.02h-61.7H40.1v-0.02 c-3.84-0.01-7.34-1.57-9.86-4.1c-2.5-2.51-4.06-5.98-4.07-9.82h-0.02v-0.02V92.51H13.96h-0.01v-0.02c-3.84-0.01-7.34-1.57-9.86-4.1 c-2.5-2.51-4.06-5.98-4.07-9.82H0v-0.02V13.96v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07V0h0.02h61.7 h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02V13.96L89.62,13.96z M79.04,21.69v-7.73v-0.02h0.02 c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v64.59v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h12.19V35.65 v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07v-0.02h0.02H79.04L79.04,21.69z M105.18,108.92V35.65v-0.02 h0.02c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v73.27v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h61.7h0.02 v0.02c0.91,0,1.75-0.39,2.37-1.01c0.61-0.61,1-1.46,1-2.37h-0.02V108.92L105.18,108.92z"})})}),X8=t=>{let[e,r]=C.useState(!1);return d.jsxs(ktt,{color:t.color,onClick:()=>{r(!0),navigator.clipboard.writeText(t.text),setTimeout(()=>r(!1),1500)},justCopied:e,children:[e?d.jsx(bse,{style:{height:"14px",width:"14px"},strokeWidth:"2"}):d.jsx(Itt,{style:{height:"14px",width:"14px"}}),e?"Copied":"Copy"," ",t.itemName?t.itemName:"to Clipboard"]})};let ktt=ne.button.withConfig({displayName:"StyledCopytoClipboardButton",componentId:"sc-9c2ee64b-0"})(["display:flex;align-items:center;gap:6px;&&{margin:8px 2px;font-size:14px;color:",";font-weight:",";transition:color 350ms ease;:focus,:active{background-color:transparent;border:none;outline:none;box-shadow:none;}:hover{color:",";}:active{color:'var(--privy-color-foreground)';font-weight:medium;}@media (max-width:440px){margin:12px 2px;}}svg{width:14px;height:14px;}"],t=>t.justCopied?"var(--privy-color-foreground)":t.color||"var(--privy-color-foreground-3)",t=>t.justCopied?"medium":"normal",t=>t.justCopied?"var(--privy-color-foreground)":"var(--privy-color-foreground-2)");const vse=t=>{let[e,r]=C.useState(!1);return d.jsx(Ttt,{color:t.color,href:t.url,target:"_blank",rel:"noreferrer noopener",onClick:()=>{r(!0),setTimeout(()=>r(!1),1500)},justOpened:e,children:t.text})};let Ttt=ne.a.withConfig({displayName:"StyledOpenLinkButton",componentId:"sc-4e695c83-0"})(["display:flex;align-items:center;gap:6px;&&{margin:8px 2px;font-size:14px;color:",";font-weight:",";transition:color 350ms ease;:focus,:active{background-color:transparent;border:none;outline:none;box-shadow:none;}:hover{color:",";}:active{color:'var(--privy-color-foreground)';font-weight:medium;}@media (max-width:440px){margin:12px 2px;}}svg{width:14px;height:14px;}"],t=>t.justOpened?"var(--privy-color-foreground)":t.color||"var(--privy-color-foreground-3)",t=>t.justOpened?"medium":"normal",t=>t.justOpened?"var(--privy-color-foreground)":"var(--privy-color-foreground-2)");var Vw={},Ntt=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},xse={},Do={};let ZN;const Ptt=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Do.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Do.getSymbolTotalCodewords=function(e){return Ptt[e]};Do.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};Do.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');ZN=e};Do.isKanjiModeEnabled=function(){return typeof ZN<"u"};Do.toSJIS=function(e){return ZN(e)};var ex={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,i){if(t.isValid(n))return n;try{return e(n)}catch{return i}}})(ex);function Ese(){this.buffer=[],this.length=0}Ese.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Rtt=Ese;function Gw(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}Gw.prototype.set=function(t,e,r,n){const i=t*this.size+e;this.data[i]=r,n&&(this.reservedBit[i]=!0)};Gw.prototype.get=function(t,e){return this.data[t*this.size+e]};Gw.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r};Gw.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var Ott=Gw,_se={};(function(t){const e=Do.getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,s=e(n),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let l=1;l<i-1;l++)a[l]=a[l-1]-o;return a.push(6),a.reverse()},t.getPositions=function(n){const i=[],s=t.getRowColCoords(n),o=s.length;for(let a=0;a<o;a++)for(let l=0;l<o;l++)a===0&&l===0||a===0&&l===o-1||a===o-1&&l===0||i.push([s[a],s[l]]);return i}})(_se);var Cse={};const jtt=Do.getSymbolSize,eW=7;Cse.getPositions=function(e){const r=jtt(e);return[[0,0],[r-eW,0],[0,r-eW]]};var Ase={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,l=0,c=null,u=null;for(let f=0;f<s;f++){a=l=0,c=u=null;for(let h=0;h<s;h++){let p=i.get(f,h);p===c?a++:(a>=5&&(o+=e.N1+(a-5)),c=p,a=1),p=i.get(h,f),p===u?l++:(l>=5&&(o+=e.N1+(l-5)),u=p,l=1)}a>=5&&(o+=e.N1+(a-5)),l>=5&&(o+=e.N1+(l-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let l=0;l<s-1;l++){const c=i.get(a,l)+i.get(a,l+1)+i.get(a+1,l)+i.get(a+1,l+1);(c===4||c===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,l=0;for(let c=0;c<s;c++){a=l=0;for(let u=0;u<s;u++)a=a<<1&2047|i.get(c,u),u>=10&&(a===1488||a===93)&&o++,l=l<<1&2047|i.get(u,c),u>=10&&(l===1488||l===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let l=0;l<o;l++)s+=i.data[l];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function r(n,i,s){switch(n){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let l=0;l<o;l++)s.isReserved(l,a)||s.xor(l,a,r(i,l,a))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let a=0,l=1/0;for(let c=0;c<o;c++){s(c),t.applyMask(c,i);const u=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(c,i),u<l&&(l=u,a=c)}return a}})(Ase);var tx={};const jd=ex,Ev=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],_v=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];tx.getBlocksCount=function(e,r){switch(r){case jd.L:return Ev[(e-1)*4+0];case jd.M:return Ev[(e-1)*4+1];case jd.Q:return Ev[(e-1)*4+2];case jd.H:return Ev[(e-1)*4+3];default:return}};tx.getTotalCodewordsCount=function(e,r){switch(r){case jd.L:return _v[(e-1)*4+0];case jd.M:return _v[(e-1)*4+1];case jd.Q:return _v[(e-1)*4+2];case jd.H:return _v[(e-1)*4+3];default:return}};var Sse={},rx={};const ty=new Uint8Array(512),p6=new Uint8Array(256);(function(){let e=1;for(let r=0;r<255;r++)ty[r]=e,p6[e]=r,e<<=1,e&256&&(e^=285);for(let r=255;r<512;r++)ty[r]=ty[r-255]})();rx.log=function(e){if(e<1)throw new Error("log("+e+")");return p6[e]};rx.exp=function(e){return ty[e]};rx.mul=function(e,r){return e===0||r===0?0:ty[p6[e]+p6[r]]};(function(t){const e=rx;t.mul=function(n,i){const s=new Uint8Array(n.length+i.length-1);for(let o=0;o<n.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(n[o],i[a]);return s},t.mod=function(n,i){let s=new Uint8Array(n);for(;s.length-i.length>=0;){const o=s[0];for(let l=0;l<i.length;l++)s[l]^=e.mul(i[l],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},t.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let s=0;s<n;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(Sse);const $se=Sse;function JN(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}JN.prototype.initialize=function(e){this.degree=e,this.genPoly=$se.generateECPolynomial(this.degree)};JN.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(e.length+this.degree);r.set(e);const n=$se.mod(r,this.genPoly),i=this.degree-n.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(n,i),s}return n};var Mtt=JN,Ise={},Cf={},QN={};QN.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var _c={};const kse="[0-9]+",Dtt="[A-Z $%*+\\-./:]+";let P2="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";P2=P2.replace(/u/g,"\\u");const Ltt="(?:(?![A-Z0-9 $%*+\\-./:]|"+P2+`)(?:.|[\r
]))+`;_c.KANJI=new RegExp(P2,"g");_c.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");_c.BYTE=new RegExp(Ltt,"g");_c.NUMERIC=new RegExp(kse,"g");_c.ALPHANUMERIC=new RegExp(Dtt,"g");const Ftt=new RegExp("^"+P2+"$"),Btt=new RegExp("^"+kse+"$"),Utt=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");_c.testKanji=function(e){return Ftt.test(e)};_c.testNumeric=function(e){return Btt.test(e)};_c.testAlphanumeric=function(e){return Utt.test(e)};(function(t){const e=QN,r=_c;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return r.testNumeric(s)?t.NUMERIC:r.testAlphanumeric(s)?t.ALPHANUMERIC:r.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return n(s)}catch{return o}}})(Cf);(function(t){const e=Do,r=tx,n=ex,i=Cf,s=QN,o=7973,a=e.getBCHDigit(o);function l(h,p,g){for(let m=1;m<=40;m++)if(p<=t.getCapacity(m,g,h))return m}function c(h,p){return i.getCharCountIndicator(h,p)+4}function u(h,p){let g=0;return h.forEach(function(m){const w=c(m.mode,p);g+=w+m.getBitsLength()}),g}function f(h,p){for(let g=1;g<=40;g++)if(u(h,g)<=t.getCapacity(g,p,i.MIXED))return g}t.from=function(p,g){return s.isValid(p)?parseInt(p,10):g},t.getCapacity=function(p,g,m){if(!s.isValid(p))throw new Error("Invalid QR Code version");typeof m>"u"&&(m=i.BYTE);const w=e.getSymbolTotalCodewords(p),y=r.getTotalCodewordsCount(p,g),E=(w-y)*8;if(m===i.MIXED)return E;const v=E-c(m,p);switch(m){case i.NUMERIC:return Math.floor(v/10*3);case i.ALPHANUMERIC:return Math.floor(v/11*2);case i.KANJI:return Math.floor(v/13);case i.BYTE:default:return Math.floor(v/8)}},t.getBestVersionForData=function(p,g){let m;const w=n.from(g,n.M);if(Array.isArray(p)){if(p.length>1)return f(p,w);if(p.length===0)return 1;m=p[0]}else m=p;return l(m.mode,m.getLength(),w)},t.getEncodedBits=function(p){if(!s.isValid(p)||p<7)throw new Error("Invalid QR Code version");let g=p<<12;for(;e.getBCHDigit(g)-a>=0;)g^=o<<e.getBCHDigit(g)-a;return p<<12|g}})(Ise);var Tse={};const g$=Do,Nse=1335,Wtt=21522,tW=g$.getBCHDigit(Nse);Tse.getEncodedBits=function(e,r){const n=e.bit<<3|r;let i=n<<10;for(;g$.getBCHDigit(i)-tW>=0;)i^=Nse<<g$.getBCHDigit(i)-tW;return(n<<10|i)^Wtt};var Pse={};const ztt=Cf;function R1(t){this.mode=ztt.NUMERIC,this.data=t.toString()}R1.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};R1.prototype.getLength=function(){return this.data.length};R1.prototype.getBitsLength=function(){return R1.getBitsLength(this.data.length)};R1.prototype.write=function(e){let r,n,i;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),i=parseInt(n,10),e.put(i,10);const s=this.data.length-r;s>0&&(n=this.data.substr(r),i=parseInt(n,10),e.put(i,s*3+1))};var Htt=R1;const qtt=Cf,Y7=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function O1(t){this.mode=qtt.ALPHANUMERIC,this.data=t}O1.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};O1.prototype.getLength=function(){return this.data.length};O1.prototype.getBitsLength=function(){return O1.getBitsLength(this.data.length)};O1.prototype.write=function(e){let r;for(r=0;r+2<=this.data.length;r+=2){let n=Y7.indexOf(this.data[r])*45;n+=Y7.indexOf(this.data[r+1]),e.put(n,11)}this.data.length%2&&e.put(Y7.indexOf(this.data[r]),6)};var Vtt=O1;const Gtt=Cf;function j1(t){this.mode=Gtt.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}j1.getBitsLength=function(e){return e*8};j1.prototype.getLength=function(){return this.data.length};j1.prototype.getBitsLength=function(){return j1.getBitsLength(this.data.length)};j1.prototype.write=function(t){for(let e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};var Ktt=j1;const Ytt=Cf,Ztt=Do;function M1(t){this.mode=Ytt.KANJI,this.data=t}M1.getBitsLength=function(e){return e*13};M1.prototype.getLength=function(){return this.data.length};M1.prototype.getBitsLength=function(){return M1.getBitsLength(this.data.length)};M1.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let r=Ztt.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};var Jtt=M1,Rse={exports:{}};(function(t){var e={single_source_shortest_paths:function(r,n,i){var s={},o={};o[n]=0;var a=e.PriorityQueue.make();a.push(n,0);for(var l,c,u,f,h,p,g,m,w;!a.empty();){l=a.pop(),c=l.value,f=l.cost,h=r[c]||{};for(u in h)h.hasOwnProperty(u)&&(p=h[u],g=f+p,m=o[u],w=typeof o[u]>"u",(w||m>g)&&(o[u]=g,a.push(u,g),s[u]=c))}if(typeof i<"u"&&typeof o[i]>"u"){var y=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(y)}return s},extract_shortest_path_from_predecessor_list:function(r,n){for(var i=[],s=n;s;)i.push(s),r[s],s=r[s];return i.reverse(),i},find_path:function(r,n,i){var s=e.single_source_shortest_paths(r,n,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(r){var n=e.PriorityQueue,i={},s;r=r||{};for(s in n)n.hasOwnProperty(s)&&(i[s]=n[s]);return i.queue=[],i.sorter=r.sorter||n.default_sorter,i},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var i={value:r,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(Rse);var Qtt=Rse.exports;(function(t){const e=Cf,r=Htt,n=Vtt,i=Ktt,s=Jtt,o=_c,a=Do,l=Qtt;function c(y){return unescape(encodeURIComponent(y)).length}function u(y,E,v){const b=[];let $;for(;($=y.exec(v))!==null;)b.push({data:$[0],index:$.index,mode:E,length:$[0].length});return b}function f(y){const E=u(o.NUMERIC,e.NUMERIC,y),v=u(o.ALPHANUMERIC,e.ALPHANUMERIC,y);let b,$;return a.isKanjiModeEnabled()?(b=u(o.BYTE,e.BYTE,y),$=u(o.KANJI,e.KANJI,y)):(b=u(o.BYTE_KANJI,e.BYTE,y),$=[]),E.concat(v,b,$).sort(function(O,D){return O.index-D.index}).map(function(O){return{data:O.data,mode:O.mode,length:O.length}})}function h(y,E){switch(E){case e.NUMERIC:return r.getBitsLength(y);case e.ALPHANUMERIC:return n.getBitsLength(y);case e.KANJI:return s.getBitsLength(y);case e.BYTE:return i.getBitsLength(y)}}function p(y){return y.reduce(function(E,v){const b=E.length-1>=0?E[E.length-1]:null;return b&&b.mode===v.mode?(E[E.length-1].data+=v.data,E):(E.push(v),E)},[])}function g(y){const E=[];for(let v=0;v<y.length;v++){const b=y[v];switch(b.mode){case e.NUMERIC:E.push([b,{data:b.data,mode:e.ALPHANUMERIC,length:b.length},{data:b.data,mode:e.BYTE,length:b.length}]);break;case e.ALPHANUMERIC:E.push([b,{data:b.data,mode:e.BYTE,length:b.length}]);break;case e.KANJI:E.push([b,{data:b.data,mode:e.BYTE,length:c(b.data)}]);break;case e.BYTE:E.push([{data:b.data,mode:e.BYTE,length:c(b.data)}])}}return E}function m(y,E){const v={},b={start:{}};let $=["start"];for(let P=0;P<y.length;P++){const O=y[P],D=[];for(let B=0;B<O.length;B++){const H=O[B],q=""+P+B;D.push(q),v[q]={node:H,lastCount:0},b[q]={};for(let Y=0;Y<$.length;Y++){const R=$[Y];v[R]&&v[R].node.mode===H.mode?(b[R][q]=h(v[R].lastCount+H.length,H.mode)-h(v[R].lastCount,H.mode),v[R].lastCount+=H.length):(v[R]&&(v[R].lastCount=H.length),b[R][q]=h(H.length,H.mode)+4+e.getCharCountIndicator(H.mode,E))}}$=D}for(let P=0;P<$.length;P++)b[$[P]].end=0;return{map:b,table:v}}function w(y,E){let v;const b=e.getBestModeForData(y);if(v=e.from(E,b),v!==e.BYTE&&v.bit<b.bit)throw new Error('"'+y+'" cannot be encoded with mode '+e.toString(v)+`.
 Suggested mode is: `+e.toString(b));switch(v===e.KANJI&&!a.isKanjiModeEnabled()&&(v=e.BYTE),v){case e.NUMERIC:return new r(y);case e.ALPHANUMERIC:return new n(y);case e.KANJI:return new s(y);case e.BYTE:return new i(y)}}t.fromArray=function(E){return E.reduce(function(v,b){return typeof b=="string"?v.push(w(b,null)):b.data&&v.push(w(b.data,b.mode)),v},[])},t.fromString=function(E,v){const b=f(E,a.isKanjiModeEnabled()),$=g(b),P=m($,v),O=l.find_path(P.map,"start","end"),D=[];for(let B=1;B<O.length-1;B++)D.push(P.table[O[B]].node);return t.fromArray(p(D))},t.rawSplit=function(E){return t.fromArray(f(E,a.isKanjiModeEnabled()))}})(Pse);const nx=Do,Z7=ex,Xtt=Rtt,ert=Ott,trt=_se,rrt=Cse,m$=Ase,y$=tx,nrt=Mtt,g6=Ise,irt=Tse,srt=Cf,J7=Pse;function ort(t,e){const r=t.size,n=rrt.getPositions(e);for(let i=0;i<n.length;i++){const s=n[i][0],o=n[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||r<=s+a))for(let l=-1;l<=7;l++)o+l<=-1||r<=o+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?t.set(s+a,o+l,!0,!0):t.set(s+a,o+l,!1,!0))}}function art(t){const e=t.size;for(let r=8;r<e-8;r++){const n=r%2===0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}function lrt(t,e){const r=trt.getPositions(e);for(let n=0;n<r.length;n++){const i=r[n][0],s=r[n][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(i+o,s+a,!0,!0):t.set(i+o,s+a,!1,!0)}}function crt(t,e){const r=t.size,n=g6.getEncodedBits(e);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+r-8-3,o=(n>>a&1)===1,t.set(i,s,o,!0),t.set(s,i,o,!0)}function Q7(t,e,r){const n=t.size,i=irt.getEncodedBits(e,r);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?t.set(s,8,o,!0):s<8?t.set(s+1,8,o,!0):t.set(n-15+s,8,o,!0),s<8?t.set(8,n-s-1,o,!0):s<9?t.set(8,15-s-1+1,o,!0):t.set(8,15-s-1,o,!0);t.set(n-8,8,1,!0)}function urt(t,e){const r=t.size;let n=-1,i=r-1,s=7,o=0;for(let a=r-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!t.isReserved(i,a-l)){let c=!1;o<e.length&&(c=(e[o]>>>s&1)===1),t.set(i,a-l,c),s--,s===-1&&(o++,s=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}function drt(t,e,r){const n=new Xtt;r.forEach(function(l){n.put(l.mode.bit,4),n.put(l.getLength(),srt.getCharCountIndicator(l.mode,t)),l.write(n)});const i=nx.getSymbolTotalCodewords(t),s=y$.getTotalCodewordsCount(t,e),o=(i-s)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const a=(o-n.getLengthInBits())/8;for(let l=0;l<a;l++)n.put(l%2?17:236,8);return frt(n,t,e)}function frt(t,e,r){const n=nx.getSymbolTotalCodewords(e),i=y$.getTotalCodewordsCount(e,r),s=n-i,o=y$.getBlocksCount(e,r),a=n%o,l=o-a,c=Math.floor(n/o),u=Math.floor(s/o),f=u+1,h=c-u,p=new nrt(h);let g=0;const m=new Array(o),w=new Array(o);let y=0;const E=new Uint8Array(t.buffer);for(let O=0;O<o;O++){const D=O<l?u:f;m[O]=E.slice(g,g+D),w[O]=p.encode(m[O]),g+=D,y=Math.max(y,D)}const v=new Uint8Array(n);let b=0,$,P;for($=0;$<y;$++)for(P=0;P<o;P++)$<m[P].length&&(v[b++]=m[P][$]);for($=0;$<h;$++)for(P=0;P<o;P++)v[b++]=w[P][$];return v}function hrt(t,e,r,n){let i;if(Array.isArray(t))i=J7.fromArray(t);else if(typeof t=="string"){let c=e;if(!c){const u=J7.rawSplit(t);c=g6.getBestVersionForData(u,r)}i=J7.fromString(t,c||40)}else throw new Error("Invalid data");const s=g6.getBestVersionForData(i,r);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=drt(e,r,i),a=nx.getSymbolSize(e),l=new ert(a);return ort(l,e),art(l),lrt(l,e),Q7(l,r,0),e>=7&&crt(l,e),urt(l,o),isNaN(n)&&(n=m$.getBestMask(l,Q7.bind(null,l,r))),m$.applyMask(n,l),Q7(l,r,n),{modules:l,version:e,errorCorrectionLevel:r,maskPattern:n,segments:i}}xse.create=function(e,r){if(typeof e>"u"||e==="")throw new Error("No input text");let n=Z7.M,i,s;return typeof r<"u"&&(n=Z7.from(r.errorCorrectionLevel,Z7.M),i=g6.from(r.version),s=m$.from(r.maskPattern),r.toSJISFunc&&nx.setToSJISFunction(r.toSJISFunc)),hrt(e,i,n,s)};var Ose={},XN={};(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(s){return[s,s]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,s=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},t.getImageWidth=function(n,i){const s=t.getScale(n,i);return Math.floor((n+i.margin*2)*s)},t.qrToImageData=function(n,i,s){const o=i.modules.size,a=i.modules.data,l=t.getScale(o,s),c=Math.floor((o+s.margin*2)*l),u=s.margin*l,f=[s.color.light,s.color.dark];for(let h=0;h<c;h++)for(let p=0;p<c;p++){let g=(h*c+p)*4,m=s.color.light;if(h>=u&&p>=u&&h<c-u&&p<c-u){const w=Math.floor((h-u)/l),y=Math.floor((p-u)/l);m=f[a[w*o+y]?1:0]}n[g++]=m.r,n[g++]=m.g,n[g++]=m.b,n[g]=m.a}}})(XN);(function(t){const e=XN;function r(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,a){let l=a,c=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(c=n()),l=e.getOptions(l);const u=e.getImageWidth(s.modules.size,l),f=c.getContext("2d"),h=f.createImageData(u,u);return e.qrToImageData(h.data,s,l),r(f,c,u),f.putImageData(h,0,0),c},t.renderToDataURL=function(s,o,a){let l=a;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const c=t.render(s,o,l),u=l.type||"image/png",f=l.rendererOpts||{};return c.toDataURL(u,f.quality)}})(Ose);var jse={};const prt=XN;function rW(t,e){const r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function X7(t,e,r){let n=t+e;return typeof r<"u"&&(n+=" "+r),n}function grt(t,e,r){let n="",i=0,s=!1,o=0;for(let a=0;a<t.length;a++){const l=Math.floor(a%e),c=Math.floor(a/e);!l&&!s&&(s=!0),t[a]?(o++,a>0&&l>0&&t[a-1]||(n+=s?X7("M",l+r,.5+c+r):X7("m",i,0),i=0,s=!1),l+1<e&&t[a+1]||(n+=X7("h",o),o=0)):i++}return n}jse.render=function(e,r,n){const i=prt.getOptions(r),s=e.modules.size,o=e.modules.data,a=s+i.margin*2,l=i.color.light.a?"<path "+rW(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+rW(i.color.dark,"stroke")+' d="'+grt(o,s,i.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof n=="function"&&n(null,h),h};const mrt=Ntt,w$=xse,Mse=Ose,yrt=jse;function eP(t,e,r,n,i){const s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!mrt())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=r,r=e,e=n=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=r,r=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(r=e,e=n=void 0):o===2&&!e.getContext&&(n=r,r=e,e=void 0),new Promise(function(l,c){try{const u=w$.create(r,n);l(t(u,e,n))}catch(u){c(u)}})}try{const l=w$.create(r,n);i(null,t(l,e,n))}catch(l){i(l)}}Vw.create=w$.create;Vw.toCanvas=eP.bind(null,Mse.render);Vw.toDataURL=eP.bind(null,Mse.renderToDataURL);Vw.toString=eP.bind(null,function(t,e,r){return yrt.render(t,r)});const wrt=()=>d.jsx("svg",{width:"200",height:"200",viewBox:"-77 -77 200 200",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px"},children:d.jsx("rect",{width:"50",height:"50",fill:"black",rx:10,ry:10})});let e_=(t,e,r,n,i)=>{for(let s=e;s<e+n;s++)for(let o=r;o<r+i;o++){let a=t==null?void 0:t[o];a&&a[s]&&(a[s]=0)}return t},brt=(t,e)=>{let r=Vw.create(t,{errorCorrectionLevel:e}).modules,n=j9e(Array.from(r.data),r.size);return n=e_(n,0,0,7,7),n=e_(n,n.length-7,0,7,7),e_(n,0,n.length-7,7,7)},vrt=({x:t,y:e,cellSize:r,bgColor:n,fgColor:i})=>d.jsx(d.Fragment,{children:[0,1,2].map(s=>d.jsx("circle",{r:r*(7-2*s)/2,cx:t+7*r/2,cy:e+7*r/2,fill:s%2!=0?n:i},`finder-${t}-${e}-${s}`))}),xrt=({cellSize:t,matrixSize:e,bgColor:r,fgColor:n})=>d.jsx(d.Fragment,{children:[[0,0],[(e-7)*t,0],[0,(e-7)*t]].map(([i,s])=>d.jsx(vrt,{x:i,y:s,cellSize:t,bgColor:r,fgColor:n},`finder-${i}-${s}`))}),Ert=({matrix:t,cellSize:e,color:r})=>d.jsx(d.Fragment,{children:t.map((n,i)=>n.map((s,o)=>s?d.jsx("rect",{height:e-.4,width:e-.4,x:i*e+.1*e,y:o*e+.1*e,rx:.5*e,ry:.5*e,fill:r},`cell-${i}-${o}`):d.jsx(Je.Fragment,{},`circle-${i}-${o}`)))}),_rt=({cellSize:t,matrixSize:e,element:r,sizePercentage:n,bgColor:i})=>{if(!r)return d.jsx(d.Fragment,{});let s=e*(n||.14),o=Math.floor(e/2-s/2),a=Math.floor(e/2+s/2);(a-o)%2!=e%2&&(a+=1);let l=(a-o)*t,c=l-.2*l,u=o*t;return d.jsxs(d.Fragment,{children:[d.jsx("rect",{x:o*t,y:o*t,width:l,height:l,fill:i}),d.jsx(r,{x:u+.1*l,y:u+.1*l,height:c,width:c})]})},Crt=t=>{var s;let e=t.outputSize,r=brt(t.url,t.errorCorrectionLevel),n=e/r.length,i=U9e(2*n,{min:.025*e,max:.036*e});return d.jsxs("svg",{height:t.outputSize,width:t.outputSize,viewBox:`0 0 ${t.outputSize} ${t.outputSize}`,style:{height:"100%",width:"100%",padding:`${i}px`},children:[d.jsx(Ert,{matrix:r,cellSize:n,color:t.fgColor}),d.jsx(xrt,{cellSize:n,matrixSize:r.length,fgColor:t.fgColor,bgColor:t.bgColor}),d.jsx(_rt,{cellSize:n,element:(s=t.logo)==null?void 0:s.element,bgColor:t.bgColor,matrixSize:r.length})]})},Art=ne.div.withConfig({displayName:"QrContainer",componentId:"sc-aa6883ae-0"})(["display:flex;justify-content:center;align-items:center;height:",";width:",";margin:auto;background-color:",";&&{border-width:2px;border-color:",";border-radius:var(--privy-border-radius-md);}"],t=>`${t.$size}px`,t=>`${t.$size}px`,t=>t.$bgColor,t=>t.$borderColor);const ix=t=>{let{appearance:e}=$n(),r=t.bgColor||"#FFFFFF",n=t.fgColor||"#000000",i=t.size||160,s=e.palette.colorScheme==="dark"?r:n;return d.jsx(Art,{$size:i,$bgColor:r,$fgColor:n,$borderColor:s,children:d.jsx(Crt,{url:t.url,logo:{element:t.squareLogoElement??wrt},outputSize:i,bgColor:r,fgColor:n,errorCorrectionLevel:t.errorCorrectionLevel||"Q"})})},bh=({style:t,...e})=>d.jsxs("svg",{width:"1000",height:"1000",viewBox:"0 0 1000 1000",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...t},...e,children:[d.jsx("rect",{width:"1000",height:"1000",rx:"200",fill:"#855DCD"}),d.jsx("path",{d:"M257.778 155.556H742.222V844.444H671.111V528.889H670.414C662.554 441.677 589.258 373.333 500 373.333C410.742 373.333 337.446 441.677 329.586 528.889H328.889V844.444H257.778V155.556Z",fill:"white"}),d.jsx("path",{d:"M128.889 253.333L157.778 351.111H182.222V746.667C169.949 746.667 160 756.616 160 768.889V795.556H155.556C143.283 795.556 133.333 805.505 133.333 817.778V844.444H382.222V817.778C382.222 805.505 372.273 795.556 360 795.556H355.556V768.889C355.556 756.616 345.606 746.667 333.333 746.667H306.667V253.333H128.889Z",fill:"white"}),d.jsx("path",{d:"M675.556 746.667C663.283 746.667 653.333 756.616 653.333 768.889V795.556H648.889C636.616 795.556 626.667 805.505 626.667 817.778V844.444H875.556V817.778C875.556 805.505 865.606 795.556 853.333 795.556H848.889V768.889C848.889 756.616 838.94 746.667 826.667 746.667V351.111H851.111L880 253.333H702.222V746.667H675.556Z",fill:"white"})]});let nW="#8a63d2";const Srt=()=>{let{authenticated:t,logout:e,ready:r,user:n}=zt(),{lastScreen:i,navigate:s,navigateBack:o,setModalData:a,app:l}=qe(),{getAuthFlow:c,loginWithFarcaster:u,closePrivyModal:f,createAnalyticsEvent:h}=Ye(),[p,g]=C.useState(void 0),[m,w]=C.useState(!1),[y,E]=C.useState(!1),v=C.useRef([]),b=c(),$=b==null?void 0:b.meta.connectUri;return C.useEffect(()=>{let P=Date.now(),O=setInterval(async()=>{var H,q,Y,R,_,x,A,T,I,N,M,U,S,F,Q;let D=await b.pollForReady.execute(),B=Date.now()-P;if(D){clearInterval(O),w(!0);try{await u(),E(!0)}catch(k){let W={retryable:!1,message:"Authentication failed"};if((k==null?void 0:k.privyErrorCode)===ue.ALLOWLIST_REJECTED)return void s(se.ALLOWLIST_REJECTION_SCREEN);if((k==null?void 0:k.privyErrorCode)===ue.USER_LIMIT_REACHED)return console.error(new hw(k).toString()),void s(se.USER_LIMIT_REACHED_SCREEN);if((k==null?void 0:k.privyErrorCode)===ue.USER_DOES_NOT_EXIST)return void s(se.ACCOUNT_NOT_FOUND_SCREEN);if((k==null?void 0:k.privyErrorCode)===ue.LINKED_TO_ANOTHER_USER)W.detail=k.message??"This account has already been linked to another user.";else{if((k==null?void 0:k.privyErrorCode)===ue.ACCOUNT_TRANSFER_REQUIRED&&((q=(H=k.data)==null?void 0:H.data)!=null&&q.nonce))return a({accountTransfer:{nonce:(R=(Y=k.data)==null?void 0:Y.data)==null?void 0:R.nonce,account:(x=(_=k.data)==null?void 0:_.data)==null?void 0:x.subject,displayName:(I=(T=(A=k.data)==null?void 0:A.data)==null?void 0:T.account)==null?void 0:I.displayName,linkMethod:"farcaster",embeddedWalletAddress:(U=(M=(N=k.data)==null?void 0:N.data)==null?void 0:M.otherUser)==null?void 0:U.embeddedWalletAddress,farcasterEmbeddedAddress:(Q=(F=(S=k.data)==null?void 0:S.data)==null?void 0:F.otherUser)==null?void 0:Q.farcasterEmbeddedAddress}}),void s(se.LINK_CONFLICT_SCREEN);(k==null?void 0:k.privyErrorCode)===ue.INVALID_CREDENTIALS?(W.retryable=!0,W.detail="Something went wrong. Try again."):(k==null?void 0:k.privyErrorCode)===ue.TOO_MANY_REQUESTS&&(W.detail="Too many requests. Please wait before trying again.")}g(W)}}else B>12e4&&(clearInterval(O),g({retryable:!0,message:"Authentication failed",detail:"The request timed out. Try again."}))},2e3);return()=>{clearInterval(O),v.current.forEach(D=>clearTimeout(D))}},[]),C.useEffect(()=>{if(r&&t&&y&&n){if(l!=null&&l.legal.requireUsersAcceptTerms&&!n.hasAcceptedTerms){let P=setTimeout(()=>{s(se.AFFIRMATIVE_CONSENT_SCREEN)},zr);return()=>clearTimeout(P)}y&&(Pu(n,l==null?void 0:l.embeddedWallets.createOnLogin)?v.current.push(setTimeout(()=>{a({createWallet:{onSuccess:()=>{},onFailure:P=>{console.error(P),h({eventName:"embedded_wallet_creation_failure_logout",payload:{error:P,screen:"FarcasterConnectStatusScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),s(se.EMBEDDED_WALLET_ON_ACCOUNT_CREATE_SCREEN)},zr)):v.current.push(setTimeout(()=>f({shouldCallAuthOnSuccess:!0,isSuccess:!0}),zr)))}},[y,r,t,n]),d.jsxs(d.Fragment,bi||m?{children:[d.jsx(ze,{backFn:i?o:void 0,onClose:f},"header"),d.jsx(wr,{}),d.jsx(d.Fragment,XI?{children:d.jsxs($rt,{children:[d.jsx(Ys,{children:d.jsxs("div",{children:[d.jsx(sl,{success:y,fail:!!p}),d.jsx(bh,{style:{width:"38px",height:"38px"}})]})}),d.jsxs(Io,{children:[d.jsx(Er,{children:p?p.message:"Sign in with Farcaster"}),d.jsx(_r,{children:p?p.detail:"To sign in with Farcaster, please open the Warpcast app."})]}),$&&d.jsx(at,{onClick:P=>{P.preventDefault(),window.location.href=$},children:"Open Warpcast app"})]})}:{children:d.jsxs(iW,{children:[d.jsx(Ys,{children:d.jsxs("div",{children:[d.jsx(sl,{success:y,fail:!!p}),d.jsx(bh,{style:{width:"38px",height:"38px"}})]})}),d.jsxs(Io,{children:[d.jsx(Er,{children:p?p.message:"Signing in with Farcaster"}),d.jsx(_r,{children:p?p.detail:"This should only take a moment"}),d.jsx(al,{children:$&&bi&&d.jsx(vse,{text:"Take me to Warpcast",url:$,color:nW})})]})]})}),d.jsx(Bt,{})]}:{children:[d.jsx(ze,{backFn:i?o:void 0,onClose:f},"header"),d.jsx(wr,{}),d.jsx(iW,{children:d.jsxs("div",{children:[d.jsx(Er,{children:"Sign in with Farcaster"}),d.jsx(_r,{children:"Scan with your phone's camera to continue."}),d.jsx(GT,{children:$?d.jsx(ix,{url:$,size:275,squareLogoElement:bh}):d.jsx(ma,{})}),d.jsxs(al,{children:[d.jsx(_r,{children:"Or copy this link and paste it into a phone browser to open the Warpcast app."}),$&&d.jsx(X8,{text:$,itemName:"link",color:nW})]})]})}),d.jsx(Bt,{})]})};let iW=ne.div.withConfig({displayName:"ConnectContainer",componentId:"sc-5a361367-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:27px;margin-right:27px;gap:24px;"]),$rt=ne.div.withConfig({displayName:"ConnectContainerButton",componentId:"sc-5a361367-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;"]),sW="#8a63d2";const Irt=()=>{let{lastScreen:t,navigateBack:e,data:r,app:n}=qe(),{requestFarcasterSignerStatus:i,closePrivyModal:s}=Ye(),[o,a]=C.useState(void 0),[l,c]=C.useState(!1),[u,f]=C.useState(!1),h=C.useRef([]),p=r==null?void 0:r.farcasterSigner;C.useEffect(()=>{let m=Date.now(),w=setInterval(async()=>{if(!(p!=null&&p.public_key))return clearInterval(w),void a({retryable:!0,message:"Connect failed",detail:"Something went wrong. Please try again."});p.status==="approved"&&(clearInterval(w),c(!1),f(!0),h.current.push(setTimeout(()=>s({shouldCallAuthOnSuccess:!1,isSuccess:!0}),zr)));let y=await i(p==null?void 0:p.public_key),E=Date.now()-m;y.status==="approved"?(clearInterval(w),c(!1),f(!0),h.current.push(setTimeout(()=>s({shouldCallAuthOnSuccess:!1,isSuccess:!0}),zr))):E>3e5?(clearInterval(w),a({retryable:!0,message:"Connect failed",detail:"The request timed out. Try again."})):y.status==="revoked"&&(clearInterval(w),a({retryable:!0,message:"Request rejected",detail:"The request was rejected. Please try again."}))},2e3);return()=>{clearInterval(w),h.current.forEach(y=>clearTimeout(y))}},[]);let g=(p==null?void 0:p.status)==="pending_approval"?p.signer_approval_url:void 0;return d.jsxs(d.Fragment,bi||l?{children:[d.jsx(ze,{backFn:t?e:void 0,onClose:s},"header"),d.jsx(wr,{}),d.jsx(d.Fragment,XI?{children:d.jsxs(krt,{children:[d.jsx(Ys,{children:d.jsxs("div",{children:[d.jsx(sl,{success:u,fail:!!o}),d.jsx(bh,{style:{width:"38px",height:"38px"}})]})}),d.jsxs(Io,{children:[d.jsx(Er,{children:o?o.message:"Add a signer to Farcaster"}),d.jsx(_r,{children:o?o.detail:"This will allow "+n.name+" to add casts, likes, follows, and more on your behalf."})]}),g&&d.jsx(at,{onClick:m=>{m.preventDefault(),window.location.href=g},children:"Open Warpcast app"})]})}:{children:d.jsxs(oW,{children:[d.jsx(Ys,{children:d.jsxs("div",{children:[d.jsx(sl,{success:u,fail:!!o}),d.jsx(bh,{style:{width:"38px",height:"38px"}})]})}),d.jsxs(Io,{children:[d.jsx(Er,{children:o?o.message:"Requesting signer from Farcaster"}),d.jsx(_r,{children:o?o.detail:"This should only take a moment"}),d.jsx(al,{children:g&&bi&&d.jsx(vse,{text:"Take me to Warpcast",url:g,color:sW})})]})]})}),d.jsx(Bt,{})]}:{children:[d.jsx(ze,{backFn:t?e:void 0,onClose:s},"header"),d.jsx(wr,{}),d.jsx(oW,{children:d.jsxs("div",{children:[d.jsx(Er,{children:"Add a signer to Farcaster"}),d.jsxs(_r,{children:["This will allow ",n.name," to add casts, likes, follows, and more on your behalf."]}),d.jsx(GT,{children:(p==null?void 0:p.status)==="pending_approval"?d.jsx(ix,{url:p.signer_approval_url,size:275,squareLogoElement:bh}):d.jsx(ma,{})}),d.jsxs(al,{children:[d.jsx(_r,{children:"Or copy this link and paste it into a phone browser to open the Warpcast app."}),(p==null?void 0:p.status)==="pending_approval"&&d.jsx(X8,{text:p.signer_approval_url,itemName:"link",color:sW})]})]})}),d.jsx(Bt,{})]})};let oW=ne.div.withConfig({displayName:"ConnectContainer",componentId:"sc-6e2c96cd-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:27px;margin-right:27px;gap:24px;"]),krt=ne.div.withConfig({displayName:"ConnectContainerButton",componentId:"sc-6e2c96cd-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;"]);function Zs({title:t}){var o,a;let{currentScreen:e,navigateBack:r,navigate:n,data:i,setModalData:s}=qe();return d.jsx(ze,{title:t,backFn:e===se.FUNDING_MANUAL_TRANSFER_SCREEN?r:e===((o=i==null?void 0:i.funding)==null?void 0:o.methodScreen)?i.funding.comingFromSendTransactionScreen?()=>n(se.EMBEDDED_WALLET_SEND_TRANSACTION_SCREEN):void 0:(a=i==null?void 0:i.funding)!=null&&a.methodScreen?()=>{let l=i.funding;l.usingDefaultFundingMethod&&(l.usingDefaultFundingMethod=!1),s({funding:l}),n(l.methodScreen)}:void 0})}const vg=({size:t})=>d.jsx(Trt,{$size:t,children:d.jsxs(Nrt,{children:[d.jsx(Prt,{}),d.jsx(Rrt,{})]})});let Trt=ne.div.withConfig({displayName:"LoadingContainer",componentId:"sc-3ddaba1c-0"})(["--spinner-size:",";display:flex;justify-content:center;align-items:center;flex-grow:1;@media all and (display-mode:standalone){margin-bottom:30px;}"],t=>t.$size?t.$size:"96px"),Nrt=ne.div.withConfig({displayName:"SpinnerContainer",componentId:"sc-3ddaba1c-1"})(["position:relative;height:var(--spinner-size);width:var(--spinner-size);opacity:1;animation:fadein 200ms ease;"]),Prt=ne.div.withConfig({displayName:"CircleFixed",componentId:"sc-3ddaba1c-2"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);&&{border:4px solid #f1f2f9;border-radius:50%;}"]),Rrt=ne.div.withConfig({displayName:"CircleRotate",componentId:"sc-3ddaba1c-3"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);animation:spin 1200ms linear infinite;&&{border:4px solid;border-color:#cbcde1 transparent transparent transparent;border-radius:50%;}@keyframes spin{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}"]);const Dse=({enabled:t=!0}={})=>{let{showFiatPrices:e,getUsdPriceForSol:r}=Ye(),[n,i]=C.useState(!0),[s,o]=C.useState(void 0),[a,l]=C.useState(void 0);return C.useEffect(()=>{(async()=>{if(e&&t)try{i(!0);let c=await r();c?l(c):o(Error("Unable to fetch SOL price"))}catch(c){o(c)}finally{i(!1)}else i(!1)})()},[]),{solPrice:a,isSolPriceLoading:n,solPriceError:s}};function xg(t){let{tokenPrice:e,isTokenPriceLoading:r,tokenPriceError:n}=(a=>{let{showFiatPrices:l,getUsdTokenPrice:c,chains:u}=Ye(),[f,h]=C.useState(!0),[p,g]=C.useState(void 0),[m,w]=C.useState(void 0);return C.useEffect(()=>{a||(a=m2);let y=DT(u).find(E=>E.id===Number(a));(async()=>{if(l){if(!y)return h(!1),void g(Error(`Unable to fetch token price on chain id ${a}`));try{h(!0);let E=await c(y);E?w(E):g(Error(`Unable to fetch token price on chain id ${y.id}`))}catch(E){g(E)}finally{h(!1)}}else h(!1)})()},[a]),{tokenPrice:m,isTokenPriceLoading:f,tokenPriceError:p}})(t==="solana"?-1:t),{solPrice:i,isSolPriceLoading:s,solPriceError:o}=Dse({enabled:t==="solana"});return t==="solana"?{tokenPrice:i,isTokenPriceLoading:s,tokenPriceError:o}:{tokenPrice:e,isTokenPriceLoading:r,tokenPriceError:n}}const Lse=C.createContext(null);function bp(){let t=C.useContext(Lse);return t===null?(console.warn("`useWallets` was called outside the PrivyProvider component"),{wallets:[],ready:!1}):t}const Uu="sdk_fiat_on_ramp_completed_with_status";let aW="0x0000000000000000000000000000000000000000";const R2=({destinationCurrency:t,...e})=>({tradeType:"EXACT_OUTPUT",originCurrency:aW,destinationCurrency:t??aW,...e}),O2=async({input:t,isTestnet:e})=>{let r=await fetch(e?"https://api.testnets.relay.link/execute/swap":"https://api.relay.link/execute/swap",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await r.json();if(!(r.ok||typeof n.message=="string"&&n.message.startsWith("Invalid address")))throw console.error("Relay error:",n),Error(n.message??"Error fetching quote from relay");return n},m6=t=>{var r,n;let e=(n=(r=t.steps[0])==null?void 0:r.items)==null?void 0:n[0];if(e)return{from:e.data.from,to:e.data.to,value:Number(e.data.value),chainId:Number(e.data.chainId),data:e.data.data}},Ort=(t,e=0)=>{let r=t[e],n=t[e+7];if(!r||!n)throw Error(`Buffer offset out of range: first: ${r}, last: ${n}.`);return(BigInt(t[e+4]+256*t[e+5]+65536*t[e+6]+(n<<24))<<32n)+BigInt(r+256*t[++e]+65536*t[++e]+16777216*t[++e])};function jrt(t,e=0){let r=0n;for(let n=0;n<8;n++)r|=BigInt(t[e+n])<<BigInt(8*n);return r}let Mrt=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2});function Zd(t,e=6,r=!1,n=!1){let i=(parseFloat(t.toString())/1e9).toFixed(e).replace(/0+$/,"").replace(/\.$/,""),s=n?"":" SOL";return r?`${i}${s}`:`${i==="0"?"<0.001":i}${s}`}function ry(t,e){let r=parseFloat(t.toString())/1e9,n=Mrt.format(e*r);return n==="$0.00"?"<$0.01":n}function Fse({amount:t,fee:e,tokenPrice:r}){let n=BigInt(1e9*parseFloat(t)),i=n+e;return{fundingAmountInBaseUnit:n,fundingAmountInUsd:r?ry(n,r):void 0,totalPriceInUsd:r?ry(i,r):void 0,totalPriceInNativeCurrency:Zd(i),feePriceInNativeCurrency:Zd(e),feePriceInUsd:r?ry(e,r):void 0}}function Kw(t){return"version"in t}function Drt(t,e){let r=(Kw(t)?t.message:t.compileMessage()).staticAccountKeys.find(n=>n.toBase58()===e);if(!r)throw Error(`Transaction does not contain public key ${e}`);return r}async function Lrt(t,e){return BigInt((Kw(t)?(await e.getFeeForMessage(t.message)).value:await t.getEstimatedFee(e))??0)}function Bse(t,e){var r;return{signature:t,parsedTransaction:e,fees:BigInt(((r=e==null?void 0:e.meta)==null?void 0:r.fee)||0)}}async function Frt(t,e){var n;let{value:r}=await e.simulateTransaction(t);return r.err==null&&((n=r.logs)==null?void 0:n.every(i=>!/insufficient funds/gi.test(i)))}async function Brt({tx:t,connection:e,client:r}){var l,c;let n=Kw(t)?t.message:t.compileMessage(),i=((l=n.staticAccountKeys[0])==null?void 0:l.toBase58())??"",s=await Lrt(t,e),o={},a=[];for(let u of n.compiledInstructions){let f=((c=n.staticAccountKeys[u.programIdIndex])==null?void 0:c.toBase58())||"";if(f!=="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"&&f!=="TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb")f!=="11111111111111111111111111111111"?a.push({type:"unknown",program:f}):a.push(await Wrt(u,n));else{let h=await Urt(u,n,e,r,o);a.push(h),o[h.token.address]=h.token}}return{spender:i,fee:s,instructions:a}}function Use(t,e){try{return jrt(t,e)}catch{}try{return t.readBigInt64LE(e)}catch{}let r=Ke.from(t);try{return Ort(r)}catch{}try{return r.subarray(e).readBigInt64LE()}catch{}try{return r.readBigInt64LE(e)}catch{}return 0n}async function Urt(t,e,r,n,i){var w,y,E,v,b,$,P,O;let[s,o,a]=t.accountKeyIndexes.map(D=>e.staticAccountKeys[D]);if(!s||!o||!a)throw Error("Invalid instruction");let l=await r.getParsedAccountInfo(o,"confirmed"),c=(w=l.value)==null?void 0:w.data,u=(E=(y=c==null?void 0:c.parsed)==null?void 0:y.info)==null?void 0:E.owner,f=((b=(v=c==null?void 0:c.parsed)==null?void 0:v.info)==null?void 0:b.mint)??"",h=i[f];if(!h){let D=await n.getSplTokenMetadata({mintAddress:f,cluster:g8(r.rpcEndpoint)});D&&(h={address:f,symbol:D.symbol,decimals:D.decimals})}let p=(h==null?void 0:h.symbol)??"",g=(h==null?void 0:h.decimals)??((O=(P=($=c==null?void 0:c.parsed)==null?void 0:$.info)==null?void 0:P.tokenAmount)==null?void 0:O.decimals)??9,m=Use(t.data,1);return{type:"spl-transfer",fromAta:s.toBase58(),fromAccount:a.toBase58(),toAta:o.toBase58(),toAccount:u,value:m,token:{symbol:p,decimals:g,address:f}}}async function Wrt(t,e){let[r,n]=t.accountKeyIndexes.map(s=>e.staticAccountKeys[s]);if(!r||!n)throw Error("Invalid instruction");let i=Use(t.data,4);return{type:"sol-transfer",fromAccount:r.toBase58(),toAccount:n.toBase58(),value:i,token:{symbol:"SOL",decimals:9}}}const Wse=({chains:t,appId:e,address:r,rpcConfig:n})=>Promise.all(t.map(async i=>({balance:await Dh({chain:i,transport:Lh(rf(i,n,e))}).getBalance({address:r}).catch(()=>0n),chain:i})));let zse=C.createContext({plugins:{current:{}}});const zrt=({children:t})=>{let e=C.useRef({});return d.jsx(zse.Provider,{value:{plugins:e},children:t})},Yw=()=>{let{plugins:t}=C.useContext(zse);return C.useCallback(e=>t.current[e],[t])},Zw=Symbol("solana-funding-plugin"),Eg=ne.span.withConfig({displayName:"Rows",componentId:"sc-b764aab6-0"})(["display:flex;flex-direction:column;gap:0.35rem;width:100%;"]),Tt=ne.span.withConfig({displayName:"Row",componentId:"sc-b764aab6-1"})(["display:flex;width:100%;justify-content:space-between;gap:0.5rem;"]),It=ne.span.withConfig({displayName:"LabelSm",componentId:"sc-6c002d6-0"})(["color:var(--privy-color-foreground-3);font-size:0.875rem;font-weight:400;line-height:1.375rem;"]),Hrt=ne(It).withConfig({displayName:"LabelSmPrimary",componentId:"sc-6c002d6-1"})(["color:var(--privy-color-accent);"]),Mt=ne.span.withConfig({displayName:"Value",componentId:"sc-72aa026-0"})(["color:var(--privy-color-foreground);font-size:0.875rem;font-weight:500;line-height:1.375rem;word-break:break-all;text-align:right;",""],lte);function qrt({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const Hse=C.forwardRef(qrt),Vrt=t=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 2500 2500",xmlSpace:"preserve",...t,children:d.jsx("g",{id:"Layer_x0020_1",children:d.jsxs("g",{id:"_2405588477232",children:[d.jsx("rect",{fill:"none",width:"2500",height:"2500"}),d.jsx("g",{children:d.jsxs("g",{children:[d.jsx("path",{fill:"#213147",d:"M226,760v980c0,63,33,120,88,152l849,490c54,31,121,31,175,0l849-490c54-31,88-89,88-152V760      c0-63-33-120-88-152l-849-490c-54-31-121-31-175,0L314,608c-54,31-87,89-87,152H226z"}),d.jsx("g",{children:d.jsxs("g",{children:[d.jsx("g",{children:d.jsx("path",{fill:"#12AAFF",d:"M1435,1440l-121,332c-3,9-3,19,0,29l208,571l241-139l-289-793C1467,1422,1442,1422,1435,1440z"})}),d.jsx("g",{children:d.jsx("path",{fill:"#12AAFF",d:"M1678,882c-7-18-32-18-39,0l-121,332c-3,9-3,19,0,29l341,935l241-139L1678,883V882z"})})]})}),d.jsx("g",{children:d.jsx("path",{fill:"#9DCCED",d:"M1250,155c6,0,12,2,17,5l918,530c11,6,17,18,17,30v1060c0,12-7,24-17,30l-918,530c-5,3-11,5-17,5       s-12-2-17-5l-918-530c-11-6-17-18-17-30V719c0-12,7-24,17-30l918-530c5-3,11-5,17-5l0,0V155z M1250,0c-33,0-65,8-95,25L237,555       c-59,34-95,96-95,164v1060c0,68,36,130,95,164l918,530c29,17,62,25,95,25s65-8,95-25l918-530c59-34,95-96,95-164V719       c0-68-36-130-95-164L1344,25c-29-17-62-25-95-25l0,0H1250z"})}),d.jsx("polygon",{fill:"#213147",points:"642,2179 727,1947 897,2088 738,2234     "}),d.jsxs("g",{children:[d.jsx("path",{fill:"#FFFFFF",d:"M1172,644H939c-17,0-33,11-39,27L401,2039l241,139l550-1507c5-14-5-28-19-28L1172,644z"}),d.jsx("path",{fill:"#FFFFFF",d:"M1580,644h-233c-17,0-33,11-39,27L738,2233l241,139l620-1701c5-14-5-28-19-28V644z"})]})]})})]})})}),Grt=t=>d.jsxs("svg",{width:"1503",height:"1504",viewBox:"0 0 1503 1504",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("rect",{x:"287",y:"258",width:"928",height:"844",fill:"white"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1502.5 752C1502.5 1166.77 1166.27 1503 751.5 1503C336.734 1503 0.5 1166.77 0.5 752C0.5 337.234 336.734 1 751.5 1C1166.27 1 1502.5 337.234 1502.5 752ZM538.688 1050.86H392.94C362.314 1050.86 347.186 1050.86 337.962 1044.96C327.999 1038.5 321.911 1027.8 321.173 1015.99C320.619 1005.11 328.184 991.822 343.312 965.255L703.182 330.935C718.495 303.999 726.243 290.531 736.021 285.55C746.537 280.2 759.083 280.2 769.599 285.55C779.377 290.531 787.126 303.999 802.438 330.935L876.42 460.079L876.797 460.738C893.336 489.635 901.723 504.289 905.385 519.669C909.443 536.458 909.443 554.169 905.385 570.958C901.695 586.455 893.393 601.215 876.604 630.549L687.573 964.702L687.084 965.558C670.436 994.693 661.999 1009.46 650.306 1020.6C637.576 1032.78 622.263 1041.63 605.474 1046.62C590.161 1050.86 573.004 1050.86 538.688 1050.86ZM906.75 1050.86H1115.59C1146.4 1050.86 1161.9 1050.86 1171.13 1044.78C1181.09 1038.32 1187.36 1027.43 1187.92 1015.63C1188.45 1005.1 1181.05 992.33 1166.55 967.307C1166.05 966.455 1165.55 965.588 1165.04 964.706L1060.43 785.75L1059.24 783.735C1044.54 758.877 1037.12 746.324 1027.59 741.472C1017.08 736.121 1004.71 736.121 994.199 741.472C984.605 746.453 976.857 759.552 961.544 785.934L857.306 964.891L856.949 965.507C841.69 991.847 834.064 1005.01 834.614 1015.81C835.352 1027.62 841.44 1038.5 851.402 1044.96C860.443 1050.86 875.94 1050.86 906.75 1050.86Z",fill:"#E84142"})]}),Krt=t=>d.jsxs("svg",{width:"146",height:"146",viewBox:"0 0 146 146",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("circle",{cx:"73",cy:"73",r:"73",fill:"#0052FF"}),d.jsx("path",{d:"M73.323 123.729C101.617 123.729 124.553 100.832 124.553 72.5875C124.553 44.343 101.617 21.4463 73.323 21.4463C46.4795 21.4463 24.4581 42.0558 22.271 68.2887H89.9859V76.8864H22.271C24.4581 103.119 46.4795 123.729 73.323 123.729Z",fill:"white"})]}),Yrt=t=>d.jsxs("svg",{fill:"none",height:"400",viewBox:"0 0 400 400",width:"400",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("path",{d:"m0 0h400v400h-400z",fill:"#fcff52"}),d.jsx("path",{d:"m300 100h-200v200h199.996v-69.813h-33.191c-11.442 25.468-37.194 43.206-66.665 43.206-40.63 0-73.533-33.187-73.533-73.533s32.903-73.249 73.533-73.249c30.043 0 55.795 18.313 67.24 44.349h32.62z",fill:"#000"})]}),Zrt=t=>d.jsxs("svg",{width:"200",height:"208",viewBox:"0 0 200 208",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("rect",{width:"199.4",height:"207.623",fill:"#121212"}),d.jsxs("g",{"clip-path":"url(#clip0_2303_643)",children:[d.jsx("path",{d:"M132.369 155.99H49.7001V68.8854H68.6148V139.109H132.369V155.981V155.99Z",fill:"white"}),d.jsx("path",{d:"M132.369 85.7575C141.687 85.7575 149.241 78.2036 149.241 68.8855C149.241 59.5673 141.687 52.0134 132.369 52.0134C123.05 52.0134 115.497 59.5673 115.497 68.8855C115.497 78.2036 123.05 85.7575 132.369 85.7575Z",fill:"white"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_2303_643",children:d.jsx("rect",{width:"99.5407",height:"103.977",fill:"white",transform:"translate(49.7001 52.0134)"})})})]}),Jrt=t=>d.jsxs("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 327.5 533.3",enableBackground:"new 0 0 327.5 533.3;",xmlSpace:"preserve",...t,children:[d.jsx("path",{fill:"#8492B2",d:"M163.7,197.2V0L0,271.6L163.7,197.2z"}),d.jsx("path",{fill:"#62688F",d:"M163.7,368.4V197.2L0,271.6L163.7,368.4z M163.7,197.2l163.7,74.4L163.7,0V197.2z"}),d.jsx("path",{fill:"#454A75",d:"M163.7,197.2v171.2l163.7-96.8L163.7,197.2z"}),d.jsx("path",{fill:"#8492B2",d:"M163.7,399.4L0,302.7l163.7,230.7V399.4z"}),d.jsx("path",{fill:"#62688F",d:"M327.5,302.7l-163.8,96.7v134L327.5,302.7z"})]}),Qrt=t=>d.jsxs("svg",{width:"500",height:"500",viewBox:"0 0 500 500",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("circle",{cx:"250",cy:"250",r:"250",fill:"#FF0420"}),d.jsx("path",{d:"M177.133 316.446C162.247 316.446 150.051 312.943 140.544 305.938C131.162 298.808 126.471 288.676 126.471 275.541C126.471 272.789 126.784 269.411 127.409 265.408C129.036 256.402 131.35 245.581 134.352 232.947C142.858 198.547 164.812 181.347 200.213 181.347C209.845 181.347 218.476 182.973 226.107 186.225C233.738 189.352 239.742 194.106 244.12 200.486C248.498 206.74 250.688 214.246 250.688 223.002C250.688 225.629 250.375 228.944 249.749 232.947C247.873 244.08 245.621 254.901 242.994 265.408C238.616 282.546 231.048 295.368 220.29 303.874C209.532 312.255 195.147 316.446 177.133 316.446ZM179.76 289.426C186.766 289.426 192.707 287.362 197.586 283.234C202.59 279.106 206.155 272.789 208.281 264.283C211.158 252.524 213.348 242.266 214.849 233.51C215.349 230.883 215.599 228.194 215.599 225.441C215.599 214.058 209.657 208.366 197.774 208.366C190.768 208.366 184.764 210.43 179.76 214.558C174.882 218.687 171.379 225.004 169.253 233.51C167.001 241.891 164.749 252.149 162.498 264.283C161.997 266.784 161.747 269.411 161.747 272.163C161.747 283.672 167.752 289.426 179.76 289.426Z",fill:"white"}),d.jsx("path",{d:"M259.303 314.57C257.927 314.57 256.863 314.132 256.113 313.256C255.487 312.255 255.3 311.13 255.55 309.879L281.444 187.914C281.694 186.538 282.382 185.412 283.508 184.536C284.634 183.661 285.822 183.223 287.073 183.223H336.985C350.87 183.223 362.003 186.1 370.384 191.854C378.891 197.609 383.144 205.927 383.144 216.81C383.144 219.937 382.769 223.19 382.018 226.567C378.891 240.953 372.574 251.586 363.067 258.466C353.685 265.346 340.8 268.786 324.413 268.786H299.082L290.451 309.879C290.2 311.255 289.512 312.38 288.387 313.256C287.261 314.132 286.072 314.57 284.822 314.57H259.303ZM325.727 242.892C330.98 242.892 335.546 241.453 339.424 238.576C343.427 235.699 346.054 231.571 347.305 226.192C347.68 224.065 347.868 222.189 347.868 220.563C347.868 216.935 346.805 214.183 344.678 212.307C342.551 210.305 338.924 209.305 333.795 209.305H311.278L304.148 242.892H325.727Z",fill:"white"})]}),Xrt=t=>d.jsxs("svg",{width:"360",height:"360",viewBox:"0 0 360 360",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("rect",{width:"360",height:"360",rx:"180",fill:"#6C00F6"}),d.jsx("path",{d:"M157.743 154.241L141.052 144.58L90.9766 173.561V231.519L141.052 260.5L191.13 231.519V141.359L218.948 125.26L246.77 141.359V173.561L218.948 189.66L202.257 180.002V205.759L218.948 215.42L269.024 186.439V128.481L218.948 99.5L168.873 128.481V218.641L141.052 234.74L113.233 218.641V186.439L141.052 170.34L157.743 179.998V154.241Z",fill:"white"})]}),ent=t=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 397.7 311.7",enableBackground:"new 0 0 397.7 311.7",xmlSpace:"preserve",...t,children:[d.jsxs("linearGradient",{id:"SVGID_1_",gradientUnits:"userSpaceOnUse",x1:"360.8791",y1:"351.4553",x2:"141.213",y2:"-69.2936",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[d.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),d.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),d.jsx("path",{d:"M64.6,237.9c2.4-2.4,5.7-3.8,9.2-3.8h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5  c-5.8,0-8.7-7-4.6-11.1L64.6,237.9z",fill:"url(#SVGID_1_)"}),d.jsxs("linearGradient",{id:"SVGID_2_",gradientUnits:"userSpaceOnUse",x1:"264.8291",y1:"401.6014",x2:"45.163",y2:"-19.1475",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[d.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),d.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),d.jsx("path",{d:"M64.6,3.8C67.1,1.4,70.4,0,73.8,0h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5  c-5.8,0-8.7-7-4.6-11.1L64.6,3.8z",fill:"url(#SVGID_2_)"}),d.jsxs("linearGradient",{id:"SVGID_3_",gradientUnits:"userSpaceOnUse",x1:"312.5484",y1:"376.688",x2:"92.8822",y2:"-44.061",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[d.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),d.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),d.jsx("path",{d:"M333.1,120.1c-2.4-2.4-5.7-3.8-9.2-3.8H6.5c-5.8,0-8.7,7-4.6,11.1l62.7,62.7c2.4,2.4,5.7,3.8,9.2,3.8h317.4  c5.8,0,8.7-7,4.6-11.1L333.1,120.1z",fill:"url(#SVGID_3_)"})]}),tnt=t=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",...t,children:[d.jsx("g",{clipPath:"url(#clip0)",children:d.jsx("g",{clipPath:"url(#clip1)",children:d.jsx("path",{d:"M14.9188 29.8373C6.67944 29.8373 0.00012207 23.1581 0.00012207 14.9187C0.00012207 6.67931 6.67944 0 14.9188 0C23.1581 0 29.8373 6.67931 29.8373 14.9187C29.8373 23.1581 23.1581 29.8373 14.9188 29.8373Z",fill:"url(#paint0)"})})}),d.jsxs("defs",{children:[d.jsxs("radialGradient",{id:"paint0",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(21.6921 8.02215) rotate(180) scale(25.2008)",children:[d.jsx("stop",{offset:"0.00682297",stopColor:"#F2CEFE"}),d.jsx("stop",{offset:"0.1913",stopColor:"#AFBAF1"}),d.jsx("stop",{offset:"0.4982",stopColor:"#4281D3"}),d.jsx("stop",{offset:"0.666667",stopColor:"#2E427D"}),d.jsx("stop",{offset:"0.822917",stopColor:"#230101"}),d.jsx("stop",{offset:"1",stopColor:"#8F6B40"})]}),d.jsx("clipPath",{id:"clip0",children:d.jsx("rect",{width:"30",height:"30",fill:"white"})}),d.jsx("clipPath",{id:"clip1",children:d.jsx("rect",{width:"30",height:"30",fill:"white"})})]})]});let rnt={[wf.id]:Vrt,[$T.id]:Grt,[Ku.id]:Krt,[IT.id]:Yrt,[QX.id]:Zrt,[Ec.id]:Jrt,[cp.id]:Qrt,[Yu.id]:Xrt,[ree.id]:tnt};const qse=({chainId:t,...e})=>{if(t==="solana")return d.jsx(ent,{...e});let r=rnt[t];return d.jsx(r||Hse,{...e})},nnt=({balance:t,className:e,chain:r})=>d.jsx(FN,{className:e,$state:void 0,children:d.jsx(b$,{balance:t,chain:r})}),b$=({balance:t,chain:e})=>d.jsxs(d.Fragment,{children:[d.jsxs(int,{children:[d.jsx(ont,{chainId:"id"in e?e.id:"solana"}),d.jsx(Mt,{children:e.name})]}),d.jsxs(ll,{isLoading:!1,isPulsing:!1,color:"gray",children:[d.jsx(snt,{children:d.jsx(Tw,{})}),t]})]});let int=ne.div.withConfig({displayName:"Container",componentId:"sc-6d3c340d-0"})(["display:flex;align-items:center;"]),snt=ne.div.withConfig({displayName:"IconContainer",componentId:"sc-6d3c340d-1"})(["height:0.75rem;width:0.75rem;margin-right:0.2rem;"]),ont=ne(qse).withConfig({displayName:"StyledNetworkIcon",componentId:"sc-6d3c340d-2"})(["height:1.25rem;width:1.25rem;display:inline-block;margin-right:0.5rem;border-radius:4px;"]);const ant=typeof document<"u"?Je.useLayoutEffect:()=>{},Af=t=>{var e;return(e=t==null?void 0:t.ownerDocument)!==null&&e!==void 0?e:document},oh=t=>t&&"window"in t&&t.window===t?t:Af(t).defaultView||window;function lnt(t){return t!==null&&typeof t=="object"&&"nodeType"in t&&typeof t.nodeType=="number"}function cnt(t){return lnt(t)&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in t}let unt=!1;function tP(){return unt}function Vse(t,e){if(!tP())return e&&t?t.contains(e):!1;if(!t||!e)return!1;let r=e;for(;r!==null;){if(r===t)return!0;r.tagName==="SLOT"&&r.assignedSlot?r=r.assignedSlot.parentNode:cnt(r)?r=r.host:r=r.parentNode}return!1}const v$=(t=document)=>{var e;if(!tP())return t.activeElement;let r=t.activeElement;for(;r&&"shadowRoot"in r&&(!((e=r.shadowRoot)===null||e===void 0)&&e.activeElement);)r=r.shadowRoot.activeElement;return r};function Gse(t){return tP()&&t.target.shadowRoot&&t.composedPath?t.composedPath()[0]:t.target}function dnt(t){if(fnt())t.focus({preventScroll:!0});else{let e=hnt(t);t.focus(),pnt(e)}}let Cv=null;function fnt(){if(Cv==null){Cv=!1;try{document.createElement("div").focus({get preventScroll(){return Cv=!0,!0}})}catch{}}return Cv}function hnt(t){let e=t.parentNode,r=[],n=document.scrollingElement||document.documentElement;for(;e instanceof HTMLElement&&e!==n;)(e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&r.push({element:e,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),e=e.parentNode;return n instanceof HTMLElement&&r.push({element:n,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),r}function pnt(t){for(let{element:e,scrollTop:r,scrollLeft:n}of t)e.scrollTop=r,e.scrollLeft=n}function sx(t){var e;if(typeof window>"u"||window.navigator==null)return!1;let r=(e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands;return Array.isArray(r)&&r.some(n=>t.test(n.brand))||t.test(window.navigator.userAgent)}function Kse(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function _g(t){let e=null;return()=>(e==null&&(e=t()),e)}const y6=_g(function(){return Kse(/^Mac/i)}),gnt=_g(function(){return Kse(/^iPad/i)||y6()&&navigator.maxTouchPoints>1}),mnt=_g(function(){return sx(/AppleWebKit/i)&&!ynt()}),ynt=_g(function(){return sx(/Chrome/i)}),wnt=_g(function(){return sx(/Android/i)}),bnt=_g(function(){return sx(/Firefox/i)});function j2(t,e,r=!0){var n,i;let{metaKey:s,ctrlKey:o,altKey:a,shiftKey:l}=e;bnt()&&(!((i=window.event)===null||i===void 0||(n=i.type)===null||n===void 0)&&n.startsWith("key"))&&t.target==="_blank"&&(y6()?s=!0:o=!0);let c=mnt()&&y6()&&!gnt()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:s,ctrlKey:o,altKey:a,shiftKey:l}):new MouseEvent("click",{metaKey:s,ctrlKey:o,altKey:a,shiftKey:l,detail:1,bubbles:!0,cancelable:!0});j2.isOpening=r,dnt(t),t.dispatchEvent(c),j2.isOpening=!1}j2.isOpening=!1;function Yse(){let t=C.useRef(new Map),e=C.useCallback((i,s,o,a)=>{let l=a!=null&&a.once?(...c)=>{t.current.delete(o),o(...c)}:o;t.current.set(o,{type:s,eventTarget:i,fn:l,options:a}),i.addEventListener(s,l,a)},[]),r=C.useCallback((i,s,o,a)=>{var l;let c=((l=t.current.get(o))===null||l===void 0?void 0:l.fn)||o;i.removeEventListener(s,c,a),t.current.delete(o)},[]),n=C.useCallback(()=>{t.current.forEach((i,s)=>{r(i.eventTarget,i.type,s,i.options)})},[r]);return C.useEffect(()=>n,[n]),{addGlobalListener:e,removeGlobalListener:r,removeAllGlobalListeners:n}}function vnt(t){return t.pointerType===""&&t.isTrusted?!0:wnt()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function Zse(t){let e=t;return e.nativeEvent=t,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function xnt(t,e){Object.defineProperty(t,"target",{value:e}),Object.defineProperty(t,"currentTarget",{value:e})}function Jse(t){let e=C.useRef({isFocused:!1,observer:null});return ant(()=>{const r=e.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]),C.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){e.current.isFocused=!0;let n=r.target,i=s=>{if(e.current.isFocused=!1,n.disabled){let o=Zse(s);t==null||t(o)}e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};n.addEventListener("focusout",i,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&n.disabled){var s;(s=e.current.observer)===null||s===void 0||s.disconnect();let o=n===document.activeElement?null:document.activeElement;n.dispatchEvent(new FocusEvent("blur",{relatedTarget:o})),n.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:o}))}}),e.current.observer.observe(n,{attributes:!0,attributeFilter:["disabled"]})}},[t])}let Ent=!1,Jw=null,x$=new Set,ny=new Map,Kh=!1,E$=!1;const _nt={Tab:!0,Escape:!0};function rP(t,e){for(let r of x$)r(t,e)}function Cnt(t){return!(t.metaKey||!y6()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function w6(t){Kh=!0,!j2.isOpening&&Cnt(t)&&(Jw="keyboard",rP("keyboard",t))}function K0(t){Jw="pointer","pointerType"in t&&t.pointerType,(t.type==="mousedown"||t.type==="pointerdown")&&(Kh=!0,rP("pointer",t))}function Qse(t){!j2.isOpening&&vnt(t)&&(Kh=!0,Jw="virtual")}function Xse(t){t.target===window||t.target===document||Ent||!t.isTrusted||(!Kh&&!E$&&(Jw="virtual",rP("virtual",t)),Kh=!1,E$=!1)}function eoe(){Kh=!1,E$=!0}function _$(t){if(typeof window>"u"||typeof document>"u"||ny.get(oh(t)))return;const e=oh(t),r=Af(t);let n=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){Kh=!0,n.apply(this,arguments)},r.addEventListener("keydown",w6,!0),r.addEventListener("keyup",w6,!0),r.addEventListener("click",Qse,!0),e.addEventListener("focus",Xse,!0),e.addEventListener("blur",eoe,!1),typeof PointerEvent<"u"&&(r.addEventListener("pointerdown",K0,!0),r.addEventListener("pointermove",K0,!0),r.addEventListener("pointerup",K0,!0)),e.addEventListener("beforeunload",()=>{toe(t)},{once:!0}),ny.set(e,{focus:n})}const toe=(t,e)=>{const r=oh(t),n=Af(t);e&&n.removeEventListener("DOMContentLoaded",e),ny.has(r)&&(r.HTMLElement.prototype.focus=ny.get(r).focus,n.removeEventListener("keydown",w6,!0),n.removeEventListener("keyup",w6,!0),n.removeEventListener("click",Qse,!0),r.removeEventListener("focus",Xse,!0),r.removeEventListener("blur",eoe,!1),typeof PointerEvent<"u"&&(n.removeEventListener("pointerdown",K0,!0),n.removeEventListener("pointermove",K0,!0),n.removeEventListener("pointerup",K0,!0)),ny.delete(r))};function Ant(t){const e=Af(t);let r;return e.readyState!=="loading"?_$(t):(r=()=>{_$(t)},e.addEventListener("DOMContentLoaded",r)),()=>toe(t,r)}typeof document<"u"&&Ant();function roe(){return Jw!=="pointer"}const Snt=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function $nt(t,e,r){let n=Af(r==null?void 0:r.target);const i=typeof window<"u"?oh(r==null?void 0:r.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?oh(r==null?void 0:r.target).HTMLTextAreaElement:HTMLTextAreaElement,o=typeof window<"u"?oh(r==null?void 0:r.target).HTMLElement:HTMLElement,a=typeof window<"u"?oh(r==null?void 0:r.target).KeyboardEvent:KeyboardEvent;return t=t||n.activeElement instanceof i&&!Snt.has(n.activeElement.type)||n.activeElement instanceof s||n.activeElement instanceof o&&n.activeElement.isContentEditable,!(t&&e==="keyboard"&&r instanceof a&&!_nt[r.key])}function Int(t,e,r){_$(),C.useEffect(()=>{let n=(i,s)=>{$nt(!!(r!=null&&r.isTextInput),i,s)&&t(roe())};return x$.add(n),()=>{x$.delete(n)}},e)}function knt(t){let{isDisabled:e,onFocus:r,onBlur:n,onFocusChange:i}=t;const s=C.useCallback(l=>{if(l.target===l.currentTarget)return n&&n(l),i&&i(!1),!0},[n,i]),o=Jse(s),a=C.useCallback(l=>{const c=Af(l.target),u=c?v$(c):v$();l.target===l.currentTarget&&u===Gse(l.nativeEvent)&&(r&&r(l),i&&i(!0),o(l))},[i,r,o]);return{focusProps:{onFocus:!e&&(r||i||n)?a:void 0,onBlur:!e&&(n||i)?s:void 0}}}function Tnt(t){let{isDisabled:e,onBlurWithin:r,onFocusWithin:n,onFocusWithinChange:i}=t,s=C.useRef({isFocusWithin:!1}),{addGlobalListener:o,removeAllGlobalListeners:a}=Yse(),l=C.useCallback(f=>{f.currentTarget.contains(f.target)&&s.current.isFocusWithin&&!f.currentTarget.contains(f.relatedTarget)&&(s.current.isFocusWithin=!1,a(),r&&r(f),i&&i(!1))},[r,i,s,a]),c=Jse(l),u=C.useCallback(f=>{if(!f.currentTarget.contains(f.target))return;const h=Af(f.target),p=v$(h);if(!s.current.isFocusWithin&&p===Gse(f.nativeEvent)){n&&n(f),i&&i(!0),s.current.isFocusWithin=!0,c(f);let g=f.currentTarget;o(h,"focus",m=>{if(s.current.isFocusWithin&&!Vse(g,m.target)){let w=new h.defaultView.FocusEvent("blur",{relatedTarget:m.target});xnt(w,g);let y=Zse(w);l(y)}},{capture:!0})}},[n,i,c,o,l]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:u,onBlur:l}}}let C$=!1,Av=0;function Nnt(){C$=!0,setTimeout(()=>{C$=!1},50)}function lW(t){t.pointerType==="touch"&&Nnt()}function Pnt(){if(!(typeof document>"u"))return Av===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",lW),Av++,()=>{Av--,!(Av>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",lW)}}function Rnt(t){let{onHoverStart:e,onHoverChange:r,onHoverEnd:n,isDisabled:i}=t,[s,o]=C.useState(!1),a=C.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;C.useEffect(Pnt,[]);let{addGlobalListener:l,removeAllGlobalListeners:c}=Yse(),{hoverProps:u,triggerHoverEnd:f}=C.useMemo(()=>{let h=(m,w)=>{if(a.pointerType=w,i||w==="touch"||a.isHovered||!m.currentTarget.contains(m.target))return;a.isHovered=!0;let y=m.currentTarget;a.target=y,l(Af(m.target),"pointerover",E=>{a.isHovered&&a.target&&!Vse(a.target,E.target)&&p(E,E.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:y,pointerType:w}),r&&r(!0),o(!0)},p=(m,w)=>{let y=a.target;a.pointerType="",a.target=null,!(w==="touch"||!a.isHovered||!y)&&(a.isHovered=!1,c(),n&&n({type:"hoverend",target:y,pointerType:w}),r&&r(!1),o(!1))},g={};return typeof PointerEvent<"u"&&(g.onPointerEnter=m=>{C$&&m.pointerType==="mouse"||h(m,m.pointerType)},g.onPointerLeave=m=>{!i&&m.currentTarget.contains(m.target)&&p(m,m.pointerType)}),{hoverProps:g,triggerHoverEnd:p}},[e,r,n,i,a,l,c]);return C.useEffect(()=>{i&&f({currentTarget:a.target},a.pointerType)},[i]),{hoverProps:u,isHovered:s}}function Ont(t={}){let{autoFocus:e=!1,isTextInput:r,within:n}=t,i=C.useRef({isFocused:!1,isFocusVisible:e||roe()}),[s,o]=C.useState(!1),[a,l]=C.useState(()=>i.current.isFocused&&i.current.isFocusVisible),c=C.useCallback(()=>l(i.current.isFocused&&i.current.isFocusVisible),[]),u=C.useCallback(p=>{i.current.isFocused=p,o(p),c()},[c]);Int(p=>{i.current.isFocusVisible=p,c()},[],{isTextInput:r});let{focusProps:f}=knt({isDisabled:n,onFocusChange:u}),{focusWithinProps:h}=Tnt({isDisabled:!n,onFocusWithinChange:u});return{isFocused:s,isFocusVisible:a,focusProps:n?h:f}}var jnt=Object.defineProperty,Mnt=(t,e,r)=>e in t?jnt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,t_=(t,e,r)=>(Mnt(t,typeof e!="symbol"?e+"":e,r),r);let Dnt=class{constructor(){t_(this,"current",this.detect()),t_(this,"handoffState","pending"),t_(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},ac=new Dnt;function vp(t){var e;return ac.isServer?null:t==null?document:(e=t==null?void 0:t.ownerDocument)!=null?e:document}function b6(t){var e,r;return ac.isServer?null:t==null?document:(r=(e=t==null?void 0:t.getRootNode)==null?void 0:e.call(t))!=null?r:document}function nP(t){var e,r;return(r=(e=b6(t))==null?void 0:e.activeElement)!=null?r:null}function noe(t){return nP(t)===t}function ox(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function ro(){let t=[],e={addEventListener(r,n,i,s){return r.addEventListener(n,i,s),e.add(()=>r.removeEventListener(n,i,s))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return e.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return e.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return ox(()=>{n.current&&r[0]()}),e.add(()=>{n.current=!1})},style(r,n,i){let s=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:i}),this.add(()=>{Object.assign(r.style,{[n]:s})})},group(r){let n=ro();return r(n),this.add(()=>n.dispose())},add(r){return t.includes(r)||t.push(r),()=>{let n=t.indexOf(r);if(n>=0)for(let i of t.splice(n,1))i()}},dispose(){for(let r of t.splice(0))r()}};return e}function xp(){let[t]=C.useState(ro);return C.useEffect(()=>()=>t.dispose(),[t]),t}let Hr=(t,e)=>{ac.isServer?C.useEffect(t,e):C.useLayoutEffect(t,e)};function Ep(t){let e=C.useRef(t);return Hr(()=>{e.current=t},[t]),e}let Et=function(t){let e=Ep(t);return Je.useCallback((...r)=>e.current(...r),[e])};function Lnt(t){let e=t.width/2,r=t.height/2;return{top:t.clientY-r,right:t.clientX+e,bottom:t.clientY+r,left:t.clientX-e}}function Fnt(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function Bnt({disabled:t=!1}={}){let e=C.useRef(null),[r,n]=C.useState(!1),i=xp(),s=Et(()=>{e.current=null,n(!1),i.dispose()}),o=Et(a=>{if(i.dispose(),e.current===null){e.current=a.currentTarget,n(!0);{let l=vp(a.currentTarget);i.addEventListener(l,"pointerup",s,!1),i.addEventListener(l,"pointermove",c=>{if(e.current){let u=Lnt(c);n(Fnt(u,e.current.getBoundingClientRect()))}},!1),i.addEventListener(l,"pointercancel",s,!1)}}});return{pressed:r,pressProps:t?{}:{onPointerDown:o,onPointerUp:s,onClick:s}}}function Cc(t){return C.useMemo(()=>t,Object.values(t))}let Unt=C.createContext(void 0);function ioe(){return C.useContext(Unt)}function A$(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function ul(t,e,...r){if(t in e){let i=e[t];return typeof i=="function"?i(...r):i}let n=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ul),n}var D1=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(D1||{}),Md=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Md||{});function In(){let t=znt();return C.useCallback(e=>Wnt({mergeRefs:t,...e}),[t])}function Wnt({ourProps:t,theirProps:e,slot:r,defaultTag:n,features:i,visible:s=!0,name:o,mergeRefs:a}){a=a??Hnt;let l=soe(e,t);if(s)return Sv(l,r,n,o,a);let c=i??0;if(c&2){let{static:u=!1,...f}=l;if(u)return Sv(f,r,n,o,a)}if(c&1){let{unmount:u=!0,...f}=l;return ul(u?0:1,{0(){return null},1(){return Sv({...f,hidden:!0,style:{display:"none"}},r,n,o,a)}})}return Sv(l,r,n,o,a)}function Sv(t,e={},r,n,i){let{as:s=r,children:o,refName:a="ref",...l}=r_(t,["unmount","static"]),c=t.ref!==void 0?{[a]:t.ref}:{},u=typeof o=="function"?o(e):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let f={};if(e){let h=!1,p=[];for(let[g,m]of Object.entries(e))typeof m=="boolean"&&(h=!0),m===!0&&p.push(g.replace(/([A-Z])/g,w=>`-${w.toLowerCase()}`));if(h){f["data-headlessui-state"]=p.join(" ");for(let g of p)f[`data-${g}`]=""}}if(iy(s)&&(Object.keys(Bf(l)).length>0||Object.keys(Bf(f)).length>0))if(!C.isValidElement(u)||Array.isArray(u)&&u.length>1||Vnt(u)){if(Object.keys(Bf(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Bf(l)).concat(Object.keys(Bf(f))).map(h=>`  - ${h}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(h=>`  - ${h}`).join(`
`)].join(`
`))}else{let h=u.props,p=h==null?void 0:h.className,g=typeof p=="function"?(...y)=>A$(p(...y),l.className):A$(p,l.className),m=g?{className:g}:{},w=soe(u.props,Bf(r_(l,["ref"])));for(let y in f)y in w&&delete f[y];return C.cloneElement(u,Object.assign({},w,f,c,{ref:i(qnt(u),c.ref)},m))}return C.createElement(s,Object.assign({},r_(l,["ref"]),!iy(s)&&c,!iy(s)&&f),u)}function znt(){let t=C.useRef([]),e=C.useCallback(r=>{for(let n of t.current)n!=null&&(typeof n=="function"?n(r):n.current=r)},[]);return(...r)=>{if(!r.every(n=>n==null))return t.current=r,e}}function Hnt(...t){return t.every(e=>e==null)?void 0:e=>{for(let r of t)r!=null&&(typeof r=="function"?r(e):r.current=e)}}function soe(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let i in n)i.startsWith("on")&&typeof n[i]=="function"?(r[i]!=null||(r[i]=[]),r[i].push(n[i])):e[i]=n[i];if(e.disabled||e["aria-disabled"])for(let n in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(r[n]=[i=>{var s;return(s=i==null?void 0:i.preventDefault)==null?void 0:s.call(i)}]);for(let n in r)Object.assign(e,{[n](i,...s){let o=r[n];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return e}function ooe(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let i in n)i.startsWith("on")&&typeof n[i]=="function"?(r[i]!=null||(r[i]=[]),r[i].push(n[i])):e[i]=n[i];for(let n in r)Object.assign(e,{[n](...i){let s=r[n];for(let o of s)o==null||o(...i)}});return e}function un(t){var e;return Object.assign(C.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function Bf(t){let e=Object.assign({},t);for(let r in e)e[r]===void 0&&delete e[r];return e}function r_(t,e=[]){let r=Object.assign({},t);for(let n of e)n in r&&delete r[n];return r}function qnt(t){return Je.version.split(".")[0]>="19"?t.props.ref:t.ref}function iy(t){return t===C.Fragment||t===Symbol.for("react.fragment")}function Vnt(t){return iy(t.type)}let Gnt="span";var v6=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(v6||{});function Knt(t,e){var r;let{features:n=1,...i}=t,s={ref:e,"aria-hidden":(n&2)===2?!0:(r=i["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return In()({ourProps:s,theirProps:i,slot:{},defaultTag:Gnt,name:"Hidden"})}let S$=un(Knt),Ynt=C.createContext(void 0);function Znt(){return C.useContext(Ynt)}function aoe(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function bu(t){return aoe(t)&&"tagName"in t}function ko(t){return bu(t)&&"accessKey"in t}function Gl(t){return bu(t)&&"tabIndex"in t}function Jnt(t){return bu(t)&&"style"in t}function Qnt(t){return ko(t)&&t.nodeName==="IFRAME"}function loe(t){return ko(t)&&t.nodeName==="INPUT"}function cW(t){return ko(t)&&t.nodeName==="LABEL"}function Xnt(t){return ko(t)&&t.nodeName==="FIELDSET"}function coe(t){return ko(t)&&t.nodeName==="LEGEND"}function eit(t){return bu(t)?t.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function uW(t){let e=t.parentElement,r=null;for(;e&&!Xnt(e);)coe(e)&&(r=e),e=e.parentElement;let n=(e==null?void 0:e.getAttribute("disabled"))==="";return n&&tit(r)?!1:n}function tit(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(coe(e))return!1;e=e.previousElementSibling}return!0}let uoe=Symbol();function rit(t,e=!0){return Object.assign(t,{[uoe]:e})}function ws(...t){let e=C.useRef(t);C.useEffect(()=>{e.current=t},[t]);let r=Et(n=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(n):i.current=n)});return t.every(n=>n==null||(n==null?void 0:n[uoe]))?void 0:r}let iP=C.createContext(null);iP.displayName="DescriptionContext";function doe(){let t=C.useContext(iP);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,doe),e}return t}function foe(){let[t,e]=C.useState([]);return[t.length>0?t.join(" "):void 0,C.useMemo(()=>function(r){let n=Et(s=>(e(o=>[...o,s]),()=>e(o=>{let a=o.slice(),l=a.indexOf(s);return l!==-1&&a.splice(l,1),a}))),i=C.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props,value:r.value}),[n,r.slot,r.name,r.props,r.value]);return Je.createElement(iP.Provider,{value:i},r.children)},[e])]}let nit="p";function iit(t,e){let r=C.useId(),n=ioe(),{id:i=`headlessui-description-${r}`,...s}=t,o=doe(),a=ws(e);Hr(()=>o.register(i),[i,o.register]);let l=Cc({...o.slot,disabled:n||!1}),c={ref:a,...o.props,id:i};return In()({ourProps:c,theirProps:s,slot:l,defaultTag:nit,name:o.name||"Description"})}let sit=un(iit),oit=Object.assign(sit,{});var Jn=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Jn||{});let ax=C.createContext(null);ax.displayName="LabelContext";function sP(){let t=C.useContext(ax);if(t===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,sP),e}return t}function ait(t){var e,r,n;let i=(r=(e=C.useContext(ax))==null?void 0:e.value)!=null?r:void 0;return((n=void 0)!=null?n:0)>0?[i,...t].filter(Boolean).join(" "):i}function hoe({inherit:t=!1}={}){let e=ait(),[r,n]=C.useState([]),i=t?[e,...r].filter(Boolean):r;return[i.length>0?i.join(" "):void 0,C.useMemo(()=>function(s){let o=Et(l=>(n(c=>[...c,l]),()=>n(c=>{let u=c.slice(),f=u.indexOf(l);return f!==-1&&u.splice(f,1),u}))),a=C.useMemo(()=>({register:o,slot:s.slot,name:s.name,props:s.props,value:s.value}),[o,s.slot,s.name,s.props,s.value]);return Je.createElement(ax.Provider,{value:a},s.children)},[n])]}let lit="label";function cit(t,e){var r;let n=C.useId(),i=sP(),s=Znt(),o=ioe(),{id:a=`headlessui-label-${n}`,htmlFor:l=s??((r=i.props)==null?void 0:r.htmlFor),passive:c=!1,...u}=t,f=ws(e);Hr(()=>i.register(a),[a,i.register]);let h=Et(m=>{let w=m.currentTarget;if(!(m.target!==m.currentTarget&&eit(m.target))&&(cW(w)&&m.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(m),cW(w))){let y=document.getElementById(w.htmlFor);if(y){let E=y.getAttribute("disabled");if(E==="true"||E==="")return;let v=y.getAttribute("aria-disabled");if(v==="true"||v==="")return;(loe(y)&&(y.type==="file"||y.type==="radio"||y.type==="checkbox")||y.role==="radio"||y.role==="checkbox"||y.role==="switch")&&y.click(),y.focus({preventScroll:!0})}}}),p=Cc({...i.slot,disabled:o||!1}),g={ref:f,...i.props,id:a,htmlFor:l,onClick:h};return c&&("onClick"in g&&(delete g.htmlFor,delete g.onClick),"onClick"in u&&delete u.onClick),In()({ourProps:g,theirProps:u,slot:p,defaultTag:l?lit:"div",name:i.name||"Label"})}let uit=un(cit);Object.assign(uit,{});let dit=C.createContext(()=>{});function fit({value:t,children:e}){return Je.createElement(dit.Provider,{value:t},e)}function dW(t){if(t===null)return{width:0,height:0};let{width:e,height:r}=t.getBoundingClientRect();return{width:e,height:r}}function hit(t,e,r=!1){let[n,i]=C.useState(()=>dW(e));return Hr(()=>{if(!e||!t)return;let s=ro();return s.requestAnimationFrame(function o(){s.requestAnimationFrame(o),i(a=>{let l=dW(e);return l.width===a.width&&l.height===a.height?a:l})}),()=>{s.dispose()}},[e,t]),r?{width:`${n.width}px`,height:`${n.height}px`}:n}var poe=(t=>(t[t.Left=0]="Left",t[t.Right=2]="Right",t))(poe||{});function pit(t){let e=C.useRef(null),r=Et(i=>{e.current=i.pointerType,!uW(i.currentTarget)&&i.pointerType==="mouse"&&i.button===poe.Left&&(i.preventDefault(),t(i))}),n=Et(i=>{e.current!=="mouse"&&(uW(i.currentTarget)||t(i))});return{onPointerDown:r,onClick:n}}let goe=class extends Map{constructor(e){super(),this.factory=e}get(e){let r=super.get(e);return r===void 0&&(r=this.factory(e),this.set(e,r)),r}};var git=Object.defineProperty,mit=(t,e,r)=>e in t?git(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,yit=(t,e,r)=>(mit(t,e+"",r),r),moe=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Ho=(t,e,r)=>(moe(t,e,"read from private field"),r?r.call(t):e.get(t)),n_=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},fW=(t,e,r,n)=>(moe(t,e,"write to private field"),e.set(t,r),r),Cl,Am,Sm;let yoe=class{constructor(e){n_(this,Cl,{}),n_(this,Am,new goe(()=>new Set)),n_(this,Sm,new Set),yit(this,"disposables",ro()),fW(this,Cl,e),ac.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Ho(this,Cl)}subscribe(e,r){if(ac.isServer)return()=>{};let n={selector:e,callback:r,current:e(Ho(this,Cl))};return Ho(this,Sm).add(n),this.disposables.add(()=>{Ho(this,Sm).delete(n)})}on(e,r){return ac.isServer?()=>{}:(Ho(this,Am).get(e).add(r),this.disposables.add(()=>{Ho(this,Am).get(e).delete(r)}))}send(e){let r=this.reduce(Ho(this,Cl),e);if(r!==Ho(this,Cl)){fW(this,Cl,r);for(let n of Ho(this,Sm)){let i=n.selector(Ho(this,Cl));woe(n.current,i)||(n.current=i,n.callback(i))}for(let n of Ho(this,Am).get(e.type))n(Ho(this,Cl),e)}}};Cl=new WeakMap,Am=new WeakMap,Sm=new WeakMap;function woe(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:i_(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:i_(t.entries(),e.entries()):hW(t)&&hW(e)?i_(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function i_(t,e){do{let r=t.next(),n=e.next();if(r.done&&n.done)return!0;if(r.done||n.done||!Object.is(r.value,n.value))return!1}while(!0)}function hW(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}function pW(t){let[e,r]=t(),n=ro();return(...i)=>{e(...i),n.dispose(),n.microTask(r)}}var wit=Object.defineProperty,bit=(t,e,r)=>e in t?wit(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,gW=(t,e,r)=>(bit(t,typeof e!="symbol"?e+"":e,r),r),boe=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(boe||{});let vit={0(t,e){let r=e.id,n=t.stack,i=t.stack.indexOf(r);if(i!==-1){let s=t.stack.slice();return s.splice(i,1),s.push(r),n=s,{...t,stack:n}}return{...t,stack:[...t.stack,r]}},1(t,e){let r=e.id,n=t.stack.indexOf(r);if(n===-1)return t;let i=t.stack.slice();return i.splice(n,1),{...t,stack:i}}},xit=class voe extends yoe{constructor(){super(...arguments),gW(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),gW(this,"selectors",{isTop:(e,r)=>e.stack[e.stack.length-1]===r,inStack:(e,r)=>e.stack.includes(r)})}static new(){return new voe({stack:[]})}reduce(e,r){return ul(r.type,vit,e,r)}};const lx=new goe(()=>xit.new());var xoe={exports:{}},Eoe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qw=C;function Eit(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _it=typeof Object.is=="function"?Object.is:Eit,Cit=Qw.useSyncExternalStore,Ait=Qw.useRef,Sit=Qw.useEffect,$it=Qw.useMemo,Iit=Qw.useDebugValue;Eoe.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=Ait(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=$it(function(){function l(p){if(!c){if(c=!0,u=p,p=n(p),i!==void 0&&o.hasValue){var g=o.value;if(i(g,p))return f=g}return f=p}if(g=f,_it(u,p))return g;var m=n(p);return i!==void 0&&i(g,m)?(u=p,g):(u=p,f=m)}var c=!1,u,f,h=r===void 0?null:r;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,r,n,i]);var a=Cit(t,s[0],s[1]);return Sit(function(){o.hasValue=!0,o.value=a},[a]),Iit(a),a};xoe.exports=Eoe;var kit=xoe.exports;function ra(t,e,r=woe){return kit.useSyncExternalStoreWithSelector(Et(n=>t.subscribe(Tit,n)),Et(()=>t.state),Et(()=>t.state),Et(e),r)}function Tit(t){return t}function Xw(t,e){let r=C.useId(),n=lx.get(e),[i,s]=ra(n,C.useCallback(o=>[n.selectors.isTop(o,r),n.selectors.inStack(o,r)],[n,r]));return Hr(()=>{if(t)return n.actions.push(r),()=>n.actions.pop(r)},[n,t,r]),t?s?i:!0:!1}let $$=new Map,sy=new Map;function mW(t){var e;let r=(e=sy.get(t))!=null?e:0;return sy.set(t,r+1),r!==0?()=>yW(t):($$.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>yW(t))}function yW(t){var e;let r=(e=sy.get(t))!=null?e:1;if(r===1?sy.delete(t):sy.set(t,r-1),r!==1)return;let n=$$.get(t);n&&(n["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",n["aria-hidden"]),t.inert=n.inert,$$.delete(t))}function _oe(t,{allowed:e,disallowed:r}={}){let n=Xw(t,"inert-others");Hr(()=>{var i,s;if(!n)return;let o=ro();for(let l of(i=r==null?void 0:r())!=null?i:[])l&&o.add(mW(l));let a=(s=e==null?void 0:e())!=null?s:[];for(let l of a){if(!l)continue;let c=vp(l);if(!c)continue;let u=l.parentElement;for(;u&&u!==c.body;){for(let f of u.children)a.some(h=>f.contains(h))||o.add(mW(f));u=u.parentElement}}return o.dispose},[n,e,r])}function Coe(t,e,r){let n=Ep(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&r()});C.useEffect(()=>{if(!t)return;let i=e===null?null:ko(e)?e:e.current;if(!i)return;let s=ro();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>n.current(i));o.observe(i),s.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>n.current(i));o.observe(i),s.add(()=>o.disconnect())}return()=>s.dispose()},[e,n,t])}let x6=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),Nit=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Ua=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(Ua||{}),I$=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(I$||{}),Pit=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(Pit||{});function Aoe(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(x6)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}function Rit(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Nit)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var oP=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(oP||{});function aP(t,e=0){var r;return t===((r=vp(t))==null?void 0:r.body)?!1:ul(e,{0(){return t.matches(x6)},1(){let n=t;for(;n!==null;){if(n.matches(x6))return!0;n=n.parentElement}return!1}})}function Soe(t){ro().nextFrame(()=>{let e=nP(t);e&&Gl(e)&&!aP(e,0)&&lc(t)})}var Oit=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(Oit||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function lc(t){t==null||t.focus({preventScroll:!0})}let jit=["textarea","input"].join(",");function Mit(t){var e,r;return(r=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,jit))!=null?r:!1}function $oe(t,e=r=>r){return t.slice().sort((r,n)=>{let i=e(r),s=e(n);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Dit(t,e,r=t===null?document.body:b6(t)){return Y0(Aoe(r),e,{relativeTo:t})}function Y0(t,e,{sorted:r=!0,relativeTo:n=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?b6(t[0]):document:b6(t),o=Array.isArray(t)?r?$oe(t):t:e&64?Rit(t):Aoe(t);i.length>0&&o.length>1&&(o=o.filter(p=>!i.some(g=>g!=null&&"current"in g?(g==null?void 0:g.current)===p:g===p))),n=n??(s==null?void 0:s.activeElement);let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(n))-1;if(e&4)return Math.max(0,o.indexOf(n))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=e&32?{preventScroll:!0}:{},u=0,f=o.length,h;do{if(u>=f||u+f<=0)return 0;let p=l+u;if(e&16)p=(p+f)%f;else{if(p<0)return 3;if(p>=f)return 1}h=o[p],h==null||h.focus(c),u+=a}while(h!==nP(h));return e&6&&Mit(h)&&h.select(),2}function Ioe(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Lit(){return/Android/gi.test(window.navigator.userAgent)}function wW(){return Ioe()||Lit()}function E0(t,e,r,n){let i=Ep(r);C.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return document.addEventListener(e,s,n),()=>document.removeEventListener(e,s,n)},[t,e,n])}function koe(t,e,r,n){let i=Ep(r);C.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return window.addEventListener(e,s,n),()=>window.removeEventListener(e,s,n)},[t,e,n])}const bW=30;function Toe(t,e,r){let n=Ep(r),i=C.useCallback(function(a,l){if(a.defaultPrevented)return;let c=l(a);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let u=function f(h){return typeof h=="function"?f(h()):Array.isArray(h)||h instanceof Set?h:[h]}(e);for(let f of u)if(f!==null&&(f.contains(c)||a.composed&&a.composedPath().includes(f)))return;return!aP(c,oP.Loose)&&c.tabIndex!==-1&&a.preventDefault(),n.current(a,c)},[n,e]),s=C.useRef(null);E0(t,"pointerdown",a=>{var l,c;wW()||(s.current=((c=(l=a.composedPath)==null?void 0:l.call(a))==null?void 0:c[0])||a.target)},!0),E0(t,"pointerup",a=>{if(wW()||!s.current)return;let l=s.current;return s.current=null,i(a,()=>l)},!0);let o=C.useRef({x:0,y:0});E0(t,"touchstart",a=>{o.current.x=a.touches[0].clientX,o.current.y=a.touches[0].clientY},!0),E0(t,"touchend",a=>{let l={x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY};if(!(Math.abs(l.x-o.current.x)>=bW||Math.abs(l.y-o.current.y)>=bW))return i(a,()=>Gl(a.target)?a.target:null)},!0),koe(t,"blur",a=>i(a,()=>Qnt(window.document.activeElement)?window.document.activeElement:null),!0)}function M2(...t){return C.useMemo(()=>vp(...t),[...t])}var Fit=(t=>(t[t.Ignore=0]="Ignore",t[t.Select=1]="Select",t[t.Close=2]="Close",t))(Fit||{});const $v={Ignore:{kind:0},Select:t=>({kind:1,target:t}),Close:{kind:2}},Bit=200,vW=5;function Uit(t,{trigger:e,action:r,close:n,select:i}){let s=C.useRef(null),o=C.useRef(null),a=C.useRef(null);E0(t&&e!==null,"pointerdown",l=>{aoe(l==null?void 0:l.target)&&e!=null&&e.contains(l.target)&&(o.current=l.x,a.current=l.y,s.current=l.timeStamp)}),E0(t&&e!==null,"pointerup",l=>{var c,u;let f=s.current;if(f===null||(s.current=null,!Gl(l.target))||Math.abs(l.x-((c=o.current)!=null?c:l.x))<vW&&Math.abs(l.y-((u=a.current)!=null?u:l.y))<vW)return;let h=r(l);switch(h.kind){case 0:return;case 1:{l.timeStamp-f>Bit&&(i(h.target),n());break}case 2:{n();break}}},{capture:!0})}function Noe(t,e,r,n){let i=Ep(r);C.useEffect(()=>{t=t??window;function s(o){i.current(o)}return t.addEventListener(e,s,n),()=>t.removeEventListener(e,s,n)},[t,e,n])}function Wit(t,e){return C.useMemo(()=>{var r;if(t.type)return t.type;let n=(r=t.as)!=null?r:"button";if(typeof n=="string"&&n.toLowerCase()==="button"||(e==null?void 0:e.tagName)==="BUTTON"&&!e.hasAttribute("type"))return"button"},[t.type,t.as,e])}function zit(t){return C.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function Hit(t,e){let r=t(),n=new Set;return{getSnapshot(){return r},subscribe(i){return n.add(i),()=>n.delete(i)},dispatch(i,...s){let o=e[i].call(r,...s);o&&(r=o,n.forEach(a=>a()))}}}function qit(){let t;return{before({doc:e}){var r;let n=e.documentElement,i=(r=e.defaultView)!=null?r:window;t=Math.max(0,i.innerWidth-n.clientWidth)},after({doc:e,d:r}){let n=e.documentElement,i=Math.max(0,n.clientWidth-n.offsetWidth),s=Math.max(0,t-i);r.style(n,"paddingRight",`${s}px`)}}}function Vit(){return Ioe()?{before({doc:t,d:e,meta:r}){function n(i){for(let s of r().containers)for(let o of s())if(o.contains(i))return!0;return!1}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let a=ro();a.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;e.addEventListener(t,"click",a=>{if(Gl(a.target))try{let l=a.target.closest("a");if(!l)return;let{hash:c}=new URL(l.href),u=t.querySelector(c);Gl(u)&&!n(u)&&(o=u)}catch{}},!0),e.group(a=>{e.addEventListener(t,"touchstart",l=>{if(a.dispose(),Gl(l.target)&&Jnt(l.target))if(n(l.target)){let c=l.target;for(;c.parentElement&&n(c.parentElement);)c=c.parentElement;a.style(c,"overscrollBehavior","contain")}else a.style(l.target,"touchAction","none")})}),e.addEventListener(t,"touchmove",a=>{if(Gl(a.target)){if(loe(a.target))return;if(n(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),e.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;s!==l&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function Git(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function xW(t){let e={};for(let r of t)Object.assign(e,r(e));return e}let ah=Hit(()=>new Map,{PUSH(t,e){var r;let n=(r=this.get(t))!=null?r:{doc:t,count:0,d:ro(),meta:new Set,computedMeta:{}};return n.count++,n.meta.add(e),n.computedMeta=xW(n.meta),this.set(t,n),this},POP(t,e){let r=this.get(t);return r&&(r.count--,r.meta.delete(e),r.computedMeta=xW(r.meta)),this},SCROLL_PREVENT(t){let e={doc:t.doc,d:t.d,meta(){return t.computedMeta}},r=[Vit(),qit(),Git()];r.forEach(({before:n})=>n==null?void 0:n(e)),r.forEach(({after:n})=>n==null?void 0:n(e))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});ah.subscribe(()=>{let t=ah.getSnapshot(),e=new Map;for(let[r]of t)e.set(r,r.documentElement.style.overflow);for(let r of t.values()){let n=e.get(r.doc)==="hidden",i=r.count!==0;(i&&!n||!i&&n)&&ah.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&ah.dispatch("TEARDOWN",r)}});function Kit(t,e,r=()=>({containers:[]})){let n=zit(ah),i=e?n.get(e):void 0,s=i?i.count>0:!1;return Hr(()=>{if(!(!e||!t))return ah.dispatch("PUSH",e,r),()=>ah.dispatch("POP",e,r)},[t,e]),s}function Poe(t,e,r=()=>[document.body]){let n=Xw(t,"scroll-lock");Kit(n,e,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],r]}})}function EW(t){return[t.screenX,t.screenY]}function Yit(){let t=C.useRef([-1,-1]);return{wasMoved(e){let r=EW(e);return t.current[0]===r[0]&&t.current[1]===r[1]?!1:(t.current=r,!0)},update(e){t.current=EW(e)}}}function Zit(t=0){let[e,r]=C.useState(t),n=C.useCallback(l=>r(l),[]),i=C.useCallback(l=>r(c=>c|l),[]),s=C.useCallback(l=>(e&l)===l,[e]),o=C.useCallback(l=>r(c=>c&~l),[]),a=C.useCallback(l=>r(c=>c^l),[]);return{flags:e,setFlag:n,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:a}}var Jit={},_W,CW;typeof mt<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((_W=mt==null?void 0:Jit)==null?void 0:_W.NODE_ENV)==="test"&&typeof((CW=Element==null?void 0:Element.prototype)==null?void 0:CW.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var Qit=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(Qit||{});function Roe(t){let e={};for(let r in t)t[r]===!0&&(e[`data-${r}`]="");return e}function Ooe(t,e,r,n){let[i,s]=C.useState(r),{hasFlag:o,addFlag:a,removeFlag:l}=Zit(t&&i?3:0),c=C.useRef(!1),u=C.useRef(!1),f=xp();return Hr(()=>{var h;if(t){if(r&&s(!0),!e){r&&a(3);return}return(h=n==null?void 0:n.start)==null||h.call(n,r),Xit(e,{inFlight:c,prepare(){u.current?u.current=!1:u.current=c.current,c.current=!0,!u.current&&(r?(a(3),l(4)):(a(4),l(2)))},run(){u.current?r?(l(3),a(4)):(l(4),a(3)):r?l(1):a(1)},done(){var p;u.current&&rst(e)||(c.current=!1,l(7),r||s(!1),(p=n==null?void 0:n.end)==null||p.call(n,r))}})}},[t,r,e,f]),t?[i,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function Xit(t,{prepare:e,run:r,done:n,inFlight:i}){let s=ro();return tst(t,{prepare:e,inFlight:i}),s.nextFrame(()=>{r(),s.requestAnimationFrame(()=>{s.add(est(t,n))})}),s.dispose}function est(t,e){var r,n;let i=ro();if(!t)return i.dispose;let s=!1;i.add(()=>{s=!0});let o=(n=(r=t.getAnimations)==null?void 0:r.call(t).filter(a=>a instanceof CSSTransition))!=null?n:[];return o.length===0?(e(),i.dispose):(Promise.allSettled(o.map(a=>a.finished)).then(()=>{s||e()}),i.dispose)}function tst(t,{inFlight:e,prepare:r}){if(e!=null&&e.current){r();return}let n=t.style.transition;t.style.transition="none",r(),t.offsetHeight,t.style.transition=n}function rst(t){var e,r;return((r=(e=t.getAnimations)==null?void 0:e.call(t))!=null?r:[]).some(n=>n instanceof CSSTransition&&n.playState!=="finished")}function nst(t,{container:e,accept:r,walk:n}){let i=C.useRef(r),s=C.useRef(n);C.useEffect(()=>{i.current=r,s.current=n},[r,n]),Hr(()=>{if(!e||!t)return;let o=vp(e);if(!o)return;let a=i.current,l=s.current,c=Object.assign(f=>a(f),{acceptNode:a}),u=o.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,c,!1);for(;u.nextNode();)l(u.currentNode)},[e,t,i,s])}function lP(t,e){let r=C.useRef([]),n=Et(t);C.useEffect(()=>{let i=[...r.current];for(let[s,o]of e.entries())if(r.current[s]!==o){let a=n(e,i);return r.current=e,a}},[n,...e])}function cx(){return typeof window<"u"}function Cg(t){return joe(t)?(t.nodeName||"").toLowerCase():"#document"}function Co(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ac(t){var e;return(e=(joe(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function joe(t){return cx()?t instanceof Node||t instanceof Co(t).Node:!1}function as(t){return cx()?t instanceof Element||t instanceof Co(t).Element:!1}function yc(t){return cx()?t instanceof HTMLElement||t instanceof Co(t).HTMLElement:!1}function AW(t){return!cx()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Co(t).ShadowRoot}const ist=new Set(["inline","contents"]);function eb(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=dl(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!ist.has(i)}const sst=new Set(["table","td","th"]);function ost(t){return sst.has(Cg(t))}const ast=[":popover-open",":modal"];function ux(t){return ast.some(e=>{try{return t.matches(e)}catch{return!1}})}const lst=["transform","translate","scale","rotate","perspective"],cst=["transform","translate","scale","rotate","perspective","filter"],ust=["paint","layout","strict","content"];function cP(t){const e=uP(),r=as(t)?dl(t):t;return lst.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||cst.some(n=>(r.willChange||"").includes(n))||ust.some(n=>(r.contain||"").includes(n))}function dst(t){let e=af(t);for(;yc(e)&&!L1(e);){if(cP(e))return e;if(ux(e))return null;e=af(e)}return null}function uP(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const fst=new Set(["html","body","#document"]);function L1(t){return fst.has(Cg(t))}function dl(t){return Co(t).getComputedStyle(t)}function dx(t){return as(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function af(t){if(Cg(t)==="html")return t;const e=t.assignedSlot||t.parentNode||AW(t)&&t.host||Ac(t);return AW(e)?e.host:e}function Moe(t){const e=af(t);return L1(e)?t.ownerDocument?t.ownerDocument.body:t.body:yc(e)&&eb(e)?e:Moe(e)}function D2(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=Moe(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),o=Co(i);if(s){const a=k$(o);return e.concat(o,o.visualViewport||[],eb(i)?i:[],a&&r?D2(a):[])}return e.concat(i,D2(i,[],r))}function k$(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function hst(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:r,version:n}=e;return r+"/"+n}).join(" "):navigator.userAgent}const Yh=Math.min,qi=Math.max,L2=Math.round,Iv=Math.floor,cc=t=>({x:t,y:t}),pst={left:"right",right:"left",bottom:"top",top:"bottom"},gst={start:"end",end:"start"};function SW(t,e,r){return qi(t,Yh(e,r))}function Ag(t,e){return typeof t=="function"?t(e):t}function lf(t){return t.split("-")[0]}function tb(t){return t.split("-")[1]}function Doe(t){return t==="x"?"y":"x"}function Loe(t){return t==="y"?"height":"width"}const mst=new Set(["top","bottom"]);function uu(t){return mst.has(lf(t))?"y":"x"}function Foe(t){return Doe(uu(t))}function yst(t,e,r){r===void 0&&(r=!1);const n=tb(t),i=Foe(t),s=Loe(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=E6(o)),[o,E6(o)]}function wst(t){const e=E6(t);return[T$(t),e,T$(e)]}function T$(t){return t.replace(/start|end/g,e=>gst[e])}const $W=["left","right"],IW=["right","left"],bst=["top","bottom"],vst=["bottom","top"];function xst(t,e,r){switch(t){case"top":case"bottom":return r?e?IW:$W:e?$W:IW;case"left":case"right":return e?bst:vst;default:return[]}}function Est(t,e,r,n){const i=tb(t);let s=xst(lf(t),r==="start",n);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(T$)))),s}function E6(t){return t.replace(/left|right|bottom|top/g,e=>pst[e])}function _st(t){return{top:0,right:0,bottom:0,left:0,...t}}function Cst(t){return typeof t!="number"?_st(t):{top:t,right:t,bottom:t,left:t}}function _6(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function kW(t,e,r){let{reference:n,floating:i}=t;const s=uu(e),o=Foe(e),a=Loe(o),l=lf(e),c=s==="y",u=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,h=n[a]/2-i[a]/2;let p;switch(l){case"top":p={x:u,y:n.y-i.height};break;case"bottom":p={x:u,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-i.width,y:f};break;default:p={x:n.x,y:n.y}}switch(tb(e)){case"start":p[o]-=h*(r&&c?-1:1);break;case"end":p[o]+=h*(r&&c?-1:1);break}return p}const Ast=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:o}=r,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:f}=kW(c,n,l),h=n,p={},g=0;for(let m=0;m<a.length;m++){const{name:w,fn:y}=a[m],{x:E,y:v,data:b,reset:$}=await y({x:u,y:f,initialPlacement:n,placement:h,strategy:i,middlewareData:p,rects:c,platform:o,elements:{reference:t,floating:e}});u=E??u,f=v??f,p={...p,[w]:{...p[w],...b}},$&&g<=50&&(g++,typeof $=="object"&&($.placement&&(h=$.placement),$.rects&&(c=$.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):$.rects),{x:u,y:f}=kW(c,h,l)),m=-1)}return{x:u,y:f,placement:h,strategy:i,middlewareData:p}};async function fx(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Ag(e,t),g=Cst(p),w=a[h?f==="floating"?"reference":"floating":f],y=_6(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(w)))==null||r?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),E=f==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,v=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),b=await(s.isElement==null?void 0:s.isElement(v))?await(s.getScale==null?void 0:s.getScale(v))||{x:1,y:1}:{x:1,y:1},$=_6(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:E,offsetParent:v,strategy:l}):E);return{top:(y.top-$.top+g.top)/b.y,bottom:($.bottom-y.bottom+g.bottom)/b.y,left:(y.left-$.left+g.left)/b.x,right:($.right-y.right+g.right)/b.x}}const Sst=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...w}=Ag(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const y=lf(i),E=uu(a),v=lf(a)===a,b=await(l.isRTL==null?void 0:l.isRTL(c.floating)),$=h||(v||!m?[E6(a)]:wst(a)),P=g!=="none";!h&&P&&$.push(...Est(a,m,g,b));const O=[a,...$],D=await fx(e,w),B=[];let H=((n=s.flip)==null?void 0:n.overflows)||[];if(u&&B.push(D[y]),f){const _=yst(i,o,b);B.push(D[_[0]],D[_[1]])}if(H=[...H,{placement:i,overflows:B}],!B.every(_=>_<=0)){var q,Y;const _=(((q=s.flip)==null?void 0:q.index)||0)+1,x=O[_];if(x&&(!(f==="alignment"?E!==uu(x):!1)||H.every(I=>uu(I.placement)===E?I.overflows[0]>0:!0)))return{data:{index:_,overflows:H},reset:{placement:x}};let A=(Y=H.filter(T=>T.overflows[0]<=0).sort((T,I)=>T.overflows[1]-I.overflows[1])[0])==null?void 0:Y.placement;if(!A)switch(p){case"bestFit":{var R;const T=(R=H.filter(I=>{if(P){const N=uu(I.placement);return N===E||N==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(N=>N>0).reduce((N,M)=>N+M,0)]).sort((I,N)=>I[1]-N[1])[0])==null?void 0:R[0];T&&(A=T);break}case"initialPlacement":A=a;break}if(i!==A)return{reset:{placement:A}}}return{}}}},$st=new Set(["left","top"]);async function Ist(t,e){const{placement:r,platform:n,elements:i}=t,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=lf(r),a=tb(r),l=uu(r)==="y",c=$st.has(o)?-1:1,u=s&&l?-1:1,f=Ag(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof g=="number"&&(p=a==="end"?g*-1:g),l?{x:p*u,y:h*c}:{x:h*c,y:p*u}}const kst=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await Ist(e,t);return o===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},Tst=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:y,y:E}=w;return{x:y,y:E}}},...l}=Ag(t,e),c={x:r,y:n},u=await fx(e,l),f=uu(lf(i)),h=Doe(f);let p=c[h],g=c[f];if(s){const w=h==="y"?"top":"left",y=h==="y"?"bottom":"right",E=p+u[w],v=p-u[y];p=SW(E,p,v)}if(o){const w=f==="y"?"top":"left",y=f==="y"?"bottom":"right",E=g+u[w],v=g-u[y];g=SW(E,g,v)}const m=a.fn({...e,[h]:p,[f]:g});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:s,[f]:o}}}}}},Nst=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Ag(t,e),u=await fx(e,c),f=lf(i),h=tb(i),p=uu(i)==="y",{width:g,height:m}=s.floating;let w,y;f==="top"||f==="bottom"?(w=f,y=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=f,w=h==="end"?"top":"bottom");const E=m-u.top-u.bottom,v=g-u.left-u.right,b=Yh(m-u[w],E),$=Yh(g-u[y],v),P=!e.middlewareData.shift;let O=b,D=$;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(D=v),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(O=E),P&&!h){const H=qi(u.left,0),q=qi(u.right,0),Y=qi(u.top,0),R=qi(u.bottom,0);p?D=g-2*(H!==0||q!==0?H+q:qi(u.left,u.right)):O=m-2*(Y!==0||R!==0?Y+R:qi(u.top,u.bottom))}await l({...e,availableWidth:D,availableHeight:O});const B=await o.getDimensions(a.floating);return g!==B.width||m!==B.height?{reset:{rects:!0}}:{}}}};function Boe(t){const e=dl(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=yc(t),s=i?t.offsetWidth:r,o=i?t.offsetHeight:n,a=L2(r)!==s||L2(n)!==o;return a&&(r=s,n=o),{width:r,height:n,$:a}}function dP(t){return as(t)?t:t.contextElement}function Z0(t){const e=dP(t);if(!yc(e))return cc(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=Boe(e);let o=(s?L2(r.width):r.width)/n,a=(s?L2(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Pst=cc(0);function Uoe(t){const e=Co(t);return!uP()||!e.visualViewport?Pst:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Rst(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Co(t)?!1:e}function Zh(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),s=dP(t);let o=cc(1);e&&(n?as(n)&&(o=Z0(n)):o=Z0(t));const a=Rst(s,r,n)?Uoe(s):cc(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,f=i.height/o.y;if(s){const h=Co(s),p=n&&as(n)?Co(n):n;let g=h,m=k$(g);for(;m&&n&&p!==g;){const w=Z0(m),y=m.getBoundingClientRect(),E=dl(m),v=y.left+(m.clientLeft+parseFloat(E.paddingLeft))*w.x,b=y.top+(m.clientTop+parseFloat(E.paddingTop))*w.y;l*=w.x,c*=w.y,u*=w.x,f*=w.y,l+=v,c+=b,g=Co(m),m=k$(g)}}return _6({width:u,height:f,x:l,y:c})}function hx(t,e){const r=dx(t).scrollLeft;return e?e.left+r:Zh(Ac(t)).left+r}function Woe(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-hx(t,r),i=r.top+e.scrollTop;return{x:n,y:i}}function Ost(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const s=i==="fixed",o=Ac(n),a=e?ux(e.floating):!1;if(n===o||a&&s)return r;let l={scrollLeft:0,scrollTop:0},c=cc(1);const u=cc(0),f=yc(n);if((f||!f&&!s)&&((Cg(n)!=="body"||eb(o))&&(l=dx(n)),yc(n))){const p=Zh(n);c=Z0(n),u.x=p.x+n.clientLeft,u.y=p.y+n.clientTop}const h=o&&!f&&!s?Woe(o,l):cc(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:r.y*c.y-l.scrollTop*c.y+u.y+h.y}}function jst(t){return Array.from(t.getClientRects())}function Mst(t){const e=Ac(t),r=dx(t),n=t.ownerDocument.body,i=qi(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=qi(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+hx(t);const a=-r.scrollTop;return dl(n).direction==="rtl"&&(o+=qi(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:o,y:a}}const TW=25;function Dst(t,e){const r=Co(t),n=Ac(t),i=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=uP();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const c=hx(n);if(c<=0){const u=n.ownerDocument,f=u.body,h=getComputedStyle(f),p=u.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,g=Math.abs(n.clientWidth-f.clientWidth-p);g<=TW&&(s-=g)}else c<=TW&&(s+=c);return{width:s,height:o,x:a,y:l}}const Lst=new Set(["absolute","fixed"]);function Fst(t,e){const r=Zh(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=yc(t)?Z0(t):cc(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=n*s.y;return{width:o,height:a,x:l,y:c}}function NW(t,e,r){let n;if(e==="viewport")n=Dst(t,r);else if(e==="document")n=Mst(Ac(t));else if(as(e))n=Fst(e,r);else{const i=Uoe(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return _6(n)}function zoe(t,e){const r=af(t);return r===e||!as(r)||L1(r)?!1:dl(r).position==="fixed"||zoe(r,e)}function Bst(t,e){const r=e.get(t);if(r)return r;let n=D2(t,[],!1).filter(a=>as(a)&&Cg(a)!=="body"),i=null;const s=dl(t).position==="fixed";let o=s?af(t):t;for(;as(o)&&!L1(o);){const a=dl(o),l=cP(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&Lst.has(i.position)||eb(o)&&!l&&zoe(t,o))?n=n.filter(u=>u!==o):i=a,o=af(o)}return e.set(t,n),n}function Ust(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?ux(e)?[]:Bst(e,this._c):[].concat(r),n],a=o[0],l=o.reduce((c,u)=>{const f=NW(e,u,i);return c.top=qi(f.top,c.top),c.right=Yh(f.right,c.right),c.bottom=Yh(f.bottom,c.bottom),c.left=qi(f.left,c.left),c},NW(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Wst(t){const{width:e,height:r}=Boe(t);return{width:e,height:r}}function zst(t,e,r){const n=yc(e),i=Ac(e),s=r==="fixed",o=Zh(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=cc(0);function c(){l.x=hx(i)}if(n||!n&&!s)if((Cg(e)!=="body"||eb(i))&&(a=dx(e)),n){const p=Zh(e,!0,s,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&c();s&&!n&&i&&c();const u=i&&!n&&!s?Woe(i,a):cc(0),f=o.left+a.scrollLeft-l.x-u.x,h=o.top+a.scrollTop-l.y-u.y;return{x:f,y:h,width:o.width,height:o.height}}function s_(t){return dl(t).position==="static"}function PW(t,e){if(!yc(t)||dl(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Ac(t)===r&&(r=r.ownerDocument.body),r}function Hoe(t,e){const r=Co(t);if(ux(t))return r;if(!yc(t)){let i=af(t);for(;i&&!L1(i);){if(as(i)&&!s_(i))return i;i=af(i)}return r}let n=PW(t,e);for(;n&&ost(n)&&s_(n);)n=PW(n,e);return n&&L1(n)&&s_(n)&&!cP(n)?r:n||dst(t)||r}const Hst=async function(t){const e=this.getOffsetParent||Hoe,r=this.getDimensions,n=await r(t.floating);return{reference:zst(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function qst(t){return dl(t).direction==="rtl"}const Vst={convertOffsetParentRelativeRectToViewportRelativeRect:Ost,getDocumentElement:Ac,getClippingRect:Ust,getOffsetParent:Hoe,getElementRects:Hst,getClientRects:jst,getDimensions:Wst,getScale:Z0,isElement:as,isRTL:qst};function qoe(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Gst(t,e){let r=null,n;const i=Ac(t);function s(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:u,top:f,width:h,height:p}=c;if(a||e(),!h||!p)return;const g=Iv(f),m=Iv(i.clientWidth-(u+h)),w=Iv(i.clientHeight-(f+p)),y=Iv(u),v={rootMargin:-g+"px "+-m+"px "+-w+"px "+-y+"px",threshold:qi(0,Yh(1,l))||1};let b=!0;function $(P){const O=P[0].intersectionRatio;if(O!==l){if(!b)return o();O?o(!1,O):n=setTimeout(()=>{o(!1,1e-7)},1e3)}O===1&&!qoe(c,t.getBoundingClientRect())&&o(),b=!1}try{r=new IntersectionObserver($,{...v,root:i.ownerDocument})}catch{r=new IntersectionObserver($,v)}r.observe(t)}return o(!0),s}function Kst(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=dP(t),u=i||s?[...c?D2(c):[],...D2(e)]:[];u.forEach(y=>{i&&y.addEventListener("scroll",r,{passive:!0}),s&&y.addEventListener("resize",r)});const f=c&&a?Gst(c,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(y=>{let[E]=y;E&&E.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var v;(v=p)==null||v.observe(e)})),r()}),c&&!l&&p.observe(c),p.observe(e));let g,m=l?Zh(t):null;l&&w();function w(){const y=Zh(t);m&&!qoe(m,y)&&r(),m=y,g=requestAnimationFrame(w)}return r(),()=>{var y;u.forEach(E=>{i&&E.removeEventListener("scroll",r),s&&E.removeEventListener("resize",r)}),f==null||f(),(y=p)==null||y.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const o_=fx,Yst=kst,Zst=Tst,Jst=Sst,Qst=Nst,Xst=(t,e,r)=>{const n=new Map,i={platform:Vst,...r},s={...i.platform,_c:n};return Ast(t,e,{...i,platform:s})};var eot=typeof document<"u",tot=function(){},S3=eot?C.useLayoutEffect:tot;function C6(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!C6(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&t.$$typeof)&&!C6(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function Voe(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function RW(t,e){const r=Voe(t);return Math.round(e*r)/r}function a_(t){const e=C.useRef(t);return S3(()=>{e.current=t}),e}function rot(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,f]=C.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=C.useState(n);C6(h,n)||p(n);const[g,m]=C.useState(null),[w,y]=C.useState(null),E=C.useCallback(I=>{I!==P.current&&(P.current=I,m(I))},[]),v=C.useCallback(I=>{I!==O.current&&(O.current=I,y(I))},[]),b=s||g,$=o||w,P=C.useRef(null),O=C.useRef(null),D=C.useRef(u),B=l!=null,H=a_(l),q=a_(i),Y=a_(c),R=C.useCallback(()=>{if(!P.current||!O.current)return;const I={placement:e,strategy:r,middleware:h};q.current&&(I.platform=q.current),Xst(P.current,O.current,I).then(N=>{const M={...N,isPositioned:Y.current!==!1};_.current&&!C6(D.current,M)&&(D.current=M,Cu.flushSync(()=>{f(M)}))})},[h,e,r,q,Y]);S3(()=>{c===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,f(I=>({...I,isPositioned:!1})))},[c]);const _=C.useRef(!1);S3(()=>(_.current=!0,()=>{_.current=!1}),[]),S3(()=>{if(b&&(P.current=b),$&&(O.current=$),b&&$){if(H.current)return H.current(b,$,R);R()}},[b,$,R,H,B]);const x=C.useMemo(()=>({reference:P,floating:O,setReference:E,setFloating:v}),[E,v]),A=C.useMemo(()=>({reference:b,floating:$}),[b,$]),T=C.useMemo(()=>{const I={position:r,left:0,top:0};if(!A.floating)return I;const N=RW(A.floating,u.x),M=RW(A.floating,u.y);return a?{...I,transform:"translate("+N+"px, "+M+"px)",...Voe(A.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:N,top:M}},[r,a,A.floating,u.x,u.y]);return C.useMemo(()=>({...u,update:R,refs:x,elements:A,floatingStyles:T}),[u,R,x,A,T])}const Goe=(t,e)=>({...Yst(t),options:[t,e]}),not=(t,e)=>({...Zst(t),options:[t,e]}),iot=(t,e)=>({...Jst(t),options:[t,e]}),sot=(t,e)=>({...Qst(t),options:[t,e]}),Koe={...A_},oot=Koe.useInsertionEffect,aot=oot||(t=>t());function Yoe(t){const e=C.useRef(()=>{});return aot(()=>{e.current=t}),C.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}var N$=typeof document<"u"?C.useLayoutEffect:C.useEffect;let OW=!1,lot=0;const jW=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+lot++;function cot(){const[t,e]=C.useState(()=>OW?jW():void 0);return N$(()=>{t==null&&e(jW())},[]),C.useEffect(()=>{OW=!0},[]),t}const uot=Koe.useId,dot=uot||cot;function fot(){const t=new Map;return{emit(e,r){var n;(n=t.get(e))==null||n.forEach(i=>i(r))},on(e,r){t.set(e,[...t.get(e)||[],r])},off(e,r){var n;t.set(e,((n=t.get(e))==null?void 0:n.filter(i=>i!==r))||[])}}}const hot=C.createContext(null),pot=C.createContext(null),got=()=>{var t;return((t=C.useContext(hot))==null?void 0:t.id)||null},mot=()=>C.useContext(pot),yot="data-floating-ui-focusable";function wot(t){const{open:e=!1,onOpenChange:r,elements:n}=t,i=dot(),s=C.useRef({}),[o]=C.useState(()=>fot()),a=got()!=null,[l,c]=C.useState(n.reference),u=Yoe((p,g,m)=>{s.current.openEvent=p?g:void 0,o.emit("openchange",{open:p,event:g,reason:m,nested:a}),r==null||r(p,g,m)}),f=C.useMemo(()=>({setPositionReference:c}),[]),h=C.useMemo(()=>({reference:l||n.reference||null,floating:n.floating||null,domReference:n.reference}),[l,n.reference,n.floating]);return C.useMemo(()=>({dataRef:s,open:e,onOpenChange:u,elements:h,events:o,floatingId:i,refs:f}),[e,u,h,o,i,f])}function bot(t){t===void 0&&(t={});const{nodeId:e}=t,r=wot({...t,elements:{reference:null,floating:null,...t.elements}}),n=t.rootContext||r,i=n.elements,[s,o]=C.useState(null),[a,l]=C.useState(null),u=(i==null?void 0:i.domReference)||s,f=C.useRef(null),h=mot();N$(()=>{u&&(f.current=u)},[u]);const p=rot({...t,elements:{...i,...a&&{reference:a}}}),g=C.useCallback(v=>{const b=as(v)?{getBoundingClientRect:()=>v.getBoundingClientRect(),contextElement:v}:v;l(b),p.refs.setReference(b)},[p.refs]),m=C.useCallback(v=>{(as(v)||v===null)&&(f.current=v,o(v)),(as(p.refs.reference.current)||p.refs.reference.current===null||v!==null&&!as(v))&&p.refs.setReference(v)},[p.refs]),w=C.useMemo(()=>({...p.refs,setReference:m,setPositionReference:g,domReference:f}),[p.refs,m,g]),y=C.useMemo(()=>({...p.elements,domReference:u}),[p.elements,u]),E=C.useMemo(()=>({...p,...n,refs:w,elements:y,nodeId:e}),[p,w,y,e,n]);return N$(()=>{n.dataRef.current.floatingContext=E;const v=h==null?void 0:h.nodesRef.current.find(b=>b.id===e);v&&(v.context=E)}),C.useMemo(()=>({...p,context:E,refs:w,elements:y}),[p,w,y,E])}const MW="active",DW="selected";function l_(t,e,r){const n=new Map,i=r==="item";let s=t;if(i&&t){const{[MW]:o,[DW]:a,...l}=t;s=l}return{...r==="floating"&&{tabIndex:-1,[yot]:""},...s,...e.map(o=>{const a=o?o[r]:null;return typeof a=="function"?t?a(t):null:a}).concat(t).reduce((o,a)=>(a&&Object.entries(a).forEach(l=>{let[c,u]=l;if(!(i&&[MW,DW].includes(c)))if(c.indexOf("on")===0){if(n.has(c)||n.set(c,[]),typeof u=="function"){var f;(f=n.get(c))==null||f.push(u),o[c]=function(){for(var h,p=arguments.length,g=new Array(p),m=0;m<p;m++)g[m]=arguments[m];return(h=n.get(c))==null?void 0:h.map(w=>w(...g)).find(w=>w!==void 0)}}}else o[c]=u}),o),{})}}function vot(t){t===void 0&&(t=[]);const e=t.map(a=>a==null?void 0:a.reference),r=t.map(a=>a==null?void 0:a.floating),n=t.map(a=>a==null?void 0:a.item),i=C.useCallback(a=>l_(a,t,"reference"),e),s=C.useCallback(a=>l_(a,t,"floating"),r),o=C.useCallback(a=>l_(a,t,"item"),n);return C.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:o}),[i,s,o])}function LW(t,e){return{...t,rects:{...t.rects,floating:{...t.rects.floating,height:e}}}}const xot=t=>({name:"inner",options:t,async fn(e){const{listRef:r,overflowRef:n,onFallbackChange:i,offset:s=0,index:o=0,minItemsVisible:a=4,referenceOverflowThreshold:l=0,scrollRef:c,...u}=Ag(t,e),{rects:f,elements:{floating:h}}=e,p=r.current[o],g=(c==null?void 0:c.current)||h,m=h.clientTop||g.clientTop,w=h.clientTop!==0,y=g.clientTop!==0,E=h===g;if(!p)return{};const v={...e,...await Goe(-p.offsetTop-h.clientTop-f.reference.height/2-p.offsetHeight/2-s).fn(e)},b=await o_(LW(v,g.scrollHeight+m+h.clientTop),u),$=await o_(v,{...u,elementContext:"reference"}),P=qi(0,b.top),O=v.y+P,H=(g.scrollHeight>g.clientHeight?q=>q:L2)(qi(0,g.scrollHeight+(w&&E||y?m*2:0)-P-qi(0,b.bottom)));if(g.style.maxHeight=H+"px",g.scrollTop=P,i){const q=g.offsetHeight<p.offsetHeight*Yh(a,r.current.length)-1||$.top>=-l||$.bottom>=-l;Cu.flushSync(()=>i(q))}return n&&(n.current=await o_(LW({...v,y:O},g.offsetHeight+m+h.clientTop),u)),{y:O}}});function Eot(t,e){const{open:r,elements:n}=t,{enabled:i=!0,overflowRef:s,scrollRef:o,onChange:a}=e,l=Yoe(a),c=C.useRef(!1),u=C.useRef(null),f=C.useRef(null);C.useEffect(()=>{if(!i)return;function p(m){if(m.ctrlKey||!g||s.current==null)return;const w=m.deltaY,y=s.current.top>=-.5,E=s.current.bottom>=-.5,v=g.scrollHeight-g.clientHeight,b=w<0?-1:1,$=w<0?"max":"min";g.scrollHeight<=g.clientHeight||(!y&&w>0||!E&&w<0?(m.preventDefault(),Cu.flushSync(()=>{l(P=>P+Math[$](w,v*b))})):/firefox/i.test(hst())&&(g.scrollTop+=w))}const g=(o==null?void 0:o.current)||n.floating;if(r&&g)return g.addEventListener("wheel",p),requestAnimationFrame(()=>{u.current=g.scrollTop,s.current!=null&&(f.current={...s.current})}),()=>{u.current=null,f.current=null,g.removeEventListener("wheel",p)}},[i,r,n.floating,s,o,l]);const h=C.useMemo(()=>({onKeyDown(){c.current=!0},onWheel(){c.current=!1},onPointerMove(){c.current=!1},onScroll(){const p=(o==null?void 0:o.current)||n.floating;if(!(!s.current||!p||!c.current)){if(u.current!==null){const g=p.scrollTop-u.current;(s.current.bottom<-.5&&g<-1||s.current.top<-.5&&g>1)&&Cu.flushSync(()=>l(m=>m+g))}requestAnimationFrame(()=>{u.current=p.scrollTop})}}}),[n.floating,l,s,o]);return C.useMemo(()=>i?{floating:h}:{},[i,h])}let Sg=C.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Sg.displayName="FloatingContext";let fP=C.createContext(null);fP.displayName="PlacementContext";function _ot(t){return C.useMemo(()=>t?typeof t=="string"?{to:t}:t:null,[t])}function Cot(){return C.useContext(Sg).setReference}function Aot(){return C.useContext(Sg).getReferenceProps}function Sot(){let{getFloatingProps:t,slot:e}=C.useContext(Sg);return C.useCallback((...r)=>Object.assign({},t(...r),{"data-anchor":e.anchor}),[t,e])}function $ot(t=null){t===!1&&(t=null),typeof t=="string"&&(t={to:t});let e=C.useContext(fP),r=C.useMemo(()=>t,[JSON.stringify(t,(i,s)=>{var o;return(o=s==null?void 0:s.outerHTML)!=null?o:s})]);Hr(()=>{e==null||e(r??null)},[e,r]);let n=C.useContext(Sg);return C.useMemo(()=>[n.setFloating,t?n.styles:{}],[n.setFloating,t,n.styles])}let FW=4;function Iot({children:t,enabled:e=!0}){let[r,n]=C.useState(null),[i,s]=C.useState(0),o=C.useRef(null),[a,l]=C.useState(null);kot(a);let c=e&&r!==null&&a!==null,{to:u="bottom",gap:f=0,offset:h=0,padding:p=0,inner:g}=Tot(r,a),[m,w="center"]=u.split(" ");Hr(()=>{c&&s(0)},[c]);let{refs:y,floatingStyles:E,context:v}=bot({open:c,placement:m==="selection"?w==="center"?"bottom":`bottom-${w}`:w==="center"?`${m}`:`${m}-${w}`,strategy:"absolute",transform:!1,middleware:[Goe({mainAxis:m==="selection"?0:f,crossAxis:h}),not({padding:p}),m!=="selection"&&iot({padding:p}),m==="selection"&&g?xot({...g,padding:p,overflowRef:o,offset:i,minItemsVisible:FW,referenceOverflowThreshold:p,onFallbackChange(q){var Y,R;if(!q)return;let _=v.elements.floating;if(!_)return;let x=parseFloat(getComputedStyle(_).scrollPaddingBottom)||0,A=Math.min(FW,_.childElementCount),T=0,I=0;for(let N of(R=(Y=v.elements.floating)==null?void 0:Y.childNodes)!=null?R:[])if(ko(N)){let M=N.offsetTop,U=M+N.clientHeight+x,S=_.scrollTop,F=S+_.clientHeight;if(M>=S&&U<=F)A--;else{I=Math.max(0,Math.min(U,F)-Math.max(M,S)),T=N.clientHeight;break}}A>=1&&s(N=>{let M=T*A-I+x;return N>=M?N:M})}}):null,sot({padding:p,apply({availableWidth:q,availableHeight:Y,elements:R}){Object.assign(R.floating.style,{overflow:"auto",maxWidth:`${q}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${Y}px)`})}})].filter(Boolean),whileElementsMounted:Kst}),[b=m,$=w]=v.placement.split("-");m==="selection"&&(b="selection");let P=C.useMemo(()=>({anchor:[b,$].filter(Boolean).join(" ")}),[b,$]),O=Eot(v,{overflowRef:o,onChange:s}),{getReferenceProps:D,getFloatingProps:B}=vot([O]),H=Et(q=>{l(q),y.setFloating(q)});return C.createElement(fP.Provider,{value:n},C.createElement(Sg.Provider,{value:{setFloating:H,setReference:y.setReference,styles:E,getReferenceProps:D,getFloatingProps:B,slot:P}},t))}function kot(t){Hr(()=>{if(!t)return;let e=new MutationObserver(()=>{let r=window.getComputedStyle(t).maxHeight,n=parseFloat(r);if(isNaN(n))return;let i=parseInt(r);isNaN(i)||n!==i&&(t.style.maxHeight=`${Math.ceil(n)}px`)});return e.observe(t,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[t])}function Tot(t,e){var r,n,i;let s=c_((r=t==null?void 0:t.gap)!=null?r:"var(--anchor-gap, 0)",e),o=c_((n=t==null?void 0:t.offset)!=null?n:"var(--anchor-offset, 0)",e),a=c_((i=t==null?void 0:t.padding)!=null?i:"var(--anchor-padding, 0)",e);return{...t,gap:s,offset:o,padding:a}}function c_(t,e,r=void 0){let n=xp(),i=Et((l,c)=>{if(l==null)return[r,null];if(typeof l=="number")return[l,null];if(typeof l=="string"){if(!c)return[r,null];let u=BW(l,c);return[u,f=>{let h=Zoe(l);{let p=h.map(g=>window.getComputedStyle(c).getPropertyValue(g));n.requestAnimationFrame(function g(){n.nextFrame(g);let m=!1;for(let[y,E]of h.entries()){let v=window.getComputedStyle(c).getPropertyValue(E);if(p[y]!==v){p[y]=v,m=!0;break}}if(!m)return;let w=BW(l,c);u!==w&&(f(w),u=w)})}return n.dispose}]}return[r,null]}),s=C.useMemo(()=>i(t,e)[0],[t,e]),[o=s,a]=C.useState();return Hr(()=>{let[l,c]=i(t,e);if(a(l),!!c)return c(a)},[t,e]),o}function Zoe(t){let e=/var\((.*)\)/.exec(t);if(e){let r=e[1].indexOf(",");if(r===-1)return[e[1]];let n=e[1].slice(0,r).trim(),i=e[1].slice(r+1).trim();return i?[n,...Zoe(i)]:[n]}return[]}function BW(t,e){let r=document.createElement("div");e.appendChild(r),r.style.setProperty("margin-top","0px","important"),r.style.setProperty("margin-top",t,"important");let n=parseFloat(window.getComputedStyle(r).marginTop)||0;return e.removeChild(r),n}let px=C.createContext(null);px.displayName="OpenClosedContext";var ls=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(ls||{});function rb(){return C.useContext(px)}function Joe({value:t,children:e}){return Je.createElement(px.Provider,{value:t},e)}function Not({children:t}){return Je.createElement(px.Provider,{value:null},t)}function Pot(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Td=[];Pot(()=>{function t(e){if(!Gl(e.target)||e.target===document.body||Td[0]===e.target)return;let r=e.target;r=r.closest(x6),Td.unshift(r??e.target),Td=Td.filter(n=>n!=null&&n.isConnected),Td.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function Rot(t){throw new Error("Unexpected object: "+t)}var Cn=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(Cn||{});function kv(t,e){let r=e.resolveItems();if(r.length<=0)return null;let n=e.resolveActiveIndex(),i=n??-1;switch(t.focus){case 0:{for(let s=0;s<r.length;++s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 1:{i===-1&&(i=r.length);for(let s=i-1;s>=0;--s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 2:{for(let s=i+1;s<r.length;++s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 3:{for(let s=r.length-1;s>=0;--s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 4:{for(let s=0;s<r.length;++s)if(e.resolveId(r[s],s,r)===t.id)return s;return n}case 5:return null;default:Rot(t)}}function hP(t){let e=Et(t),r=C.useRef(!1);C.useEffect(()=>(r.current=!1,()=>{r.current=!0,ox(()=>{r.current&&e()})}),[e])}let Qoe=C.createContext(!1);function Oot(){return C.useContext(Qoe)}function UW(t){return Je.createElement(Qoe.Provider,{value:t.force},t.children)}function jot(t){let e=Oot(),r=C.useContext(eae),[n,i]=C.useState(()=>{var s;if(!e&&r!==null)return(s=r.current)!=null?s:null;if(ac.isServer)return null;let o=t==null?void 0:t.getElementById("headlessui-portal-root");if(o)return o;if(t===null)return null;let a=t.createElement("div");return a.setAttribute("id","headlessui-portal-root"),t.body.appendChild(a)});return C.useEffect(()=>{n!==null&&(t!=null&&t.body.contains(n)||t==null||t.body.appendChild(n))},[n,t]),C.useEffect(()=>{e||r!==null&&i(r.current)},[r,i,e]),n}let Xoe=C.Fragment,Mot=un(function(t,e){let{ownerDocument:r=null,...n}=t,i=C.useRef(null),s=ws(rit(h=>{i.current=h}),e),o=M2(i.current),a=r??o,l=jot(a),c=C.useContext(P$),u=xp(),f=In();return hP(()=>{var h;l&&l.childNodes.length<=0&&((h=l.parentElement)==null||h.removeChild(l))}),l?Cu.createPortal(Je.createElement("div",{"data-headlessui-portal":"",ref:h=>{u.dispose(),c&&h&&u.add(c.register(h))}},f({ourProps:{ref:s},theirProps:n,slot:{},defaultTag:Xoe,name:"Portal"})),l):null});function Dot(t,e){let r=ws(e),{enabled:n=!0,ownerDocument:i,...s}=t,o=In();return n?Je.createElement(Mot,{...s,ownerDocument:i,ref:r}):o({ourProps:{ref:r},theirProps:s,slot:{},defaultTag:Xoe,name:"Portal"})}let Lot=C.Fragment,eae=C.createContext(null);function Fot(t,e){let{target:r,...n}=t,i={ref:ws(e)},s=In();return Je.createElement(eae.Provider,{value:r},s({ourProps:i,theirProps:n,defaultTag:Lot,name:"Popover.Group"}))}let P$=C.createContext(null);function Bot(){let t=C.useContext(P$),e=C.useRef([]),r=Et(s=>(e.current.push(s),t&&t.register(s),()=>n(s))),n=Et(s=>{let o=e.current.indexOf(s);o!==-1&&e.current.splice(o,1),t&&t.unregister(s)}),i=C.useMemo(()=>({register:r,unregister:n,portals:e}),[r,n,e]);return[e,C.useMemo(()=>function({children:s}){return Je.createElement(P$.Provider,{value:i},s)},[i])]}let Uot=un(Dot),tae=un(Fot),rae=Object.assign(Uot,{Group:tae});const $3={Idle:{kind:"Idle"},Tracked:t=>({kind:"Tracked",position:t}),Moved:{kind:"Moved"}};function nae(t){let e=t.getBoundingClientRect();return`${e.x},${e.y}`}function Wot(t,e,r){let n=ro();if(e.kind==="Tracked"){let i=function(){s!==nae(t)&&(n.dispose(),r())},{position:s}=e,o=new ResizeObserver(i);o.observe(t),n.add(()=>o.disconnect()),n.addEventListener(window,"scroll",i,{passive:!0}),n.addEventListener(window,"resize",i)}return()=>n.dispose()}function zot(t,e=typeof document<"u"?document.defaultView:null,r){let n=Xw(t,"escape");Noe(e,"keydown",i=>{n&&(i.defaultPrevented||i.key===Jn.Escape&&r(i))})}function Hot(){var t;let[e]=C.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[r,n]=C.useState((t=e==null?void 0:e.matches)!=null?t:!1);return Hr(()=>{if(!e)return;function i(s){n(s.matches)}return e.addEventListener("change",i),()=>e.removeEventListener("change",i)},[e]),r}function qot({defaultContainers:t=[],portals:e,mainTreeNode:r}={}){let n=Et(()=>{var i,s;let o=vp(r),a=[];for(let l of t)l!==null&&(bu(l)?a.push(l):"current"in l&&bu(l.current)&&a.push(l.current));if(e!=null&&e.current)for(let l of e.current)a.push(l);for(let l of(i=o==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?i:[])l!==document.body&&l!==document.head&&bu(l)&&l.id!=="headlessui-portal-root"&&(r&&(l.contains(r)||l.contains((s=r==null?void 0:r.getRootNode())==null?void 0:s.host))||a.some(c=>l.contains(c))||a.push(l));return a});return{resolveContainers:n,contains:Et(i=>n().some(s=>s.contains(i)))}}let iae=C.createContext(null);function WW({children:t,node:e}){let[r,n]=C.useState(null),i=sae(e??r);return Je.createElement(iae.Provider,{value:i},t,i===null&&Je.createElement(S$,{features:v6.Hidden,ref:s=>{var o,a;if(s){for(let l of(a=(o=vp(s))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?a:[])if(l!==document.body&&l!==document.head&&bu(l)&&l!=null&&l.contains(s)){n(l);break}}}}))}function sae(t=null){var e;return(e=C.useContext(iae))!=null?e:t}function Vot(){let t=typeof document>"u";return"useSyncExternalStore"in A_?(e=>e.useSyncExternalStore)(A_)(()=>()=>{},()=>!1,()=>!t):!1}function gx(){let t=Vot(),[e,r]=C.useState(ac.isHandoffComplete);return e&&ac.isHandoffComplete===!1&&r(!1),C.useEffect(()=>{e!==!0&&r(!0)},[e]),C.useEffect(()=>ac.handoff(),[]),t?!1:e}function pP(){let t=C.useRef(!1);return Hr(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var $m=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))($m||{});function Got(){let t=C.useRef(0);return koe(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function oae(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let r of t.current)bu(r.current)&&e.add(r.current);return e}let Kot="div";var Gf=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(Gf||{});function Yot(t,e){let r=C.useRef(null),n=ws(r,e),{initialFocus:i,initialFocusFallback:s,containers:o,features:a=15,...l}=t;gx()||(a=0);let c=M2(r.current);Xot(a,{ownerDocument:c});let u=eat(a,{ownerDocument:c,container:r,initialFocus:i,initialFocusFallback:s});tat(a,{ownerDocument:c,container:r,containers:o,previousActiveElement:u});let f=Got(),h=Et(E=>{if(!ko(r.current))return;let v=r.current;(b=>b())(()=>{ul(f.current,{[$m.Forwards]:()=>{Y0(v,Ua.First,{skipElements:[E.relatedTarget,s]})},[$m.Backwards]:()=>{Y0(v,Ua.Last,{skipElements:[E.relatedTarget,s]})}})})}),p=Xw(!!(a&2),"focus-trap#tab-lock"),g=xp(),m=C.useRef(!1),w={ref:n,onKeyDown(E){E.key=="Tab"&&(m.current=!0,g.requestAnimationFrame(()=>{m.current=!1}))},onBlur(E){if(!(a&4))return;let v=oae(o);ko(r.current)&&v.add(r.current);let b=E.relatedTarget;Gl(b)&&b.dataset.headlessuiFocusGuard!=="true"&&(aae(v,b)||(m.current?Y0(r.current,ul(f.current,{[$m.Forwards]:()=>Ua.Next,[$m.Backwards]:()=>Ua.Previous})|Ua.WrapAround,{relativeTo:E.target}):Gl(E.target)&&lc(E.target)))}},y=In();return Je.createElement(Je.Fragment,null,p&&Je.createElement(S$,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:v6.Focusable}),y({ourProps:w,theirProps:l,defaultTag:Kot,name:"FocusTrap"}),p&&Je.createElement(S$,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:v6.Focusable}))}let Zot=un(Yot),Jot=Object.assign(Zot,{features:Gf});function Qot(t=!0){let e=C.useRef(Td.slice());return lP(([r],[n])=>{n===!0&&r===!1&&ox(()=>{e.current.splice(0)}),n===!1&&r===!0&&(e.current=Td.slice())},[t,Td,e]),Et(()=>{var r;return(r=e.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function Xot(t,{ownerDocument:e}){let r=!!(t&8),n=Qot(r);lP(()=>{r||noe(e==null?void 0:e.body)&&lc(n())},[r]),hP(()=>{r&&lc(n())})}function eat(t,{ownerDocument:e,container:r,initialFocus:n,initialFocusFallback:i}){let s=C.useRef(null),o=Xw(!!(t&1),"focus-trap#initial-focus"),a=pP();return lP(()=>{if(t===0)return;if(!o){i!=null&&i.current&&lc(i.current);return}let l=r.current;l&&ox(()=>{if(!a.current)return;let c=e==null?void 0:e.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===c){s.current=c;return}}else if(l.contains(c)){s.current=c;return}if(n!=null&&n.current)lc(n.current);else{if(t&16){if(Y0(l,Ua.First|Ua.AutoFocus)!==I$.Error)return}else if(Y0(l,Ua.First)!==I$.Error)return;if(i!=null&&i.current&&(lc(i.current),(e==null?void 0:e.activeElement)===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=e==null?void 0:e.activeElement})},[i,o,t]),s}function tat(t,{ownerDocument:e,container:r,containers:n,previousActiveElement:i}){let s=pP(),o=!!(t&4);Noe(e==null?void 0:e.defaultView,"focus",a=>{if(!o||!s.current)return;let l=oae(n);ko(r.current)&&l.add(r.current);let c=i.current;if(!c)return;let u=a.target;ko(u)?aae(l,u)?(i.current=u,lc(u)):(a.preventDefault(),a.stopPropagation(),lc(c)):lc(i.current)},!0)}function aae(t,e){for(let r of t)if(r.contains(e))return!0;return!1}function lae(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||!iy((e=t.as)!=null?e:uae)||Je.Children.count(t.children)===1}let mx=C.createContext(null);mx.displayName="TransitionContext";var rat=(t=>(t.Visible="visible",t.Hidden="hidden",t))(rat||{});function nat(){let t=C.useContext(mx);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function iat(){let t=C.useContext(yx);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let yx=C.createContext(null);yx.displayName="NestingContext";function wx(t){return"children"in t?wx(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function cae(t,e){let r=Ep(t),n=C.useRef([]),i=pP(),s=xp(),o=Et((p,g=Md.Hidden)=>{let m=n.current.findIndex(({el:w})=>w===p);m!==-1&&(ul(g,{[Md.Unmount](){n.current.splice(m,1)},[Md.Hidden](){n.current[m].state="hidden"}}),s.microTask(()=>{var w;!wx(n)&&i.current&&((w=r.current)==null||w.call(r))}))}),a=Et(p=>{let g=n.current.find(({el:m})=>m===p);return g?g.state!=="visible"&&(g.state="visible"):n.current.push({el:p,state:"visible"}),()=>o(p,Md.Unmount)}),l=C.useRef([]),c=C.useRef(Promise.resolve()),u=C.useRef({enter:[],leave:[]}),f=Et((p,g,m)=>{l.current.splice(0),e&&(e.chains.current[g]=e.chains.current[g].filter(([w])=>w!==p)),e==null||e.chains.current[g].push([p,new Promise(w=>{l.current.push(w)})]),e==null||e.chains.current[g].push([p,new Promise(w=>{Promise.all(u.current[g].map(([y,E])=>E)).then(()=>w())})]),g==="enter"?c.current=c.current.then(()=>e==null?void 0:e.wait.current).then(()=>m(g)):m(g)}),h=Et((p,g,m)=>{Promise.all(u.current[g].splice(0).map(([w,y])=>y)).then(()=>{var w;(w=l.current.shift())==null||w()}).then(()=>m(g))});return C.useMemo(()=>({children:n,register:a,unregister:o,onStart:f,onStop:h,wait:c,chains:u}),[a,o,n,f,h,u,c])}let uae=C.Fragment,dae=D1.RenderStrategy;function sat(t,e){var r,n;let{transition:i=!0,beforeEnter:s,afterEnter:o,beforeLeave:a,afterLeave:l,enter:c,enterFrom:u,enterTo:f,entered:h,leave:p,leaveFrom:g,leaveTo:m,...w}=t,[y,E]=C.useState(null),v=C.useRef(null),b=lae(t),$=ws(...b?[v,e,E]:e===null?[]:[e]),P=(r=w.unmount)==null||r?Md.Unmount:Md.Hidden,{show:O,appear:D,initial:B}=nat(),[H,q]=C.useState(O?"visible":"hidden"),Y=iat(),{register:R,unregister:_}=Y;Hr(()=>R(v),[R,v]),Hr(()=>{if(P===Md.Hidden&&v.current){if(O&&H!=="visible"){q("visible");return}return ul(H,{hidden:()=>_(v),visible:()=>R(v)})}},[H,v,R,_,O,P]);let x=gx();Hr(()=>{if(b&&x&&H==="visible"&&v.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[v,H,x,b]);let A=B&&!D,T=D&&O&&B,I=C.useRef(!1),N=cae(()=>{I.current||(q("hidden"),_(v))},Y),M=Et(V=>{I.current=!0;let ee=V?"enter":"leave";N.onStart(v,ee,te=>{te==="enter"?s==null||s():te==="leave"&&(a==null||a())})}),U=Et(V=>{let ee=V?"enter":"leave";I.current=!1,N.onStop(v,ee,te=>{te==="enter"?o==null||o():te==="leave"&&(l==null||l())}),ee==="leave"&&!wx(N)&&(q("hidden"),_(v))});C.useEffect(()=>{b&&i||(M(O),U(O))},[O,b,i]);let S=!(!i||!b||!x||A),[,F]=Ooe(S,y,O,{start:M,end:U}),Q=Bf({ref:$,className:((n=A$(w.className,T&&c,T&&u,F.enter&&c,F.enter&&F.closed&&u,F.enter&&!F.closed&&f,F.leave&&p,F.leave&&!F.closed&&g,F.leave&&F.closed&&m,!F.transition&&O&&h))==null?void 0:n.trim())||void 0,...Roe(F)}),k=0;H==="visible"&&(k|=ls.Open),H==="hidden"&&(k|=ls.Closed),O&&H==="hidden"&&(k|=ls.Opening),!O&&H==="visible"&&(k|=ls.Closing);let W=In();return Je.createElement(yx.Provider,{value:N},Je.createElement(Joe,{value:k},W({ourProps:Q,theirProps:w,defaultTag:uae,features:dae,visible:H==="visible",name:"Transition.Child"})))}function oat(t,e){let{show:r,appear:n=!1,unmount:i=!0,...s}=t,o=C.useRef(null),a=lae(t),l=ws(...a?[o,e]:e===null?[]:[e]);gx();let c=rb();if(r===void 0&&c!==null&&(r=(c&ls.Open)===ls.Open),r===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,f]=C.useState(r?"visible":"hidden"),h=cae(()=>{r||f("hidden")}),[p,g]=C.useState(!0),m=C.useRef([r]);Hr(()=>{p!==!1&&m.current[m.current.length-1]!==r&&(m.current.push(r),g(!1))},[m,r]);let w=C.useMemo(()=>({show:r,appear:n,initial:p}),[r,n,p]);Hr(()=>{r?f("visible"):!wx(h)&&o.current!==null&&f("hidden")},[r,h]);let y={unmount:i},E=Et(()=>{var $;p&&g(!1),($=t.beforeEnter)==null||$.call(t)}),v=Et(()=>{var $;p&&g(!1),($=t.beforeLeave)==null||$.call(t)}),b=In();return Je.createElement(yx.Provider,{value:h},Je.createElement(mx.Provider,{value:w},b({ourProps:{...y,as:C.Fragment,children:Je.createElement(fae,{ref:l,...y,...s,beforeEnter:E,beforeLeave:v})},theirProps:{},defaultTag:C.Fragment,features:dae,visible:u==="visible",name:"Transition"})))}function aat(t,e){let r=C.useContext(mx)!==null,n=rb()!==null;return Je.createElement(Je.Fragment,null,!r&&n?Je.createElement(R$,{ref:e,...t}):Je.createElement(fae,{ref:e,...t}))}let R$=un(oat),fae=un(sat),F2=un(aat),hae=Object.assign(R$,{Child:F2,Root:R$});var lat=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(lat||{}),cat=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(cat||{});let uat={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},gP=C.createContext(null);gP.displayName="DialogContext";function bx(t){let e=C.useContext(gP);if(e===null){let r=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,bx),r}return e}function dat(t,e){return ul(e.type,uat,t,e)}let zW=un(function(t,e){let r=C.useId(),{id:n=`headlessui-dialog-${r}`,open:i,onClose:s,initialFocus:o,role:a="dialog",autoFocus:l=!0,__demoMode:c=!1,unmount:u=!1,...f}=t,h=C.useRef(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:(h.current||(h.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let p=rb();i===void 0&&p!==null&&(i=(p&ls.Open)===ls.Open);let g=C.useRef(null),m=ws(g,e),w=M2(g.current),y=i?0:1,[E,v]=C.useReducer(dat,{titleId:null,descriptionId:null,panelRef:C.createRef()}),b=Et(()=>s(!1)),$=Et(F=>v({type:0,id:F})),P=gx()?y===0:!1,[O,D]=Bot(),B={get current(){var F;return(F=E.panelRef.current)!=null?F:g.current}},H=sae(),{resolveContainers:q}=qot({mainTreeNode:H,portals:O,defaultContainers:[B]}),Y=p!==null?(p&ls.Closing)===ls.Closing:!1;_oe(c||Y?!1:P,{allowed:Et(()=>{var F,Q;return[(Q=(F=g.current)==null?void 0:F.closest("[data-headlessui-portal]"))!=null?Q:null]}),disallowed:Et(()=>{var F;return[(F=H==null?void 0:H.closest("body > *:not(#headlessui-portal-root)"))!=null?F:null]})});let R=lx.get(null);Hr(()=>{if(P)return R.actions.push(n),()=>R.actions.pop(n)},[R,n,P]);let _=ra(R,C.useCallback(F=>R.selectors.isTop(F,n),[R,n]));Toe(_,q,F=>{F.preventDefault(),b()}),zot(_,w==null?void 0:w.defaultView,F=>{F.preventDefault(),F.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),b()}),Poe(c||Y?!1:P,w,q),Coe(P,g,b);let[x,A]=foe(),T=C.useMemo(()=>[{dialogState:y,close:b,setTitleId:$,unmount:u},E],[y,b,$,u,E]),I=Cc({open:y===0}),N={ref:m,id:n,role:a,tabIndex:-1,"aria-modal":c?void 0:y===0?!0:void 0,"aria-labelledby":E.titleId,"aria-describedby":x,unmount:u},M=!Hot(),U=Gf.None;P&&!c&&(U|=Gf.RestoreFocus,U|=Gf.TabLock,l&&(U|=Gf.AutoFocus),M&&(U|=Gf.InitialFocus));let S=In();return Je.createElement(Not,null,Je.createElement(UW,{force:!0},Je.createElement(rae,null,Je.createElement(gP.Provider,{value:T},Je.createElement(tae,{target:g},Je.createElement(UW,{force:!1},Je.createElement(A,{slot:I},Je.createElement(D,null,Je.createElement(Jot,{initialFocus:o,initialFocusFallback:g,containers:q,features:U},Je.createElement(fit,{value:b},S({ourProps:N,theirProps:f,slot:I,defaultTag:fat,features:hat,visible:y===0,name:"Dialog"})))))))))))}),fat="div",hat=D1.RenderStrategy|D1.Static;function pat(t,e){let{transition:r=!1,open:n,...i}=t,s=rb(),o=t.hasOwnProperty("open")||s!==null,a=t.hasOwnProperty("onClose");if(!o&&!a)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!a)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(n!==void 0||r)&&!i.static?Je.createElement(WW,null,Je.createElement(hae,{show:n,transition:r,unmount:i.unmount},Je.createElement(zW,{ref:e,...i}))):Je.createElement(WW,null,Je.createElement(zW,{ref:e,open:n,...i}))}let gat="div";function mat(t,e){let r=C.useId(),{id:n=`headlessui-dialog-panel-${r}`,transition:i=!1,...s}=t,[{dialogState:o,unmount:a},l]=bx("Dialog.Panel"),c=ws(e,l.panelRef),u=Cc({open:o===0}),f=Et(w=>{w.stopPropagation()}),h={ref:c,id:n,onClick:f},p=i?F2:C.Fragment,g=i?{unmount:a}:{},m=In();return Je.createElement(p,{...g},m({ourProps:h,theirProps:s,slot:u,defaultTag:gat,name:"Dialog.Panel"}))}let yat="div";function wat(t,e){let{transition:r=!1,...n}=t,[{dialogState:i,unmount:s}]=bx("Dialog.Backdrop"),o=Cc({open:i===0}),a={ref:e,"aria-hidden":!0},l=r?F2:C.Fragment,c=r?{unmount:s}:{},u=In();return Je.createElement(l,{...c},u({ourProps:a,theirProps:n,slot:o,defaultTag:yat,name:"Dialog.Backdrop"}))}let bat="h2";function vat(t,e){let r=C.useId(),{id:n=`headlessui-dialog-title-${r}`,...i}=t,[{dialogState:s,setTitleId:o}]=bx("Dialog.Title"),a=ws(e);C.useEffect(()=>(o(n),()=>o(null)),[n,o]);let l=Cc({open:s===0}),c={ref:a,id:n};return In()({ourProps:c,theirProps:i,slot:l,defaultTag:bat,name:"Dialog.Title"})}let xat=un(pat),pae=un(mat);un(wat);let Eat=un(vat),_at=Object.assign(xat,{Panel:pae,Title:Eat,Description:oit}),HW=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function qW(t){var e,r;let n=(e=t.innerText)!=null?e:"",i=t.cloneNode(!0);if(!ko(i))return n;let s=!1;for(let a of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),s=!0;let o=s?(r=i.innerText)!=null?r:"":n;return HW.test(o)&&(o=o.replace(HW,"")),o}function Cat(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let r=t.getAttribute("aria-labelledby");if(r){let n=r.split(" ").map(i=>{let s=document.getElementById(i);if(s){let o=s.getAttribute("aria-label");return typeof o=="string"?o.trim():qW(s).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return qW(t).trim()}function Aat(t){let e=C.useRef(""),r=C.useRef("");return Et(()=>{let n=t.current;if(!n)return"";let i=n.innerText;if(e.current===i)return r.current;let s=Cat(n).trim().toLowerCase();return e.current=i,r.current=s,s})}var Sat=Object.defineProperty,$at=(t,e,r)=>e in t?Sat(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,VW=(t,e,r)=>($at(t,typeof e!="symbol"?e+"":e,r),r),Ui=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Ui||{}),A6=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(A6||{}),kr=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItems=5]="RegisterItems",t[t.UnregisterItems=6]="UnregisterItems",t[t.SetButtonElement=7]="SetButtonElement",t[t.SetItemsElement=8]="SetItemsElement",t[t.SortItems=9]="SortItems",t[t.MarkButtonAsMoved=10]="MarkButtonAsMoved",t))(kr||{});function GW(t,e=r=>r){let r=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,n=$oe(e(t.items.slice()),s=>s.dataRef.current.domRef.current),i=r?n.indexOf(r):null;return i===-1&&(i=null),{items:n,activeItemIndex:i}}let Iat={1(t){if(t.menuState===1)return t;let e=t.buttonElement?$3.Tracked(nae(t.buttonElement)):t.buttonPositionState;return{...t,activeItemIndex:null,pendingFocus:{focus:Cn.Nothing},menuState:1,buttonPositionState:e}},0(t,e){return t.menuState===0?t:{...t,__demoMode:!1,pendingFocus:e.focus,menuState:0,buttonPositionState:$3.Idle}},2:(t,e)=>{var r,n,i,s,o;if(t.menuState===1)return t;let a={...t,searchQuery:"",activationTrigger:(r=e.trigger)!=null?r:1,__demoMode:!1};if(e.focus===Cn.Nothing)return{...a,activeItemIndex:null};if(e.focus===Cn.Specific)return{...a,activeItemIndex:t.items.findIndex(u=>u.id===e.id)};if(e.focus===Cn.Previous){let u=t.activeItemIndex;if(u!==null){let f=t.items[u].dataRef.current.domRef,h=kv(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});if(h!==null){let p=t.items[h].dataRef.current.domRef;if(((n=f.current)==null?void 0:n.previousElementSibling)===p.current||((i=p.current)==null?void 0:i.previousElementSibling)===null)return{...a,activeItemIndex:h}}}}else if(e.focus===Cn.Next){let u=t.activeItemIndex;if(u!==null){let f=t.items[u].dataRef.current.domRef,h=kv(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});if(h!==null){let p=t.items[h].dataRef.current.domRef;if(((s=f.current)==null?void 0:s.nextElementSibling)===p.current||((o=p.current)==null?void 0:o.nextElementSibling)===null)return{...a,activeItemIndex:h}}}}let l=GW(t),c=kv(e,{resolveItems:()=>l.items,resolveActiveIndex:()=>l.activeItemIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled});return{...a,...l,activeItemIndex:c}},3:(t,e)=>{let r=t.searchQuery!==""?0:1,n=t.searchQuery+e.value.toLowerCase(),i=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+r).concat(t.items.slice(0,t.activeItemIndex+r)):t.items).find(o=>{var a;return((a=o.dataRef.current.textValue)==null?void 0:a.startsWith(n))&&!o.dataRef.current.disabled}),s=i?t.items.indexOf(i):-1;return s===-1||s===t.activeItemIndex?{...t,searchQuery:n}:{...t,searchQuery:n,activeItemIndex:s,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let r=t.items.concat(e.items.map(i=>i)),n=t.activeItemIndex;return t.pendingFocus.focus!==Cn.Nothing&&(n=kv(t.pendingFocus,{resolveItems:()=>r,resolveActiveIndex:()=>t.activeItemIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled})),{...t,items:r,activeItemIndex:n,pendingFocus:{focus:Cn.Nothing},pendingShouldSort:!0}},6:(t,e)=>{let r=t.items,n=[],i=new Set(e.items);for(let[s,o]of r.entries())if(i.has(o.id)&&(n.push(s),i.delete(o.id),i.size===0))break;if(n.length>0){r=r.slice();for(let s of n.reverse())r.splice(s,1)}return{...t,items:r,activationTrigger:1}},7:(t,e)=>t.buttonElement===e.element?t:{...t,buttonElement:e.element},8:(t,e)=>t.itemsElement===e.element?t:{...t,itemsElement:e.element},9:t=>t.pendingShouldSort?{...t,...GW(t),pendingShouldSort:!1}:t,10(t){return t.buttonPositionState.kind!=="Tracked"?t:{...t,buttonPositionState:$3.Moved}}},kat=class gae extends yoe{constructor(e){super(e),VW(this,"actions",{registerItem:pW(()=>{let r=[],n=new Set;return[(i,s)=>{n.has(s)||(n.add(s),r.push({id:i,dataRef:s}))},()=>(n.clear(),this.send({type:5,items:r.splice(0)}))]}),unregisterItem:pW(()=>{let r=[];return[n=>r.push(n),()=>this.send({type:6,items:r.splice(0)})]})}),VW(this,"selectors",{activeDescendantId(r){var n;let i=r.activeItemIndex,s=r.items;return i===null||(n=s[i])==null?void 0:n.id},isActive(r,n){var i;let s=r.activeItemIndex,o=r.items;return s!==null?((i=o[s])==null?void 0:i.id)===n:!1},shouldScrollIntoView(r,n){return r.__demoMode||r.menuState!==0||r.activationTrigger===0?!1:this.isActive(r,n)},didButtonMove(r){return r.buttonPositionState.kind==="Moved"}}),this.on(5,()=>{this.disposables.requestAnimationFrame(()=>{this.send({type:9})})});{let r=this.state.id,n=lx.get(null);this.disposables.add(n.on(boe.Push,i=>{!n.selectors.isTop(i,r)&&this.state.menuState===0&&this.send({type:1})})),this.on(0,()=>n.actions.push(r)),this.on(1,()=>n.actions.pop(r))}this.disposables.group(r=>{this.on(1,n=>{n.buttonElement&&(r.dispose(),r.add(Wot(n.buttonElement,n.buttonPositionState,()=>{this.send({type:10})})))})})}static new({id:e,__demoMode:r=!1}){return new gae({id:e,__demoMode:r,menuState:r?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:Cn.Nothing},buttonPositionState:$3.Idle})}reduce(e,r){return ul(r.type,Iat,e,r)}};const mae=C.createContext(null);function mP(t){let e=C.useContext(mae);if(e===null){let r=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,yae),r}return e}function yae({id:t,__demoMode:e=!1}){let r=C.useMemo(()=>kat.new({id:t,__demoMode:e}),[]);return hP(()=>r.dispose()),r}let Tat=C.Fragment;function Nat(t,e){let r=C.useId(),{__demoMode:n=!1,...i}=t,s=yae({id:r,__demoMode:n}),[o,a,l]=ra(s,w=>[w.menuState,w.itemsElement,w.buttonElement]),c=ws(e),u=lx.get(null),f=ra(u,C.useCallback(w=>u.selectors.isTop(w,r),[u,r]));Toe(f,[l,a],(w,y)=>{var E;s.send({type:kr.CloseMenu}),aP(y,oP.Loose)||(w.preventDefault(),(E=s.state.buttonElement)==null||E.focus())});let h=Et(()=>{s.send({type:kr.CloseMenu})}),p=Cc({open:o===Ui.Open,close:h}),g={ref:c},m=In();return Je.createElement(Iot,null,Je.createElement(mae.Provider,{value:s},Je.createElement(Joe,{value:ul(o,{[Ui.Open]:ls.Open,[Ui.Closed]:ls.Closed})},m({ourProps:g,theirProps:i,slot:p,defaultTag:Tat,name:"Menu"}))))}let Pat="button";function Rat(t,e){let r=mP("Menu.Button"),n=C.useId(),{id:i=`headlessui-menu-button-${n}`,disabled:s=!1,autoFocus:o=!1,...a}=t,l=C.useRef(null),c=Aot(),u=ws(e,l,Cot(),Et(H=>r.send({type:kr.SetButtonElement,element:H}))),f=Et(H=>{switch(H.key){case Jn.Space:case Jn.Enter:case Jn.ArrowDown:H.preventDefault(),H.stopPropagation(),r.send({type:kr.OpenMenu,focus:{focus:Cn.First}});break;case Jn.ArrowUp:H.preventDefault(),H.stopPropagation(),r.send({type:kr.OpenMenu,focus:{focus:Cn.Last}});break}}),h=Et(H=>{switch(H.key){case Jn.Space:H.preventDefault();break}}),[p,g,m]=ra(r,H=>[H.menuState,H.buttonElement,H.itemsElement]),w=p===Ui.Open;Uit(w,{trigger:g,action:C.useCallback(H=>{if(g!=null&&g.contains(H.target))return $v.Ignore;let q=H.target.closest('[role="menuitem"]:not([data-disabled])');return ko(q)?$v.Select(q):m!=null&&m.contains(H.target)?$v.Ignore:$v.Close},[g,m]),close:C.useCallback(()=>r.send({type:kr.CloseMenu}),[]),select:C.useCallback(H=>H.click(),[])});let y=pit(H=>{var q;s||(p===Ui.Open?(Cu.flushSync(()=>r.send({type:kr.CloseMenu})),(q=l.current)==null||q.focus({preventScroll:!0})):(H.preventDefault(),r.send({type:kr.OpenMenu,focus:{focus:Cn.Nothing},trigger:A6.Pointer})))}),{isFocusVisible:E,focusProps:v}=Ont({autoFocus:o}),{isHovered:b,hoverProps:$}=Rnt({isDisabled:s}),{pressed:P,pressProps:O}=Bnt({disabled:s}),D=Cc({open:p===Ui.Open,active:P||p===Ui.Open,disabled:s,hover:b,focus:E,autofocus:o}),B=ooe(c(),{ref:u,id:i,type:Wit(t,l.current),"aria-haspopup":"menu","aria-controls":m==null?void 0:m.id,"aria-expanded":p===Ui.Open,disabled:s||void 0,autoFocus:o,onKeyDown:f,onKeyUp:h},y,v,$,O);return In()({ourProps:B,theirProps:a,slot:D,defaultTag:Pat,name:"Menu.Button"})}let Oat="div",jat=D1.RenderStrategy|D1.Static;function Mat(t,e){let r=C.useId(),{id:n=`headlessui-menu-items-${r}`,anchor:i,portal:s=!1,modal:o=!0,transition:a=!1,...l}=t,c=_ot(i),u=mP("Menu.Items"),[f,h]=$ot(c),p=Sot(),[g,m]=C.useState(null),w=ws(e,c?f:null,Et(I=>u.send({type:kr.SetItemsElement,element:I})),m),[y,E]=ra(u,I=>[I.menuState,I.buttonElement]),v=M2(E),b=M2(g);c&&(s=!0);let $=rb(),[P,O]=Ooe(a,g,$!==null?($&ls.Open)===ls.Open:y===Ui.Open);Coe(P,E,()=>{u.send({type:kr.CloseMenu})});let D=ra(u,I=>I.__demoMode),B=D?!1:o&&y===Ui.Open;Poe(B,b);let H=D?!1:o&&y===Ui.Open;_oe(H,{allowed:C.useCallback(()=>[E,g],[E,g])});let q=ra(u,u.selectors.didButtonMove)?!1:P;C.useEffect(()=>{let I=g;I&&y===Ui.Open&&(noe(I)||I.focus({preventScroll:!0}))},[y,g]),nst(y===Ui.Open,{container:g,accept(I){return I.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:I.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(I){I.setAttribute("role","none")}});let Y=xp(),R=Et(I=>{var N,M,U;switch(Y.dispose(),I.key){case Jn.Space:if(u.state.searchQuery!=="")return I.preventDefault(),I.stopPropagation(),u.send({type:kr.Search,value:I.key});case Jn.Enter:if(I.preventDefault(),I.stopPropagation(),u.state.activeItemIndex!==null){let{dataRef:S}=u.state.items[u.state.activeItemIndex];(M=(N=S.current)==null?void 0:N.domRef.current)==null||M.click()}u.send({type:kr.CloseMenu}),Soe(u.state.buttonElement);break;case Jn.ArrowDown:return I.preventDefault(),I.stopPropagation(),u.send({type:kr.GoToItem,focus:Cn.Next});case Jn.ArrowUp:return I.preventDefault(),I.stopPropagation(),u.send({type:kr.GoToItem,focus:Cn.Previous});case Jn.Home:case Jn.PageUp:return I.preventDefault(),I.stopPropagation(),u.send({type:kr.GoToItem,focus:Cn.First});case Jn.End:case Jn.PageDown:return I.preventDefault(),I.stopPropagation(),u.send({type:kr.GoToItem,focus:Cn.Last});case Jn.Escape:I.preventDefault(),I.stopPropagation(),Cu.flushSync(()=>u.send({type:kr.CloseMenu})),(U=u.state.buttonElement)==null||U.focus({preventScroll:!0});break;case Jn.Tab:I.preventDefault(),I.stopPropagation(),Cu.flushSync(()=>u.send({type:kr.CloseMenu})),Dit(u.state.buttonElement,I.shiftKey?Ua.Previous:Ua.Next);break;default:I.key.length===1&&(u.send({type:kr.Search,value:I.key}),Y.setTimeout(()=>u.send({type:kr.ClearSearch}),350));break}}),_=Et(I=>{switch(I.key){case Jn.Space:I.preventDefault();break}}),x=Cc({open:y===Ui.Open}),A=ooe(c?p():{},{"aria-activedescendant":ra(u,u.selectors.activeDescendantId),"aria-labelledby":ra(u,I=>{var N;return(N=I.buttonElement)==null?void 0:N.id}),id:n,onKeyDown:R,onKeyUp:_,role:"menu",tabIndex:y===Ui.Open?0:void 0,ref:w,style:{...l.style,...h,"--button-width":hit(P,E,!0).width},...Roe(O)}),T=In();return Je.createElement(rae,{enabled:s?t.static||P:!1,ownerDocument:v},T({ourProps:A,theirProps:l,slot:x,defaultTag:Oat,features:jat,visible:q,name:"Menu.Items"}))}let Dat=C.Fragment;function Lat(t,e){let r=C.useId(),{id:n=`headlessui-menu-item-${r}`,disabled:i=!1,...s}=t,o=mP("Menu.Item"),a=ra(o,q=>o.selectors.isActive(q,n)),l=C.useRef(null),c=ws(e,l),u=ra(o,q=>o.selectors.shouldScrollIntoView(q,n));Hr(()=>{if(u)return ro().requestAnimationFrame(()=>{var q,Y;(Y=(q=l.current)==null?void 0:q.scrollIntoView)==null||Y.call(q,{block:"nearest"})})},[u,l]);let f=Aat(l),h=C.useRef({disabled:i,domRef:l,get textValue(){return f()}});Hr(()=>{h.current.disabled=i},[h,i]),Hr(()=>(o.actions.registerItem(n,h),()=>o.actions.unregisterItem(n)),[h,n]);let p=Et(()=>{o.send({type:kr.CloseMenu})}),g=Et(q=>{if(i)return q.preventDefault();o.send({type:kr.CloseMenu}),Soe(o.state.buttonElement)}),m=Et(()=>{if(i)return o.send({type:kr.GoToItem,focus:Cn.Nothing});o.send({type:kr.GoToItem,focus:Cn.Specific,id:n})}),w=Yit(),y=Et(q=>w.update(q)),E=Et(q=>{w.wasMoved(q)&&(i||a||o.send({type:kr.GoToItem,focus:Cn.Specific,id:n,trigger:A6.Pointer}))}),v=Et(q=>{w.wasMoved(q)&&(i||a&&o.state.activationTrigger===A6.Pointer&&o.send({type:kr.GoToItem,focus:Cn.Nothing}))}),[b,$]=hoe(),[P,O]=foe(),D=Cc({active:a,focus:a,disabled:i,close:p}),B={id:n,ref:c,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-labelledby":b,"aria-describedby":P,disabled:void 0,onClick:g,onFocus:m,onPointerEnter:y,onMouseEnter:y,onPointerMove:E,onMouseMove:E,onPointerLeave:v,onMouseLeave:v},H=In();return Je.createElement($,null,Je.createElement(O,null,H({ourProps:B,theirProps:s,slot:D,defaultTag:Dat,name:"Menu.Item"})))}let Fat="div";function Bat(t,e){let[r,n]=hoe(),i=t,s={ref:e,"aria-labelledby":r,role:"group"},o=In();return Je.createElement(n,null,o({ourProps:s,theirProps:i,slot:{},defaultTag:Fat,name:"Menu.Section"}))}let Uat="header";function Wat(t,e){let r=C.useId(),{id:n=`headlessui-menu-heading-${r}`,...i}=t,s=sP();Hr(()=>s.register(n),[n,s.register]);let o={id:n,ref:e,role:"presentation",...s.props};return In()({ourProps:o,theirProps:i,slot:{},defaultTag:Uat,name:"Menu.Heading"})}let zat="div";function Hat(t,e){let r=t,n={ref:e,role:"separator"};return In()({ourProps:n,theirProps:r,slot:{},defaultTag:zat,name:"Menu.Separator"})}let qat=un(Nat),wae=un(Rat),bae=un(Mat),vae=un(Lat),Vat=un(Bat),Gat=un(Wat),Kat=un(Hat),Yat=Object.assign(qat,{Button:wae,Items:bae,Item:vae,Section:Vat,Heading:Gat,Separator:Kat});function Zat({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const vx=C.forwardRef(Zat),Jat=({options:t,onSelect:e,selected:r,className:n})=>d.jsxs(Yat,{as:Qat,children:[d.jsxs(wae,{as:tlt,children:[d.jsx(b$,{balance:r.balance,chain:r.chain}),d.jsx(O$,{height:16})]}),d.jsx(bae,{as:Xat,className:n,children:t.map((i,s)=>d.jsx(vae,{as:elt,onClick:()=>e(s),children:d.jsx(b$,{balance:i.balance,chain:i.chain})},s))})]});let Qat=ne.div.withConfig({displayName:"Wrapper",componentId:"sc-7924b61-0"})(["width:100%;position:relative;"]),Xat=ne.div.withConfig({displayName:"Popover",componentId:"sc-7924b61-1"})(["width:100%;margin-top:0.5rem;position:absolute;background-color:var(--privy-color-background);border-radius:var(--privy-border-radius-md);overflow-x:hidden;overflow-y:auto;box-shadow:0px 1px 2px 0px rgba(16,24,40,0.05);max-height:11.75rem;&&{border:solid 1px var(--privy-color-foreground-4);}z-index:1;"]),elt=ne.button.withConfig({displayName:"Button",componentId:"sc-7924b61-2"})(["width:100%;display:flex;justify-content:space-between;&&{padding:1rem;}:not(:last-child){border-bottom:solid 1px var(--privy-color-foreground-4);}:hover{background:var(--privy-color-background-2);}"]),O$=ne(vx).withConfig({displayName:"StyledChevronIcon",componentId:"sc-7924b61-3"})(["height:1rem;margin-left:0.5rem;"]),tlt=ne.button.withConfig({displayName:"StyledMenuButton",componentId:"sc-7924b61-4"})([""," span{margin-left:auto;}","{transition:rotate 100ms ease-in;}&[aria-expanded='true']{","{rotate:-180deg;}}"],ese,O$,O$),rlt=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2}),xae=t=>rlt.format(t);const Eae=(t,e)=>{let r=xae(e*parseFloat(t));return r!=="$0.00"?r:"<$0.01"},vh=(t,e)=>{let r=xae(e*parseFloat(fK(t)));return r==="$0.00"?"<$0.01":r},ca=(t,e,r=6,n=!1)=>{let i=parseFloat(fK(t)).toFixed(r).replace(/0+$/,"").replace(/\.$/,"");return n?`${i} ${e}`:`${i==="0"?"<0.001":i} ${e}`},yP=t=>t.map(rs).reduce((e,r)=>e.add(r),Re.from(0)).toHexString(),nlt=(t,e)=>{let{chains:r}=Ye(),n=`https://etherscan.io/address/${e}`,i=`${B9e(t,r)}/address/${e}`;if(!i)return n;try{new URL(i)}catch{return n}return i};function ilt({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const _ae=C.forwardRef(ilt);function slt({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const olt=C.forwardRef(slt);function alt({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{fillRule:"evenodd",d:"M8.603 3.799A4.49 4.49 0 0 1 12 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 0 1 3.498 1.307 4.491 4.491 0 0 1 1.307 3.497A4.49 4.49 0 0 1 21.75 12a4.49 4.49 0 0 1-1.549 3.397 4.491 4.491 0 0 1-1.307 3.497 4.491 4.491 0 0 1-3.497 1.307A4.49 4.49 0 0 1 12 21.75a4.49 4.49 0 0 1-3.397-1.549 4.49 4.49 0 0 1-3.498-1.306 4.491 4.491 0 0 1-1.307-3.498A4.49 4.49 0 0 1 2.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 0 1 1.307-3.497 4.49 4.49 0 0 1 3.497-1.307Zm7.007 6.387a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const Cae=C.forwardRef(alt),nb=({style:t,...e})=>d.jsx("svg",{x:0,y:0,width:"65",height:"64",viewBox:"0 0 65 64",style:{height:"64px",width:"65px",...t},fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.71369 17.5625V10.375C3.71369 6.44625 6.85845 3.25 10.7238 3.25H17.7953C18.6783 3.25 19.3941 2.52244 19.3941 1.625C19.3941 0.727562 18.6783 0 17.7953 0H10.7238C5.09529 0 0.516113 4.65419 0.516113 10.375V17.5625C0.516113 18.4599 1.23194 19.1875 2.1149 19.1875C2.99787 19.1875 3.71369 18.4599 3.71369 17.5625ZM17.7953 60.7501C18.6783 60.7501 19.3941 61.4777 19.3941 62.3751C19.3941 63.2726 18.6783 64.0001 17.7953 64.0001H10.7238C5.09529 64.0001 0.516113 59.3459 0.516113 53.6251V46.4376C0.516113 45.5402 1.23194 44.8126 2.1149 44.8126C2.99787 44.8126 3.71369 45.5402 3.71369 46.4376V53.6251C3.71369 57.5538 6.85845 60.7501 10.7238 60.7501H17.7953ZM63.4839 46.4376V53.6251C63.4839 59.3459 58.9048 64.0001 53.2763 64.0001H46.2047C45.3217 64.0001 44.6059 63.2726 44.6059 62.3751C44.6059 61.4777 45.3217 60.7501 46.2047 60.7501H53.2763C57.1416 60.7501 60.2864 57.5538 60.2864 53.6251V46.4376C60.2864 45.5402 61.0022 44.8126 61.8851 44.8126C62.7681 44.8126 63.4839 45.5402 63.4839 46.4376ZM63.4839 10.375V17.5625C63.4839 18.4599 62.7681 19.1875 61.8851 19.1875C61.0022 19.1875 60.2864 18.4599 60.2864 17.5625V10.375C60.2864 6.44625 57.1416 3.25 53.2763 3.25H46.2047C45.3217 3.25 44.6059 2.52244 44.6059 1.625C44.6059 0.727562 45.3217 0 46.2047 0H53.2763C58.9048 0 63.4839 4.65419 63.4839 10.375ZM43.0331 47.3022C43.7067 46.6698 43.7483 45.6022 43.1262 44.9176C42.5039 44.233 41.4536 44.1906 40.78 44.823C38.3832 47.0732 35.265 48.3125 31.9997 48.3125C28.7344 48.3125 25.6162 47.0732 23.2194 44.823C22.5457 44.1906 21.4955 44.233 20.8732 44.9176C20.251 45.6022 20.2927 46.6698 20.9663 47.3022C23.9784 50.1301 27.8968 51.6875 31.9997 51.6875C36.1026 51.6875 40.021 50.1301 43.0331 47.3022ZM35.3207 24.1249V36.1249C35.3207 38.5029 33.4173 40.4374 31.0777 40.4374H29.7249C28.8079 40.4374 28.0646 39.6819 28.0646 38.7499C28.0646 37.8179 28.8079 37.0624 29.7249 37.0624H31.0777C31.5863 37.0624 32.0001 36.6419 32.0001 36.1249V24.1249C32.0001 23.1929 32.7434 22.4374 33.6604 22.4374C34.5774 22.4374 35.3207 23.1929 35.3207 24.1249ZM46.7581 28.8437V24.0312C46.7581 23.151 46.056 22.4374 45.19 22.4374C44.324 22.4374 43.622 23.151 43.622 24.0312V28.8437C43.622 29.7239 44.324 30.4374 45.19 30.4374C46.056 30.4374 46.7581 29.7239 46.7581 28.8437ZM17.6109 28.8437C17.6109 29.7239 18.313 30.4374 19.1789 30.4374C20.0449 30.4374 20.747 29.7239 20.747 28.8437V24.0312C20.747 23.151 20.0449 22.4374 19.1789 22.4374C18.313 22.4374 17.6109 23.151 17.6109 24.0312V28.8437Z"})}),ib=({style:t,...e})=>d.jsxs("svg",{x:0,y:0,width:"65",height:"64",viewBox:"0 0 65 64",style:{height:"64px",width:"65px",...t},xmlns:"http://www.w3.org/2000/svg",...e,children:[d.jsxs("g",{clipPath:"url(#clip0_113_33841)",children:[d.jsx("path",{d:"M39.1193 0.943398C34.636 -0.174912 29.9185 -0.334713 25.328 0.656273C24.9732 0.732859 24.7477 1.08253 24.8243 1.43729C24.9009 1.79205 25.2506 2.01756 25.6053 1.94097C30.0015 0.991934 34.53 1.14842 38.8375 2.22802C49.1385 4.80983 57.7129 12.5548 60.9786 22.6718C62.2416 26.5843 62.7781 30.7505 62.8855 35.1167C62.8945 35.4795 63.1958 35.7664 63.5586 35.7575C63.9215 35.7485 64.2083 35.4472 64.1994 35.0843C64.0905 30.6582 63.5477 26.3849 62.2536 22.3432C58.8621 11.7515 49.9005 3.63265 39.1193 0.943398Z"}),d.jsx("path",{d:"M21.9931 2.93163C22.343 2.83511 22.5484 2.47325 22.4518 2.12339C22.3553 1.77352 21.9935 1.56815 21.6436 1.66466C16.8429 2.98903 10.0898 7.56519 5.91628 13.6786C5.91465 13.681 5.91304 13.6834 5.91145 13.6858C2.24684 19.2083 -0.0503572 26.1484 0.591012 32.8828C0.591623 32.8892 0.592328 32.8956 0.593127 32.902C0.746837 34.1317 1.00488 35.3591 1.26323 36.5879C1.80735 39.1761 2.35282 41.7706 1.92765 44.4064C1.86986 44.7647 2.11347 45.102 2.47177 45.1598C2.83007 45.2176 3.16738 44.974 3.22518 44.6157C3.66961 41.8605 3.11776 39.173 2.56581 36.4851C2.31054 35.2419 2.05525 33.9987 1.89847 32.7486C1.29525 26.3851 3.46802 19.7466 7.00418 14.416C11.0189 8.5373 17.5201 4.16562 21.9931 2.93163Z"}),d.jsx("path",{d:"M30.6166 4.39985C38.8671 3.89603 47.1159 7.26314 52.6556 13.7139C52.8921 13.9893 52.8605 14.4042 52.5852 14.6406C52.3099 14.8771 51.895 14.8455 51.6585 14.5702C46.3904 8.43576 38.541 5.23144 30.6927 5.71195C30.6899 5.71212 30.6871 5.71227 30.6843 5.71241C20.7592 6.19265 11.4643 12.9257 8.04547 22.3603C7.92183 22.7016 7.54498 22.8779 7.20375 22.7543C6.86253 22.6306 6.68616 22.2538 6.80981 21.9126C10.4114 11.9735 20.1717 4.90702 30.6166 4.39985Z"}),d.jsx("path",{d:"M54.6576 16.5848C54.4553 16.2836 54.047 16.2033 53.7457 16.4057C53.4444 16.608 53.3642 17.0163 53.5665 17.3176C56.6376 21.8904 57.9074 26.8665 58.4094 32.7717C58.4401 33.1333 58.7582 33.4016 59.1199 33.3708C59.4815 33.3401 59.7497 33.022 59.719 32.6604C59.206 26.6261 57.8965 21.4076 54.6576 16.5848Z"}),d.jsx("path",{d:"M59.2796 35.4504C59.6419 35.4277 59.9539 35.703 59.9765 36.0653C60.2242 40.0279 60.2265 44.5112 59.7881 47.8243C59.7405 48.1841 59.4102 48.4372 59.0504 48.3896C58.6906 48.342 58.4376 48.0117 58.4852 47.6519C58.9077 44.4586 58.91 40.0704 58.6648 36.1473C58.6421 35.785 58.9174 35.473 59.2796 35.4504Z"}),d.jsx("path",{d:"M7.05311 25.5432C7.13829 25.1904 6.92135 24.8354 6.56855 24.7502C6.21576 24.665 5.86071 24.882 5.77553 25.2348C5.2932 27.2325 5.0428 29.2847 5.03288 31.3388C5.02266 33.4559 5.41742 35.5225 5.81234 37.5899C6.1354 39.2811 6.45855 40.9728 6.5602 42.6932C6.69373 44.9531 6.21839 47.2163 5.39698 49.3703C5.26766 49.7094 5.43774 50.0891 5.77685 50.2184C6.11596 50.3477 6.4957 50.1777 6.62502 49.8386C7.49325 47.5617 8.01954 45.1092 7.87221 42.6157C7.77126 40.9071 7.44813 39.2252 7.12512 37.5439C6.73099 35.4925 6.33704 33.442 6.34716 31.3451C6.35659 29.3933 6.59455 27.4425 7.05311 25.5432Z"}),d.jsx("path",{d:"M24.2964 10.94C24.4317 11.2768 24.2683 11.6595 23.9315 11.7947C17.1187 14.5307 12.0027 20.7047 10.959 27.9852C10.523 31.0269 10.9941 34.0398 11.465 37.052C11.7303 38.7483 11.9954 40.4443 12.0985 42.1451C12.3221 45.833 11.902 49.8839 9.50192 53.5696C9.30387 53.8737 8.89677 53.9597 8.59264 53.7617C8.28851 53.5636 8.20251 53.1565 8.40056 52.8524C10.5873 49.4944 11.0012 45.7644 10.7867 42.2246C10.6821 40.499 10.4185 38.7833 10.1552 37.0686C9.68265 33.9923 9.21067 30.9195 9.65804 27.7987C10.7724 20.025 16.221 13.4748 23.4417 10.5751C23.7785 10.4399 24.1612 10.6032 24.2964 10.94Z"}),d.jsx("path",{d:"M47.3662 14.6814C41.9915 9.64741 34.2017 7.89046 27.122 9.4433C26.7675 9.52105 26.5432 9.87147 26.6209 10.226C26.6987 10.5805 27.0491 10.8048 27.4036 10.7271C34.1075 9.25665 41.4426 10.934 46.4677 15.6406C50.7033 19.6077 53.1628 25.38 53.8066 31.6779C53.8435 32.0389 54.1661 32.3017 54.5272 32.2648C54.8883 32.2279 55.151 31.9053 55.1141 31.5442C54.4456 25.0047 51.8822 18.9111 47.3662 14.6814Z"}),d.jsx("path",{d:"M54.9766 34.6738C55.3376 34.6368 55.6604 34.8994 55.6975 35.2604C56.3216 41.337 56.0526 47.9003 55.1104 54.2496C55.0571 54.6086 54.7229 54.8565 54.3639 54.8032C54.0049 54.7499 53.7571 54.4157 53.8103 54.0567C54.7394 47.7957 55.001 41.3439 54.39 35.3947C54.353 35.0336 54.6156 34.7109 54.9766 34.6738Z"}),d.jsx("path",{d:"M32.0659 13.3553C21.9959 13.3553 13.814 21.3892 13.814 31.3219C13.814 32.3829 13.9081 33.4225 14.0876 34.4334C14.1511 34.7907 14.4922 35.029 14.8495 34.9655C15.2069 34.9021 15.4451 34.561 15.3817 34.2036C15.2155 33.2677 15.1283 32.305 15.1283 31.3219C15.1283 22.1352 22.7014 14.6696 32.0659 14.6696C36.2978 14.6696 40.1642 16.1949 43.1319 18.7152C43.4086 18.9501 43.8233 18.9163 44.0582 18.6396C44.2931 18.363 44.2593 17.9483 43.9827 17.7134C40.7847 14.9975 36.6188 13.3553 32.0659 13.3553Z"}),d.jsx("path",{d:"M45.455 20.1635C45.717 19.9123 46.133 19.921 46.3842 20.183C49.2843 23.2072 50.2126 27.9605 50.8269 31.9494C51.5188 36.4426 51.6244 40.826 51.6244 42.8585C51.6244 43.2214 51.3302 43.5156 50.9673 43.5156C50.6044 43.5156 50.3101 43.2214 50.3101 42.8585C50.3101 40.8589 50.2055 36.5497 49.5279 32.1494C48.9577 28.4462 48.1356 23.9082 45.4356 21.0927C45.1844 20.8307 45.1931 20.4147 45.455 20.1635Z"}),d.jsx("path",{d:"M51.4576 46.6219C51.4864 46.2601 51.2165 45.9435 50.8547 45.9146C50.493 45.8858 50.1763 46.1557 50.1474 46.5175C49.8247 50.5654 49.403 54.6088 48.5474 58.3439C48.4663 58.6977 48.6874 59.0502 49.0412 59.1312C49.3949 59.2123 49.7474 58.9912 49.8285 58.6374C50.7067 54.8039 51.134 50.6806 51.4576 46.6219Z"}),d.jsx("path",{d:"M15.1454 36.852C15.5015 36.7819 15.847 37.0137 15.9171 37.3698C17.3066 44.4257 16.3467 50.8355 12.6672 56.4502C12.4682 56.7537 12.0609 56.8385 11.7573 56.6396C11.4538 56.4407 11.369 56.0333 11.5679 55.7298C15.0299 50.4469 15.9617 44.3985 14.6276 37.6238C14.5575 37.2677 14.7893 36.9221 15.1454 36.852Z"}),d.jsx("path",{d:"M32.0659 17.631C25.5291 17.631 19.1165 22.691 18.462 29.0504C18.1754 31.8345 18.578 34.5769 18.9807 37.3204C19.3323 39.7159 19.684 42.1124 19.5772 44.5381C19.3328 50.0898 17.7039 54.6726 14.905 58.4471C14.6888 58.7386 14.7499 59.1502 15.0414 59.3663C15.333 59.5825 15.7445 59.5214 15.9607 59.2299C18.9293 55.2266 20.6354 50.386 20.8903 44.5959C20.9966 42.1811 20.6438 39.7923 20.2912 37.4051C19.888 34.6752 19.4851 31.9473 19.7694 29.1849C20.3444 23.5983 26.0946 18.9453 32.0659 18.9453C34.851 18.9453 42.057 20.4534 44.3492 27.9205C45.7856 32.5998 46.1774 38.9326 45.8295 45.0849C45.4816 51.2364 44.3994 57.12 42.9442 60.8928C42.8136 61.2314 42.9822 61.6118 43.3208 61.7424C43.6594 61.873 44.0398 61.7044 44.1704 61.3658C45.6929 57.4186 46.7895 51.386 47.1417 45.1591C47.4938 38.9329 47.1068 32.4249 45.6056 27.5348C43.0612 19.2461 35.0851 17.631 32.0659 17.631Z"}),d.jsx("path",{d:"M21.9529 56.4512C22.2569 56.6494 22.3426 57.0566 22.1444 57.3606C21.7369 57.9854 21.3784 58.6391 21.0199 59.2928C20.6614 59.9465 20.3028 60.6004 19.8953 61.2253C19.697 61.5293 19.2898 61.615 18.9858 61.4167C18.6819 61.2184 18.5962 60.8113 18.7944 60.5073C19.2019 59.8825 19.5604 59.2288 19.9189 58.5751C20.2774 57.9213 20.636 57.2675 21.0435 56.6426C21.2418 56.3386 21.649 56.2529 21.9529 56.4512Z"}),d.jsx("path",{d:"M27.5799 24.4525C27.8816 24.2508 27.9625 23.8426 27.7608 23.541C27.559 23.2393 27.1509 23.1583 26.8492 23.3601C24.247 25.1006 22.6505 27.494 22.6505 31.0002C22.6505 33.088 23.0203 34.7946 23.3997 36.5449C23.9674 39.1641 24.3524 41.7777 24.2832 44.468C24.1992 47.7349 23.56 50.7201 22.3313 53.564C22.1873 53.8971 22.3407 54.2839 22.6739 54.4278C23.0071 54.5718 23.3938 54.4184 23.5378 54.0852C24.8369 51.0784 25.509 47.9266 25.5971 44.5018C25.6689 41.7062 25.2732 38.9892 24.6845 36.267C24.3042 34.509 23.9648 32.9394 23.9648 31.0002C23.9648 27.9961 25.2863 25.9866 27.5799 24.4525Z"}),d.jsx("path",{d:"M30.1447 22.1436C32.8717 21.5877 35.8061 22.2746 37.966 24.0228C41.8241 27.1455 42.3372 32.8403 42.753 37.4549L42.7742 37.69C43.3115 43.6385 42.6964 49.4163 41.4575 55.2186C41.3817 55.5736 41.0326 55.7999 40.6776 55.7241C40.3227 55.6483 40.0964 55.2991 40.1722 54.9442C41.3926 49.2288 41.9873 43.5885 41.4652 37.8082C41.4479 37.6169 41.4307 37.4228 41.4133 37.2264L41.4131 37.2235C41.0438 33.0534 40.5812 27.8304 37.1392 25.0444C35.2926 23.5498 32.7599 22.9518 30.4073 23.4314C30.0517 23.5039 29.7046 23.2744 29.6321 22.9188C29.5596 22.5632 29.7891 22.2161 30.1447 22.1436Z"}),d.jsx("path",{d:"M40.5287 58.4885C40.6183 58.1368 40.4057 57.7791 40.054 57.6896C39.7023 57.6 39.3446 57.8126 39.2551 58.1643C38.8578 59.7247 38.2456 61.1333 37.4695 62.4301C37.2831 62.7415 37.3844 63.145 37.6958 63.3314C38.0072 63.5178 38.4108 63.4165 38.5972 63.1051C39.4336 61.7075 40.0977 60.1816 40.5287 58.4885Z"}),d.jsx("path",{d:"M37.3152 48.9521C37.6756 48.9948 37.9332 49.3215 37.8906 49.682C37.2699 54.9267 35.8688 59.6042 33.6205 63.6613C33.4446 63.9787 33.0446 64.0934 32.7272 63.9175C32.4097 63.7416 32.295 63.3417 32.4709 63.0242C34.6226 59.1416 35.9811 54.6339 36.5854 49.5275C36.6281 49.1671 36.9548 48.9095 37.3152 48.9521Z"}),d.jsx("path",{d:"M37.1798 30.6556C36.7242 28.2212 34.6349 26.3591 32.0985 26.3591C28.6638 26.3591 26.254 29.8212 27.1032 33.0422C28.54 38.7279 28.7759 44.2077 27.8032 49.4855L27.8025 49.4893C26.9584 54.228 25.3374 58.4908 23.1263 62.1031C22.9368 62.4127 23.0342 62.8172 23.3437 63.0067C23.6533 63.1962 24.0578 63.0988 24.2473 62.7893C26.5488 59.0292 28.2249 54.6109 29.0961 49.7218C30.106 44.2403 29.8558 38.5684 28.3765 32.7168L28.3748 32.7099C27.7378 30.3005 29.5133 27.6734 32.0985 27.6734C33.9641 27.6734 35.5393 29.0459 35.8871 30.8929C36.8436 36.4411 37.3418 41.5862 36.9871 46.016C36.9581 46.3778 37.2279 46.6945 37.5897 46.7235C37.9515 46.7525 38.2682 46.4827 38.2972 46.1209C38.6649 41.5294 38.1459 36.2576 37.1815 30.6648C37.1809 30.6617 37.1804 30.6586 37.1798 30.6556Z"}),d.jsx("path",{d:"M30.1376 59.1171C30.4604 59.283 30.5876 59.6792 30.4217 60.002L28.6804 63.3906C28.5145 63.7134 28.1184 63.8406 27.7956 63.6747C27.4728 63.5088 27.3456 63.1127 27.5114 62.7899L29.2527 59.4013C29.4186 59.0785 29.8147 58.9513 30.1376 59.1171Z"}),d.jsx("path",{d:"M32.5872 31.2892C32.5042 30.9359 32.1505 30.7168 31.7972 30.7998C31.4439 30.8828 31.2247 31.2365 31.3077 31.5898C33.5238 41.0232 33.2194 49.3066 30.5201 56.363C30.3905 56.702 30.5602 57.0819 30.8991 57.2115C31.2381 57.3412 31.618 57.1715 31.7477 56.8326C34.5622 49.475 34.8483 40.9141 32.5872 31.2892Z"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_113_33841",children:d.jsx("rect",{width:"64",height:"64",fill:"white",transform:"translate(0.483887)"})})})]});let KW=({passkeys:t,expanded:e,onUnlink:r,onExpand:n})=>{let[i,s]=C.useState([]),o=e?t.length:2;return d.jsxs("div",{children:[d.jsx(glt,{children:"Your passkeys"}),d.jsxs(Aae,{children:[t.slice(0,o).map(a=>{return d.jsxs(wlt,{children:[d.jsxs("div",{children:[d.jsx(mlt,{children:(l=a,l.authenticatorName?l.createdWithBrowser?`${l.authenticatorName} on ${l.createdWithBrowser}`:l.authenticatorName:l.createdWithBrowser?l.createdWithOs?`${l.createdWithBrowser} on ${l.createdWithOs}`:`${l.createdWithBrowser}`:"Unknown device")}),d.jsxs(ylt,{children:["Last used: ",(a.latestVerifiedAt??a.verifiedAt).toLocaleString()]})]}),d.jsx(vlt,{disabled:i.includes(a.credentialId),onClick:()=>(async c=>{s(u=>u.concat([c])),await r(c),s(u=>u.filter(f=>f!==c))})(a.credentialId),children:i.includes(a.credentialId)?d.jsx(bf,{}):d.jsx(olt,{height:"1.6em"})})]},a.credentialId);var l}),t.length>2&&!e&&d.jsx(flt,{onClick:n,children:"View all"})]})]})},llt=()=>d.jsxs(Aae,{children:[d.jsxs(nc,{children:[d.jsx(rc,{children:d.jsx(Cae,{})}),"Log in with Touch ID, Face ID, or a security key."]}),d.jsxs(nc,{children:[d.jsx(rc,{children:d.jsx(wse,{})}),"More secure than a password."]}),d.jsxs(nc,{children:[d.jsx(rc,{children:d.jsx(_ae,{})}),"Takes seconds to set up and use."]})]});const clt=()=>{let{user:t,unlinkPasskey:e}=zt(),{linkWithPasskey:r,closePrivyModal:n}=Ye(),i=t==null?void 0:t.linkedAccounts.filter(g=>g.type==="passkey"),[s,o]=C.useState(!1),[a,l]=C.useState(""),[c,u]=C.useState(!1),[f,h]=C.useState(!1);C.useEffect(()=>{i.length===0&&h(!1)},[i.length]);let p=async g=>(o(!0),await e(g).then(()=>u(!0)).catch(m=>{m instanceof Ks&&m.privyErrorCode===ue.MISSING_MFA_CREDENTIALS?l("Cannot unlink a passkey enrolled in MFA"):l("Unknown error occurred.")}).finally(()=>{o(!1)}));return d.jsxs(d.Fragment,c?{children:[d.jsx(ze,{onClose:()=>n()},"header"),d.jsx(Gi,{style:{marginBottom:"1.5rem"},children:d.jsx(hl,{})}),d.jsx(YW,{style:{marginBottom:"1.5rem"},children:"Passkeys updated"}),d.jsx(hlt,{children:" "}),d.jsx(ta,{children:d.jsx(at,{onClick:()=>n(),children:"Done"})}),d.jsx(Bt,{})]}:f?{children:[d.jsx(ze,{backFn:()=>h(!1),onClose:()=>n()},"header"),d.jsx(KW,{passkeys:i,expanded:f,onUnlink:p,onExpand:()=>h(!0)}),d.jsx(Bt,{})]}:{children:[d.jsx(ze,{onClose:()=>n()},"header"),d.jsx(Nw,{children:d.jsxs(wP,{children:[d.jsx(nb,{}),d.jsx(ib,{})]})}),d.jsx(YW,{children:"Secure your account with a passkey"}),d.jsx(plt,{}),i.length===0?d.jsx(llt,{}):d.jsx(KW,{passkeys:i,expanded:f,onUnlink:p,onExpand:()=>h(!0)}),d.jsxs(ta,{style:{marginTop:"12px"},children:[a&&d.jsx(ult,{$fail:!0,children:a}),d.jsx(at,{onClick:()=>{o(!0),r().then(()=>u(!0)).catch(g=>{if(g instanceof Ks){if(g.privyErrorCode===ue.CANNOT_LINK_MORE_OF_TYPE)return void l("Cannot link more passkeys to account.");if(g.privyErrorCode===ue.PASSKEY_NOT_ALLOWED)return void l("Passkey request timed out or rejected by user.")}l("Unknown error occurred.")}).finally(()=>{o(!1)})},loading:s,children:"Add new passkey"})]}),d.jsx(Bt,{})]})},wP=ne.div.withConfig({displayName:"DoubleIconWrapper",componentId:"sc-302702bc-0"})(["display:flex;align-items:center;justify-content:center;width:180px;height:90px;border-radius:50%;svg + svg{margin-left:12px;}> svg{z-index:2;color:var(--privy-color-accent) !important;stroke:var(--privy-color-accent) !important;fill:var(--privy-color-accent) !important;}"]);let ult=ne.div.withConfig({displayName:"InputHelp",componentId:"sc-302702bc-1"})(["line-height:20px;height:20px;font-size:13px;color:",";display:flex;justify-content:flex-beginngin;width:100%;"],t=>t.$fail?"var(--privy-color-error)":"var(--privy-color-foreground-3)"),dlt=ai(["&&{width:100%;font-size:0.875rem;line-height:1rem;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;justify-content:center;padding:6px 8px;background-color:var(--privy-color-background);transition:background-color 200ms ease;color:var(--privy-color-accent) !important;:focus{outline:none;box-shadow:none;}}"]);const flt=ne.button.withConfig({displayName:"LinkButton",componentId:"sc-302702bc-2"})(["",""],dlt);let Aae=ne.div.withConfig({displayName:"List",componentId:"sc-302702bc-3"})(["display:flex;flex-direction:column;align-items:stretch;gap:0.8rem;padding:0.5rem 0rem 0rem;flex-grow:1;width:100%;"]),YW=ne.div.withConfig({displayName:"ModalTitle",componentId:"sc-302702bc-4"})(["font-size:18px;line-height:18px;text-align:center;font-weight:600;"]),hlt=ne.div.withConfig({displayName:"ModalSubTitle",componentId:"sc-302702bc-5"})(["font-size:0.875rem;text-align:center;margin-top:10px;"]),plt=ne.div.withConfig({displayName:"SectionSpacer",componentId:"sc-302702bc-6"})(["height:32px;"]),glt=ne.div.withConfig({displayName:"PasskeyListTitle",componentId:"sc-302702bc-7"})(["line-height:20px;height:20px;font-size:1em;font-weight:450;display:flex;justify-content:flex-beginning;width:100%;"]),mlt=ne.div.withConfig({displayName:"PasskeyItemTitle",componentId:"sc-302702bc-8"})(["font-size:1em;line-height:1.3em;font-weight:500;color:var(--privy-color-foreground-2);padding:0.2em 0;"]),ylt=ne.div.withConfig({displayName:"PasskeyItemSubtitle",componentId:"sc-302702bc-9"})(["font-size:0.875rem;line-height:1rem;color:#64668b;padding:0.2em 0;"]),wlt=ne.div.withConfig({displayName:"PasskeyListItem",componentId:"sc-302702bc-10"})(["display:flex;align-items:center;justify-content:space-between;padding:1em;gap:10px;font-size:0.875rem;line-height:1rem;text-align:left;border-radius:8px;border:1px solid #e2e3f0 !important;width:100%;height:5em;"]),blt=ai([":focus,:hover,:active{outline:none;}display:flex;width:2em;height:2em;justify-content:center;align-items:center;svg{color:var(--privy-color-error);}svg:hover{color:var(--privy-color-foreground-3);}"]),vlt=ne.button.withConfig({displayName:"PasskeyItemUnlinkButton",componentId:"sc-302702bc-11"})(["",""],blt);const xlt=ne.div.withConfig({displayName:"FundingMethodContainer",componentId:"sc-eaaa12a-0"})(["display:flex;flex-direction:column;gap:12px;padding-top:24px;padding-bottom:24px;"]),Im=ne.div.withConfig({displayName:"IconContainer",componentId:"sc-eaaa12a-1"})(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;svg{border-radius:var(--privy-border-radius-sm);}"]),Sae=ne.div.withConfig({displayName:"FundingQuantityWrapper",componentId:"sc-eaaa12a-2"})(["display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:8px;"]),$ae=ne.div.withConfig({displayName:"FundingQuantity",componentId:"sc-eaaa12a-3"})(["display:flex;align-items:center;gap:4px;width:100%;padding:0 16px;border-width:1px !important;border-radius:12px;cursor:text;&:focus-within{border-color:var(--privy-color-accent);}"]),Iae=ne.input.withConfig({displayName:"FundingAmountInput",componentId:"sc-eaaa12a-5"})(["background-color:var(--privy-color-background);width:100%;&:focus{outline:none !important;border:none !important;box-shadow:none !important;}&&{font-size:26px;}"]),Elt=ne(Iae).withConfig({displayName:"FundingAmountInputLarge",componentId:"sc-eaaa12a-6"})(["&&{font-size:42px;}"]),kae=ne.div.withConfig({displayName:"FundingCurrency",componentId:"sc-eaaa12a-8"})(["font-size:18px;"]),Tae=ne.div.withConfig({displayName:"FundingDollars",componentId:"sc-eaaa12a-9"})(["font-size:12px;color:var(--privy-color-foreground-3);height:20px;"]),_lt=ne.div.withConfig({displayName:"InfoButtonText",componentId:"sc-eaaa12a-13"})([""]),Clt=ne.a.withConfig({displayName:"InfoButtonLink",componentId:"sc-eaaa12a-14"})(["&&{color:var(--privy-color-accent);}cursor:pointer;"]),Nae=({displayName:t,errorMessage:e,configuredFundingChain:r,formattedBalance:n,fundingAmount:i,fundingCurrency:s,fundingAmountInUsd:o,options:a,selectedOption:l,isPreparing:c,isSubmitting:u,addressToFund:f,fundingWalletAddress:h,onSubmit:p,onSelect:g,onAmountChange:m})=>{let w=C.useRef(null);return d.jsxs(d.Fragment,{children:[d.jsx(Zs,{}),d.jsx(wr,{}),d.jsx(Bu,{children:"Transfer from another network"}),d.jsxs(_f,{children:["You need more funds on the ",r.name," network. Bridge from another blockchain network."]}),d.jsxs(Sae,{style:{marginTop:"2rem"},children:[d.jsxs($ae,{onClick:()=>{var y;return(y=w.current)==null?void 0:y.focus()},children:[d.jsx(Iae,{ref:w,value:i,onChange:y=>{let E=y.target.value;/^[0-9.]*$/.test(E)&&E.split(".").length-1<=1&&m(E)}}),d.jsx(kae,{children:s})]}),o&&d.jsx(Tae,{children:o})]}),d.jsxs(Tt,{style:{marginTop:"1.5rem"},children:[d.jsx(It,{children:"From"}),d.jsx(It,{children:hM(h)})]}),d.jsx(Jat,{selected:{chain:l.chain,balance:ca(l.balance,l.chain.nativeCurrency.symbol,3,!0)},options:a.map(({chain:y,balance:E})=>({chain:y,balance:ca(E,y.nativeCurrency.symbol,3,!0)})),onSelect:g}),d.jsxs(Tt,{style:{marginTop:"1.5rem"},children:[d.jsx(It,{children:"To"}),d.jsx(It,{children:hM(f)})]}),d.jsx(nnt,{chain:r,balance:n}),d.jsx(Fu,{style:{marginTop:"1rem"},children:e}),d.jsxs(E2,{style:{marginTop:"1rem"},loading:u||c,disabled:c||u,onClick:p,children:["Confirm with ",t]}),d.jsx(vr,{}),d.jsx(ft,{})]})},xx=({wallet:t,displayName:e,addressToFund:r,chainId:n,chainName:i,isBridging:s,isErc20Flow:o,totalPriceInNativeCurrency:a,totalPriceInUsd:l,gasPriceInNativeCurrency:c,gasPriceInUsd:u})=>d.jsxs(d.Fragment,{children:[d.jsx(Zs,{}),d.jsx(vg,{}),d.jsx(al,{style:{marginTop:"16px"},children:d.jsx(ate,{icon:fte(t.walletClientType,t.connectorType,t.walletClientType),name:t.walletClientType})}),d.jsx(Yr,{style:{marginTop:"8px",marginBottom:"12px"},title:`${s?"Bridging":"Confirming"} with ${e}`}),!s&&!o&&d.jsxs(Eg,{children:[d.jsxs(Tt,{children:[d.jsx(It,{children:"Total"}),d.jsx(Mt,{children:l||a})]}),d.jsxs(Tt,{children:[d.jsx(It,{children:"To"}),d.jsx(Mt,{children:d.jsx(ii,{address:r,showCopyIcon:!1})})]}),d.jsxs(Tt,{children:[d.jsx(It,{children:"Network"}),d.jsx(Mt,{children:d.jsxs(Alt,{children:[d.jsx(qse,{chainId:n,height:16,width:16})," ",i]})})]}),c&&d.jsxs(Tt,{children:[d.jsx(It,{children:"Estimated fee"}),d.jsx(Mt,{children:u||c})]})]}),d.jsx(KT,{height:24}),d.jsx(ft,{})]});let Alt=ne.div.withConfig({displayName:"NetworkColumn",componentId:"sc-67160e5-0"})(["display:flex;flex-direction:row;align-items:center;gap:4px;"]);const Slt=()=>{let{rpcConfig:t,appId:e,closePrivyModal:r,createAnalyticsEvent:n}=Ye(),{navigate:i,setModalData:s,app:o,data:a}=qe(),{wallets:l}=bp(),c=Yw(),[u,f]=C.useState(null),[h,p]=C.useState(null),[g,m]=C.useState([]),[w,y]=C.useState(0),[E,v]=C.useState(!1),[b,$]=C.useState(!1),[P,O]=C.useState(!1),[D,B]=C.useState(!1);if(!(a!=null&&a.funding)||a.funding.chainType!=="solana")throw Error("Invalid funding data");let{address:H,cluster:q,connectedWalletAddress:Y}=a.funding,[R,_]=C.useState(a.funding.amount),x=Y?l.find(({address:ee})=>ee===Y):l[0],[A,T]=C.useState(null);C.useEffect(()=>{(async()=>{if(!x)return;let ee=await x.getEthereumProvider();T(wJ({account:x.address,transport:vJ(ee)}).extend(tT))})().catch(console.error)},[x]);let[I,N]=C.useState(0n),M=Zd(I);C.useEffect(()=>{let ee=c(Zw);ee?ee.getBalance({address:H,cluster:q}).then(te=>N(BigInt(te))):console.warn("Unable to load solana plugin, skipping balance")},[]);let[U,S]=C.useState(),{tokenPrice:F}=xg("solana"),{fundingAmountInBaseUnit:Q,fundingAmountInUsd:k}=Fse({amount:R,fee:0n,tokenPrice:F});C.useEffect(()=>{(async()=>{if(!A||!x)return;let ee=["testnet","devnet"].includes(q.name);ee&&console.warn("Solana testnets are not supported for bridging");let te=DT(o.chains).filter(({testnet:de})=>!!de===ee),ce=(await Wse({chains:te,address:x.address,appId:e,rpcConfig:t})).filter(de=>de.balance>0n);if(ce.length<1)return void f(new le(`Wallet ${os(x.address)} does not have enough funds.`,void 0,ue.INSUFFICIENT_BALANCE));ce.sort((de,ye)=>Number(ye.balance-de.balance));let K=(await Promise.allSettled(ce.map(async de=>({...de,quote:await O2({isTestnet:!1,input:R2({amount:Q.toString(),user:x.address,recipient:H,destinationChainId:sS,destinationCurrency:oS,originChainId:de.chain.id})})})))).filter(de=>de.status==="fulfilled").map(de=>de.value);if(K.length<1)return void f(new le(`Unable to fetch quotes for bridging. Wallet ${os(x.address)} does not have enough funds.`,void 0,ue.INSUFFICIENT_BALANCE));let G=K.map(({quote:de,balance:ye,chain:Ne})=>({bridgeTx:m6(de),balance:ye,chain:Ne})).filter(({bridgeTx:de})=>!!de);if(G.length>1)return void m(G);let pe=G.at(0);pe?($(!0),S({data:pe.bridgeTx.data,to:pe.bridgeTx.to,value:pe.bridgeTx.value,chain:pe.chain})):f(new le(`Unable to select bridge option from quotes. Wallet ${os(x.address)} does not have enough funds.`,void 0,ue.INSUFFICIENT_BALANCE))})().catch(console.error)},[A]),C.useEffect(()=>{(async()=>{var K;let ee,te;if(!A||!x||E||P||!U)return;v(!0);let ce=Dh({chain:U.chain,transport:Lh(rf(U.chain,t,e))});try{ee=await ce.prepareTransactionRequest({account:x.address,to:U.to,chain:U.chain,data:U.data,value:BigInt(U.value??0)})}catch(G){console.error(G),g.length>1&&p(G.shortMessage??"Something went wrong")}if(ee){v(!1),O(!0);try{await A.switchChain({id:U.chain.id})}catch{await A.addChain({chain:U.chain}),await A.switchChain({id:U.chain.id})}try{te=await A.sendTransaction(ee),n({eventName:Uu,payload:{provider:"external",status:"success",address:x.address,chainId:U.chain.id,value:(K=U.value)==null?void 0:K.toString(),txHash:te}})}catch(G){console.error(G),G.name==="TransactionExecutionError"&&(g.length<1?f(new le(G.shortMessage,void 0,ue.TRANSACTION_FAILURE)):p(G.shortMessage??"Something went wrong"))}te?(await A.waitForTransactionReceipt({hash:te}),O(!1),B(!0)):O(!1)}else v(!1)})().catch(console.error)},[A,U]),C.useEffect(()=>{if(!u)return;let ee={error:u,previousScreen:se.FUNDING_TRANSFER_FROM_WALLET_SCREEN};s({funding:a==null?void 0:a.funding,sendTransaction:a==null?void 0:a.sendTransaction,errorModalData:ee}),i(se.ERROR_SCREEN,!1)},[u]);let W=x?pg(x.walletClientType,x.connectorType,x.walletClientType)||"wallet":null;if(C.useEffect(()=>{if(!D)return;let ee=setTimeout(r,N4);return()=>clearTimeout(ee)},[D]),D)return d.jsxs(d.Fragment,{children:[d.jsx(Zs,{}),d.jsx(wr,{}),d.jsxs(Ju,{children:[d.jsx(hl,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),d.jsx(Yr,{title:"Success!",description:`Youve successfully added ${R} SOL to your ${o.name} wallet. It may take a minute before the funds are available to use.`})]}),d.jsx(vr,{}),d.jsx(ft,{})]});let V=g[w];return g.length>1&&V?d.jsx(Nae,{displayName:W,configuredFundingChain:q,formattedBalance:M,fundingAmount:R,fundingCurrency:"SOL",fundingAmountInUsd:k,options:g,selectedOption:V,isPreparing:E,isSubmitting:P,addressToFund:H,fundingWalletAddress:(x==null?void 0:x.address)||"",errorMessage:h,onSubmit:()=>{var ee;((ee=a.funding)==null?void 0:ee.amount)!==R?async function(){if(x&&V)try{let te=await O2({isTestnet:!1,input:R2({amount:Q.toString(),user:x.address,recipient:H,destinationChainId:sS,destinationCurrency:oS,originChainId:V.chain.id})}),ce=m6(te);if(!ce)throw Error("Invalid transaction request");$(!0),S({data:ce.data,to:ce.to,value:ce.value,chain:V.chain})}catch(te){console.error(te),f(new le("Unable to fetch quotes for bridging",te,ue.INSUFFICIENT_BALANCE))}}().catch(console.error):S({to:V.bridgeTx.to,data:V.bridgeTx.data,value:V.bridgeTx.value,chain:V.chain})},onSelect:ee=>{ee!==w&&(p(null),y(ee))},onAmountChange:_}):P&&x?d.jsx(xx,{wallet:x,displayName:W,addressToFund:H,isBridging:b,isErc20Flow:!1,chainId:"solana",chainName:q.name,totalPriceInUsd:void 0,totalPriceInNativeCurrency:void 0,gasPriceInUsd:void 0,gasPriceInNativeCurrency:void 0}):d.jsxs(d.Fragment,{children:[d.jsx(Zs,{}),d.jsx(vg,{}),d.jsx("div",{style:{marginTop:"1rem"}}),d.jsx(ft,{})]})},sb=()=>{let{exportSolanaWallet:t,createEmbeddedSolanaWallet:e,solanaWallets:r,delegateWallet:n}=Ye(),{ready:i}=bp(),{user:s}=zt();return{ready:i,createWallet:e,exportWallet:t,delegateWalletAction:async()=>{let o=Ul(s);if(!o)throw new le("User must have a solana wallet in order to delegate actions");return await n({address:o.address,chainType:"solana"})},wallets:r}},$lt=()=>{let{closePrivyModal:t,createAnalyticsEvent:e}=Ye(),{navigate:r,setModalData:n,app:i,data:s}=qe(),{wallets:o}=sb(),a=Yw(),[l,c]=C.useState(0n),[u,f]=C.useState(null),[h,p]=C.useState(!1),[g,m]=C.useState(!1),w=C.useRef(!1);if(!(s!=null&&s.funding)||s.funding.chainType!=="solana")throw Error("Invalid funding data");let{address:y,amount:E,cluster:v,connectedWalletAddress:b}=s.funding,$=$Te(v),{tokenPrice:P}=xg("solana"),{fundingAmountInBaseUnit:O,totalPriceInUsd:D,totalPriceInNativeCurrency:B,feePriceInNativeCurrency:H,feePriceInUsd:q}=Fse({amount:E,fee:l,tokenPrice:P}),Y=b?o.find(({address:_})=>_===b):o[0];if(C.useEffect(()=>{(async()=>{var _;if((Y==null?void 0:Y.type)==="solana"&&Y.sendTransaction&&!h&&!w.current){w.current=!0;try{let x=a(Zw);if(!x)throw new le("Unable to load solana plugin");let{connection:A,transaction:T}=await x.createTransferTransaction({from:Y.address,to:y,amount:O,cluster:v}),I=await T.getEstimatedFee(A);I!=null&&c(BigInt(I)),p(!0);let N=await A.simulateTransaction(T);if(N.value.err)return(_=N.value.logs)!=null&&_.find(U=>/insufficient (lamports|funds)/gi.test(U))?void f(new le(`Wallet ${os(Y.address,void 0,void 0,"solana")} does not have enough funds.`,void 0,ue.INSUFFICIENT_BALANCE)):(console.error("Transaction failed:",N.value.err),void f(new le("Something went wrong",void 0,ue.TRANSACTION_FAILURE)));let M=await Y.sendTransaction(T,A);e({eventName:Uu,payload:{provider:"external",status:"success",address:Y.address,value:O.toString(),txHash:M,chainType:"solana",rpcEndpoint:$}}),p(!1),m(!0)}catch(x){if(console.error(x),p(!1),/user rejected the request/gi.test(x.message||""))return void f(new le("Transaction was rejected by the user",void 0,ue.TRANSACTION_FAILURE));f(new le("Something went wrong",void 0,ue.TRANSACTION_FAILURE))}}})().catch(console.error).finally(()=>w.current=!1)},[]),C.useEffect(()=>{if(!u)return;let _={error:u,previousScreen:se.FUNDING_TRANSFER_FROM_WALLET_SCREEN};n({funding:s==null?void 0:s.funding,sendTransaction:s==null?void 0:s.sendTransaction,errorModalData:_}),r(se.ERROR_SCREEN,!1)},[u]),C.useEffect(()=>{if(!g)return;let _=setTimeout(t,N4);return()=>clearTimeout(_)},[g]),g)return d.jsxs(d.Fragment,{children:[d.jsx(Zs,{}),d.jsx(wr,{}),d.jsxs(Ju,{children:[d.jsx(hl,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),d.jsx(Yr,{title:"Success!",description:`Youve successfully added ${E} SOL to your ${i.name} wallet. It may take a minute before the funds are available to use.`})]}),d.jsx(vr,{}),d.jsx(ft,{})]});let R=Y?pg(Y.walletClientType,Y.connectorType,Y.walletClientType)||"wallet":null;return Y&&h?d.jsx(xx,{wallet:Y,displayName:R,addressToFund:y,isBridging:!1,isErc20Flow:!1,totalPriceInUsd:D,totalPriceInNativeCurrency:B,gasPriceInUsd:q,gasPriceInNativeCurrency:H,chainId:"solana",chainName:v.name}):d.jsxs(d.Fragment,{children:[d.jsx(Zs,{}),d.jsx(vg,{}),d.jsx("div",{style:{marginTop:"1rem"}}),d.jsx(ft,{})]})},j$=[{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}];let Ilt=2n**256n-1n;const Pae=({amount:t,decimals:e})=>t===Ilt?"Maximum":Intl.NumberFormat(void 0,{maximumFractionDigits:e}).format(Number(t)/10**e),Rae=async({chain:t,address:e,appId:r,rpcConfig:n,erc20Address:i})=>({balance:await Dh({chain:t,transport:Lh(rf(t,n,r))}).readContract({address:i,abi:klt,functionName:"balanceOf",args:[e]}).catch(()=>0n),chain:t});let klt=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];const Tlt=()=>{let{rpcConfig:t,appId:e,closePrivyModal:r,createAnalyticsEvent:n}=Ye(),{navigate:i,setModalData:s,app:o,data:a}=qe(),{wallets:l}=bp(),[c,u]=C.useState(!1),[f,h]=C.useState(0n),[p,g]=C.useState(!1),[m,w]=C.useState(null),[y,E]=C.useState(null),[v,b]=C.useState([]),[$,P]=C.useState(0),[O,D]=C.useState(!1),[B,H]=C.useState(!1),[q,Y]=C.useState(!1),[R,_]=C.useState(!1);if(!(a!=null&&a.funding)||a.funding.chainType!=="ethereum")throw Error("Invalid funding data");let{erc20ContractInfo:x,chain:A,connectedWalletAddress:T}=a.funding,I=a.funding.address,N=a.funding.erc20Address,[M,U]=C.useState(a.funding.amount);C.useEffect(()=>{N&&!x&&w(Error("Unable to fetch token details"))},[]);let S=!!N&&!!x,F=S?BigInt(parseFloat(M)*10**x.decimals):cJ(M),Q=T?l.find(({address:we})=>we===T):l[0],[k,W]=C.useState(null);C.useEffect(()=>{(async()=>{if(!Q)return;let we=await Q.getEthereumProvider();W(wJ({account:Q.address,transport:vJ(we)}).extend(tT))})().catch(console.error)},[Q]);let[V,ee]=C.useState(0n);C.useEffect(()=>{Dh({chain:A,transport:Lh(rf(A,t,e))}).getBalance({address:I}).then(ee).catch(console.error)},[]);let[te,ce]=C.useState(0n);C.useEffect(()=>{S&&Rae({chain:A,address:I,appId:e,rpcConfig:t,erc20Address:N}).then(we=>ce(we.balance)).catch(console.error)},[]);let{tokenPrice:K}=xg(A.id),[G,pe]=C.useState({to:I,chain:A,value:F,data:void 0});C.useEffect(()=>{(async()=>{var ke;let we,_e;if(!k||!Q||O||q)return;D(!0);let Me=Dh({chain:G.chain,transport:Lh(rf(G.chain,t,e))});if(S&&!G.data)return await Me.simulateContract({address:N,chain:G.chain,abi:j$,functionName:"transfer",args:[I,F],account:Q.address}).catch(Te=>{console.warn("Simulated token transfer failed with error, fetching bridge options.",Te)})?(D(!1),void pe({to:N,chain:G.chain,data:Qs({abi:j$,functionName:"transfer",args:[I,F]}),value:"0x0"})):(D(!1),void g(!0));try{we=await Me.prepareTransactionRequest({account:Q.address,to:G.to,chain:G.chain,data:G.data,value:BigInt(G.value??0)})}catch(Te){if(console.error(Te),v.length>1)E(Te.shortMessage??"Something went wrong");else if(B&&v.length===0)return void w(new le(`Wallet ${os(Q.address)} does not have enough funds.`,void 0,ue.INSUFFICIENT_BALANCE))}if(!we)return D(!1),void g(!0);D(!1),Y(!0),u(!0),h(we.gas);try{await k.switchChain({id:G.chain.id})}catch{await k.addChain({chain:G.chain}),await k.switchChain({id:G.chain.id})}try{_e=await k.sendTransaction(we),n({eventName:Uu,payload:{provider:"external",status:"success",address:Q.address,chainId:G.chain.id,value:(ke=G.value)==null?void 0:ke.toString(),txHash:_e}})}catch(Te){if(console.error(Te),Te.name==="TransactionExecutionError")if(v.length<1){let Ue=Te.shortMessage;(Te.shortMessage.includes("rejected the request")||Te.details.includes("rejected the request"))&&(Ue="User rejected the request."),w(new le(Ue,void 0,ue.TRANSACTION_FAILURE))}else E(Te.shortMessage??"Something went wrong")}_e?(await k.waitForTransactionReceipt({hash:_e}),Y(!1),_(!0)):Y(!1)})().catch(console.error)},[k,G]),C.useEffect(()=>{(async()=>{if(!p||!k||!Q)return;let we=DT(o.chains).filter(Be=>Be.id!==A.id&&!!Be.testnet==!!A.testnet);S&&we.unshift(A);let _e=await Wse({chains:we,address:Q.address,appId:e,rpcConfig:t}),Me=S?_e.filter(Be=>Be.balance>0n):_e.filter(Be=>Be.balance>F);if(Me.length<1)return void w(new le(`Wallet ${os(Q.address)} does not have enough funds.`,void 0,ue.INSUFFICIENT_BALANCE));Me.sort((Be,Z)=>Number(Z.balance-Be.balance));let ke=(await Promise.allSettled(Me.map(async Be=>({quote:await O2({isTestnet:!!A.testnet,input:R2({amount:F.toString(),user:Q.address,recipient:I,destinationChainId:A.id,destinationCurrency:N,originChainId:Be.chain.id})}),...Be})))).filter(Be=>Be.status==="fulfilled").map(Be=>Be.value);if(ke.length<1)return void w(new le(`Wallet ${os(Q.address)} does not have enough funds.`,void 0,ue.INSUFFICIENT_BALANCE));let Te=ke.map(Be=>({bridgeTx:m6(Be.quote),balance:Be.balance,chain:Be.chain})).filter(Be=>!!Be.bridgeTx);if(Te.length>1)return void b(Te);let Ue=Te[0];Ue?(H(!0),pe({data:Ue.bridgeTx.data,to:Ue.bridgeTx.to,value:Ue.bridgeTx.value,chain:Ue.chain})):w(new le(`Wallet ${os(Q.address)} does not have enough funds.`,void 0,ue.INSUFFICIENT_BALANCE))})().catch(console.error)},[p]),C.useEffect(()=>{if(!m)return;let we={error:m,previousScreen:se.FUNDING_TRANSFER_FROM_WALLET_SCREEN};s({funding:a==null?void 0:a.funding,sendTransaction:a==null?void 0:a.sendTransaction,errorModalData:we}),i(se.ERROR_SCREEN,!1)},[m]);let de=Q?pg(Q.walletClientType,Q.connectorType,Q.walletClientType)||"wallet":null,ye=!S&&K?Eae(M??"0",K):void 0,Ne=S?f:yP([f,F]),je=Ne&&K?vh(Ne,K):void 0,Qe=Ne?ca(Ne,"ETH"):void 0,xe=f&&K?vh(f,K):void 0,he=f?ca(f,"ETH"):void 0;if(C.useEffect(()=>{if(!R)return;let we=setTimeout(r,N4);return()=>clearTimeout(we)},[R]),R)return d.jsxs(d.Fragment,{children:[d.jsx(Zs,{}),d.jsx(wr,{}),d.jsxs(Ju,{children:[d.jsx(hl,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),d.jsx(Yr,{title:"Success!",description:`Youve successfully added ${M} ${S?x.symbol:A.nativeCurrency.symbol} to your ${o.name} wallet. It may take a minute before the funds are available to use.`})]}),d.jsx(vr,{}),d.jsx(ft,{})]});let ht=S?`${Pae({amount:te,decimals:x.decimals})}  ${x.symbol}`:ca(V,A.nativeCurrency.symbol,3,!0),De=v[$];return v.length>1&&De?d.jsx(Nae,{displayName:de,configuredFundingChain:A,formattedBalance:ht,fundingAmount:M,fundingCurrency:S?x.symbol:A.nativeCurrency.symbol,fundingAmountInUsd:ye,options:v,selectedOption:De,isPreparing:O,isSubmitting:q,addressToFund:I,fundingWalletAddress:(Q==null?void 0:Q.address)||"",errorMessage:y,onSubmit:()=>{var we;((we=a.funding)==null?void 0:we.amount)!==M?async function(){if(Q&&De)try{let _e=await O2({isTestnet:!!A.testnet,input:R2({amount:F.toString(),user:Q.address,recipient:I,destinationChainId:A.id,destinationCurrency:N,originChainId:De.chain.id})}),Me=m6(_e);if(!Me)throw Error("Invalid transaction request");H(!0),pe({data:Me.data,to:Me.to,value:Me.value,chain:De.chain})}catch(_e){console.error(_e),w(new le("Unable to fetch quotes for bridging",_e,ue.INSUFFICIENT_BALANCE))}}().catch(console.error):pe({to:De.bridgeTx.to,data:De.bridgeTx.data,value:De.bridgeTx.value,chain:De.chain})},onSelect:we=>{we!==$&&(E(null),P(we))},onAmountChange:U}):c&&f&&Q&&(a!=null&&a.funding)?d.jsx(xx,{wallet:Q,displayName:de,addressToFund:I,isBridging:B,isErc20Flow:S,totalPriceInUsd:je,totalPriceInNativeCurrency:Qe,gasPriceInUsd:xe,gasPriceInNativeCurrency:he,chainId:A.id,chainName:A.name}):d.jsxs(d.Fragment,{children:[d.jsx(Zs,{}),d.jsx(vg,{}),d.jsx("div",{style:{marginTop:"1rem"}}),d.jsx(ft,{})]})};function Nlt(){let{closePrivyModal:t,createAnalyticsEvent:e}=Ye(),{navigate:r,setModalData:n,app:i,data:s}=qe(),{wallets:o}=sb(),a=C.useRef(!1),l=Yw(),[c,u]=C.useState(!1),[f,h]=C.useState(!1),[p,g]=C.useState(null);if(!(s!=null&&s.funding)||s.funding.chainType!=="ethereum")throw Error("Invalid funding data");let{amount:m,connectedWalletAddress:w,chain:y,cluster:E,isUSDC:v}=s.funding,b=s.funding.address,$=s.funding.erc20Address,P=s.funding.isUSDC?"USDC":y.nativeCurrency.symbol,O=E??{name:"mainnet-beta"},D=w?o.find(({address:B})=>B===w):o[0];if(C.useEffect(()=>{(async function(){var R;if(!D||!y||a.current)return;let B=l(Zw);if(!B)return void g(new le("Unable to solana plugin"));a.current=!0,y!=null&&y.testnet&&console.warn("Solana testnets are not supported for bridging");let H=v?1e6*parseFloat(m):cJ(m),q=await O2({isTestnet:!!y.testnet,input:R2({amount:H.toString(),user:D.address,recipient:b,destinationChainId:y.id,originChainId:sS,originCurrency:v?CTe:oS,destinationCurrency:v?$:void 0})}).catch(console.error);if(!q)return void g(new le(`Unable to fetch quotes for bridging. Wallet ${GE(D.address)} does not have enough funds.`,void 0,ue.INSUFFICIENT_BALANCE));let Y=await B.createBridgeTransactionFromRelayQuote({quote:q,from:D.address,cluster:O});if(Y)try{u(!0);let{connection:_,transaction:x}=Y,A=await _.simulateTransaction(x);if(A.value.err)return(R=A.value.logs)!=null&&R.find(N=>/insufficient (lamports|funds)/gi.test(N))?void g(new le(`Wallet ${GE(D==null?void 0:D.address)} does not have enough funds. ${q.details.currencyIn.amountFormatted} ${P} are needed to complete the transaction.`,void 0,ue.INSUFFICIENT_BALANCE)):(console.error("Transaction failed:",A.value.err),void g(new le("Something went wrong",void 0,ue.TRANSACTION_FAILURE)));let T=await D.sendTransaction(x,_),I=await _.confirmTransaction(T);if(I.value.err)return console.error("Transaction failed:",I.value.err),void g(new le("Something went wrong",void 0,ue.TRANSACTION_FAILURE));e({eventName:Uu,payload:{provider:"external",status:"success",address:D.address,chainId:y.id,value:H.toString(),txHash:T}}),h(!0)}catch(_){if(console.error(_),/user rejected the request/gi.test(_.message||""))return void g(new le("Transaction was rejected by the user",void 0,ue.TRANSACTION_FAILURE));g(new le("Something went wrong",void 0,ue.TRANSACTION_FAILURE))}else g(new le(`Unable to select bridge option from quotes. Wallet ${GE(D.address)} does not have enough funds.`,void 0,ue.INSUFFICIENT_BALANCE))})().catch(console.error)},[]),C.useEffect(()=>{if(!f)return;let B=setTimeout(t,N4);return()=>clearTimeout(B)},[f]),C.useEffect(()=>{if(!p)return;let B={error:p,previousScreen:se.FUNDING_TRANSFER_FROM_WALLET_SCREEN};n({funding:s==null?void 0:s.funding,sendTransaction:s==null?void 0:s.sendTransaction,errorModalData:B}),r(se.ERROR_SCREEN,!1)},[p]),f)return d.jsxs(d.Fragment,{children:[d.jsx(Zs,{}),d.jsx(wr,{}),d.jsxs(Ju,{children:[d.jsx(hl,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),d.jsx(Yr,{title:"Success!",description:`Youve successfully added ${m} ${P} to your ${i.name} wallet. It may take a minute before the funds are available to use.`})]}),d.jsx(vr,{}),d.jsx(ft,{})]});if(c&&D){let B=D?pg(D.walletClientType,D.connectorType,D.walletClientType)||"wallet":null;return d.jsx(xx,{wallet:D,displayName:B,addressToFund:b,isBridging:c,isErc20Flow:!1,chainId:y.id,chainName:y.name,totalPriceInUsd:void 0,totalPriceInNativeCurrency:void 0,gasPriceInUsd:void 0,gasPriceInNativeCurrency:void 0})}return d.jsxs(d.Fragment,{children:[d.jsx(Zs,{}),d.jsx(vg,{}),d.jsx("div",{style:{marginTop:"1rem"}}),d.jsx(ft,{})]})}function Plt({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{fillRule:"evenodd",d:"M15.97 2.47a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1 0 1.06l-4.5 4.5a.75.75 0 1 1-1.06-1.06l3.22-3.22H7.5a.75.75 0 0 1 0-1.5h11.69l-3.22-3.22a.75.75 0 0 1 0-1.06Zm-7.94 9a.75.75 0 0 1 0 1.06l-3.22 3.22H16.5a.75.75 0 0 1 0 1.5H4.81l3.22 3.22a.75.75 0 1 1-1.06 1.06l-4.5-4.5a.75.75 0 0 1 0-1.06l4.5-4.5a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const bP=C.forwardRef(Plt),Rlt=()=>{let{data:t,setModalData:e,navigate:r,navigateBack:n}=qe(),{closePrivyModal:i,createAnalyticsEvent:s,client:o}=Ye(),[a,l]=C.useState("pending-in-flow"),c=C.useRef(0),u={...t==null?void 0:t.funding,showAlternateFundingMethod:!0};u.usingDefaultFundingMethod&&(u.usingDefaultFundingMethod=!1);let{partnerUserId:f,popup:h}=(t==null?void 0:t.coinbaseOnrampStatus)??{};return C.useEffect(()=>{if(a==="pending-in-flow"||a==="pending-after-flow"){let p=setInterval(async()=>{if(f)try{let{status:g}=await o.getCoinbaseOnRampStatus({partnerUserId:f});if(g==="success")return void l("success");if(g==="failure")throw Error("There was an error completing Coinbase Onramp flow.");if(c.current>=3)return e({funding:u}),void r(se.FUNDING_METHOD_SELECTION_SCREEN);h!=null&&h.closed&&(c.current=c.current+1,l("pending-after-flow"))}catch(g){console.error(g),l("error"),s({eventName:Uu,payload:{status:"failure",provider:"coinbase-onramp",error:g.message}}),e({funding:{...u,errorMessage:"Something went wrong adding funds. Please try again or use another method."}}),r(se.FUNDING_METHOD_SELECTION_SCREEN)}},1500);return()=>clearInterval(p)}},[f,h,a]),d.jsxs(d.Fragment,{children:[d.jsx(ze,{title:"Fund account",backFn:()=>{e({funding:u}),n()}},"header"),d.jsx(Olt,{status:a,onClickCta:i}),d.jsx(ft,{})]})};let Olt=({status:t,onClickCta:e})=>{let{title:r,body:n,cta:i}=C.useMemo(()=>(s=>{switch(s){case"success":return{title:"You've funded your account!",body:"It may take a few minutes for the assets to appear.",cta:"Continue"};case"pending-after-flow":return{title:"In Progress",body:"Almost done. Retrieving transaction status from Coinbase",cta:""};case"error":case"pending-in-flow":return{title:"In Progress",body:"Go back to Coinbase Onramp to finish funding your account.",cta:""}}})(t),[t]);return d.jsxs(d.Fragment,{children:[d.jsxs(Llt,{children:[d.jsx(Mlt,{isSucccess:t==="success"}),d.jsxs(Io,{children:[d.jsx("h3",{children:r}),d.jsx(Dlt,{children:n})]})]}),i&&d.jsx(at,{onClick:e,children:i})]})},jlt=t=>t?Uh:()=>d.jsx(bP,{width:"3rem",height:"3rem",style:{backgroundColor:"var(--privy-color-foreground-4)",color:"var(--privy-color-background)",borderRadius:"100%",padding:"0.5rem",margin:"0.5rem"}}),Mlt=({isSucccess:t})=>{if(!t){let n="var(--privy-color-foreground-4)";return d.jsxs("div",{style:{position:"relative"},children:[d.jsx(ma,{color:n,style:{position:"absolute"}}),d.jsx(UT,{color:n}),d.jsx(KA,{style:{position:"absolute",width:"2.8rem",height:"2.8rem",top:"1.2rem",left:"1.2rem"}})]})}let e=jlt(t),r=t?"var(--privy-color-success)":"var(--privy-color-foreground-4)";return d.jsx("div",{style:{borderColor:r,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100%",borderWidth:2,padding:"0.5rem",marginBottom:"0.5rem"},children:e&&d.jsx(e,{width:"4rem",height:"4rem",color:r})})},Dlt=ne.p.withConfig({displayName:"StatusBody",componentId:"sc-96ef1540-0"})(["font-size:1rem;color:var(--privy-color-foreground-3);margin-bottom:1rem;display:flex;flex-direction:column;gap:1rem;"]),Llt=ne.div.withConfig({displayName:"ConnectContainer",componentId:"sc-96ef1540-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:1.75rem;margin-right:1.75rem;padding:2rem 0;"]);const Flt=()=>{var h;let{data:t,setModalData:e}=qe(),r=t==null?void 0:t.funding,n=r.chainType==="solana",i=C.useRef(null),{tokenPrice:s}=xg(n?"solana":r.chain.id),o=n?void 0:r,a=!(!(o!=null&&o.erc20Address)||o!=null&&o.erc20ContractInfo),l=n?"SOL":r.erc20Address?(h=r.erc20ContractInfo)==null?void 0:h.symbol:r.chain.nativeCurrency.symbol||"ETH",c=parseFloat(r.amount),u=!isNaN(c)&&c>0,f=s?Eae(r.amount,s):void 0;return d.jsxs(d.Fragment,{children:[d.jsx(Zs,{}),d.jsx(Bu,{children:"Confirm or edit amount"}),d.jsxs(x8,{style:{marginTop:"32px"},children:[d.jsx(Sae,{children:a?d.jsx(vg,{size:"50px"}):d.jsxs(d.Fragment,{children:[d.jsxs($ae,{onClick:()=>{var p;return(p=i.current)==null?void 0:p.focus()},children:[d.jsx(Elt,{ref:i,value:r.amount,onChange:p=>{let g=p.target.value;/^[0-9.]*$/.test(g)&&g.split(".").length-1<=1&&e({...t,funding:{...r,amount:g}})}}),d.jsx(kae,{children:l})]}),!(o!=null&&o.erc20Address)&&d.jsx(Tae,{children:f&&u?`${f} USD`:""})]})}),d.jsx(E2,{style:{marginTop:"1rem"},disabled:!u,onClick:r.onContinueWithExternalWallet,children:"Continue"})]}),d.jsx(ft,{})]})};function Blt({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const Ult=C.forwardRef(Blt);function Wlt({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"}))}const zlt=C.forwardRef(Wlt),Hlt=({children:t,theme:e})=>d.jsxs(qlt,{$theme:e,children:[d.jsx(Zu,{width:"3rem",color:"var(--privy-color-error)"}),t]});let qlt=ne.div.withConfig({displayName:"Container",componentId:"sc-5400b18f-0"})(["display:flex;gap:0.5rem;"," align-items:flex-start;text-align:left;padding:0.5rem 0.75rem;font-size:0.75rem;font-weight:400;line-height:1.125rem;padding:0.5rem 0.75rem;&&{border:1px solid var(--privy-color-error);border-radius:var(--privy-border-radius-sm);}"],t=>t.$theme==="dark"?"color: var(--privy-color-error);":"background-color: var(--privy-color-error-light);");function Vlt({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const Glt=C.forwardRef(Vlt),Oae=({children:t,theme:e})=>d.jsxs(Klt,{$theme:e,children:[d.jsx(Glt,{width:"1.25rem",color:e==="dark"?"var(--privy-color-accent-light)":"var(--privy-color-accent-dark)",style:{minWidth:"1.25rem"}}),t]});let Klt=ne.div.withConfig({displayName:"Container",componentId:"sc-dc8a0871-0"})(["display:flex;gap:0.5rem;background-color:",";color:var(--privy-color-foreground);align-items:flex-start;text-align:left;font-size:0.8125rem;font-weight:400;line-height:1.125rem;padding:0.75rem;&&{border-radius:var(--privy-border-radius-sm);border:1px solid var(--privy-color-accent);}"],t=>t.$theme==="dark"?"var(--privy-color-accent-darkest)":"var(--privy-color-accent-lightest)");const Ylt=t=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 210.2",xmlSpace:"preserve",...t,children:d.jsx("path",{d:"M93.6,27.1C87.6,34.2,78,39.8,68.4,39c-1.2-9.6,3.5-19.8,9-26.1c6-7.3,16.5-12.5,25-12.9  C103.4,10,99.5,19.8,93.6,27.1 M102.3,40.9c-13.9-0.8-25.8,7.9-32.4,7.9c-6.7,0-16.8-7.5-27.8-7.3c-14.3,0.2-27.6,8.3-34.9,21.2  c-15,25.8-3.9,64,10.6,85c7.1,10.4,15.6,21.8,26.8,21.4c10.6-0.4,14.8-6.9,27.6-6.9c12.9,0,16.6,6.9,27.8,6.7  c11.6-0.2,18.9-10.4,26-20.8c8.1-11.8,11.4-23.3,11.6-23.9c-0.2-0.2-22.4-8.7-22.6-34.3c-0.2-21.4,17.5-31.6,18.3-32.2  C123.3,42.9,107.7,41.3,102.3,40.9 M182.6,11.9v155.9h24.2v-53.3h33.5c30.6,0,52.1-21,52.1-51.4c0-30.4-21.1-51.2-51.3-51.2H182.6z   M206.8,32.3h27.9c21,0,33,11.2,33,30.9c0,19.7-12,31-33.1,31h-27.8V32.3z M336.6,169c15.2,0,29.3-7.7,35.7-19.9h0.5v18.7h22.4V90.2  c0-22.5-18-37-45.7-37c-25.7,0-44.7,14.7-45.4,34.9h21.8c1.8-9.6,10.7-15.9,22.9-15.9c14.8,0,23.1,6.9,23.1,19.6v8.6l-30.2,1.8  c-28.1,1.7-43.3,13.2-43.3,33.2C298.4,155.6,314.1,169,336.6,169z M343.1,150.5c-12.9,0-21.1-6.2-21.1-15.7c0-9.8,7.9-15.5,23-16.4  l26.9-1.7v8.8C371.9,140.1,359.5,150.5,343.1,150.5z M425.1,210.2c23.6,0,34.7-9,44.4-36.3L512,54.7h-24.6l-28.5,92.1h-0.5  l-28.5-92.1h-25.3l41,113.5l-2.2,6.9c-3.7,11.7-9.7,16.2-20.4,16.2c-1.9,0-5.6-0.2-7.1-0.4v18.7C417.3,210,423.3,210.2,425.1,210.2z"})}),Zlt=t=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 80 38.1",xmlSpace:"preserve",...t,children:[d.jsx("path",{style:{fill:"#5F6368"},d:"M37.8,19.7V29h-3V6h7.8c1.9,0,3.7,0.7,5.1,2c1.4,1.2,2.1,3,2.1,4.9c0,1.9-0.7,3.6-2.1,4.9c-1.4,1.3-3.1,2-5.1,2  L37.8,19.7L37.8,19.7z M37.8,8.8v8h5c1.1,0,2.2-0.4,2.9-1.2c1.6-1.5,1.6-4,0.1-5.5c0,0-0.1-0.1-0.1-0.1c-0.8-0.8-1.8-1.3-2.9-1.2  L37.8,8.8L37.8,8.8z"}),d.jsx("path",{style:{fill:"#5F6368"},d:"M56.7,12.8c2.2,0,3.9,0.6,5.2,1.8s1.9,2.8,1.9,4.8V29H61v-2.2h-0.1c-1.2,1.8-2.9,2.7-4.9,2.7  c-1.7,0-3.2-0.5-4.4-1.5c-1.1-1-1.8-2.4-1.8-3.9c0-1.6,0.6-2.9,1.8-3.9c1.2-1,2.9-1.4,4.9-1.4c1.8,0,3.2,0.3,4.3,1v-0.7  c0-1-0.4-2-1.2-2.6c-0.8-0.7-1.8-1.1-2.9-1.1c-1.7,0-3,0.7-3.9,2.1l-2.6-1.6C51.8,13.8,53.9,12.8,56.7,12.8z M52.9,24.2  c0,0.8,0.4,1.5,1,1.9c0.7,0.5,1.5,0.8,2.3,0.8c1.2,0,2.4-0.5,3.3-1.4c1-0.9,1.5-2,1.5-3.2c-0.9-0.7-2.2-1.1-3.9-1.1  c-1.2,0-2.2,0.3-3,0.9C53.3,22.6,52.9,23.3,52.9,24.2z"}),d.jsx("path",{style:{fill:"#5F6368"},d:"M80,13.3l-9.9,22.7h-3l3.7-7.9l-6.5-14.7h3.2l4.7,11.3h0.1l4.6-11.3H80z"}),d.jsx("path",{style:{fill:"#4285F4"},d:"M25.9,17.7c0-0.9-0.1-1.8-0.2-2.7H13.2v5.1h7.1c-0.3,1.6-1.2,3.1-2.6,4v3.3H22C24.5,25.1,25.9,21.7,25.9,17.7z"}),d.jsx("path",{style:{fill:"#34A853"},d:"M13.2,30.6c3.6,0,6.6-1.2,8.8-3.2l-4.3-3.3c-1.2,0.8-2.7,1.3-4.5,1.3c-3.4,0-6.4-2.3-7.4-5.5H1.4v3.4  C3.7,27.8,8.2,30.6,13.2,30.6z"}),d.jsx("path",{style:{fill:"#FBBC04"},d:"M5.8,19.9c-0.6-1.6-0.6-3.4,0-5.1v-3.4H1.4c-1.9,3.7-1.9,8.1,0,11.9L5.8,19.9z"}),d.jsx("path",{style:{fill:"#EA4335"},d:"M13.2,9.4c1.9,0,3.7,0.7,5.1,2l0,0l3.8-3.8c-2.4-2.2-5.6-3.5-8.8-3.4c-5,0-9.6,2.8-11.8,7.3l4.4,3.4  C6.8,11.7,9.8,9.4,13.2,9.4z"})]}),ZW=t=>{let[e,r]=C.useState();return C.useEffect(()=>{t().then(n=>{r(n)}).catch(()=>{})},[]),e},Jlt=({...t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[d.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}),d.jsx("path",{d:"M3 9a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2"}),d.jsx("path",{d:"M3 11h3c.8 0 1.6.3 2.1.9l1.1.9c1.6 1.6 4.1 1.6 5.7 0l1.1-.9c.5-.5 1.3-.9 2.1-.9H21"})]}),jae=async({address:t,chain:e,rpcConfig:r,privyAppId:n})=>{try{let i=Dh({chain:e,transport:Lh(rf(e,r,n))}),[s,o]=await Promise.all([i.readContract({abi:JW,address:t,functionName:"symbol"}),i.readContract({abi:JW,address:t,functionName:"decimals"})]);return{decimals:o,symbol:s}}catch(i){return console.log(i),null}};let JW=[{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],Qlt=new Set([Ec.id,Ku.id,cp.id,Yu.id,wf.id]),Xlt=new Set([Ec.id,Ku.id,Yu.id,cp.id]);const ect=(t,e)=>{switch(e){case"native-currency":return Qlt.has(t);case"USDC":return Xlt.has(t);default:return console.warn("Unknown asset passed to Coinbase Onramp"),!1}},Ex=()=>window.open(void 0,void 0,tct({w:440,h:680}));let tct=({w:t,h:e})=>{let r=window.screenLeft!==void 0?window.screenLeft:window.screenX,n=window.screenTop!==void 0?window.screenTop:window.screenY,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,s=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;return`toolbar=0,location=0,menubar=0,height=${e},width=${t},popup=1,left=${(i-t)/2/(i/window.screen.availWidth)+r},top=${(s-e)/2/(s/window.screen.availHeight)+n}`};function rct(t){let e=nct[t];if(!e)throw new le(`Unsupported chainId: ${t} for Coinbase Onramp`);return e}let nct={[Ec.id]:"ethereum",[Ku.id]:"base",[cp.id]:"optimism",[Yu.id]:"polygon",[wf.id]:"arbitrum"};const QW=(t,e,r,n,i,s)=>new Promise(async(o,a)=>{let l=Ex();if(!l)return void a(Error("Unable to initialize flow"));let c=e.chainType==="ethereum"?rct(e.chain.id):"solana",u=e.isUSDC?"USDC":e.chainType==="ethereum"?"ETH":"SOL",f=await t.initCoinbaseOnRamp({addresses:[{address:e.address,blockchains:[c]}],assets:[u]}),{url:h}=bbe({input:f,amount:e.amount,blockchain:c,asset:u,experience:s});l.location=h.toString();let p={...i==null?void 0:i.funding,showAlternateFundingMethod:!0};e.usingDefaultFundingMethod&&(p.usingDefaultFundingMethod=!1),r({funding:p,coinbaseOnrampStatus:{popup:l}}),n(se.COINBASE_ONRAMP_STATUS_SCREEN),t.createAnalyticsEvent({eventName:"sdk_fiat_on_ramp_started",payload:{provider:"coinbase-onramp",value:e.amount,chainType:e.chainType,chainId:e.chainType==="ethereum"?e.chain.id:e.cluster.name}}),setTimeout(()=>{r({funding:p,coinbaseOnrampStatus:{partnerUserId:f.partner_user_id,popup:l}})},5e3),o()}),XW="moonpay";let ict=new Set([Ec.id,wf.id,Ku.id,Yu.id]),sct=new Set([Ec.id,wf.id,cp.id,Ku.id,Yu.id]);function oct(t,e){switch(t){case wf.id:return e==="native-currency"?"ETH_ARBITRUM":"USDC_ARBITRUM";case 43114:return"AVAX_CCHAIN";case Ku.id:return e==="native-currency"?"ETH_BASE":"USDC_BASE";case IT.id:return"CELO_CELO";case Yu.id:return e==="native-currency"?"MATIC_POLYGON":"USDC_POLYGON";case Ec.id:return e==="native-currency"?"ETH_ETHEREUM":"USDC_ETHEREUM";default:return console.warn(`Chain ${t} not supported by Moonpay, defaulting to Ethereum mainnet`),"ETH_ETHEREUM"}}function act(t){return parseFloat(t)}function lct(t){return!!t&&t.config!==void 0&&t.provider!==void 0}function u_(t){return!!t&&(t.chain!==void 0||t.amount!==void 0)}async function cct(t,e){return SJ(`${e?J9e:Z9e}/transactions/ext/${t}`,{query:{apiKey:e?X9e:Q9e}})}function uct(t,e=!1){let[r,n]=C.useState(null),{createAnalyticsEvent:i}=Ye(),{data:s,navigate:o,setModalData:a}=qe(),l=s==null?void 0:s.funding,c=C.useRef(0);return C.useEffect(()=>{let u=setInterval(async()=>{var f,h;if(t)try{let[p]=await cct(t,e),g=p.status==="waitingAuthorization"&&p.paymentMethod==="credit_debit_card"?"pending":p.status;if(["failed","completed","awaitingAuthorization"].includes(g)&&(i({eventName:Uu,payload:{status:g,provider:XW,paymentMethod:p.paymentMethod,cardPaymentType:p.cardPaymentType,currency:(f=p.currency)==null?void 0:f.code,baseCurrencyAmount:p.baseCurrencyAmount,quoteCurrencyAmount:p.quoteCurrencyAmount,feeAmount:p.feeAmount,extraFeeAmount:p.extraFeeAmount,networkFeeAmount:p.networkFeeAmount,isSandbox:e}}),clearInterval(u)),g==="failed"||g==="serviceFailure")return a({funding:{...l,errorMessage:"Something went wrong adding funds from Moonpay. Please try again or use another method to fund your wallet."}}),void o(se.FUNDING_METHOD_SELECTION_SCREEN);n(g)}catch(p){((h=p.response)==null?void 0:h.status)!==404&&(c.current+=1),c.current>=3&&(i({eventName:Uu,payload:{status:"serviceFailure",provider:XW}}),clearInterval(u),a({funding:{...l,errorMessage:"Something went wrong adding funds from Moonpay. Please try again or use another method to fund your wallet."}}),o(se.FUNDING_METHOD_SELECTION_SCREEN))}},3e3);return()=>clearInterval(u)},[t,c]),r}const dct=(t,e)=>{switch(e){case"native-currency":return ict.has(t);case"USDC":return sct.has(t);default:return console.warn("Unknown asset passed to MoonPay Onramp"),!1}},fct=async(t,e,r,n,i,s,o,a)=>{var p,g;let l=Ex();if(!l)throw Error("Unable to initialize flow");let c=e.chainType==="ethereum"?((p=e.moonpayConfigOverride)==null?void 0:p.currencyCode)??oct(e.chain.id,n):"SOL",{signedUrl:u,externalTransactionId:f}=await t.signMoonpayOnRampUrl({address:e.address,useSandbox:r.fundingMethodConfig.moonpay.useSandbox??!1,config:{uiConfig:{accentColor:r.appearance.palette.accent,theme:r.appearance.palette.colorScheme},...e.moonpayConfigOverride,paymentMethod:a,currencyCode:c,quoteCurrencyAmount:((g=e.moonpayConfigOverride)==null?void 0:g.quoteCurrencyAmount)??act(e.amount)}});t.createAnalyticsEvent({eventName:"sdk_fiat_on_ramp_started",payload:{provider:"moonpay",value:e.amount,chainType:e.chainType,chainId:e.chainType==="ethereum"?e.chain.id:e.cluster.name}}),l.location=u;let h={...o==null?void 0:o.funding,showAlternateFundingMethod:!0};e.usingDefaultFundingMethod&&(h.usingDefaultFundingMethod=!1),i({moonpayStatus:{},funding:h}),s(se.MOONPAY_STATUS_SCREEN),setTimeout(()=>{i({moonpayStatus:{externalTransactionId:f},funding:h})},8e3)},hct=(t,e,r,n,i,s)=>{var g;let o,a,l=r.chainType==="solana",c=l?void 0:r,u=r.isUSDC?"USDC":c!=null&&c.erc20Address?void 0:"native-currency",f=!!l||u&&dct(Number(r.chain.id),u),h=!!l||u&&ect(Number(r.chain.id),u),p=[];for(let m of(r.preferredCardProvider&&r.supportedOptions.sort(w=>w.provider===r.preferredCardProvider?-1:1),r.supportedOptions))m.method==="card"&&m.provider==="coinbase"&&h&&p.push(()=>QW(e,r,n,i,s,"buy")),m.method==="card"&&m.provider==="moonpay"&&f&&u&&p.push(()=>fct(e,r,t,u,n,i,s,"credit_debit_card"));for(let m of r.supportedOptions)m.method==="exchange"&&m.provider==="coinbase"&&h&&(o=()=>QW(e,r,n,i,s,"buy"));for(let m of((g=s==null?void 0:s.funding)==null?void 0:g.supportedOptions)??[])m.method==="wallets"&&(a=()=>i(se.FUNDING_TRANSFER_FROM_WALLET_SCREEN));return{onFundWithCard:p,onFundWithExchange:o,onFundWithWallet:a}};let Mae=async t=>typeof window<"u"&&"PaymentRequest"in window&&await new window.PaymentRequest([{supportedMethods:t}],{id:"0",total:{label:"Item",amount:{currency:"USD",value:"1.00"}}}).canMakePayment();const pct=()=>Mae("https://apple.com/apple-pay"),gct=()=>Mae("https://google.com/pay"),mct=()=>{var w,y;let{wallets:t}=bp(),{wallets:e}=sb(),{navigate:r,data:n,setModalData:i}=qe(),{client:s}=Ye(),o=$n(),a=n==null?void 0:n.funding,l=ZW(pct),c=ZW(gct),u=a.chainType==="solana",f=u?void 0:a,h=C.useMemo(()=>hct(o,s,a,i,r,n),[o,s,a,n,i,r]);C.useEffect(()=>{if(a!=null&&a.defaultFundingMethod&&a.usingDefaultFundingMethod)switch(i({funding:{...a,usingDefaultFundingMethod:!1}}),a==null?void 0:a.defaultFundingMethod){case"card":h.onFundWithCard[0]&&h.onFundWithCard[0]();break;case"exchange":h.onFundWithExchange&&h.onFundWithExchange();break;case"wallet":h.onFundWithWallet&&h.onFundWithWallet();break;case"manual":r(se.FUNDING_MANUAL_TRANSFER_SCREEN)}},[]),C.useEffect(()=>{f!=null&&f.erc20Address&&!f.erc20ContractInfo&&jae({address:f.erc20Address,chain:f.chain,rpcConfig:o.rpcConfig,privyAppId:o.id}).then(E=>{i({...n,funding:{...f,erc20ContractInfo:E?{symbol:E.symbol,decimals:E.decimals}:void 0}})}).catch(console.error)},[f==null?void 0:f.erc20Address,f==null?void 0:f.chain]);let p=u?e.find(({address:E})=>E===a.address):t.find(({address:E})=>Dt(E)===Dt(a.address)),g=p&&p.walletClientType!=="privy"?pg(p.walletClientType,p.connectorType,p.walletClientType):o.name,m=!(!(f!=null&&f.erc20Address)||f!=null&&f.erc20ContractInfo);return d.jsxs(d.Fragment,{children:[d.jsx(Zs,{}),d.jsxs("h3",{children:["Add funds to your"," ",g!=null&&g.toLowerCase().endsWith("wallet")?g:g+" wallet"]}),d.jsxs(xlt,{children:[a.errorMessage&&d.jsx(Hlt,{theme:o.appearance.palette.colorScheme,children:a.errorMessage}),((w=h.onFundWithCard)==null?void 0:w[0])&&d.jsxs(rn,{disabled:m,onClick:h.onFundWithCard[0],children:[d.jsx(Im,{children:d.jsx(Ult,{style:{width:24}})}),"Pay with card",l?d.jsx(Ylt,{style:{marginLeft:"auto",maxWidth:"100%",width:"auto",height:"0.875rem"}}):c?d.jsx(Zlt,{style:{marginLeft:"auto",maxWidth:"100%",width:"auto",height:"0.875rem"}}):null]}),h.onFundWithExchange&&d.jsxs(rn,{disabled:m,onClick:h.onFundWithExchange,children:[d.jsx(Im,{children:d.jsx(bP,{style:{width:24}})}),"Transfer from an exchange"]}),h.onFundWithWallet&&d.jsxs(rn,{disabled:m,onClick:h.onFundWithWallet,children:[d.jsx(Im,{children:d.jsx(Jlt,{style:{width:24}})}),"Transfer from wallet"]}),d.jsxs(rn,{disabled:m,onClick:()=>r(se.FUNDING_MANUAL_TRANSFER_SCREEN),children:[d.jsx(Im,{children:d.jsx(zlt,{style:{width:24}})}),"Receive funds"]}),(a==null?void 0:a.showAlternateFundingMethod)&&((y=h.onFundWithCard)==null?void 0:y[1])&&d.jsx(Oae,{theme:o.appearance.palette.colorScheme,children:d.jsxs(_lt,{children:["Having trouble or facing location restrictions?"," ",d.jsx(Clt,{onClick:h.onFundWithCard[1],children:"Try a different provider."})]})})]}),d.jsx(ft,{})]})};function yct({rpcConfig:t,appId:e,address:r,chain:n}){let{chains:i}=Ye(),[s,o]=C.useState(0n),[a,l]=C.useState(!1),c=C.useMemo(()=>{let f=n||i[0];if(f)return Dh({chain:n,transport:Lh(rf(f,t,e))})},[n,t,e]),u=C.useCallback(async()=>{if(!r||!c)return;l(!0);let f=await c.getBalance({address:r}).catch(console.error);return f?(o(f),l(!1),f):void 0},[c,r,o]);return C.useEffect(()=>{u().catch(console.error)},[]),{balance:s,isLoading:a,reloadBalance:u}}const wct=()=>{var D;let{wallets:t}=bp(),{wallets:e}=sb(),{data:r,setModalData:n,navigate:i,lastScreen:s}=qe(),{rpcConfig:o,appId:a,createAnalyticsEvent:l,closePrivyModal:c}=Ye(),u=$n(),[f,h]=C.useState(void 0),[p,g]=C.useState(!1),m=Yw(),w=r==null?void 0:r.funding,{reloadBalance:y}=yct({rpcConfig:o,appId:a,address:w.chainType==="ethereum"?w.address:void 0,chain:w.chainType==="ethereum"?w.chain:void 0}),E=w.chainType==="solana",v=E?"SOL":w.erc20Address?(D=w.erc20ContractInfo)==null?void 0:D.symbol:w.chain.nativeCurrency.symbol,b=E?e.find(({address:B})=>B===w.address):t.find(({address:B})=>os(B)===os(w.address));if(!w)return n({errorModalData:{error:Error("Couldn't find funding config"),previousScreen:s||se.FUNDING_METHOD_SELECTION_SCREEN},funding:r==null?void 0:r.funding,sendTransaction:r==null?void 0:r.sendTransaction}),i(se.ERROR_SCREEN),d.jsx(d.Fragment,{});C.useEffect(()=>{let B=E?async function(){if(w.chainType!=="solana")return;let q=m(Zw);q?q.getBalance({address:w.address,cluster:w.cluster}).then(Y=>{let R=BigInt(Y);f&&R>f&&(g(!0),l({eventName:Uu,payload:{provider:"manual",status:"success",chainType:"solana",address:b==null?void 0:b.address,value:(R-f).toString()}})),h(R)}):console.warn("Unable to load solana plugin, skipping balance")}:async function(){w.chainType==="ethereum"&&(async()=>{if(!w.erc20Address)return await y()??BigInt(0);{let{balance:q}=await Rae({chain:w.chain,address:w.address,erc20Address:w.erc20Address,rpcConfig:o,appId:a});return q}})().then(q=>{f&&q>f&&(g(!0),l({eventName:Uu,payload:{provider:"manual",status:"success",chainType:"ethereum",address:b==null?void 0:b.address,value:(q-f).toString()}})),h(q)}).catch(()=>h(void 0))},H=setInterval(B,2e3);return B(),()=>clearInterval(H)},[f]);let $=C.useMemo(()=>f!==void 0&&f>=parseFloat(w.amount),[f,w.amount]),P=C.useMemo(()=>{var B;return f==null?"":w.isUSDC?pM({amount:f,decimals:6}):E?Zd(f,3,!0,!0):((B=w.erc20ContractInfo)==null?void 0:B.decimals)!=null?pM({amount:f,decimals:w.erc20ContractInfo.decimals}):Mxe({wei:f})},[f,E,w]),O=w.chainType==="ethereum"?w.chain.name:vct[w.cluster.name];return d.jsxs(d.Fragment,{children:[d.jsx(Zs,{}),d.jsxs(Bu,{children:["Receive ",w.amount," ",v]}),d.jsxs(_f,{children:["Scan this code or copy your wallet address to receive funds on ",O,"."]}),d.jsxs(x8,{style:{gap:"1rem",margin:"1rem 0"},children:[d.jsx(ix,{url:w.address,size:200,squareLogoElement:bct}),d.jsxs(Oae,{theme:u.appearance.palette.colorScheme,children:["Make sure to send funds on ",O,"."]}),d.jsx(G8,{title:"Your wallet",errMsg:void 0,showIcon:!0,isLoading:!w||f===void 0,isPulsing:!$,balance:`${P} ${v}`,address:w.address,statusColor:$?"green":"gray"}),p&&d.jsx(at,{onClick:()=>c({shouldCallAuthOnSuccess:!1,isSuccess:!0}),children:"Continue"})]}),d.jsx(ft,{})]})};let bct=({...t})=>d.jsx(aee,{color:"black",...t}),vct={devnet:"Devnet","mainnet-beta":"Solana",testnet:"Testnet"};const xct=({size:t=61,...e})=>d.jsx("svg",{width:t,height:t,viewBox:"0 0 61 61",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:d.jsxs("g",{id:"moonpay_symbol_wht 2",children:[d.jsx("rect",{x:"1.3374",y:"1",width:"59",height:"59",rx:"11.5",fill:"#7715F5"}),d.jsx("path",{id:"Vector",d:"M43.8884 23.3258C45.0203 23.3258 46.1268 22.9901 47.068 22.3613C48.0091 21.7324 48.7427 20.8386 49.1759 19.7928C49.6091 18.747 49.7224 17.5962 49.5016 16.4861C49.2807 15.3759 48.7357 14.3561 47.9353 13.5557C47.1349 12.7553 46.1151 12.2102 45.0049 11.9893C43.8947 11.7685 42.7439 11.8819 41.6982 12.3151C40.6524 12.7482 39.7585 13.4818 39.1297 14.423C38.5008 15.3641 38.1651 16.4707 38.1651 17.6026C38.165 18.3542 38.3131 19.0985 38.6007 19.7929C38.8883 20.4873 39.3098 21.1182 39.8413 21.6496C40.3728 22.1811 41.0037 22.6027 41.6981 22.8903C42.3925 23.1778 43.1367 23.3259 43.8884 23.3258ZM26.3395 49.1017C23.5804 49.1017 20.8832 48.2836 18.5891 46.7507C16.295 45.2178 14.5069 43.039 13.4511 40.49C12.3952 37.9409 12.1189 35.1359 12.6572 32.4298C13.1955 29.7237 14.5241 27.238 16.4751 25.287C18.4262 23.336 20.9118 22.0074 23.6179 21.4691C26.324 20.9308 29.129 21.2071 31.6781 22.2629C34.2272 23.3189 36.406 25.1069 37.9389 27.401C39.4717 29.6952 40.2899 32.3923 40.2899 35.1514C40.2899 36.9835 39.9291 38.7975 39.2281 40.49C38.527 42.1826 37.4994 43.7205 36.204 45.0159C34.9086 46.3113 33.3707 47.3389 31.6781 48.04C29.9856 48.741 28.1715 49.1018 26.3395 49.1017Z",fill:"white"})]})}),Ect=()=>{let{app:t,data:e,setModalData:r,navigateBack:n}=qe(),{closePrivyModal:i}=Ye(),{externalTransactionId:s}=e==null?void 0:e.moonpayStatus,o=uct(s||null,t.fundingMethodConfig.moonpay.useSandbox??!1);return d.jsxs(d.Fragment,{children:[d.jsx(ze,{title:"Fund account",backFn:()=>{let a={...e==null?void 0:e.funding,showAlternateFundingMethod:!0};a.usingDefaultFundingMethod&&(a.usingDefaultFundingMethod=!1),r({funding:a}),n()}}),d.jsx(_ct,{status:o,onClickCta:i}),d.jsx(ft,{})]})};let _ct=({status:t,onClickCta:e})=>{let{title:r,body:n,cta:i}=C.useMemo(()=>(s=>{switch(s){case"completed":return{title:"You've funded your account!",body:"It may take a few minutes for the assets to appear.",cta:"Continue"};case"waitingAuthorization":return{title:"Processing payment",body:"This may take up to a few hours. You will receive an email when the purchase is complete.",cta:"Continue"};default:return{title:"In Progress",body:"Go back to MoonPay to finish funding your account.",cta:""}}})(t),[t]);return d.jsxs(d.Fragment,{children:[d.jsxs($ct,{children:[d.jsx(Act,{status:t}),d.jsxs(Io,{children:[d.jsx("h3",{children:r}),d.jsx(Sct,{children:n})]})]}),i&&d.jsx(at,{onClick:e,children:i})]})},Cct=t=>{switch(t){case"completed":return Uh;case"waitingAuthorization":return()=>d.jsx(bP,{width:"3rem",height:"3rem",style:{backgroundColor:"var(--privy-color-foreground-4)",color:"var(--privy-color-background)",borderRadius:"100%",padding:"0.5rem",margin:"0.5rem"}});default:return}},Act=({status:t})=>{if(!t||t==="pending"){let i="var(--privy-color-foreground-4)";return d.jsxs("div",{style:{position:"relative"},children:[d.jsx(ma,{color:i,style:{position:"absolute"}}),d.jsx(UT,{color:i}),d.jsx(xct,{size:"3rem",style:{position:"absolute",top:"1rem",left:"1rem"}})]})}let e=Cct(t),r=(n=t)?{completed:"var(--privy-color-success)",failed:"var(--privy-color-error)",serviceFailure:"var(--privy-color-error)",waitingAuthorization:"var(--privy-color-accent)",pending:"var(--privy-color-foreground-4)"}[n]:"var(--privy-color-foreground-4)";var n;return d.jsx("div",{style:{borderColor:r,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100%",borderWidth:2,padding:"0.5rem",marginBottom:"0.5rem"},children:e&&d.jsx(e,{width:"4rem",height:"4rem",color:r})})},Sct=ne.p.withConfig({displayName:"StatusBody",componentId:"sc-56bea42a-0"})(["font-size:1rem;color:var(--privy-color-foreground-3);margin-bottom:1rem;display:flex;flex-direction:column;gap:1rem;"]),$ct=ne.div.withConfig({displayName:"ConnectContainer",componentId:"sc-56bea42a-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:1.75rem;margin-right:1.75rem;padding:2rem 0;"]);function Ict({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const vP=C.forwardRef(Ict),Dae=({onClick:t,text:e})=>d.jsxs(rn,{onClick:t,children:[d.jsx(Tw,{}),d.jsx(Du,{children:e}),d.jsx(vP,{})]}),kct=()=>{var $,P,O;let t,{connectors:e}=Ye(),{app:r,setModalData:n,data:i,navigate:s}=qe(),{wallets:o}=bp(),{wallets:a}=sb(),[l,c]=C.useState("default"),u=(($=i==null?void 0:i.funding)==null?void 0:$.chainType)==="solana",f=!!((P=i==null?void 0:i.funding)!=null&&P.crossChainBridgingEnabled);t=((O=i==null?void 0:i.funding)==null?void 0:O.chainType)==="ethereum"?i.funding.erc20Address&&!i.funding.isUSDC?"ethereum-only":f&&!i.funding.chain.testnet?"ethereum-and-solana":"ethereum-only":f?"ethereum-and-solana":"solana-only";let h=o.filter(D=>D.walletClientType!=="privy"),p=h.map(D=>D.walletClientType),g=a.filter(D=>D.walletClientType!=="privy"),m=g.map(D=>D.walletClientType),w=[],y={...i.funding};y.usingDefaultFundingMethod&&(y.usingDefaultFundingMethod=!1);let E=({address:D,walletChainType:B})=>{n({...i,funding:{...y,connectedWalletAddress:D,onContinueWithExternalWallet:()=>s(b({destChainType:u?"solana":"ethereum",sourceChainType:B}))}}),s(se.FUNDING_EDIT_AMOUNT_SCREEN)};t!=="solana-only"&&w.push(...h.map((D,B)=>d.jsx(ez,{onClick:()=>E({address:D.address,walletChainType:"ethereum"}),icon:D.meta.icon,name:D.meta.name,chainType:D.type},B))),t!=="ethereum-only"&&w.push(...g.map((D,B)=>d.jsx(ez,{onClick:()=>E({address:D.address,walletChainType:"solana"}),icon:D.meta.icon,name:D.meta.name,chainType:D.type},B))),w.push(...Wh({walletList:r.appearance.walletList.filter(D=>!h.some(B=>B.walletClientType===D)&&!g.some(B=>B.walletClientType===D)),walletChainType:t,connectors:e,connectOnly:!0,ignore:[...r.appearance.walletList,...p,...m],walletConnectEnabled:r.externalWallets.walletConnect.enabled}));let v=d.jsx(Dae,{text:"More wallets",onClick:()=>c("overflow")}),b=({sourceChainType:D,destChainType:B})=>D==="ethereum"&&B==="solana"?se.FUNDING_AWAITING_EVM_TO_SOL_BRIDGING_SCREEN:D==="ethereum"&&B==="ethereum"?se.FUNDING_AWAITING_TRANSFER_FROM_EXTERNAL_WALLET_SCREEN:D==="solana"&&B==="ethereum"?se.FUNDING_AWAITING_SOL_TO_EVM_BRIDGING_SCREEN:se.FUNDING_AWAITING_TRANSFER_FROM_EXTERNAL_SOLANA_WALLET_SCREEN;return C.useEffect(()=>{n({...i,externalConnectWallet:{onCompleteNavigateTo:({walletChainType:D})=>(n({...i,funding:{...y,onContinueWithExternalWallet:()=>{s(b({destChainType:u?"solana":"ethereum",sourceChainType:D??"ethereum"}))}}}),se.FUNDING_EDIT_AMOUNT_SCREEN)}})},[]),d.jsxs(d.Fragment,l==="overflow"?{children:[d.jsx(ze,{backFn:()=>c("default")},"header"),d.jsxs(nf,{children:[d.jsx(_f,{style:{color:"var(--privy-color-foreground-3)",textAlign:"left"},children:"More wallets"}),w]}),d.jsx(ft,{})]}:{children:[d.jsx(Zs,{}),d.jsx(Yr,{title:"Transfer from wallet",description:"Connect a wallet to deposit funds or send funds manually to your wallet address."}),d.jsxs(nf,{children:[w.length>4?w.slice(0,3):w,w.length>4&&v]}),d.jsx(ft,{})]})};let ez=({onClick:t,icon:e,name:r,chainType:n})=>d.jsxs(rn,{onClick:t,children:[d.jsx(Im,{style:{width:20},children:d.jsx("img",{src:e})}),r,d.jsx(ll,{color:"gray",style:{marginLeft:"auto"},children:"Connected"}),n==="solana"&&d.jsx(ll,{color:"gray",children:"Solana"})]});const Tct=()=>{let{closePrivyModal:t}=Ye();return d.jsxs(d.Fragment,{children:[d.jsx(ze,{},"header"),d.jsx(Nct,{children:d.jsx(cS,{style:{width:32,height:32}})}),d.jsx(Pw,{title:"Could not log in with provider",description:"It looks like you're using an in-app browser.  To log in, please try again using an external browser.",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"}}),d.jsx(fp,{children:d.jsx(at,{onClick:()=>t(),children:"Close"})}),d.jsx(vr,{}),d.jsx(ft,{})]})};let Nct=ne.div.withConfig({displayName:"StyledCircle",componentId:"sc-30eca48b-0"})(["border-radius:50%;height:68px;width:68px;display:flex;align-items:center;justify-content:center;background-color:var(--privy-color-accent);color:white;margin:0 auto 24px auto;"]);const Pct=({style:t,...e})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:"17",height:"17",viewBox:"0 0 17 17",style:{height:"1.25rem",width:"1.25rem",...t},...e,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",fillRule:"evenodd",clipRule:"evenodd",d:"M16.5 8.67993C16.5 9.82986 15.853 10.8287 14.9032 11.3322C15.2188 12.3599 14.97 13.5237 14.1569 14.3368C13.3437 15.1499 12.18 15.3987 11.1523 15.0831C10.6488 16.0329 9.64993 16.6799 8.5 16.6799C7.35007 16.6799 6.35126 16.0329 5.84771 15.0831C4.82003 15.3987 3.65627 15.1499 2.84314 14.3368C2.03001 13.5237 1.78124 12.3599 2.09681 11.3322C1.14699 10.8287 0.5 9.82986 0.5 8.67993C0.5 7.53 1.14699 6.53119 2.0968 6.02764C1.78125 4.99996 2.03003 3.83621 2.84315 3.02309C3.65627 2.20997 4.82002 1.96119 5.8477 2.27675C6.35125 1.32692 7.35007 0.679932 8.5 0.679932C9.64992 0.679932 10.6487 1.32691 11.1523 2.27672C12.18 1.96115 13.3437 2.20993 14.1569 3.02305C14.97 3.83618 15.2188 4.99996 14.9032 6.02764C15.853 6.53119 16.5 7.53 16.5 8.67993ZM12.2659 6.68856C12.5654 6.40238 12.5761 5.92763 12.29 5.62818C12.0038 5.32873 11.529 5.31797 11.2296 5.60416C9.73022 7.03711 8.40877 8.65489 7.3018 10.4211L5.78033 8.89963C5.48744 8.60673 5.01256 8.60673 4.71967 8.89963C4.42678 9.19252 4.42678 9.66739 4.71967 9.96029L6.92031 12.1609C7.08544 12.3261 7.31807 12.4048 7.54957 12.374C7.78106 12.3432 7.98499 12.2064 8.1012 12.0038C9.23027 10.0356 10.6362 8.24613 12.2659 6.68856Z",fill:"var(--privy-color-accent)"})}),Rct=ne.div.withConfig({displayName:"TodoList",componentId:"sc-491785d-0"})(["display:flex;flex-direction:column;justify-content:flex-start;gap:4px;"]),tz=ne.div.withConfig({displayName:"TodoSpacer",componentId:"sc-491785d-1"})(["&&&{margin-left:7px;border-left:2px solid var(--privy-color-foreground-4);height:12px;}"]),d_=({children:t})=>d.jsxs(Oct,{children:[d.jsx(Pct,{style:{width:"16px",height:"16px"}}),t]});let Oct=ne.div.withConfig({displayName:"TodoItemWrapper",componentId:"sc-491785d-2"})(["display:flex;justify-content:flex-start;justify-items:center;text-align:left;gap:8px;&&{a{text-decoration:underline;color:var(--privy-color-accent);}svg{margin-top:auto;margin-bottom:auto;}}"]),jct=()=>{let t=uge?"https://addons.mozilla.org/en-US/firefox/addon/phantom-app/":"https://chrome.google.com/webstore/detail/phantom/bfnaelmomeimhlpmgjnjophhpkkoljpa?hl=en";return d.jsxs(Dct,{children:[d.jsx(E8,{title:"Create a Phantom wallet",description:"Follow the instructions below to get started."}),d.jsx(al,{children:d.jsx(C8,{style:{width:"152px",height:"152px"}})}),d.jsxs(Rct,{children:[d.jsx(d_,{children:d.jsxs("div",{children:[d.jsx("span",{children:"Install the "}),d.jsx("a",{href:t,target:"_blank",children:"Phantom browser extension"})]})}),d.jsx(tz,{}),d.jsx(d_,{children:"Set up your first wallet"}),d.jsx(tz,{}),d.jsx(d_,{children:"Store your recovery phrase in a safe place!"})]}),d.jsx(WT,{onClick:()=>window.location.reload(),children:"Reload the page to use your wallet"})]})};const Mct=()=>{let{navigateBack:t}=qe();return d.jsxs(d.Fragment,{children:[d.jsx(ze,{backFn:t},"header"),d.jsx(wr,{}),d.jsx(jct,{}),d.jsx(vr,{}),d.jsxs(Bt,{children:[d.jsx("span",{children:"Still not sure? "}),d.jsx("a",{target:"_blank",href:"https://solana.com/docs/intro/wallets",children:"Learn more"})]})]})};let Dct=ne(al).withConfig({displayName:"CreateWalletContainer",componentId:"sc-8f484e26-0"})(["gap:30px;> :first-child > svg{margin-top:20px;}"]),Lct={apple_oauth:"apple",custom_auth:"custom",discord_oauth:"discord",email:"email",farcaster:"farcaster",github_oauth:"github",google_oauth:"google",instagram_oauth:"instagram",linkedin_oauth:"linkedin",passkey:"passkey",phone:"sms",spotify_oauth:"spotify",telegram:"telegram",tiktok_oauth:"tiktok",twitter_oauth:"twitter",wallet:"siwe",smart_wallet:"siwe",cross_app:"privy:",guest:"guest"};const _x=t=>{let e=Lct[t];return t==="wallet"||t==="phone"?{displayName:t,loginMethod:e}:{displayName:e,loginMethod:e}},Fct=()=>{var i;let{app:t}=qe(),e=(i=t==null?void 0:t.appearance)==null?void 0:i.logo,r=`${t==null?void 0:t.name} logo`,n={maxHeight:"90px",maxWidth:"180px"};return e?typeof e=="string"?d.jsx("img",{src:e,alt:r,style:n}):e.type==="svg"||e.type==="img"?Je.cloneElement(e,{alt:r,style:n}):(console.warn("`config.appearance.logo` must be a string, or an SVG / IMG element. Nothing will be rendered."),null):null},Lae=t=>{let{app:e}=qe();return e!=null&&e.appearance.logo?d.jsx(Bct,{...t,children:d.jsx(Fct,{})}):null},Bct=ne.div.withConfig({displayName:"AppLogoContainer",componentId:"sc-a206bd44-0"})(["display:flex;flex-direction:column;align-items:center;padding:24px 0;flex-grow:1;justify-content:center;"]),Uct=({appId:t})=>{let[e,r]=C.useState(void 0),{startCrossAppAuthFlow:n,authenticated:i}=zt(),{client:s}=Ye();return C.useEffect(()=>{(async()=>s&&r(await s.getCrossAppProviderDetails(t)))()},[s]),d.jsx(rn,{onClick:()=>n({appId:t,action:i?"link":"login"}),disabled:!e,children:e?d.jsxs(d.Fragment,{children:[d.jsx(Xie,{name:e.name,logoUrl:e.icon_url||void 0,size:"24px"})," ",e.name]}):d.jsx(bf,{})})};let Fae=ne.label.withConfig({displayName:"BaseEmailForm",componentId:"sc-d081b0e2-0"})(["display:block;position:relative;width:100%;> svg{position:absolute;margin:13px 17px;height:24px;width:24px;color:var(--privy-color-foreground-3);}&& > input{background-color:#f00;font-size:16px;line-height:24px;padding:12px 88px 12px 52px;flex-grow:1;background:var(--privy-color-background);border:1px solid ",";border-radius:var(--privy-border-radius-mdlg);width:100%;@media (min-width:441px){font-size:14px;padding-right:78px;}:focus{outline:none;border-color:",";box-shadow:",";}:autofill,:-webkit-autofill{background:var(--privy-color-background);}&& > input::placeholder{color:var(--privy-color-foreground-3);}&:disabled{opacity:0.4;cursor:not-allowed;}&:disabled,&:disabled:hover,&:disabled > span{color:var(--privy-color-foreground-3);}}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;}&:disabled{opacity:0.4;cursor:not-allowed;}&:disabled,&:disabled:hover,&:disabled > span{color:var(--privy-color-foreground-3);}}"],({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-foreground-4)",({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-accent-light)",({$error:t})=>t?"none":"0 0 0 1px var(--privy-color-accent-light)");const Wct=ne(Fae).withConfig({displayName:"EmailUpdateForm",componentId:"sc-d081b0e2-1"})(["background-color:var(--privy-color-background);transition:background-color 200ms ease;&& > button{right:0;line-height:24px;position:absolute;padding:13px 17px;background-color:#090;:focus{outline:none;border-color:var(--privy-color-accent);}}"]),zct=ne(Fae).withConfig({displayName:"EmailInputForm",componentId:"sc-d081b0e2-2"})(["&& > input{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding-right:",";border:1px solid ",";&& > input::placeholder{color:var(--privy-color-foreground-3);}}&& > :last-child{right:16px;position:absolute;top:50%;transform:translate(0,-50%);}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;}}"],t=>t.stacked?"16px":"88px",({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-foreground-4)"),Bae=ne.div.withConfig({displayName:"InputContainerForm",componentId:"sc-d081b0e2-3"})(["width:100%;&& > ","{display:block;text-align:left;padding-left:var(--privy-border-radius-mdlg);padding-bottom:5px;}"],Fu),Uae=C.forwardRef((t,e)=>{let[r,n]=C.useState(t.defaultValue||""),[i,s]=C.useState(""),[o,a]=C.useState(!1),{authenticated:l}=zt(),{initLoginWithEmail:c}=Ye(),{navigate:u,setModalData:f,currentScreen:h,data:p}=qe(),{enabled:g,token:m}=eo(),[w,y]=C.useState(!1),{accountType:E}=vf(),v=$n();C.useEffect(()=>{var O,D;!r&&v.disablePlusEmails&&((O=p==null?void 0:p.inlineError)==null?void 0:O.error)instanceof Ks&&((D=p==null?void 0:p.inlineError)==null?void 0:D.error.privyErrorCode)===ue.DISALLOWED_PLUS_EMAIL&&!i&&s("Please enter a valid email address without a '+'."),i&&s("")},[r]);let b=FJ(r),$=o||!b,P=()=>{var D;var O;f({inlineError:void 0}),!g||m||l?(O=m,a(!0),c({email:r,captchaToken:O,disableSignup:(D=p==null?void 0:p.login)==null?void 0:D.disableSignup,withPrivyUi:!0}).then(()=>{u(se.AWAITING_PASSWORDLESS_CODE)}).catch(B=>{f({errorModalData:{error:B,previousScreen:h||se.LANDING}}),u(se.ERROR_SCREEN)}).finally(()=>{a(!1)})):(f({captchaModalData:{callback:B=>c({email:r,captchaToken:B,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:se.AWAITING_PASSWORDLESS_CODE,onErrorNavigateTo:se.ERROR_SCREEN}}),u(se.CAPTCHA_SCREEN))};return d.jsxs(d.Fragment,{children:[d.jsxs(Hct,{children:[i&&d.jsx(Fu,{style:{display:"block",marginTop:"0.25rem",textAlign:"left"},children:i}),d.jsxs(qct,{stacked:t.stacked,$error:!!i,children:[d.jsx(dp,{}),d.jsx("input",{ref:e,id:"email-input",className:"login-method-button",type:"email",placeholder:"your@email.com",onFocus:()=>y(!0),onChange:O=>n(O.target.value),onKeyUp:O=>{O.key==="Enter"&&P()},value:r,autoComplete:"email"}),E!=="email"||w?t.stacked?d.jsx("span",{}):d.jsx(zT,{isSubmitting:o,onClick:P,disabled:$,children:"Submit"}):d.jsx(ll,{color:"gray",children:"Recent"})]})]}),t.stacked?d.jsx(at,{loadingText:null,loading:o,disabled:$,onClick:P,children:"Submit"}):null]})});let Hct=Bae,qct=zct;const Wae=({isEditable:t,setIsEditable:e,defaultValue:r})=>{let n=C.useRef(null);return d.jsxs(d.Fragment,{children:[d.jsx(Fh,{$if:!t,children:d.jsx(Uae,{ref:n,defaultValue:r})}),d.jsx(Fh,{$if:t,children:d.jsxs(rn,{onClick:()=>{e(),setTimeout(()=>{var i;(i=n.current)==null||i.focus()},0)},children:[d.jsx(dp,{})," Continue with Email"]})})]})},zae=()=>{let[t,e]=C.useState(!1),{currentScreen:r,navigate:n,setModalData:i,data:s}=qe(),{enabled:o,token:a}=eo(),{initLoginWithFarcaster:l}=Ye(),{accountType:c}=vf();return d.jsxs(rn,{onClick:async()=>{var u;e(!0);try{o&&!a?(i({captchaModalData:{callback:f=>{var h;return l(f,(h=s==null?void 0:s.login)==null?void 0:h.disableSignup)},userIntentRequired:!0,onSuccessNavigateTo:se.AWAITING_FARCASTER_CONNECTION,onErrorNavigateTo:se.ERROR_SCREEN}}),n(se.CAPTCHA_SCREEN)):(await l(a,(u=s==null?void 0:s.login)==null?void 0:u.disableSignup),n(se.AWAITING_FARCASTER_CONNECTION))}catch(f){i({errorModalData:{error:f,previousScreen:r||se.LANDING}}),n(se.ERROR_SCREEN)}finally{e(!1)}},disabled:!1,children:[d.jsx(bh,{})," Farcaster",t&&d.jsx(bf,{}),c==="farcaster"&&d.jsx(Vct,{color:"gray",children:"Recent"})]})};let Vct=ne(ll).withConfig({displayName:"StyledChip",componentId:"sc-19f52850-0"})(["margin-left:auto;"]);const Hae=()=>{let{enabled:t,token:e}=eo(),{navigate:r,setModalData:n,app:i}=qe(),{initLoginWithPasskey:s}=Ye();return d.jsx(Kct,{onClick:()=>{i.loginConfig.passkeysForSignupEnabled?r(se.SELECT_PASSKEY_SIGNUP_OR_LOGIN):(async()=>t&&!e?(n({passkeyAuthModalData:{passkeySignupFlow:!1},captchaModalData:{callback:o=>s({captchaToken:o,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:se.AWAITING_PASSKEY_SYSTEM_DIALOGUE,onErrorNavigateTo:se.ERROR_SCREEN}}),r(se.CAPTCHA_SCREEN)):(await s({withPrivyUi:!0}),n({passkeyAuthModalData:{passkeySignupFlow:!1}}),r(se.AWAITING_PASSKEY_SYSTEM_DIALOGUE)))()},children:"I have a passkey"})};let Gct=ai(["&&{width:100%;font-size:0.875rem;line-height:1rem;display:flex;gap:0.5rem;justify-content:center;align-items:center;padding:6px 8px;background-color:var(--privy-color-background);transition:background-color 200ms ease;color:var(--privy-color-accent) !important;:focus{outline:none;box-shadow:none;}}"]);const Kct=ne.button.withConfig({displayName:"StyledLink",componentId:"sc-9521c74b-0"})(["",""],Gct),Yct=({value:t,onChange:e})=>d.jsx("select",{value:t,onChange:e,children:hbe.map(r=>d.jsxs("option",{value:r.code,children:[r.code," +",r.callCode]},r.code))}),Cx=C.forwardRef((t,e)=>{let{app:r}=qe(),[n,i]=C.useState(!1),{accountType:s}=vf(),[o,a]=C.useState(""),[l,c]=C.useState((r==null?void 0:r.intl.defaultCountry)??"US"),u=Pb(o,l),f=fbe(l),h=pbe(l),p=ck(l),g=!u,[m,w]=C.useState(!1),y=p.length,E=$=>{let P=$.target.value;c(P),a(""),t.onChange&&t.onChange({rawPhoneNumber:o,qualifiedPhoneNumber:EE(o,P),countryCode:P,isValid:Pb(o,l)})},v=($,P)=>{try{let O=$.replace(/\D/g,"")===o.replace(/\D/g,"")?$:f.input($);a(O),t.onChange&&t.onChange({rawPhoneNumber:O,qualifiedPhoneNumber:EE($,P),countryCode:P,isValid:Pb($,P)})}catch(O){console.error("Error processing phone number:",O)}},b=()=>{w(!0);let $=EE(o,l);t.onSubmit({rawPhoneNumber:o,qualifiedPhoneNumber:$,countryCode:l,isValid:Pb(o,l)}).finally(()=>w(!1))};return C.useEffect(()=>{if(t.defaultValue){let $=gbe(t.defaultValue);f.reset(),E({target:{value:$.countryCode}}),v($.phone,$.countryCode)}},[t.defaultValue]),d.jsxs(d.Fragment,{children:[d.jsx(Zct,{children:d.jsxs(Jct,{$callingCodeLength:y,$stacked:t.stacked,children:[d.jsx(Yct,{value:l,onChange:E}),d.jsx("input",{ref:e,id:"phone-number-input",className:"login-method-button",type:"tel",placeholder:h,onFocus:()=>i(!0),onChange:$=>{v($.target.value,l)},onKeyUp:$=>{$.key==="Enter"&&b()},value:o,autoComplete:"tel"}),s!=="phone"||n||t.hideRecent?t.stacked||t.noIncludeSubmitButton?d.jsx("span",{}):d.jsx(zT,{isSubmitting:m,onClick:b,disabled:g,children:"Submit"}):d.jsx(ll,{color:"gray",children:"Recent"})]})}),t.stacked&&!t.noIncludeSubmitButton?d.jsx(at,{loading:m,loadingText:null,onClick:b,disabled:g,children:"Submit"}):null]})});let Zct=ne.div.withConfig({displayName:"InputContainer",componentId:"sc-2a729487-0"})(["width:100%;"]),Jct=ne.label.withConfig({displayName:"PhoneNumberInput",componentId:"sc-2a729487-1"})(["--country-code-dropdown-width:calc(54px + calc(12 * ","px));--phone-input-extra-padding-left:calc(12px + calc(3 * ","px));display:block;position:relative;width:100%;@media (min-width:441px){--country-code-dropdown-width:calc(52px + calc(10 * ","px));}&& > select{font-size:16px;height:24px;position:absolute;margin:13px calc(var(--country-code-dropdown-width) / 4);line-height:24px;width:var(--country-code-dropdown-width);background-color:var(--privy-color-background);background-size:auto;background-position-x:right;cursor:pointer;@media (min-width:441px){font-size:14px;width:var(--country-code-dropdown-width);}:focus{outline:none;box-shadow:none;}}&& > input{font-size:16px;line-height:24px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:calc(100% - var(--country-code-dropdown-width));padding:12px 88px 12px calc(var(--country-code-dropdown-width) + var(--phone-input-extra-padding-left));padding-right:",";flex-grow:1;background:var(--privy-color-background);border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-mdlg);width:100%;:focus{outline:none;border-color:var(--privy-color-accent);}:autofill,:-webkit-autofill{background:var(--privy-color-background);}@media (min-width:441px){font-size:14px;padding-right:78px;}}&& > :last-child{right:16px;position:absolute;top:50%;transform:translate(0,-50%);}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;border-color:var(--privy-color-accent);}}&& > input::placeholder{color:var(--privy-color-foreground-3);}"],t=>t.$callingCodeLength,t=>t.$callingCodeLength,t=>t.$callingCodeLength,t=>t.$stacked?"16px":"88px");const qae=({isEditable:t,setIsEditable:e,defaultValue:r})=>{let n=C.useRef(null),{authenticated:i}=zt(),{navigate:s,setModalData:o,currentScreen:a,data:l}=qe(),{initLoginWithSms:c}=Ye(),{enabled:u,token:f}=eo();return d.jsxs(d.Fragment,{children:[d.jsx(Fh,{$if:!t,children:d.jsx(Cx,{ref:n,onSubmit:async function({qualifiedPhoneNumber:h}){var p;if(!u||f||i)try{await c({phoneNumber:h,captchaToken:f,withPrivyUi:!0,disableSignup:(p=l==null?void 0:l.login)==null?void 0:p.disableSignup}),s(se.AWAITING_PASSWORDLESS_CODE)}catch(g){o({errorModalData:{error:g,previousScreen:a||se.LANDING}}),s(se.ERROR_SCREEN)}else o({captchaModalData:{callback:g=>{var m;return c({phoneNumber:h,captchaToken:g,withPrivyUi:!0,disableSignup:(m=l==null?void 0:l.login)==null?void 0:m.disableSignup})},userIntentRequired:!1,onSuccessNavigateTo:se.AWAITING_PASSWORDLESS_CODE,onErrorNavigateTo:se.ERROR_SCREEN}}),s(se.CAPTCHA_SCREEN)},defaultValue:r})}),d.jsx(Fh,{$if:t,children:d.jsxs(rn,{onClick:()=>{e(),setTimeout(()=>{var h;(h=n.current)==null||h.focus()},0)},children:[d.jsx(ol,{})," Continue with SMS"]})})]})},Vae=({style:t,...e})=>d.jsxs("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 24 24",style:{height:"24px",...t},...e,children:[d.jsx("path",{d:"M17.0722 11.6888C17.0471 8.90571 19.3263 7.56847 19.429 7.50274C18.1466 5.60938 16.153 5.35154 15.4417 5.3212C13.7461 5.14678 12.1306 6.32982 11.269 6.32982C10.4074 6.32982 9.08004 5.34648 7.67246 5.37429C5.82158 5.40209 4.11595 6.45874 3.16171 8.13218C1.24068 11.4942 2.6708 16.4817 4.54423 19.2143C5.46091 20.549 6.55041 22.0531 7.98554 21.9975C9.36803 21.9419 9.88905 21.095 11.5571 21.095C13.2251 21.095 13.696 21.9975 15.1537 21.9697C16.6389 21.9393 17.5806 20.6046 18.4897 19.2648C19.5392 17.7153 19.9725 16.2137 19.9975 16.1354C19.965 16.1228 17.1022 15.0155 17.0722 11.6888Z",fill:"currentColor"}),d.jsx("path",{d:"M14.3295 3.51373C15.0909 2.58347 15.6043 1.28921 15.4641 0C14.3671 0.0455014 13.0396 0.738135 12.2532 1.66838C11.5494 2.48994 10.9307 3.80695 11.0986 5.07089C12.3183 5.16694 13.5681 4.44145 14.3295 3.51373Z",fill:"currentColor"})]}),Gae=({style:t,...e})=>d.jsxs("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 71 55",style:{height:"24px",...t},...e,children:[d.jsx("g",{clipPath:"url(#clip0)",children:d.jsx("path",{d:"M60.1045 4.8978C55.5792 2.8214 50.7265 1.2916 45.6527 0.41542C45.5603 0.39851 45.468 0.440769 45.4204 0.525289C44.7963 1.6353 44.105 3.0834 43.6209 4.2216C38.1637 3.4046 32.7345 3.4046 27.3892 4.2216C26.905 3.0581 26.1886 1.6353 25.5617 0.525289C25.5141 0.443589 25.4218 0.40133 25.3294 0.41542C20.2584 1.2888 15.4057 2.8186 10.8776 4.8978C10.8384 4.9147 10.8048 4.9429 10.7825 4.9795C1.57795 18.7309 -0.943561 32.1443 0.293408 45.3914C0.299005 45.4562 0.335386 45.5182 0.385761 45.5576C6.45866 50.0174 12.3413 52.7249 18.1147 54.5195C18.2071 54.5477 18.305 54.5139 18.3638 54.4378C19.7295 52.5728 20.9469 50.6063 21.9907 48.5383C22.0523 48.4172 21.9935 48.2735 21.8676 48.2256C19.9366 47.4931 18.0979 46.6 16.3292 45.5858C16.1893 45.5041 16.1781 45.304 16.3068 45.2082C16.679 44.9293 17.0513 44.6391 17.4067 44.3461C17.471 44.2926 17.5606 44.2813 17.6362 44.3151C29.2558 49.6202 41.8354 49.6202 53.3179 44.3151C53.3935 44.2785 53.4831 44.2898 53.5502 44.3433C53.9057 44.6363 54.2779 44.9293 54.6529 45.2082C54.7816 45.304 54.7732 45.5041 54.6333 45.5858C52.8646 46.6197 51.0259 47.4931 49.0921 48.2228C48.9662 48.2707 48.9102 48.4172 48.9718 48.5383C50.038 50.6034 51.2554 52.5699 52.5959 54.435C52.6519 54.5139 52.7526 54.5477 52.845 54.5195C58.6464 52.7249 64.529 50.0174 70.6019 45.5576C70.6551 45.5182 70.6887 45.459 70.6943 45.3942C72.1747 30.0791 68.2147 16.7757 60.1968 4.9823C60.1772 4.9429 60.1437 4.9147 60.1045 4.8978ZM23.7259 37.3253C20.2276 37.3253 17.3451 34.1136 17.3451 30.1693C17.3451 26.225 20.1717 23.0133 23.7259 23.0133C27.308 23.0133 30.1626 26.2532 30.1066 30.1693C30.1066 34.1136 27.28 37.3253 23.7259 37.3253ZM47.3178 37.3253C43.8196 37.3253 40.9371 34.1136 40.9371 30.1693C40.9371 26.225 43.7636 23.0133 47.3178 23.0133C50.9 23.0133 53.7545 26.2532 53.6986 30.1693C53.6986 34.1136 50.9 37.3253 47.3178 37.3253Z",fill:"#5865F2"})}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0",children:d.jsx("rect",{width:"71",height:"55",fill:"white"})})})]}),Kae=({style:t,...e})=>d.jsx("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"24",y:"24",viewBox:"0 0 98 96",style:{height:"24px",...t},...e,children:d.jsx("path",{d:"M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z",fill:"currentColor"})}),Yae=({style:t,...e})=>d.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"26px",width:"26px",...t},...e,children:[d.jsx("path",{d:"M22.56 12.25C22.56 11.47 22.49 10.72 22.36 10H12V14.255H17.92C17.665 15.63 16.89 16.795 15.725 17.575V20.335H19.28C21.36 18.42 22.56 15.6 22.56 12.25Z",fill:"#4285F4"}),d.jsx("path",{d:"M12 23C14.97 23 17.46 22.015 19.28 20.335L15.725 17.575C14.74 18.235 13.48 18.625 12 18.625C9.13504 18.625 6.71004 16.69 5.84504 14.09H2.17004V16.94C3.98004 20.535 7.70004 23 12 23Z",fill:"#34A853"}),d.jsx("path",{d:"M5.845 14.09C5.625 13.43 5.5 12.725 5.5 12C5.5 11.275 5.625 10.57 5.845 9.91V7.06H2.17C1.4 8.59286 0.999321 10.2846 1 12C1 13.775 1.425 15.455 2.17 16.94L5.845 14.09Z",fill:"#FBBC05"}),d.jsx("path",{d:"M12 5.375C13.615 5.375 15.065 5.93 16.205 7.02L19.36 3.865C17.455 2.09 14.965 1 12 1C7.70004 1 3.98004 3.465 2.17004 7.06L5.84504 9.91C6.71004 7.31 9.13504 5.375 12 5.375Z",fill:"#EA4335"})]});function Zae(t){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:26,height:26,viewBox:"0 0 140 140",x:"0px",y:"0px",fill:"none",...t,children:[d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:"b",children:[d.jsx("stop",{offset:"0",stopColor:"#3771c8"}),d.jsx("stop",{stopColor:"#3771c8",offset:".128"}),d.jsx("stop",{offset:"1",stopColor:"#60f",stopOpacity:"0"})]}),d.jsxs("linearGradient",{id:"a",children:[d.jsx("stop",{offset:"0",stopColor:"#fd5"}),d.jsx("stop",{offset:".1",stopColor:"#fd5"}),d.jsx("stop",{offset:".5",stopColor:"#ff543e"}),d.jsx("stop",{offset:"1",stopColor:"#c837ab"})]}),d.jsx("radialGradient",{id:"c",cx:"158.429",cy:"578.088",r:"65",xlinkHref:"#a",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 -1.98198 1.8439 0 -1031.402 454.004)",fx:"158.429",fy:"578.088"}),d.jsx("radialGradient",{id:"d",cx:"147.694",cy:"473.455",r:"65",xlinkHref:"#b",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(.17394 .86872 -3.5818 .71718 1648.348 -458.493)",fx:"147.694",fy:"473.455"})]}),d.jsx("path",{fill:"url(#c)",d:"M65.03 0C37.888 0 29.95.028 28.407.156c-5.57.463-9.036 1.34-12.812 3.22-2.91 1.445-5.205 3.12-7.47 5.468C4 13.126 1.5 18.394.595 24.656c-.44 3.04-.568 3.66-.594 19.188-.01 5.176 0 11.988 0 21.125 0 27.12.03 35.05.16 36.59.45 5.42 1.3 8.83 3.1 12.56 3.44 7.14 10.01 12.5 17.75 14.5 2.68.69 5.64 1.07 9.44 1.25 1.61.07 18.02.12 34.44.12 16.42 0 32.84-.02 34.41-.1 4.4-.207 6.955-.55 9.78-1.28 7.79-2.01 14.24-7.29 17.75-14.53 1.765-3.64 2.66-7.18 3.065-12.317.088-1.12.125-18.977.125-36.81 0-17.836-.04-35.66-.128-36.78-.41-5.22-1.305-8.73-3.127-12.44-1.495-3.037-3.155-5.305-5.565-7.624C116.9 4 111.64 1.5 105.372.596 102.335.157 101.73.027 86.19 0H65.03z",transform:"translate(1.004 1)"}),d.jsx("path",{fill:"url(#d)",d:"M65.03 0C37.888 0 29.95.028 28.407.156c-5.57.463-9.036 1.34-12.812 3.22-2.91 1.445-5.205 3.12-7.47 5.468C4 13.126 1.5 18.394.595 24.656c-.44 3.04-.568 3.66-.594 19.188-.01 5.176 0 11.988 0 21.125 0 27.12.03 35.05.16 36.59.45 5.42 1.3 8.83 3.1 12.56 3.44 7.14 10.01 12.5 17.75 14.5 2.68.69 5.64 1.07 9.44 1.25 1.61.07 18.02.12 34.44.12 16.42 0 32.84-.02 34.41-.1 4.4-.207 6.955-.55 9.78-1.28 7.79-2.01 14.24-7.29 17.75-14.53 1.765-3.64 2.66-7.18 3.065-12.317.088-1.12.125-18.977.125-36.81 0-17.836-.04-35.66-.128-36.78-.41-5.22-1.305-8.73-3.127-12.44-1.495-3.037-3.155-5.305-5.565-7.624C116.9 4 111.64 1.5 105.372.596 102.335.157 101.73.027 86.19 0H65.03z",transform:"translate(1.004 1)"}),d.jsx("path",{fill:"#fff",d:"M66.004 18c-13.036 0-14.672.057-19.792.29-5.11.234-8.598 1.043-11.65 2.23-3.157 1.226-5.835 2.866-8.503 5.535-2.67 2.668-4.31 5.346-5.54 8.502-1.19 3.053-2 6.542-2.23 11.65C18.06 51.327 18 52.964 18 66s.058 14.667.29 19.787c.235 5.11 1.044 8.598 2.23 11.65 1.227 3.157 2.867 5.835 5.536 8.503 2.667 2.67 5.345 4.314 8.5 5.54 3.054 1.187 6.543 1.996 11.652 2.23 5.12.233 6.755.29 19.79.29 13.037 0 14.668-.057 19.788-.29 5.11-.234 8.602-1.043 11.656-2.23 3.156-1.226 5.83-2.87 8.497-5.54 2.67-2.668 4.31-5.346 5.54-8.502 1.18-3.053 1.99-6.542 2.23-11.65.23-5.12.29-6.752.29-19.788 0-13.036-.06-14.672-.29-19.792-.24-5.11-1.05-8.598-2.23-11.65-1.23-3.157-2.87-5.835-5.54-8.503-2.67-2.67-5.34-4.31-8.5-5.535-3.06-1.187-6.55-1.996-11.66-2.23-5.12-.233-6.75-.29-19.79-.29zm-4.306 8.65c1.278-.002 2.704 0 4.306 0 12.816 0 14.335.046 19.396.276 4.68.214 7.22.996 8.912 1.653 2.24.87 3.837 1.91 5.516 3.59 1.68 1.68 2.72 3.28 3.592 5.52.657 1.69 1.44 4.23 1.653 8.91.23 5.06.28 6.58.28 19.39s-.05 14.33-.28 19.39c-.214 4.68-.996 7.22-1.653 8.91-.87 2.24-1.912 3.835-3.592 5.514-1.68 1.68-3.275 2.72-5.516 3.59-1.69.66-4.232 1.44-8.912 1.654-5.06.23-6.58.28-19.396.28-12.817 0-14.336-.05-19.396-.28-4.68-.216-7.22-.998-8.913-1.655-2.24-.87-3.84-1.91-5.52-3.59-1.68-1.68-2.72-3.276-3.592-5.517-.657-1.69-1.44-4.23-1.653-8.91-.23-5.06-.276-6.58-.276-19.398s.046-14.33.276-19.39c.214-4.68.996-7.22 1.653-8.912.87-2.24 1.912-3.84 3.592-5.52 1.68-1.68 3.28-2.72 5.52-3.592 1.692-.66 4.233-1.44 8.913-1.655 4.428-.2 6.144-.26 15.09-.27zm29.928 7.97c-3.18 0-5.76 2.577-5.76 5.758 0 3.18 2.58 5.76 5.76 5.76 3.18 0 5.76-2.58 5.76-5.76 0-3.18-2.58-5.76-5.76-5.76zm-25.622 6.73c-13.613 0-24.65 11.037-24.65 24.65 0 13.613 11.037 24.645 24.65 24.645C79.617 90.645 90.65 79.613 90.65 66S79.616 41.35 66.003 41.35zm0 8.65c8.836 0 16 7.163 16 16 0 8.836-7.164 16-16 16-8.837 0-16-7.164-16-16 0-8.837 7.163-16 16-16z"})]})}function Jae({style:t,...e}){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0,0,256,256",style:{height:"26px",width:"26px",...t},...e,children:d.jsx("g",{fill:"#0077b5",strokeWidth:"1",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:"10",style:{mixBlendMode:"normal"},children:d.jsx("g",{transform:"scale(5.12,5.12)",children:d.jsx("path",{d:"M41,4h-32c-2.76,0 -5,2.24 -5,5v32c0,2.76 2.24,5 5,5h32c2.76,0 5,-2.24 5,-5v-32c0,-2.76 -2.24,-5 -5,-5zM17,20v19h-6v-19zM11,14.47c0,-1.4 1.2,-2.47 3,-2.47c1.8,0 2.93,1.07 3,2.47c0,1.4 -1.12,2.53 -3,2.53c-1.8,0 -3,-1.13 -3,-2.53zM39,39h-6c0,0 0,-9.26 0,-10c0,-2 -1,-4 -3.5,-4.04h-0.08c-2.42,0 -3.42,2.06 -3.42,4.04c0,0.91 0,10 0,10h-6v-19h6v2.56c0,0 1.93,-2.56 5.81,-2.56c3.97,0 7.19,2.73 7.19,8.26z"})})})})}function Qae(t){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512",...t,children:[d.jsx("path",{fill:"#1ed760",d:"M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8Z"}),d.jsx("path",{d:"M406.6 231.1c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3zm-31 76.2c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm-26.9 65.6c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4z"})]})}function Xae(t){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",imageRendering:"optimizeQuality",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",viewBox:"0 0 293768 333327",width:24,height:24,...t,children:[d.jsx("path",{fill:"#26f4ee",d:"M204958 0c5369 45832 32829 78170 77253 81022v43471l-287 27V87593c-44424-2850-69965-30183-75333-76015l-47060-1v192819c6791 86790-60835 89368-86703 56462 30342 18977 79608 6642 73766-68039V0h58365zM78515 319644c-26591-5471-50770-21358-64969-44588-34496-56437-3401-148418 96651-157884v54345l-164 27v-40773C17274 145544 7961 245185 33650 286633c9906 15984 26169 27227 44864 33011z"}),d.jsx("path",{fill:"#fb2c53",d:"M218434 11587c3505 29920 15609 55386 35948 70259-27522-10602-43651-34934-47791-70262l11843 3zm63489 82463c3786 804 7734 1348 11844 1611v51530c-25770 2537-48321-5946-74600-21749l4034 88251c0 28460 106 41467-15166 67648-34260 58734-95927 63376-137628 35401 54529 22502 137077-4810 136916-103049v-96320c26279 15803 48830 24286 74600 21748V94050zm-171890 37247c5390-1122 11048-1985 16998-2548v54345c-21666 3569-35427 10222-41862 22528-20267 38754 5827 69491 35017 74111-33931 5638-73721-28750-49999-74111 6434-12304 18180-18959 39846-22528v-51797zm64479-119719h1808-1808z"}),d.jsx("path",{d:"M206590 11578c5369 45832 30910 73164 75333 76015v51528c-25770 2539-48321-5945-74600-21748v96320c206 125717-135035 135283-173673 72939-25688-41449-16376-141089 76383-155862v52323c-21666 3569-33412 10224-39846 22528-39762 76035 98926 121273 89342-1225V11577l47060 1z",fill:"#000000"})]})}const ele=({style:t,...e})=>d.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",width:"24px",...t},...e,children:d.jsx("path",{d:"M 14.285156 10.171875 L 23.222656 0 L 21.105469 0 L 13.34375 8.832031 L 7.148438 0 L 0 0 L 9.371094 13.355469 L 0 24.019531 L 2.117188 24.019531 L 10.308594 14.691406 L 16.851562 24.019531 L 24 24.019531 M 2.878906 1.5625 L 6.132812 1.5625 L 21.101562 22.535156 L 17.851562 22.535156",fill:"currentColor"})});let Qct={apple:{logo:d.jsx(Vae,{}),displayName:"Apple"},discord:{logo:d.jsx(Gae,{}),displayName:"Discord"},github:{logo:d.jsx(Kae,{}),displayName:"GitHub"},google:{logo:d.jsx(Yae,{}),displayName:"Google"},linkedin:{logo:d.jsx(Jae,{}),displayName:"LinkedIn"},spotify:{logo:d.jsx(Qae,{}),displayName:"Spotify"},instagram:{logo:d.jsx(Zae,{}),displayName:"Instagram"},twitter:{logo:d.jsx(ele,{}),displayName:"Twitter"},tiktok:{logo:d.jsx(Xae,{}),displayName:"TikTok"}};const Qn=({provider:t})=>{let{enabled:e,token:r}=eo(),{navigate:n,setModalData:i,data:s}=qe(),[o,a]=C.useState(!1),{initLoginWithOAuth:l}=Ye(),{accountType:c}=vf(),u=c?_x(c):null,{displayName:f,logo:h}=Qct[t];return d.jsxs(rn,{onClick:()=>{var p;a(!0),e&&!r?(i({captchaModalData:{callback:g=>{var m;return l(t,g,(m=s==null?void 0:s.login)==null?void 0:m.disableSignup)},userIntentRequired:!0,onSuccessNavigateTo:null,onErrorNavigateTo:se.ERROR_SCREEN}}),n(se.CAPTCHA_SCREEN)):l(t,void 0,(p=s==null?void 0:s.login)==null?void 0:p.disableSignup)},disabled:o,children:[h," ",f,(u==null?void 0:u.loginMethod)===t&&d.jsx(Xct,{color:"gray",children:"Recent"})]})};let Xct=ne(ll).withConfig({displayName:"StyledChip",componentId:"sc-7d3bb993-0"})(["margin-left:auto;"]);function tle(t){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 240 240",...t,children:[d.jsx("defs",{children:d.jsxs("linearGradient",{x1:"120",y1:"240",x2:"120",gradientUnits:"userSpaceOnUse",id:"telegram-linear-gradient",children:[d.jsx("stop",{offset:"0",stopColor:"#1d93d2"}),d.jsx("stop",{offset:"1",stopColor:"#38b0e3"})]})}),d.jsx("title",{children:"Telegram_logo"}),d.jsx("circle",{cx:"120",cy:"120",r:"120",fill:"url(#telegram-linear-gradient)"}),d.jsx("path",{d:"M81.229,128.772l14.237,39.406s1.78,3.687,3.686,3.687,30.255-29.492,30.255-29.492l31.525-60.89L81.737,118.6Z",fill:"#c8daea"}),d.jsx("path",{d:"M100.106,138.878l-2.733,29.046s-1.144,8.9,7.754,0,17.415-15.763,17.415-15.763",fill:"#a9c6d8"}),d.jsx("path",{d:"M81.486,130.178,52.2,120.636s-3.5-1.42-2.373-4.64c.232-.664.7-1.229,2.1-2.2,6.489-4.523,120.106-45.36,120.106-45.36s3.208-1.081,5.1-.362a2.766,2.766,0,0,1,1.885,2.055,9.357,9.357,0,0,1,.254,2.585c-.009.752-.1,1.449-.169,2.542-.692,11.165-21.4,94.493-21.4,94.493s-1.239,4.876-5.678,5.043A8.13,8.13,0,0,1,146.1,172.5c-8.711-7.493-38.819-27.727-45.472-32.177a1.27,1.27,0,0,1-.546-.9c-.093-.469.417-1.05.417-1.05s52.426-46.6,53.821-51.492c.108-.379-.3-.566-.848-.4-3.482,1.281-63.844,39.4-70.506,43.607A3.21,3.21,0,0,1,81.486,130.178Z",fill:"#fff"})]})}const rle=()=>{let{enabled:t,token:e}=eo(),{navigate:r,setModalData:n,data:i}=qe(),[s,o]=C.useState(!1),{initLoginWithTelegram:a}=Ye(),{accountType:l}=vf();async function c(u){var f;try{await a(u,(f=i==null?void 0:i.login)==null?void 0:f.disableSignup),n({telegramAuthModalData:{seamlessAuth:!1}}),r(se.TELEGRAM_AUTH_SCREEN)}catch(h){console.error(h),o(!1)}}return d.jsxs(rn,{onClick:async function(){if(o(!0),t&&!e)return n({captchaModalData:{callback:c,userIntentRequired:!0,onSuccessNavigateTo:null,onErrorNavigateTo:se.ERROR_SCREEN}}),void r(se.CAPTCHA_SCREEN);await c(e)},disabled:s,children:[d.jsx(tle,{}),"Telegram",l==="telegram"&&d.jsx(eut,{color:"gray",children:"Recent"})]})};let eut=ne(ll).withConfig({displayName:"StyledChip",componentId:"sc-f716a3a1-0"})(["margin-left:auto;"]);const nle=({onClick:t,text:e,icon:r})=>d.jsxs(rn,{onClick:t,children:[r,d.jsx(Du,{children:e}),d.jsx(vP,{})]});let rz=t=>`${t.props.provider}:${t.props.displayName}`;const ile=({connectOnly:t})=>{var R,_;let{closePrivyModal:e,connectors:r}=Ye(),{app:n,onUserCloseViaDialogOrKeybindRef:i,data:s}=qe(),{appearance:{palette:{colorScheme:o}}}=$n(),{accountType:a,walletClientType:l,chainType:c}=vf(),u=a?_x(a):null,f=((R=n.loginMethodsAndOrder)==null?void 0:R.primary)??[],h=((_=n.loginMethodsAndOrder)==null?void 0:_.overflow)??[],p=[...f,...h],g=n.loginMethods.passkey,m=s==null?void 0:s.login,w=[];l&&p.includes(l)?w.push(l):a&&p.includes(u==null?void 0:u.loginMethod)&&w.push(u==null?void 0:u.loginMethod);let[y,E]=C.useState("default"),[v,b]=C.useState(a==="phone"?"sms":"email");C.useEffect(()=>{a==="phone"&&b("sms");let x=p.indexOf("sms"),A=p.indexOf("email");x>-1&&x<A&&b("sms")},[a,f,h]);let $=()=>{e({shouldCallAuthOnSuccess:!0}),setTimeout(()=>{E("default")},150)};i.current=$;let P=x=>{var A,T;return x==="email"?d.jsx(Wae,{isEditable:v==="email",setIsEditable:()=>{b("email")},defaultValue:((A=m==null?void 0:m.prefill)==null?void 0:A.type)==="email"?m.prefill.value:void 0},x):x==="sms"?d.jsx(qae,{isEditable:v==="sms",setIsEditable:()=>{b("sms")},defaultValue:((T=m==null?void 0:m.prefill)==null?void 0:T.type)==="phone"?m.prefill.value:void 0},x):x==="apple"?d.jsx(Qn,{provider:"apple"},x):x==="discord"?d.jsx(Qn,{provider:"discord"},x):x==="farcaster"?d.jsx(zae,{},x):x==="github"?d.jsx(Qn,{provider:"github"},x):x==="google"?d.jsx(Qn,{provider:"google"},x):x==="linkedin"?d.jsx(Qn,{provider:"linkedin"},x):x==="spotify"?d.jsx(Qn,{provider:"spotify"},x):x==="instagram"?d.jsx(Qn,{provider:"instagram"},x):x==="tiktok"?d.jsx(Qn,{provider:"tiktok"},x):x==="twitter"?d.jsx(Qn,{provider:"twitter"},x):x==="telegram"?d.jsx(rle,{},x):x.startsWith("privy:")?d.jsx(Uct,{appId:x.replace("privy:","")},x):Wh({walletList:n.appearance.walletList,walletChainType:n.appearance.walletChainType,connectors:r,connectOnly:t,ignore:[],walletConnectEnabled:n.externalWallets.walletConnect.enabled,forceWallet:{wallet:x,chainType:c??"ethereum"}})},O=w.flatMap(P),D=f.filter(x=>x!==l&&x!==(u==null?void 0:u.loginMethod)).flatMap(P),B=h.filter(x=>x!==l&&x!==(u==null?void 0:u.loginMethod)).flatMap(P),H=B.filter(x=>!D.map(rz).includes(rz(x))),[q,Y]=O9e([...O,...D,...H],tut({primary:D.length+O.length,overflow:B.length}));return d.jsxs(d.Fragment,{children:[d.jsx(ze,{title:n.appearance.landingHeader,onClose:$,backFn:y==="default"?void 0:()=>{E("default")}}),y==="default"&&d.jsx(rut,{}),y==="default"&&(typeof n.appearance.loginMessage=="string"?d.jsx(Zee,{children:n.appearance.loginMessage}):n.appearance.loginMessage),d.jsx(Kee,{style:{overflow:"hidden"},children:d.jsxs(NNe,{$colorScheme:o,style:{maxHeight:400,overflowY:"scroll",padding:2},children:[y==="default"&&d.jsxs(d.Fragment,{children:[q,Y.length>0&&d.jsx(nle,{text:"More options",icon:d.jsx(YN,{}),onClick:()=>E("overflow")})]}),y==="overflow"&&d.jsx(d.Fragment,{children:Y}),g&&y==="default"&&d.jsx(Hae,{})]})}),n&&d.jsx(qT,{app:n}),d.jsx(ft,{})]})};let tut=({primary:t,overflow:e})=>t<5?t:t===5&&e===0?5:4,rut=ne(Lae).withConfig({displayName:"StyledAppLogoHeader",componentId:"sc-5bf511fb-0"})(["margin-bottom:16px;"]);const nut=({...t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",...t,children:[d.jsxs("g",{clipPath:"url(#clip0_2856_1743)",children:[d.jsx("path",{d:"M22.1673 8.24075V16.3642C22.1673 17.3256 21.3421 18.105 20.3241 18.105H17.0028M22.1673 8.24075C22.1673 7.27936 21.3421 6.5 20.3241 6.5H11.5302M22.1673 8.24075V8.42852C22.1673 9.03302 21.8352 9.59423 21.2901 9.91105L15.1463 13.4818C14.5539 13.8261 13.8067 13.8261 13.2143 13.4818L10.1621 11.5401",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M3.12913 6.64816C0.508085 12.9507 3.49251 20.1847 9.79504 22.8057L11.5068 23.5176C12.4522 23.9108 13.7783 23.2222 14.1714 22.2768L14.6054 21.2333C14.7687 20.8406 14.6438 20.3871 14.3024 20.1334L11.2872 17.8927C10.9878 17.6702 10.5843 17.6488 10.2632 17.8384L9.11575 18.5156C8.78274 18.7121 8.3597 18.6844 8.07552 18.4221C5.94293 16.4542 4.77629 13.6264 4.90096 10.7273C4.91757 10.3409 5.19796 10.023 5.57269 9.92753L6.86381 9.59869C7.22522 9.50664 7.49627 9.20696 7.55169 8.83815L8.10986 5.12321C8.17306 4.70259 7.94188 4.29293 7.54915 4.1296L6.50564 3.69564C5.56026 3.30248 4.23416 3.99103 3.84101 4.9364L3.12913 6.64816Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_2856_1743",children:d.jsx("rect",{x:"0.5",y:"0.5",width:"24",height:"24",rx:"6",fill:"white"})})})]}),sle=({connectOnly:t})=>{var de;let{closePrivyModal:e,connectors:r}=Ye(),{data:n,onUserCloseViaDialogOrKeybindRef:i}=qe(),s=$n(),{accountType:o,walletClientType:a,chainType:l}=vf(),c=o?_x(o):null,u=n==null?void 0:n.login,{email:f,sms:h,google:p,twitter:g,discord:m,github:w,spotify:y,instagram:E,tiktok:v,linkedin:b,apple:$,wallet:P,farcaster:O,telegram:D}=C.useMemo(()=>u!=null&&u.loginMethods?mbe(u.loginMethods,!0):null,[u])??s.loginMethods,{passkey:B}=s.loginMethods,H=[f&&"email",h&&"sms",p&&"google",g&&"twitter",m&&"discord",w&&"github",y&&"spotify",E&&"instagram",v&&"tiktok",b&&"linkedin",$&&"apple",O&&"farcaster",D&&"telegram"].filter(ye=>!!ye),q=H.length>0,Y=C.useMemo(()=>P&&!q?"web3-first":P&&(s==null?void 0:s.appearance.loginGroupPriority)||"web2-first",[P,q,s==null?void 0:s.appearance.loginGroupPriority]),R=s==null?void 0:s.appearance.hideDirectWeb2Inputs,[_,x]=C.useState("default"),[A,T]=C.useState(nz({mostRecentlyUsedAccountType:o,smsAvailable:h,emailAvailable:f,prefilledType:(de=u==null?void 0:u.prefill)==null?void 0:de.type}));C.useEffect(()=>{var ye;T(nz({mostRecentlyUsedAccountType:o,smsAvailable:h,emailAvailable:f,prefilledType:(ye=u==null?void 0:u.prefill)==null?void 0:ye.type}))},[f,h,o]);let I=()=>{e({shouldCallAuthOnSuccess:!0}),setTimeout(()=>{x("default")},150)};i.current=I;let N=[];a&&P?N.push(a):c!=null&&c.loginMethod&&H.includes(c.loginMethod)&&N.push(c.loginMethod);let M=ye=>{var Ne,je;return ye==="email"?d.jsx(Wae,{isEditable:A==="email",setIsEditable:()=>{T("email")},defaultValue:((Ne=u==null?void 0:u.prefill)==null?void 0:Ne.type)==="email"?u.prefill.value:void 0},ye):ye==="sms"?d.jsx(qae,{isEditable:A==="sms",setIsEditable:()=>{T("sms")},defaultValue:((je=u==null?void 0:u.prefill)==null?void 0:je.type)==="phone"?u.prefill.value:void 0},ye):ye==="apple"?d.jsx(Qn,{provider:"apple"},ye):ye==="discord"?d.jsx(Qn,{provider:"discord"},ye):ye==="farcaster"?d.jsx(zae,{},ye):ye==="github"?d.jsx(Qn,{provider:"github"},ye):ye==="google"?d.jsx(Qn,{provider:"google"},ye):ye==="linkedin"?d.jsx(Qn,{provider:"linkedin"},ye):ye==="tiktok"?d.jsx(Qn,{provider:"tiktok"},ye):ye==="spotify"?d.jsx(Qn,{provider:"spotify"},ye):ye==="instagram"?d.jsx(Qn,{provider:"instagram"},ye):ye==="twitter"?d.jsx(Qn,{provider:"twitter"},ye):ye==="telegram"?d.jsx(rle,{},ye):Wh({walletList:s.appearance.walletList,walletChainType:s.appearance.walletChainType,connectors:r,connectOnly:t,ignore:[],walletConnectEnabled:s.externalWallets.walletConnect.enabled,forceWallet:{wallet:ye,chainType:l??"ethereum"}})},U=Wh({walletList:s.appearance.walletList.filter(ye=>ye!==a),walletChainType:s.appearance.walletChainType,connectors:r,connectOnly:t,ignore:[...s.appearance.walletList,a],walletConnectEnabled:s.externalWallets.walletConnect.enabled}),S=H.filter(ye=>ye!==(c==null?void 0:c.loginMethod)).flatMap(M),F=N.flatMap(M);Y==="web3-first"&&_==="default"?U.unshift(...F):Y==="web2-first"&&S.unshift(...F);let Q=H.filter(ye=>ye!=="email"&&ye!=="sms"),k=sut({priority:Y,email:f,sms:h,social:Q}),W=out({priority:Y,email:f,sms:h,social:Q}),V=d.jsx(Dae,{text:aut({priority:Y}),onClick:()=>x("web3-overflow")}),ee=d.jsx(nle,{text:k,icon:W,onClick:()=>x("web2-overflow")}),te=R?0:1,ce=P&&U.length>0,K=S.length===0&&P&&U.length===0,G=5-(ce?1:0),pe=U.length>0?U:d.jsx(y3,{chainType:s.appearance.walletChainType,withPadding:!0});return d.jsxs(d.Fragment,{children:[d.jsx(ze,{title:s.appearance.landingHeader,onClose:I,backFn:_==="default"?void 0:()=>{x("default")}}),_==="default"&&d.jsx(iut,{}),_==="default"&&(typeof s.appearance.loginMessage=="string"?d.jsx(Zee,{children:s.appearance.loginMessage}):s.appearance.loginMessage),d.jsx(Kee,{style:{overflow:"hidden",padding:2},children:d.jsxs(nf,{children:[_==="default"&&Y==="web2-first"&&d.jsxs(d.Fragment,{children:[S.length>G?S.slice(0,G-1):S,S.length>G&&ee,ce&&V,K&&d.jsx(y3,{chainType:s.appearance.walletChainType})]}),_==="default"&&Y==="web3-first"&&d.jsxs(d.Fragment,{children:[P&&d.jsxs(d.Fragment,{children:[U.length>G?U.slice(0,G-1):U,U.length>G&&V]}),S.length>te&&ee,S.length===te&&S[0],K&&d.jsx(y3,{chainType:s.appearance.walletChainType})]}),_==="web2-overflow"&&d.jsx(d.Fragment,{children:Y==="web3-first"?S:S.slice(3)}),_==="web3-overflow"?pe:[],B&&_==="default"&&d.jsx(Hae,{})]})}),s&&d.jsx(qT,{app:s}),d.jsx(ft,{})]})};let iut=ne(Lae).withConfig({displayName:"StyledAppLogoHeader",componentId:"sc-4938a02-0"})(["margin-bottom:16px;"]),sut=({priority:t,email:e,sms:r,social:n})=>t==="web2-first"?"Other socials":e&&r&&n.length>0||e&&n.length>0?"Log in with email or socials":r&&n.length>0?"Log in with sms or socials":e&&r?"Continue with email or sms":e?"Continue with email":r?"Continue with sms":"Log in with a social account",out=({priority:t,email:e,sms:r,social:n})=>t==="web2-first"||n.length>0?d.jsx(YN,{}):e&&r?d.jsx(nut,{}):e?d.jsx(dp,{}):r?d.jsx(ol,{}):null,aut=({priority:t})=>t==="web2-first"?"Continue with a wallet":"Other wallets",nz=({mostRecentlyUsedAccountType:t,smsAvailable:e,emailAvailable:r,prefilledType:n})=>r&&(t==="email"&&n!=="phone"||n==="email")||!e||t!=="phone"&&n!=="phone"?"email":"sms";const lut=()=>{let{app:t}=qe();return t.loginMethodsAndOrder&&t.loginMethodsAndOrder.primary.length>0?d.jsx(ile,{connectOnly:!0}):d.jsx(sle,{connectOnly:!0})},cut=()=>{let{app:t}=qe();return t.loginMethodsAndOrder&&t.loginMethodsAndOrder.primary.length>0?d.jsx(ile,{connectOnly:!1}):d.jsx(sle,{connectOnly:!1})},uut=()=>{let{app:t}=qe();return d.jsxs(d.Fragment,{children:[d.jsx(ze,{},"header"),d.jsx(wr,{}),d.jsx(Yr,{title:"Connect your email",description:`Add your email to your ${t==null?void 0:t.name} account`,icon:d.jsx(dp,{color:"var(--privy-color-accent)",strokeWidth:2,height:"48px",width:"48px"})}),d.jsx(fp,{children:d.jsx(Uae,{stacked:!0})}),d.jsx(vr,{}),d.jsx(ft,{})]})},dut=()=>{let{app:t,currentScreen:e,data:r,navigate:n,setModalData:i}=qe(),{initLoginWithSms:s}=Ye();return d.jsxs(d.Fragment,{children:[d.jsx(ze,{},"header"),d.jsx(wr,{}),d.jsx(Yr,{title:"Connect your phone",description:`Add your number to your ${t==null?void 0:t.name} account`,icon:d.jsx(ol,{color:"var(--privy-color-accent)",strokeWidth:2,height:"40px",width:"40px"})}),d.jsx(fp,{children:d.jsx(Cx,{stacked:!0,onSubmit:async function({qualifiedPhoneNumber:o}){var a;try{await s({phoneNumber:o,withPrivyUi:!0}),n(se.AWAITING_PASSWORDLESS_CODE)}catch(l){i({errorModalData:{error:l,previousScreen:((a=r==null?void 0:r.errorModalData)==null?void 0:a.previousScreen)||e||se.LINK_PHONE_SCREEN}}),n(se.ERROR_SCREEN)}},hideRecent:!0})}),d.jsx(vr,{}),d.jsx(ft,{})]})},fut=()=>{var o,a;let{app:t,data:e}=qe(),r=(o=e==null?void 0:e.externalConnectWallet)==null?void 0:o.suggestedAddress,n=r?d.jsxs("span",{children:["Link the wallet with address ",d.jsx(ii,{showCopyIcon:!1,address:r})," ",t!=null&&t.name?`to ${t.name}.`:"."]}):`Link a wallet to your ${t==null?void 0:t.name} account`,{connectors:i}=Ye(),s=Wh({walletList:((a=e==null?void 0:e.externalConnectWallet)==null?void 0:a.walletList)??t.appearance.walletList,walletChainType:t.appearance.walletChainType,connectors:i,connectOnly:!1,ignore:t.appearance.walletList,walletConnectEnabled:t.externalWallets.walletConnect.enabled});return d.jsxs(d.Fragment,{children:[d.jsx(ze,{},"header"),s.length>0&&d.jsx(Pw,{title:"Link your wallet",description:n}),d.jsx(nf,{children:d.jsx(YT,{wallets:s})}),d.jsx(ft,{})]})},hut=({style:t,...e})=>d.jsxs("svg",{width:"164",height:"164",viewBox:"0 0 164 164",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"26px",width:"26px",...t},...e,children:[d.jsx("circle",{cx:"82",cy:"82",r:"80",stroke:"#EC6351","stroke-width":"4","stroke-linecap":"round"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M81.9999 100.788C93.3288 100.788 102.513 91.6043 102.513 80.2754C102.513 68.9465 93.3288 59.7626 81.9999 59.7626C70.671 59.7626 61.4871 68.9465 61.4871 80.2754C61.4871 91.6043 70.671 100.788 81.9999 100.788ZM88.3236 71.8304C88.9093 71.2446 89.8591 71.2446 90.4449 71.8304C91.0307 72.4161 91.0307 73.3659 90.4449 73.9517L84.121 80.2756L90.445 86.5996C91.0308 87.1854 91.0308 88.1351 90.445 88.7209C89.8592 89.3067 88.9095 89.3067 88.3237 88.7209L81.9997 82.3969L75.6756 88.7209C75.0899 89.3067 74.1401 89.3067 73.5543 88.7209C72.9685 88.1351 72.9685 87.1854 73.5543 86.5996L79.8783 80.2756L73.5544 73.9517C72.9686 73.3659 72.9686 72.4161 73.5544 71.8304C74.1402 71.2446 75.09 71.2446 75.6758 71.8304L81.9997 78.1543L88.3236 71.8304Z",fill:"#EC6351"})]}),put=()=>{let{closePrivyModal:t}=Ye(),{navigate:e}=qe();return d.jsxs(d.Fragment,{children:[d.jsx(ze,{},"header"),d.jsx(wr,{}),d.jsx(hut,{style:{width:"160px",height:"160px",margin:"0 auto 20px"}}),d.jsx(Pw,{title:"Could not connect with wallet",description:"Please check that Phantom multichain is enabled and try again.",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"}}),d.jsxs(fp,{children:[d.jsx(at,{onClick:()=>e(se.LANDING),children:"Try again"}),d.jsx(Mu,{onClick:()=>t(),children:"Cancel"})]}),d.jsx(vr,{}),d.jsx(ft,{})]})};function gut({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const Jh=C.forwardRef(gut);function mut({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{fillRule:"evenodd",d:"M4.5 3.75a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-15Zm4.125 3a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Zm-3.873 8.703a4.126 4.126 0 0 1 7.746 0 .75.75 0 0 1-.351.92 7.47 7.47 0 0 1-3.522.877 7.47 7.47 0 0 1-3.522-.877.75.75 0 0 1-.351-.92ZM15 8.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15ZM14.25 12a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H15a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15Z",clipRule:"evenodd"}))}const yut=C.forwardRef(mut);function ole(){let{promptMfa:t,init:e,submit:r,cancel:n,mfaMethods:i}=C.useContext(hg);return{promptMfa:t,init:e,submit:r,cancel:n,mfaMethods:i}}function J0(){let{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:r,submitEnrollmentWithSms:n,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:s,unenroll:o,enrollInMfa:a}=C.useContext(hg);return{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:r,submitEnrollmentWithSms:n,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:s,unenrollWithSms:()=>o("sms"),unenrollWithTotp:()=>o("totp"),unenrollWithPasskey:()=>o("passkey"),showMfaEnrollmentModal:()=>a(!0),closeMfaEnrollmentModal:()=>a(!1)}}const wut=t=>d.jsxs(but,{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:"88",height:"89",viewBox:"0 0 88 89",...t,children:[d.jsx("rect",{y:"0.666016",width:"88",height:"88",rx:"44"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M45.2463 20.9106C44.5473 20.2486 43.4527 20.2486 42.7537 20.9106C37.8798 25.5263 31.3034 28.3546 24.0625 28.3546C23.9473 28.3546 23.8323 28.3539 23.7174 28.3525C22.9263 28.3427 22.2202 28.8471 21.9731 29.5987C20.9761 32.6311 20.4375 35.8693 20.4375 39.2297C20.4375 53.5896 30.259 65.651 43.5482 69.0714C43.8446 69.1477 44.1554 69.1477 44.4518 69.0714C57.741 65.651 67.5625 53.5896 67.5625 39.2297C67.5625 35.8693 67.0239 32.6311 66.0269 29.5987C65.7798 28.8471 65.0737 28.3427 64.2826 28.3525C64.1677 28.3539 64.0527 28.3546 63.9375 28.3546C56.6966 28.3546 50.1202 25.5263 45.2463 20.9106ZM52.7249 40.2829C53.3067 39.4683 53.1181 38.3363 52.3035 37.7545C51.4889 37.1726 50.3569 37.3613 49.7751 38.1759L41.9562 49.1223L38.0316 45.1977C37.3238 44.4899 36.1762 44.4899 35.4684 45.1977C34.7605 45.9056 34.7605 47.0532 35.4684 47.761L40.9059 53.1985C41.2826 53.5752 41.806 53.7671 42.337 53.7232C42.868 53.6792 43.3527 53.4039 43.6624 52.9704L52.7249 40.2829Z"})]});let but=ne.svg.withConfig({displayName:"StyledSvg",componentId:"sc-59fa943f-0"})(["height:90px;width:90px;> rect{","}> path{fill:white;}"],t=>t.color==="success"?"fill: var(--privy-color-success);":"fill: var(--privy-color-accent);");function vut({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}const Ax=C.forwardRef(vut);function xut({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.864 4.243A7.5 7.5 0 0 1 19.5 10.5c0 2.92-.556 5.709-1.568 8.268M5.742 6.364A7.465 7.465 0 0 0 4.5 10.5a7.464 7.464 0 0 1-1.15 3.993m1.989 3.559A11.209 11.209 0 0 0 8.25 10.5a3.75 3.75 0 1 1 7.5 0c0 .527-.021 1.049-.064 1.565M12 10.5a14.94 14.94 0 0 1-3.6 9.75m6.633-4.596a18.666 18.666 0 0 1-2.485 5.33"}))}const ale=C.forwardRef(xut);function Eut({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const f_=C.forwardRef(Eut),_ut=({showIntro:t,userMfaMethods:e,appMfaMethods:r,userHasAuthSms:n,isTotpLoading:i,isPasskeyLoading:s,error:o,onClose:a,onBackToIntro:l,handleSelectMethod:c,setRemovingMfaMethod:u})=>{let f=e.reduce((p,g)=>({...p,[g]:!0}),{}),h=r.reduce((p,g)=>({...p,[g]:!0}),{});return d.jsxs(d.Fragment,{children:[d.jsx(ze,{backFn:t?l:void 0,onClose:a},"header"),d.jsx(Gi,{style:{marginBottom:"1.5rem"},children:d.jsx(Jh,{})}),d.jsx(Er,{children:"Choose a verification method"}),e.length>0?d.jsx(_r,{children:"To add or delete verification methods, verification is required."}):d.jsx(_r,{children:"How would you like to verify your identity? You can change this later."}),o&&d.jsx(ite,{style:{marginTop:"1.25rem"},children:o.message}),d.jsxs(nte,{children:[(h.totp||f.totp)&&d.jsxs(z9,{children:[d.jsx(rn,{style:{justifyContent:"center"},disabled:f.totp||i,onClick:()=>c("totp"),children:i?d.jsx(ma,{style:{height:24,width:24,borderWidth:2},color:"var(--privy-color-foreground-3)"}):d.jsxs(G9,{children:[d.jsxs(q9,{children:[d.jsx(Ax,{}),"Authenticator app"]}),f.totp?d.jsx(h_,{color:"green",children:"Enabled"}):d.jsx(V9,{children:"Recommended"})]})}),f.totp&&d.jsx(H9,{style:{position:"absolute",right:0},onClick:()=>u("totp"),children:d.jsx(f_,{})})]},"totp"),(h.sms||f.sms)&&d.jsxs(z9,{children:[d.jsx(rn,{disabled:f.sms||n,onClick:()=>c("sms"),children:d.jsxs(G9,{children:[d.jsxs(q9,{children:[d.jsx(ol,{}),"SMS"]}),f.sms&&d.jsx(h_,{color:"green",children:"Enabled"}),n&&d.jsx(V9,{children:"Disabled"})]})}),f.sms&&d.jsx(H9,{style:{position:"absolute",right:0},onClick:()=>u("sms"),children:d.jsx(f_,{})})]},"sms"),(h.passkey||f.passkey)&&d.jsxs(z9,{children:[d.jsx(rn,{style:{justifyContent:"center"},onClick:()=>c("passkey"),disabled:f.passkey||s,children:s?d.jsx(ma,{style:{height:24,width:24,borderWidth:2},color:"var(--privy-color-foreground-3)"}):d.jsxs(G9,{children:[d.jsxs(q9,{children:[d.jsx(ale,{}),"Passkey"]}),f.passkey?d.jsx(h_,{color:"green",children:"Enabled"}):d.jsx(V9,{isAccent:!0,children:d.jsx(vP,{})})]})}),f.passkey&&d.jsx(H9,{style:{position:"absolute",right:0},onClick:()=>u("passkey"),children:d.jsx(f_,{})})]},"passkey")]}),d.jsx(Bt,{})]})};let h_=ne(ll).withConfig({displayName:"StyledChip",componentId:"sc-998ca5bc-0"})(["margin-right:1.5rem;"]);function Cut({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15M12 9l3 3m0 0-3 3m3-3H2.25"}))}const Aut=C.forwardRef(Cut),Sut=({onComplete:t,onClose:e,onReset:r})=>{let{user:n}=zt(),{data:i}=qe(),{initLinkWithPasskey:s,linkWithPasskey:o}=Ye(),{initEnrollmentWithPasskey:a,submitEnrollmentWithPasskey:l}=J0(),[c,u]=C.useState(!1),[f,h]=C.useState(!1),[p,g]=C.useState(!1),[m,w]=C.useState(null),y=C.useMemo(()=>(n==null?void 0:n.linkedAccounts.filter($=>$.type==="passkey"))??[],[n]),E=()=>{var $;($=i==null?void 0:i.mfaEnrollmentFlow)==null||$.onSuccess(),t()},v=async $=>{u(!0);try{await a(),await l({credentialIds:$}),g(!0)}catch(P){w(P)}finally{u(!1)}},b=async()=>{h(!0),w(null);try{await s();let $=await o(),P=($==null?void 0:$.linkedAccounts.filter(O=>O.type==="passkey").map(O=>O.credentialId))??[];await v(P)}catch($){w($)}finally{h(!1)}};return y.length===0||f?d.jsx($ut,{onReset:r,onClose:e,onClick:b,isCreating:f}):p?d.jsx(kut,{onClick:E,onClose:E}):m?d.jsx(qw,{error:m,backFn:()=>w(null),onClick:()=>w(null)}):d.jsx(Iut,{passkeys:y,isSubmitting:c,isCreating:f,onReset:r,onClose:e,onSubmitEnrollment:()=>v(y.map($=>$.credentialId)),onAddPasskey:b})};let $ut=({onReset:t,onClose:e,onClick:r,isCreating:n})=>d.jsxs(d.Fragment,{children:[d.jsx(ze,{backFn:t,onClose:e},"header"),d.jsx(Nw,{children:d.jsxs(wP,{children:[d.jsx(nb,{}),d.jsx(ib,{})]})}),d.jsx(Er,{children:"Set up passkey verification"}),d.jsxs(v8,{children:[d.jsxs(nc,{children:[d.jsx(rc,{children:d.jsx(Jh,{})}),"Verify with Touch ID, Face ID, PIN, or hardware key"]}),d.jsxs(nc,{children:[d.jsx(rc,{children:d.jsx(_ae,{})}),"Takes seconds to set up and use"]}),d.jsxs(nc,{children:[d.jsx(rc,{children:d.jsx(Aut,{})}),"Use your passkey to verify transactions and login to your account"]})]}),d.jsx(at,{style:{marginTop:"2.25rem"},onClick:r,loading:n,children:"Add a new passkey"}),d.jsx(Bt,{})]}),Iut=({onReset:t,onClose:e,onAddPasskey:r,onSubmitEnrollment:n,passkeys:i,isSubmitting:s,isCreating:o})=>{let[a,l]=C.useState(!1),c=a?i.length:i.length>3?2:3;return d.jsxs(d.Fragment,{children:[d.jsx(ze,{backFn:a?()=>l(!1):t,onClose:e},"header"),!a&&d.jsx(Nw,{children:d.jsxs(wP,{children:[d.jsx(nb,{}),d.jsx(ib,{})]})}),d.jsx(Er,{children:"Enable your passkeys for verification"}),d.jsxs(v8,{children:[i.slice(0,c).map(u=>{var f;return d.jsxs(Tut,{children:[d.jsx(Nut,{children:Rut(u)}),d.jsxs(Put,{children:["Last used: ",(f=u.latestVerifiedAt)==null?void 0:f.toLocaleString()]})]},u.credentialId)}),!a&&i.length>3&&d.jsx(iz,{onClick:()=>l(!0),children:"View All"})]}),d.jsx(at,{style:{marginTop:"1.5rem"},onClick:n,loading:s,children:"Enable passkeys"}),i.length<5&&d.jsx(iz,{style:{marginTop:"0.5rem"},onClick:r,disabled:o,children:o?d.jsx(ma,{style:{height:"1rem",width:"1rem",borderWidth:2}}):"Add new passkey"}),d.jsx(Bt,{})]})},kut=({onClick:t,onClose:e})=>d.jsxs(d.Fragment,{children:[d.jsx(ze,{onClose:e},"header"),d.jsx(Gi,{style:{marginBottom:"1.5rem"},children:d.jsx(hl,{})}),d.jsx(Er,{children:"Passkey verification added"}),d.jsx(_r,{children:"From now on, you'll use the passkey whenever you use your Privy wallet."}),d.jsx(ta,{children:d.jsx(at,{onClick:t,children:"Done"})}),d.jsx(Bt,{})]}),Tut=ne.div.withConfig({displayName:"PasskeyItem",componentId:"sc-926c6706-0"})(["&&{padding:0.75rem 1rem;text-align:left;border-radius:0.5rem;border:1px solid var(--privy-color-foreground-4);width:100%;}"]),Nut=ne.div.withConfig({displayName:"PasskeyItemTitle",componentId:"sc-926c6706-1"})(["font-size:0.875rem;line-height:1.375rem;font-weight:500;color:var(--privy-color-foreground-1);"]),Put=ne.div.withConfig({displayName:"PasskeyItemSubtitle",componentId:"sc-926c6706-2"})(["font-size:0.75rem;font-weight:400;line-height:1.125rem;color:var(--privy-color-foreground-2);"]),Rut=t=>t.authenticatorName?t.createdWithBrowser?`${t.authenticatorName} on ${t.createdWithBrowser}`:t.authenticatorName:t.createdWithBrowser?t.createdWithOs?`${t.createdWithBrowser} on ${t.createdWithOs}`:`${t.createdWithBrowser}`:"Unknown device";const iz=ne.button.withConfig({displayName:"StyledLink",componentId:"sc-926c6706-3"})(["&&{width:100%;font-size:0.875rem;line-height:1rem;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;justify-content:center;padding:0.75rem 1rem;background-color:var(--privy-color-background);transition:background-color 200ms ease;color:var(--privy-color-accent);:focus{outline:none;box-shadow:none;}}"]);let Out=Array(6).fill("");var um,jut=((um=jut||{})[um.RESET_AFTER_DELAY=0]="RESET_AFTER_DELAY",um[um.CLEAR_ON_NEXT_VALID_INPUT=1]="CLEAR_ON_NEXT_VALID_INPUT",um);function M$(t){return/^[0-9]{1}$/.test(t)}function sz(t){return t.length===6&&t.every(M$)}const S6=({onChange:t,disabled:e,errorReasonOverride:r,success:n})=>{let[i,s]=C.useState(Out),[o,a]=C.useState(null),[l,c]=C.useState(null),u=async h=>{var O;h.preventDefault();let p=h.currentTarget.value.replace(/\s+/g,"");if(p==="")return;let g=i.reduce((D,B)=>D+Number(M$(B)),0),m=p.split(""),w=!m.every(M$),y=m.length+g>6;if(w)return a("Passcode can only be numbers"),void c(1);if(y)return a("Passcode must be exactly 6 numbers"),void c(1);a(null),c(null);let E=Number((O=h.currentTarget.name)==null?void 0:O.charAt(4)),v=[...p||[""]].slice(0,6-E),b=[...i.slice(0,E),...v,...i.slice(E+v.length)];s(b);let $=Math.min(Math.max(E+v.length,0),5),P=document.querySelector(`input[name=pin-${$}]`);if(P==null||P.focus(),sz(b))try{await t(b.join(""));let D=document.querySelector(`input[name=pin-${$}]`);D==null||D.blur()}catch(D){c(1),a(D.message)}else try{await t(null)}catch(D){c(1),a(D.message)}},f=n?"success":!r&&!o?"":"fail";return d.jsx(d.Fragment,{children:d.jsxs(Mut,{children:[d.jsx("div",{children:i.map((h,p)=>d.jsx("input",{name:`pin-${p}`,type:"text",value:i[p],onChange:u,onKeyUp:g=>{g.key==="Backspace"&&(m=>{l===1&&(a(null),c(null));let w=[...i.slice(0,m),"",...i.slice(m+1)];if(s(w),m>0){let y=document.querySelector(`input[name=pin-${m-1}]`);y==null||y.focus()}sz(w)?t(w.join("")):t(null)})(p)},inputMode:"numeric",autoFocus:p===0,pattern:"[0-9]",className:f,autoComplete:bi?"one-time-code":"off",disabled:e},p))}),d.jsx("div",{children:d.jsx(Dut,{$fail:!!r||!!o,children:r||o})})]})})};let Mut=ne.div.withConfig({displayName:"PinInputContainer",componentId:"sc-7a171f6-0"})(["display:flex;flex-direction:column;width:100%;gap:8px;@media (max-width:440px){margin-top:8px;margin-bottom:8px;}> div:nth-child(1){display:flex;justify-content:center;gap:0.5rem;width:100%;border-radius:var(--privy-border-radius-md);> input{border:1px solid var(--privy-color-foreground-4);background:var(--privy-color-background);border-radius:var(--privy-border-radius-md);padding:8px 10px;height:58px;width:46px;text-align:center;font-size:18px;}> input:disabled{background:var(--privy-color-background-2);}> input:focus{border:1px solid var(--privy-color-accent);}> input:invalid{border:1px solid var(--privy-color-error);}> input.success{border:1px solid var(--privy-color-success);}> input.fail{border:1px solid var(--privy-color-error);animation:shake 180ms;animation-iteration-count:2;}}@keyframes shake{0%{transform:translate(1px,0px);}33%{transform:translate(-1px,0px);}67%{transform:translate(-1px,0px);}100%{transform:translate(1px,0px);}}"]),Dut=ne.div.withConfig({displayName:"InputHelp",componentId:"sc-7a171f6-1"})(["line-height:20px;font-size:13px;display:flex;justify-content:flex-start;width:100%;color:",";"],t=>t.$fail?"var(--privy-color-error)":"var(--privy-color-foreground-3)");const Lut=({onComplete:t,onReset:e,onClose:r})=>{let[n,i]=C.useState(""),[s,o]=C.useState(!1),[a,l]=C.useState(null),[c,u]=C.useState("enroll"),{initEnrollmentWithSms:f,submitEnrollmentWithSms:h}=J0(),{app:p,data:g}=qe();function m(){var w;(w=g==null?void 0:g.mfaEnrollmentFlow)==null||w.onSuccess(),t()}return a?d.jsx(qw,{error:a,backFn:()=>l(null),onClick:()=>l(null)}):d.jsxs(d.Fragment,c==="enroll"?{children:[d.jsx(ze,{backFn:e,onClose:r},"header"),d.jsx(Gi,{style:{marginBottom:"1.5rem"},children:d.jsx(ol,{})}),d.jsx(Er,{children:"Set up SMS verification"}),d.jsx(_r,{children:"We'll text a verification code to this mobile device whenever you use your Privy wallet."}),d.jsxs(Bh,{children:[d.jsx(Cx,{onSubmit:async function({qualifiedPhoneNumber:w}){try{await f({phoneNumber:w}),i(w),u("verify")}catch(y){l(y)}},hideRecent:!0}),d.jsxs(nPe,{children:["By providing your mobile number, you agree to receive text messages from ",p==null?void 0:p.name,". Some carrier charges may apply"]})]}),d.jsx(Bt,{})]}:s?{children:[d.jsx(ze,{onClose:m},"header"),d.jsx(Gi,{style:{marginBottom:"1.5rem"},children:d.jsx(hl,{})}),d.jsx(Er,{children:"SMS verification added"}),d.jsx(_r,{children:"From now on, you'll enter the verification code sent to your mobile device whenever you use your Privy wallet."}),d.jsx(ta,{children:d.jsx(at,{onClick:m,children:"Done"})}),d.jsx(Bt,{})]}:{children:[d.jsx(ze,{backFn:function(){c==="verify"?u("enroll"):e()},onClose:r},"header"),d.jsx(Gi,{style:{marginBottom:"1.5rem"},children:d.jsx(ol,{})}),d.jsx(Er,{children:"Enter enrollment code"}),d.jsxs(Bh,{children:[d.jsx(S6,{onChange:async function(w){try{if(!w)return;await h({phoneNumber:n,mfaCode:w}),o(!0)}catch(y){throw rse(y)?Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds."):UN(y)?Error("The code you entered is not valid"):BN(y)?Error("You have exceeded the time limit for code entry. Please try again in 30 seconds."):nse(y)?Error("Verification canceled"):Error("Unknown error")}}}),d.jsxs(_r,{children:["To continue, enter the 6-digit code sent to ",d.jsx("strong",{children:dbe(n)})]})]}),d.jsx(Bt,{})]})};function Fut({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{fillRule:"evenodd",d:"M12.516 2.17a.75.75 0 0 0-1.032 0 11.209 11.209 0 0 1-7.877 3.08.75.75 0 0 0-.722.515A12.74 12.74 0 0 0 2.25 9.75c0 5.942 4.064 10.933 9.563 12.348a.749.749 0 0 0 .374 0c5.499-1.415 9.563-6.406 9.563-12.348 0-1.39-.223-2.73-.635-3.985a.75.75 0 0 0-.722-.516l-.143.001c-2.996 0-5.717-1.17-7.734-3.08Zm3.094 8.016a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const But=C.forwardRef(Fut),Uut=({size:t,authUrl:e})=>d.jsx(ix,{url:e,squareLogoElement:But,size:t,fgColor:"#1F1F1F"}),Wut=({onComplete:t,onClose:e,onReset:r,totpInfo:n})=>{let[i,s]=C.useState("enroll"),[o,a]=C.useState(!1),{submitEnrollmentWithTotp:l}=J0(),{data:c}=qe();function u(){var f;(f=c==null?void 0:c.mfaEnrollmentFlow)==null||f.onSuccess(),t()}return d.jsxs(d.Fragment,i==="enroll"?{children:[d.jsx(ze,{backFn:r,onClose:e},"header"),d.jsx(Er,{children:"Scan QR code"}),d.jsx(_r,{children:"Open your authenticator app and scan the QR code to continue."}),d.jsx(GT,{children:d.jsx(Uut,{authUrl:n.authUrl,size:200})}),d.jsxs(ta,{children:[d.jsx(al,{children:d.jsx(X8,{itemName:"secret",text:n.secret})}),d.jsx(at,{onClick:function(){s("verify")},children:"Continue"})]}),d.jsx(Bt,{})]}:o?{children:[d.jsx(ze,{onClose:u},"header"),d.jsx(Gi,{style:{marginBottom:"1.5rem"},children:d.jsx(hl,{})}),d.jsx(Er,{children:"Authenticator app verification added"}),d.jsx(_r,{children:"From now on, you'll enter the verification code generated by your authenticator app whenever you use your Privy wallet."}),d.jsx(ta,{children:d.jsx(at,{onClick:u,children:"Done"})}),d.jsx(Bt,{})]}:{children:[d.jsx(ze,{backFn:function(){i==="verify"?s("enroll"):r()},onClose:e},"header"),d.jsx(Gi,{style:{marginBottom:"1.5rem"},children:d.jsx(Ax,{})}),d.jsx(Er,{children:"Enter enrollment code"}),d.jsx(Bh,{children:d.jsx(S6,{onChange:async function(f){try{if(!f)return;await l({mfaCode:f}),a(!0)}catch(h){throw rse(h)?Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds."):UN(h)?Error("The code you entered is not valid"):BN(h)?Error("You have exceeded the time limit for code entry. Please try again in 30 seconds."):nse(h)?Error("Verification canceled"):Error("Unknown error")}}})}),d.jsxs(_r,{children:["To continue, enter the 6-digit code generated from your ",d.jsx("strong",{children:"authenticator app"})]}),d.jsx(Bt,{})]})},zut=()=>{let{user:t,enrollInMfa:e}=zt(),[r,n]=C.useState(null),{unenrollWithSms:i,unenrollWithTotp:s,unenrollWithPasskey:o}=J0(),{app:a,ready:l,data:c,onUserCloseViaDialogOrKeybindRef:u}=qe(),{closePrivyModal:f}=Ye(),{promptMfa:h}=ole(),{initEnrollmentWithTotp:p}=J0(),[g,m]=C.useState(!1),[w,y]=C.useState(null),[E,v]=C.useState(null),b=()=>{f({shouldCallAuthOnSuccess:!0}),e(!1),setTimeout(()=>{n(null),y(null)},500)},{initEnrollmentWithPasskey:$,submitEnrollmentWithPasskey:P}=J0(),[O,D]=C.useState(!1),[B,H]=C.useState(null);u.current=b;let q=t==null?void 0:t.mfaMethods.includes("sms"),Y=!!(t!=null&&t.phone),R=t==null?void 0:t.mfaMethods.includes("totp"),_=t==null?void 0:t.mfaMethods.includes("passkey"),x=q||R||_,A=(t==null?void 0:t.linkedAccounts.filter(N=>N.type==="passkey").map(N=>N.credentialId))??[];function T(){n(null),y(null)}if(C.useEffect(()=>{x&&m(!0)},[x]),!l||!t||!a)return d.jsxs(d.Fragment,{children:[d.jsx(ze,{onClose:b},"header"),d.jsx(Nw,{children:d.jsx(wut,{})}),d.jsx(Bh,{children:d.jsx(ma,{})}),d.jsx(Bt,{})]});if(r==="sms")return d.jsxs(d.Fragment,{children:[d.jsx(ze,{backFn:T,onClose:b},"header"),d.jsx(Gi,{style:{marginBottom:"1.5rem"},children:d.jsx(yh,{})}),d.jsx(Er,{children:"Remove SMS verification?"}),d.jsxs(_r,{children:["MFA adds an extra layer of security to your ",a==null?void 0:a.name," account. Make sure you have other methods to secure your account."]}),d.jsx(ta,{children:d.jsx(at,{warn:!0,onClick:async function(){n(null);try{await i()}catch{n(null)}},children:"Remove SMS for MFA"})}),d.jsx(Bt,{})]});if(r==="totp")return d.jsxs(d.Fragment,{children:[d.jsx(ze,{backFn:T,onClose:b},"header"),d.jsx(Gi,{style:{marginBottom:"1.5rem"},children:d.jsx(yh,{})}),d.jsx(Er,{children:"Remove Authenticator App verification?"}),d.jsxs(_r,{children:["MFA adds an extra layer of security to your ",a==null?void 0:a.name," account. Make sure you have other methods to secure your account."]}),d.jsx(ta,{children:d.jsx(at,{warn:!0,onClick:async function(){n(null);try{await s()}catch{n(null)}},children:"Remove Authenticator App for MFA"})}),d.jsx(Bt,{})]});if(r==="passkey")return d.jsxs(d.Fragment,{children:[d.jsx(ze,{backFn:T,onClose:b},"header"),d.jsx(Gi,{style:{marginBottom:"1.5rem"},children:d.jsx(yh,{})}),d.jsx(Er,{children:"Are you sure you want to remove passkey verification?"}),d.jsx(_r,{children:"This will disable any passkeys you have set up for verification. Youll still be able to login with your passkeys if youve set up passkey login."}),d.jsx(ta,{children:d.jsx(at,{warn:!0,onClick:async function(){n(null);try{await h(),await o()}catch{n(null)}},children:"Yes, remove"})}),d.jsx(Bt,{})]});if(c.mfaEnrollmentFlow.mfaMethods.length===0&&!x)return d.jsxs(d.Fragment,{children:[d.jsx(ze,{onClose:b},"header"),d.jsx(Gi,{style:{marginBottom:"1.5rem"},children:d.jsx(Jh,{})}),d.jsx(Er,{children:"Add more security"}),d.jsxs(_r,{children:[a==null?void 0:a.name," does not have any verification methods enabled."]}),d.jsx(ta,{children:d.jsx(at,{onClick:b,children:"Close"})}),d.jsx(Bt,{})]});let I=!x&&!g;return I?d.jsxs(d.Fragment,{children:[d.jsx(ze,{onClose:b},"header"),d.jsx(Gi,{style:{marginBottom:"1.5rem"},children:d.jsx(Jh,{})}),d.jsx(Er,{children:"Transaction Protection"}),d.jsx(_r,{children:"Set up transaction protection to add an extra layer of security to your account"}),d.jsxs(v8,{children:[d.jsxs(nc,{children:[d.jsx(rc,{children:d.jsx(Cae,{})}),"Enable 2-Step verification for your ",a==null?void 0:a.name," wallet."]}),d.jsxs(nc,{children:[d.jsx(rc,{children:d.jsx(yut,{})}),"You'll be prompted to authenticate to complete transactions."]})]}),d.jsxs(ta,{children:[d.jsx(at,{onClick:()=>m(!0),children:"Continue"}),d.jsx(Mu,{onClick:b,children:"Not now"})]}),d.jsx(Bt,{})]}):w==="sms"?d.jsx(Lut,{onComplete:b,onReset:T,onClose:b}):w==="totp"&&E?d.jsx(Wut,{onComplete:b,onClose:b,onReset:T,totpInfo:E}):w==="passkey"?d.jsx(Sut,{onComplete:b,onReset:T,onClose:b}):d.jsx(_ut,{showIntro:I,userMfaMethods:t.mfaMethods,appMfaMethods:a.mfa.methods,userHasAuthSms:Y,onBackToIntro:function(){m(!1)},handleSelectMethod:async function(N){return await h().catch(H),N==="totp"?(y(N),v(null),void p().then(M=>{v(M)}).catch(()=>{v(null),T()})):N==="passkey"&&A.length===1?await async function(){D(!0);try{await $(),await P({credentialIds:A})}catch(M){H(M)}finally{D(!1)}}():void y(N)},isTotpLoading:w==="totp"&&!E,isPasskeyLoading:O,error:B,onClose:b,setRemovingMfaMethod:n})},p_=({label:t,children:e,valueStyles:r})=>d.jsxs(Hut,{children:[d.jsx("div",{children:t}),d.jsx(qut,{style:{...r},children:e})]});let Hut=ne.div.withConfig({displayName:"StyledDetailsRow",componentId:"sc-4ebfdd45-0"})(["display:flex;align-items:center;justify-content:space-between;width:100%;> :first-child{color:var(--privy-color-foreground-3);text-align:left;}> :last-child{color:var(--privy-color-foreground-2);text-align:right;}"]),qut=ne.div.withConfig({displayName:"ValueWrapper",componentId:"sc-4ebfdd45-1"})(["font-size:14px;line-height:100%;display:flex;align-items:center;justify-content:center;border-radius:var(--privy-border-radius-full);background-color:var(--privy-color-background-2);padding:4px 8px;"]);const Vut=({weiQuantities:t,tokenPrice:e,tokenSymbol:r})=>{let n=yP(t),i=e?vh(n,e):void 0,s=ca(n,r);return d.jsx(xP,{children:i||s})},lle=({weiQuantities:t,tokenPrice:e,tokenSymbol:r})=>{let n=yP(t),i=e?vh(n,e):void 0,s=ca(n,r);return d.jsx(xP,{children:i?d.jsxs(d.Fragment,{children:[d.jsx(Gut,{children:"USD"}),i==="<$0.01"?d.jsxs(ule,{children:[d.jsx(cle,{children:"<"}),"$0.01"]}):i]}):s})},D$=({quantities:t,tokenPrice:e,tokenSymbol:r="SOL",tokenDecimals:n=9})=>{let i=t.reduce((a,l)=>a+l,0n),s=e&&r==="SOL"&&n===9?ry(i,e):void 0,o=r==="SOL"&&n===9?Zd(i):`${dK(i,n)} ${r}`;return d.jsx(xP,{children:s?d.jsx(d.Fragment,{children:s==="<$0.01"?d.jsxs(ule,{children:[d.jsx(cle,{children:"<"}),"$0.01"]}):s}):o})};let xP=ne.span.withConfig({displayName:"StyledPriceDisplay",componentId:"sc-50ba8926-0"})(["font-size:14px;line-height:140%;display:flex;gap:4px;align-items:center;"]),Gut=ne.span.withConfig({displayName:"StyledPriceUnit",componentId:"sc-50ba8926-1"})(["font-size:12px;line-height:12px;color:var(--privy-color-foreground-3);"]),cle=ne.span.withConfig({displayName:"TinyLessThan",componentId:"sc-50ba8926-2"})(["font-size:10px;"]),ule=ne.span.withConfig({displayName:"FlexCenter",componentId:"sc-50ba8926-3"})(["display:flex;align-items:center;"]);const Kut=({gas:t,tokenPrice:e,tokenSymbol:r})=>d.jsxs(x8,{style:{paddingBottom:"12px"},children:[d.jsxs(dle,{children:[d.jsx(hle,{children:"Est. Fees"}),d.jsx("div",{children:d.jsx(lle,{weiQuantities:[t],tokenPrice:e,tokenSymbol:r})})]}),e&&d.jsx(fle,{children:`${ca(t,r)}`})]}),Yut=({transactionData:t,gas:e,tokenPrice:r,tokenSymbol:n})=>{let i=rs(t.value||0).add(rs(e)).toHexString();return d.jsxs(x8,{children:[d.jsxs(dle,{children:[d.jsx(hle,{children:"Total (including fees)"}),d.jsx("div",{children:d.jsx(lle,{weiQuantities:[t.value||0,e],tokenPrice:r,tokenSymbol:n})})]}),r&&d.jsx(fle,{children:ca(i,n)})]})};let dle=ne.div.withConfig({displayName:"TransactionTotalRow",componentId:"sc-57dfeccd-0"})(["display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding-top:4px;"]),fle=ne.div.withConfig({displayName:"ValueConversionRow",componentId:"sc-57dfeccd-1"})(["display:flex;flex-direction:row;height:12px;font-size:12px;line-height:12px;color:var(--privy-color-foreground-3);font-weight:400;"]),hle=ne.div.withConfig({displayName:"TotalText",componentId:"sc-57dfeccd-2"})(["font-size:14px;line-height:22.4px;font-weight:400;"]);const ob=C.createContext(void 0),Sx=C.createContext(void 0),Zut=({defaultValue:t,children:e})=>{let[r,n]=C.useState(t||null);return d.jsx(ob.Provider,{value:{activePanel:r,togglePanel:i=>{n(r===i?null:i)}},children:d.jsx(tdt,{children:e})})},Jut=({value:t,children:e})=>{let{activePanel:r,togglePanel:n}=C.useContext(ob),i=r===t;return d.jsx(Sx.Provider,{value:{onToggle:()=>n(t),value:t},children:d.jsx(sdt,{isActive:i,"data-open":i,children:e})})},Qut=({children:t})=>{let{activePanel:e}=C.useContext(ob),{onToggle:r,value:n}=C.useContext(Sx),i=e===n;return d.jsxs(d.Fragment,{children:[d.jsxs(rdt,{onClick:r,"data-open":i,children:[d.jsx(idt,{children:t}),d.jsx(adt,{isactive:i,children:d.jsx(vx,{height:"16px",width:"16px",strokeWidth:"2"})})]}),d.jsx(ndt,{})]})},Xut=({children:t})=>{let{activePanel:e}=C.useContext(ob),{value:r}=C.useContext(Sx);return d.jsx(odt,{"data-open":e===r,children:d.jsx(ple,{children:t})})},edt=({children:t})=>{let{activePanel:e}=C.useContext(ob),{value:r}=C.useContext(Sx);return d.jsx(ple,{children:typeof t=="function"?t({isActive:e===r}):t})};let tdt=ne.div.withConfig({displayName:"AccordionRoot",componentId:"sc-281bf545-0"})(["display:flex;flex-direction:column;width:100%;gap:8px;"]),rdt=ne.div.withConfig({displayName:"AccordionTriggerContainer",componentId:"sc-281bf545-1"})(["display:flex;justify-content:space-between;align-items:center;width:100%;cursor:pointer;padding-bottom:8px;"]),ndt=ne.div.withConfig({displayName:"AccordionDivider",componentId:"sc-281bf545-2"})(["width:100%;&&{border-top:1px solid;border-color:var(--privy-color-foreground-4);}padding-bottom:12px;"]),idt=ne.div.withConfig({displayName:"AccordionTriggerContent",componentId:"sc-281bf545-3"})(["font-size:14px;font-weight:500;line-height:19.6px;width:100%;padding-right:8px;"]),sdt=ne.div.withConfig({displayName:"AccordionPanelContainer",componentId:"sc-281bf545-4"})(["display:flex;flex-direction:column;width:100%;overflow:hidden;padding:12px;&&{border:1px solid;border-color:var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);}"]),odt=ne.div.withConfig({displayName:"AccordionContentContainer",componentId:"sc-281bf545-5"})(["position:relative;overflow:hidden;transition:max-height 25ms ease-out;&[data-open='true']{max-height:700px;}&[data-open='false']{max-height:0;}"]),ple=ne.div.withConfig({displayName:"ContentWrapper",componentId:"sc-281bf545-6"})(["display:flex;flex-direction:column;gap:12px;flex:1 1 auto;min-height:1px;"]),adt=ne.div.withConfig({displayName:"IconWrapper",componentId:"sc-281bf545-7"})(["transform:",";"],t=>t.isactive?"rotate(180deg)":"rotate(0deg)");const $6=({walletAddress:t,chainId:e=m2,network:r,rpcEndpoint:n})=>d.jsx(ldt,{href:r==="ethereum"?nlt(e,t):STe(t,g8(n||"")),target:"_blank",children:os(t)});let ldt=ne.a.withConfig({displayName:"StyledLink",componentId:"sc-adda23e5-0"})(["&:hover{text-decoration:underline;}"]);const gle=({from:t,to:e,txn:r,transactionInfo:n,tokenPrice:i,gas:s,tokenSymbol:o})=>{let a=(r==null?void 0:r.value)||0;return d.jsx(Zut,{...$n().render.standalone?{defaultValue:"details"}:{},children:d.jsxs(Jut,{value:"details",children:[d.jsx(Qut,{children:d.jsxs(cdt,{children:[d.jsx("div",{children:(n==null?void 0:n.title)||(n==null?void 0:n.actionDescription)||"Details"}),d.jsx(udt,{children:d.jsx(Vut,{weiQuantities:[a],tokenPrice:i,tokenSymbol:o})})]})}),d.jsxs(Xut,{children:[d.jsx(p_,{label:"From",children:d.jsx($6,{walletAddress:t,chainId:r.chainId||m2,network:"ethereum"})}),d.jsx(p_,{label:"To",children:d.jsx($6,{walletAddress:e,chainId:r.chainId||m2,network:"ethereum"})}),n&&n.action&&d.jsx(p_,{label:"Action",children:n.action}),s&&d.jsx(Kut,{transactionData:r,gas:s,tokenPrice:i,tokenSymbol:o})]}),d.jsx(edt,{children:({isActive:l})=>d.jsx(Yut,{transactionData:r,displayFee:l,gas:s||"0x0",tokenPrice:i,tokenSymbol:o})})]})})};let cdt=ne.div.withConfig({displayName:"AccordionTriggerContent",componentId:"sc-f5e43b51-0"})(["display:flex;flex-direction:row;justify-content:space-between;"]),udt=ne.div.withConfig({displayName:"TotalText",componentId:"sc-f5e43b51-1"})(["flex-shrink:0;padding-left:8px;"]);const L$=({pendingTransaction:t})=>{let{getAccessToken:e}=zt(),{wallets:r}=bp(),{walletProxy:n,rpcConfig:i,chains:s,appId:o,nativeTokenSymbolForChainId:a}=Ye(),[l,c]=C.useState(null),[u,f]=C.useState(t),{tokenPrice:h}=xg(u.chainId),p=a(t.chainId)||"ETH",g=C.useMemo(()=>r.find(m=>m.walletClientType==="privy"),[r]);return C.useEffect(()=>{(async function(){if(!await e()||!n||!g)return u;let m=w1(u.chainId,s,i,{appId:o}),w=await lk(g.address,u,m),{totalGasEstimate:y}=await ak(w,m);return c(y.toHexString()),w})().then(f).catch(console.error)},[n]),g?d.jsx(ddt,{children:d.jsx(gle,{from:g.address,to:u.to,txn:u,gas:l??void 0,tokenPrice:h,tokenSymbol:p})}):null};let ddt=ne.div.withConfig({displayName:"TransactionInfoWrapper",componentId:"sc-d00f06ba-0"})(["width:100%;padding:1rem 0;"]);function fdt({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const hdt=C.forwardRef(fdt),pdt=({hasBlockingError:t,error:e,onClose:r,onBack:n,handleSubmit:i,account:s,submitSuccess:o})=>{var l;let{pendingTransaction:a}=Ye();return d.jsxs(d.Fragment,{children:[d.jsx(ze,{onClose:r},"header"),d.jsx(Ys,{children:d.jsxs("div",{children:[d.jsx(sl,{success:o,fail:!!e}),d.jsx(e?Zu:nb,{style:{width:"38px",height:"38px"}})]})}),d.jsx(Er,{style:{marginTop:"1rem"},children:"Verifying with passkey"}),d.jsxs(v8,{children:[d.jsxs(nc,{children:[d.jsx(rc,{children:d.jsx(Jh,{})}),"Approve this action using your touch, face, PIN, or hardware key."]}),d.jsxs(nc,{children:[d.jsx(rc,{children:d.jsx(hdt,{})}),"You last added a passkey on"," ",(l=s==null?void 0:s.firstVerifiedAt)==null?void 0:l.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}),"."]})]}),a&&d.jsx(Bh,{children:d.jsx(L$,{pendingTransaction:a})}),e&&d.jsxs(d.Fragment,{children:[d.jsx(ite,{style:{marginTop:"1.25rem"},children:e.message}),d.jsx(at,{disabled:t,onClick:i,style:{marginTop:"1.25rem"},children:"Try again"})]}),n&&d.jsx(V5,{style:{marginTop:"1rem"},onClick:n,children:"Choose another method"}),d.jsx(Bt,{})]})},oz=({open:t,onClose:e})=>{let{user:r}=zt(),[n,i]=C.useState((r==null?void 0:r.mfaMethods[0])??null),{init:s,cancel:o,submit:a}=ole(),[l,c]=C.useState(!1),[u,f]=C.useState(!1),[h,p]=C.useState(null),[g,m]=C.useState(null);C.useEffect(()=>{i((r==null?void 0:r.mfaMethods[0])??null)},[r==null?void 0:r.mfaMethods]);let w=C.useRef(!1);C.useEffect(()=>{!w.current&&n&&t&&(w.current=!0,v(n).finally(()=>{w.current=!1}))},[t]);let y=$=>tet($)?(c(!0),Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds.")):UN($)?(c(!1),Error("The code you entered is not valid")):BN($)?(c(!0),Error("You have exceeded the time limit for code entry. Please try again in 30 seconds.")):(console.error($),c(!1),Error("Something went wrong."));async function E($){m(null);try{if(!$||!n)return;await a(n,$),f(!0),c(!1),e()}catch(P){throw y(P)}}async function v($){if($!=="passkey")try{i($),await s($)}catch(P){console.error(P)}else try{i($);let P=await s($);if(!P)throw Error("something went wrong");p(P),await a($,P),f(!0),c(!1),e()}catch(P){m(y(P))}}let b=()=>{i(null),m(null),o(),e()};return t&&r?n==="passkey"?d.jsx(pdt,{account:r.linkedAccounts.filter($=>$.type==="passkey"&&$.enrolledInMfa).sort(($,P)=>P.firstVerifiedAt.valueOf()-$.firstVerifiedAt.valueOf())[0],selectedMethod:n,submitSuccess:u,hasBlockingError:l,error:g,onClose:b,onBack:()=>{i(null),m(null)},handleSubmit:()=>E(h).catch(m)}):n?d.jsx(gdt,{submitSuccess:u,hasBlockingError:l,handleSubmitCode:E,selectedMethod:n,onClose:b,onBack:r.mfaMethods.length>1?()=>i(null):void 0}):d.jsxs(d.Fragment,{children:[d.jsx(ze,{onClose:b},"header"),d.jsx(Gi,{style:{marginBottom:"1.5rem"},children:d.jsx(Jh,{})}),d.jsx(Er,{children:"Verify your identity"}),d.jsx(_r,{children:"Choose a verification method"}),d.jsxs(nte,{children:[r.mfaMethods.includes("totp")&&d.jsxs(rn,{onClick:()=>v("totp"),children:[d.jsx(Ax,{}),"Authenticator App"]},"totp"),r.mfaMethods.includes("sms")&&d.jsxs(rn,{onClick:()=>v("sms"),children:[d.jsx(ol,{}),"SMS"]},"sms"),r.mfaMethods.includes("passkey")&&d.jsxs(rn,{onClick:()=>v("passkey"),children:[d.jsx(ale,{}),"Passkey"]},"passkey")]}),d.jsx(Bt,{})]}):null};let gdt=({selectedMethod:t,submitSuccess:e,hasBlockingError:r,onClose:n,onBack:i,handleSubmitCode:s})=>{let{app:o}=qe(),{pendingTransaction:a}=Ye();switch(t){case"sms":return d.jsxs(d.Fragment,{children:[d.jsx(ze,{onClose:n},"header"),d.jsx(Gi,{style:{marginBottom:"1.5rem"},children:d.jsx(ol,{})}),d.jsx(Er,{children:"Enter verification code"}),d.jsxs(Bh,{children:[d.jsx(S6,{success:e,disabled:r,onChange:s}),d.jsxs(_r,{children:["To continue, please enter the 6-digit code sent to your ",d.jsx("strong",{children:"mobile device"})]}),a&&d.jsx(L$,{pendingTransaction:a})]}),i&&d.jsx(V5,{theme:o==null?void 0:o.appearance.palette.colorScheme,onClick:i,children:"Choose another method"}),d.jsx(Mu,{onClick:n,children:"Not now"}),d.jsx(Bt,{})]});case"totp":return d.jsxs(d.Fragment,{children:[d.jsx(ze,{onClose:n},"header"),d.jsx(Gi,{style:{marginBottom:"1.5rem"},children:d.jsx(Ax,{})}),d.jsx(Er,{children:"Enter verification code"}),d.jsxs(Bh,{children:[d.jsx(S6,{success:e,disabled:r,onChange:s}),d.jsxs(_r,{children:["To continue, please enter the 6-digit code generated from your"," ",d.jsx("strong",{children:"authenticator app"})]}),a&&d.jsx(L$,{pendingTransaction:a})]}),i&&d.jsx(V5,{theme:o==null?void 0:o.appearance.palette.colorScheme,onClick:i,children:"Choose another method"}),d.jsx(Mu,{onClick:n,children:"Not now"}),d.jsx(Bt,{})]});default:return null}};const mdt=({style:t})=>d.jsx(Hse,{style:{color:"var(--privy-color-error)",...t}});let az={google:{name:"Google",component:Yae},discord:{name:"Discord",component:Gae},github:{name:"Github",component:Kae},linkedin:{name:"LinkedIn",component:Jae},twitter:{name:"Twitter",component:ele},spotify:{name:"Spotify",component:Qae},instagram:{name:"Instagram",component:Zae},tiktok:{name:"Tiktok",component:Xae},apple:{name:"Apple",component:Vae}};const F$=t=>t in az?az[t]:{name:"Unknown",component:mdt};function ydt(t,e){let r={detail:"",retryable:!1},n=Qee(e);if((t==null?void 0:t.privyErrorCode)===ue.LINKED_TO_ANOTHER_USER&&(r.detail="This account has already been linked to another user."),(t==null?void 0:t.privyErrorCode)===ue.INVALID_CREDENTIALS&&(r.retryable=!0,r.detail="Something went wrong. Try again."),t.privyErrorCode===ue.OAUTH_USER_DENIED&&(r.detail=`Retry and check ${n} to finish connecting your account.`,r.retryable=!0),(t==null?void 0:t.privyErrorCode)===ue.TOO_MANY_REQUESTS&&(r.detail="Too many requests. Please wait before trying again."),(t==null?void 0:t.privyErrorCode)===ue.TOO_MANY_REQUESTS&&t.message.includes("provider rate limit")){let i=F$(e).name;r.detail=`Request limit reached for ${i}. Please wait a moment and try again.`}if((t==null?void 0:t.privyErrorCode)===ue.OAUTH_ACCOUNT_SUSPENDED){let i=F$(e).name;r.detail=`Your ${i} account is suspended. Please try another login method.`}return(t==null?void 0:t.privyErrorCode)===ue.CANNOT_LINK_MORE_OF_TYPE&&(r.detail="You cannot authorize more than one account for this user."),(t==null?void 0:t.privyErrorCode)===ue.OAUTH_UNEXPECTED&&e.startsWith("privy:")&&(r.detail="Something went wrong. Please try again."),r}function B$(){let t=new URL(window.location.href);t.searchParams.delete("privy_oauth_code"),t.searchParams.delete("privy_oauth_provider"),t.searchParams.delete("privy_oauth_state"),lt.del(A5),window.history.replaceState({},"",t)}const wdt=()=>{var B;let{authenticated:t,logout:e,ready:r,user:n}=zt(),{app:i,setModalData:s,navigate:o,resetNavigation:a}=qe(),{getAuthMeta:l,initLoginWithOAuth:c,loginWithOAuth:u,updateWallets:f,setReadyToTrue:h,closePrivyModal:p,createAnalyticsEvent:g}=Ye(),[m,w]=C.useState(!1),[y,E]=C.useState(void 0),v=((B=l())==null?void 0:B.provider)||"google",{name:b,component:$}=F$(v),P=BT();C.useEffect(()=>{u(v).then(H=>{w(!0),h(!0),H&&P("login","onOAuthLoginComplete",H)}).catch(H=>{var R,_,x,A,T,I,N,M,U,S,F,Q,k,W,V,ee;if(h(!1),(H==null?void 0:H.privyErrorCode)===ue.ALLOWLIST_REJECTED)return E(void 0),a(),void o(se.ALLOWLIST_REJECTION_SCREEN);if((H==null?void 0:H.privyErrorCode)===ue.USER_LIMIT_REACHED)return console.error(new hw(H).toString()),E(void 0),a(),void o(se.USER_LIMIT_REACHED_SCREEN);if((H==null?void 0:H.privyErrorCode)===ue.USER_DOES_NOT_EXIST)return E(void 0),a(),void o(se.ACCOUNT_NOT_FOUND_SCREEN);if((H==null?void 0:H.privyErrorCode)===ue.ACCOUNT_TRANSFER_REQUIRED&&((_=(R=H.data)==null?void 0:R.data)!=null&&_.nonce))return E(void 0),a(),s({accountTransfer:{nonce:(A=(x=H.data)==null?void 0:x.data)==null?void 0:A.nonce,account:(I=(T=H.data)==null?void 0:T.data)==null?void 0:I.subject,displayName:(U=(M=(N=H.data)==null?void 0:N.data)==null?void 0:M.account)==null?void 0:U.displayName,linkMethod:(S=l())==null?void 0:S.provider,embeddedWalletAddress:(k=(Q=(F=H.data)==null?void 0:F.data)==null?void 0:Q.otherUser)==null?void 0:k.embeddedWalletAddress,oAuthUserInfo:(ee=(V=(W=H.data)==null?void 0:W.data)==null?void 0:V.otherUser)==null?void 0:ee.oAuthUserInfo}}),void o(se.LINK_CONFLICT_SCREEN);let{retryable:q,detail:Y}=ydt(H,v);E({retryable:q,detail:Y,message:"Authentication failed"})}).finally(()=>{B$()})},[b,v]),C.useEffect(()=>{var H;if(r&&t&&m&&n){if(i!=null&&i.legal.requireUsersAcceptTerms&&!n.hasAcceptedTerms){let q=setTimeout(()=>{o(se.AFFIRMATIVE_CONSENT_SCREEN)},zr);return()=>clearTimeout(q)}if(Pu(n,(H=i==null?void 0:i.embeddedWallets)==null?void 0:H.createOnLogin)){let q=setTimeout(()=>{s({createWallet:{onSuccess:()=>{},onFailure:Y=>{console.error(Y),g({eventName:"embedded_wallet_creation_failure_logout",payload:{error:Y,provider:v,screen:"OAuthStatusScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),o(se.EMBEDDED_WALLET_ON_ACCOUNT_CREATE_SCREEN)},zr);return()=>clearTimeout(q)}{let q=setTimeout(()=>p({shouldCallAuthOnSuccess:!0,isSuccess:!0}),zr);return f(),()=>clearTimeout(q)}}},[r,t,m,n]);let O=m?`Successfully connected with ${b}`:y?y.message:`Verifying connection to ${b}`,D="";return D=m?"Youre good to go!":y?y.detail:"Just a few moments more",d.jsxs(d.Fragment,{children:[d.jsx(ze,{}),d.jsx(wr,{}),d.jsxs(bdt,{children:[d.jsx(Ys,{children:d.jsxs("div",{children:[d.jsx(sl,{success:m,fail:!!y}),d.jsx($,{style:{width:"38px",height:"38px"}})]})}),d.jsxs(Io,{children:[d.jsx("h3",{children:O}),d.jsx("p",{children:D})]}),y&&(y!=null&&y.retryable)?d.jsx(WT,{onClick:()=>{B$(),c(v),E(void 0)},disabled:!m&&!(y!=null&&y.retryable),children:"Retry"}):null]}),d.jsx(vr,{}),d.jsx(Bt,{})]})};let bdt=ne.div.withConfig({displayName:"ConnectContainer",componentId:"sc-83de42aa-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:27px;margin-right:27px;gap:24px;"]);const vdt=()=>{let{enabled:t,token:e}=eo(),{lastScreen:r,currentScreen:n,navigateBack:i,navigate:s,setModalData:o}=qe(),{initSignupWithPasskey:a,initLoginWithPasskey:l}=Ye();return d.jsxs(d.Fragment,{children:[d.jsx(ze,{backFn:r&&n!==r?i:void 0}),d.jsx(Nw,{children:d.jsxs(xdt,{children:[d.jsx(nb,{}),d.jsx(ib,{})]})}),d.jsx(Er,{children:"Log in or create a new account?"}),d.jsx(_r,{children:"Create a new account with a passkey or use a passkey to log in to an existing account."}),d.jsxs(ta,{children:[d.jsx(at,{onClick:async()=>{t&&!e?(o({passkeyAuthModalData:{passkeySignupFlow:!0},captchaModalData:{callback:c=>a({captchaToken:c,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:se.AWAITING_PASSKEY_SYSTEM_DIALOGUE,onErrorNavigateTo:se.ERROR_SCREEN}}),s(se.CAPTCHA_SCREEN)):(await a({withPrivyUi:!0}),o({passkeyAuthModalData:{passkeySignupFlow:!0}}),s(se.AWAITING_PASSKEY_SYSTEM_DIALOGUE))},children:"Create new account"}),d.jsx(V5,{onClick:async()=>{t&&!e?(o({passkeyAuthModalData:{passkeySignupFlow:!1},captchaModalData:{callback:c=>l({captchaToken:c,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:se.AWAITING_PASSKEY_SYSTEM_DIALOGUE,onErrorNavigateTo:se.ERROR_SCREEN}}),s(se.CAPTCHA_SCREEN)):(await l({withPrivyUi:!0}),o({passkeyAuthModalData:{passkeySignupFlow:!1}}),s(se.AWAITING_PASSKEY_SYSTEM_DIALOGUE))},children:"Log in with a passkey"})]}),d.jsx(ft,{})]})},xdt=ne.div.withConfig({displayName:"DoubleIconWrapper",componentId:"sc-fd7f30b7-0"})(["display:flex;align-items:center;justify-content:center;width:180px;height:90px;border-radius:50%;svg + svg{margin-left:12px;}> svg{z-index:2;color:var(--privy-color-accent);stroke:var(--privy-color-accent);fill:var(--privy-color-accent);}"]),Edt=()=>{let{lastScreen:t,currentScreen:e,navigateBack:r,data:n}=qe(),{loginWithPasskey:i,signupWithPasskey:s,closePrivyModal:o}=Ye(),{passkeySignupFlow:a}=(n==null?void 0:n.passkeyAuthModalData)??{},[l,c]=C.useState("loading"),[u,f]=C.useState(null),h=C.useRef([]);C.useEffect(()=>()=>{h.current.forEach(g=>clearTimeout(g)),h.current=[]},[]);let p=async()=>{c("loading");try{a?await s():await i(),c("success")}catch(g){f(g),c("error")}};return C.useEffect(()=>{var g;l==="success"&&(g=setTimeout(()=>{o({shouldCallAuthOnSuccess:!0,isSuccess:!0})},zr),h.current=[g,...h.current])},[l]),C.useEffect(()=>{p()},[]),d.jsxs(d.Fragment,{children:[d.jsx(ze,{backFn:t&&e!==t?r:void 0}),d.jsxs(_dt,{children:[d.jsx(Ys,{children:d.jsxs("div",{children:[d.jsx(sl,{success:l==="success",fail:l==="error"}),d.jsx(ib,{style:{width:"38px",height:"38px"}})]})}),d.jsxs(Io,{children:[d.jsx("h3",{children:(()=>{switch(l){case"loading":return"Waiting for passkey";case"success":return"Success";case"error":return"Something went wrong"}})()}),d.jsx("p",{style:{whiteSpace:"pre-wrap"},children:(()=>{switch(l){case"loading":return a?"Please follow prompts to register your passkey.":`Please follow prompts to verify your passkey.
You will have to sign up with another method first to register a passkey for your account.`;case"success":return"You've successfully logged in with your passkey.";case"error":if(u instanceof Ks){if(u.privyErrorCode===ue.CANNOT_LINK_MORE_OF_TYPE)return"Cannot link more passkeys to account.";if(u.privyErrorCode===ue.PASSKEY_NOT_ALLOWED)return`Passkey request timed out or rejected by user.
You will have to sign up with another method first to register a passkey for your account.`}return`An unknown error occurred.
You will have to sign up with another method first to register a passkey for your account.`}})()})]}),(()=>{switch(l){case"loading":case"success":return d.jsx(at,{onClick:()=>{},disabled:!0,children:"Continue"});case"error":return d.jsx(at,{onClick:p,disabled:!1,children:"Retry"})}})()]}),d.jsx(Bt,{})]})};let _dt=ne.div.withConfig({displayName:"Container",componentId:"sc-aab4a512-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;"]);const Cdt=(t,e,r)=>{let n=encodeURIComponent(new URL(window.location.href).href.replace(/\/$/g,"")+`?privy_token=${t}&privy_connector=${r?"solana_adapter":"injected"}&privy_wallet_client=${r?"phantom_solana":"phantom"}`);if(!T4()&&bi)return`${e?"phantom://":"https://phantom.app/ul/"}browse/${n}?ref=${n}`},Adt=()=>{var u;let{forkSession:t,ready:e,authenticated:r}=zt(),{walletConnectionStatus:n}=Ye(),[i,s]=C.useState(""),[o,a]=C.useState(!1);C.useEffect(()=>{e&&r&&t().then(s)},[e,r]);let l=Cdt(i,!o,((u=n==null?void 0:n.connector)==null?void 0:u.chainType)==="solana"),c={title:"Redirecting to Phantom Mobile Wallet",description:"We'll take you to the Phantom Mobile Wallet app to continue your login experience.",footnote:""};return e&&(c.description="For the best experience, we'll automatically log you into the Phantom Mobile Wallet in-app browser.",c.footnote="Once you're done, you can always return here and refresh to view your updated account."),o&&(c.title="Still here?",c.description="You may need to install the Phantom mobile app.",c.footnote="Once you're done, you can return here or connect via Phantom's in-app browser."),d.jsxs(d.Fragment,{children:[d.jsx(ze,{},"header"),d.jsx(wr,{}),d.jsx(Pw,{title:c.title,description:c.description}),d.jsxs(fp,{children:[d.jsx(Sdt,{children:d.jsx(C8,{style:{width:"72px",height:"72px"}})}),d.jsx(pNe,{href:l,onClick:()=>{setTimeout(()=>a(!0),1e3)},loading:e&&!l,children:o?"Go to App Store":"Continue"}),c.footnote?d.jsx("p",{children:c.footnote}):null]}),d.jsx(vr,{}),d.jsx(ft,{})]})};let Sdt=ne(al).withConfig({displayName:"LogoContainer",componentId:"sc-18369828-0"})(["margin:16px auto;"]);const $dt=()=>{let[t,e]=C.useState(!0),{authenticated:r,getAccessToken:n,user:i}=zt(),{walletProxy:s,closePrivyModal:o,createAnalyticsEvent:a}=Ye(),{navigate:l,data:c,onUserCloseViaDialogOrKeybindRef:u}=qe(),[f,h]=C.useState(void 0),[p,g]=C.useState(""),[m,w]=C.useState(!1),{entropyId:y,entropyIdVerifier:E,onCompleteNavigateTo:v,onSuccess:b,onFailure:$}=c.recoverWallet,P=(O="User exited before their wallet could be recovered")=>{o({shouldCallAuthOnSuccess:!1}),$(typeof O=="string"?new Gd(O):O)};return u.current=P,C.useEffect(()=>{if(!r)return P("User must be authenticated and have a Privy wallet before it can be recovered")},[r]),d.jsxs(d.Fragment,{children:[d.jsx(ze,{onClose:P}),d.jsx(wr,{}),d.jsxs(kdt,{children:[d.jsxs(Idt,{children:[d.jsx(Jh,{height:48,width:48,stroke:"var(--privy-color-accent)"}),d.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Enter your password"}),d.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Please provision your account on this new device. To continue, enter your recovery password."})]}),d.jsxs("div",{children:[d.jsxs(J8,{children:[d.jsx(HN,{type:t?"password":"text",onChange:O=>(D=>{D&&h(D)})(O.target.value),disabled:m,style:{paddingRight:"2.3rem"}}),d.jsx(VN,{style:{right:"0.75rem"},children:t?d.jsx(GN,{onClick:()=>e(!1)}):d.jsx(KN,{onClick:()=>e(!0)})})]}),!!p&&d.jsx(Tdt,{children:p})]}),d.jsxs("div",{children:[d.jsxs(pPe,{children:[d.jsx("h4",{children:"Why is this necessary?"}),d.jsx("p",{children:"You previously set a password for this wallet. This helps ensure only you can access it"})]}),d.jsx(Ndt,{loading:m||!s,disabled:!f,onClick:async()=>{w(!0);let O=await n(),D=T5(i,y);if(!O||!D||f===null)return P("User must be authenticated and have a Privy wallet before it can be recovered");try{a({eventName:"embedded_wallet_recovery_started",payload:{walletAddress:D.address}}),await(s==null?void 0:s.recover({accessToken:O,entropyId:y,entropyIdVerifier:E,recoveryPassword:f})),g(""),v?l(v):o({shouldCallAuthOnSuccess:!1}),b==null||b(D),a({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:D.address}})}catch(B){eet(B)?g("Invalid recovery password, please try again."):g("An error has occurred, please try again.")}finally{w(!1)}},warn:!1,hideAnimations:!y&&m,children:"Recover your account"})]})]}),d.jsx(vr,{}),d.jsx(ft,{})]})},Idt=ne.div.withConfig({displayName:"Header",componentId:"sc-858d1103-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin:20px 0;gap:4px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]);let kdt=ne.div.withConfig({displayName:"Content",componentId:"sc-858d1103-1"})(["display:flex;flex-direction:column;justify-content:space-between;"]),Tdt=ne.div.withConfig({displayName:"ErrorMessage",componentId:"sc-858d1103-2"})(["line-height:20px;height:20px;font-size:13px;color:var(--privy-color-error);text-align:left;margin-top:0.5rem;"]),Ndt=ne(at).withConfig({displayName:"NoAnimationPrimaryButton",componentId:"sc-858d1103-3"})(["",""],t=>t.hideAnimations&&ai(["&&{transition:none;}"]));const mle=t=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 21 20",...t,children:[d.jsx("path",{fill:"url(#icloud-gradient)",d:"M12.34 7.315a4.26 4.26 0 0 0-3.707 2.18 2.336 2.336 0 0 0-1.02-.236 2.336 2.336 0 0 0-2.3 1.963 3.217 3.217 0 0 0 1.244 6.181c.135-.001.27-.01.404-.029h8.943c.047.004.094.006.141.007.045-.001.09-.004.135-.007h.214v-.016a2.99 2.99 0 0 0 1.887-.988c.487-.55.757-1.261.757-1.998v-.006a3.017 3.017 0 0 0-.69-1.915 2.992 2.992 0 0 0-1.748-1.034 4.26 4.26 0 0 0-4.26-4.102Z"}),d.jsx("defs",{children:d.jsxs("linearGradient",{id:"icloud-gradient",x1:19.086,x2:3.333,y1:14.38,y2:14.163,gradientUnits:"userSpaceOnUse",children:[d.jsx("stop",{stopColor:"#3E82F4"}),d.jsx("stop",{offset:1,stopColor:"#93DCF7"})]})})]}),yle=({style:t,...e})=>d.jsxs("svg",{width:"16",height:"14",style:t,viewBox:"0 0 16 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[d.jsxs("g",{clipPath:"url(#clip0_2115_829)",children:[d.jsx("path",{d:"M2.34709 12.9404L2.3471 12.9404L2.34565 12.938L1.64031 11.7448L1.64004 11.7444L0.651257 10.0677C0.640723 10.0496 0.630746 10.0314 0.621325 10.0129H4.16461L2.39424 13.0139C2.3775 12.9901 2.36178 12.9656 2.34709 12.9404Z",fill:"#0066DA",stroke:"#6366F1"}),d.jsx("path",{d:"M8 4.48713L5.47995 0.215332C5.23253 0.358922 5.02176 0.556358 4.87514 0.80764L0.219931 8.70508C0.076007 8.95094 0.000191627 9.22937 0 9.51277H5.04009L8 4.48713Z",fill:"#00AC47"}),d.jsx("path",{d:"M13.48 13.7847C13.7274 13.6411 13.9382 13.4437 14.0848 13.1924L14.3781 12.6988L15.7801 10.3206C15.9267 10.0693 16.0001 9.79114 16.0001 9.51294H10.9596L12.0321 11.577L13.48 13.7847Z",fill:"#EA4335"}),d.jsx("path",{d:"M8.00003 4.48718L10.5201 0.215385C10.2726 0.0717949 9.98857 0 9.69533 0H6.30472C6.01148 0 5.7274 0.0807692 5.47998 0.215385L8.00003 4.48718Z",fill:"#00832D"}),d.jsx("path",{d:"M10.9599 9.51294H5.04007L2.52002 13.7847C2.76744 13.9283 3.05152 14.0001 3.34476 14.0001H12.6552C12.9484 14.0001 13.2325 13.9194 13.4799 13.7847L10.9599 9.51294Z",fill:"#2684FC"}),d.jsx("path",{d:"M13.4525 4.75636L11.1249 0.80764C10.9782 0.556358 10.7675 0.358922 10.52 0.215332L8 4.48713L10.9599 9.51277H15.9908C15.9908 9.23456 15.9175 8.95636 15.7709 8.70508L13.4525 4.75636Z",fill:"#FFBA00"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_2115_829",children:d.jsx("rect",{width:"16",height:"14",fill:"white"})})})]}),U$=ne.div.withConfig({displayName:"RecoveryContainer",componentId:"sc-12b46968-0"})(["display:flex;flex-direction:column;gap:12px;padding-top:24px;padding-bottom:24px;"]),Pdt=ne.div.withConfig({displayName:"RecoveryExplainerContainer",componentId:"sc-12b46968-1"})(["padding-bottom:24px;"]);let lz={"google-drive":{name:"Google Drive",component:yle},icloud:{name:"iCloud",component:mle}};const Rdt=()=>{var D;let{logout:t}=zt(),{navigate:e,setModalData:r,data:n}=qe(),{recoveryOAuthFlow:i,closePrivyModal:s,createAnalyticsEvent:o}=Ye(),[a,l]=C.useState(!1),{provider:c,action:u,isInAccountCreateFlow:f}=n==null?void 0:n.recoveryOAuthStatus,[h,p]=C.useState(void 0),[g,m]=C.useState(u==="create-wallet");if(c==="user-passcode")throw Error("RecoveryOAuthScreen should never be called with a wallet that specifies recoveryMethod: `user-passcode`");let w=lz[c].name,y=lz[c].component,E=(D=n==null?void 0:n.recoverWallet)==null?void 0:D.onCompleteNavigateTo,v=new Vi(async(B="create-wallet")=>(m(!0),new Promise((H,q)=>{setTimeout(async()=>{try{let Y=window.open();await i(c,B,Y),l(!0),H()}catch{p({message:`${B==="recover"?"Recovery":"Back up"} with ${w} unsuccessful`,detail:u==="recover"?`Please verify that you are selecting the ${w} account associated with your backup.`:"",retryable:!0}),q()}},0)})));C.useEffect(()=>{u!=="recover"&&v.execute(f?"create-wallet":"set-recovery")},[]),C.useEffect(()=>{if(!a)return;let B=setTimeout(()=>{f?(r({createWallet:{onSuccess:()=>{},onFailure:H=>{o({eventName:"embedded_wallet_creation_failure_logout",payload:{error:H,screen:"RecoveryOAuthScreen"}}),t()},callAuthOnSuccessOnClose:!0}}),e(se.EMBEDDED_WALLET_CREATED_SCREEN)):s({shouldCallAuthOnSuccess:!1})},zr);return()=>clearTimeout(B)},[a]);let b=C.useCallback(async()=>{await v.execute("recover"),E?e(E):l(!0)},[]),$=c==="google-drive"?"Google Drive":"Apple iCloud",P=a&&`Successfully ${u==="recover"?"recovered":"backed up"} with ${$}.`||h&&h.message||`${u==="recover"?"Recovering":"Backing up"} with ${$}...`,O=h?h.detail:"";return d.jsxs(d.Fragment,{children:[d.jsx(ze,{}),g?d.jsx(d.Fragment,{children:d.jsxs(U$,{children:[d.jsx(Yr,{title:P,icon:d.jsx(y,{style:{width:"38px",height:"38px"}}),description:O}),h&&(h!=null&&h.retryable)?d.jsx(at,{onClick:()=>{B$(),p(void 0),u==="create-wallet"?v.execute("create-wallet"):b()},disabled:!a&&!(h!=null&&h.retryable),children:"Try again"}):null]})}):d.jsxs(U$,{children:[d.jsx(Yr,{title:"Confirm it's really you",icon:d.jsx(y,{style:{height:42,width:48}}),description:`To confirm your identity, please log in to ${$} where your account is backed up.`}),d.jsxs(at,{onClick:b,children:["Confirm with ",$]})]}),d.jsx(ft,{})]})},Odt=()=>{let{app:t,navigate:e,data:r,onUserCloseViaDialogOrKeybindRef:n}=qe(),[i,s]=C.useState(""),[o,a]=C.useState(!1),[l,c]=C.useState(),[u,f]=C.useState(null),{authenticated:h,user:p}=zt(),{closePrivyModal:g,isNewUserThisSession:m,initializeWalletProxy:w}=Ye(),{onSuccess:y,onFailure:E,callAuthOnSuccessOnClose:v}=r.createWallet,{createWallet:b}=ase(),[$,P]=C.useState(null),O=new Vi(async()=>{try{let D=await b({recoveryPassword:l,user:p});if(!D)return;P(D),m?e(se.EMBEDDED_WALLET_CREATED_SCREEN):(y(D),g({shouldCallAuthOnSuccess:v}))}catch(D){s(D.message)}});return C.useEffect(()=>{u||w(3e4).then(D=>f(D))},[u]),C.useEffect(()=>{if(!h||!p)return e(se.LANDING),void E(Error("User must be authenticated before creating a Privy wallet"))},[h]),n.current=()=>null,d.jsx(yse,{config:{initiatedBy:"automatic"},appName:(t==null?void 0:t.name)||"privy",loading:!u,buttonLoading:o,buttonHideAnimations:!$&&o,isResettingPassword:!1,error:i,password:l||"",onClose:()=>{$&&($==null?void 0:$.recoveryMethod)!=="user-passcode"?(E(new Gd("User created a wallet but failed to set a password for it")),g({shouldCallAuthOnSuccess:!1})):$?(y($),g({shouldCallAuthOnSuccess:v})):(E(new Gd("User wallet creation failed")),g({shouldCallAuthOnSuccess:!1}))},onPasswordChange:c,onPasswordGenerate:()=>c(dse()),onSubmit:async()=>(a(!0),O.execute().then(()=>new Promise(D=>setTimeout(D,250))).finally(()=>a(!1)))})};function jdt({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const wle=C.forwardRef(jdt);function Mdt({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const Ddt=C.forwardRef(Mdt);let g_=ne.div.withConfig({displayName:"IconContainer",componentId:"sc-6716a2fa-0"})(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;"]),Ldt={"google-drive":"Google Drive",icloud:"iCloud","user-passcode":"password",privy:"Privy"},Fdt=({onClose:t})=>d.jsxs(Pdt,{children:[d.jsx(Yr,{title:"Why do I need to secure my account?",icon:d.jsx(yh,{width:48}),description:d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"Your app uses cryptography to secure your account. App secrets are split and encrypted so only you can access them."}),d.jsx("p",{children:"To use this app on new devices, secure account secrets using a password, your Google or your Apple account. Its important you dont lose access to the method you choose."})]})}),d.jsx(at,{onClick:t,children:"Select backup method"})]});const Bdt=()=>{let[t,e]=C.useState(!1),{navigate:r,lastScreen:n,navigateBack:i,setModalData:s,data:o,onUserCloseViaDialogOrKeybindRef:a}=qe(),{user:l}=zt(),{embeddedWallets:c}=$n(),{closePrivyModal:u}=Ye(),f=Is(l),h=f===null,{isInAccountCreateFlow:p,isResettingPassword:g}=o.recoverySelection,m=f&&f.recoveryMethod!=="privy",w=m?d.jsxs("span",{children:["Your account is currently secured using"," ",d.jsx("strong",{children:Ldt[(f==null?void 0:f.recoveryMethod)||"user-passcode"]}),"."]}):"Select a method for logging in on new devices and recovering your account.";function y(v){s({recoveryOAuthStatus:{provider:v,action:h?"create-wallet":"set-recovery",isInAccountCreateFlow:p}}),r(se.EMBEDDED_WALLET_RECOVERY_OAUTH_SCREEN)}function E(){var v,b;(v=o==null?void 0:o.setWalletPassword)==null||v.onFailure(Error("User exited set recovery flow")),u({shouldCallAuthOnSuccess:((b=o==null?void 0:o.setWalletPassword)==null?void 0:b.callAuthOnSuccessOnClose)??!1})}return a.current=E,d.jsxs(d.Fragment,{children:[d.jsx(ze,{onClose:E,backFn:t?()=>e(!1):n?i:void 0,infoFn:n||t?void 0:()=>e(!0)},"header"),t?d.jsx(Fdt,{onClose:()=>e(!1)}):d.jsxs(d.Fragment,{children:[d.jsx(Yr,{title:m?"Update backup method":"Secure your account",icon:d.jsx(wle,{width:48}),description:w}),d.jsx(U$,{children:c.userOwnedRecoveryOptions.filter(v=>!["icloud","google-drive"].includes((f==null?void 0:f.recoveryMethod)||"")||v!==(f==null?void 0:f.recoveryMethod)).sort().map(v=>{switch(v){case"google-drive":return d.jsxs(rn,{onClick:()=>y("google-drive"),children:[d.jsx(g_,{children:d.jsx(yle,{style:{width:18}})}),"Back up to Google Drive"]},v);case"icloud":return d.jsxs(rn,{onClick:()=>y("icloud"),children:[d.jsx(g_,{children:d.jsx(mle,{style:{width:24}})}),"Back up to Apple iCloud"]},v);case"user-passcode":return d.jsxs(rn,{onClick:()=>{r(ise({isCreatingWallet:h,skipSplashScreen:!0}))},children:[d.jsx(g_,{children:d.jsx(Ddt,{style:{width:18}})}),g?"Reset your":"Set a"," password"]},v);default:return null}})})]}),d.jsx(ft,{})]})},Udt=ne.div.withConfig({displayName:"WithCircleBorder",componentId:"sc-e4fc5563-0"})(["&&{border-width:4px;}display:flex;justify-content:center;align-items:center;padding:1rem;aspect-ratio:1;border-style:solid;border-color:",";border-radius:50%;"],t=>t.$color??"var(--privy-color-accent)"),Wdt=()=>{var w;let{user:t,getAccessToken:e}=zt(),{walletProxy:r,refreshUser:n,closePrivyModal:i}=Ye(),s=qe(),{entropyId:o,entropyIdVerifier:a}=(w=s.data)==null?void 0:w.recoverWallet,[l,c]=C.useState(!1),[u,f]=C.useState(null),[h,p]=C.useState(null);function g(){var y,E,v,b;if(!l){if(h)return(E=(y=s.data)==null?void 0:y.setWalletPassword)==null||E.onFailure(h),void i();if(!u)return(b=(v=s.data)==null?void 0:v.setWalletPassword)==null||b.onFailure(Error("User exited set recovery flow")),void i()}}s.onUserCloseViaDialogOrKeybindRef.current=g;let m=!(!l&&!u);return d.jsxs(d.Fragment,h?{children:[d.jsx(ze,{onClose:g},"header"),d.jsx(Udt,{$color:"var(--privy-color-error)",style:{alignSelf:"center"},children:d.jsx(Zu,{height:38,width:38,stroke:"var(--privy-color-error)"})}),d.jsx(Bu,{style:{marginTop:"0.5rem"},children:"Something went wrong"}),d.jsx(Du,{style:{minHeight:"2rem"}}),d.jsx(E2,{onClick:()=>p(null),children:"Try again"}),d.jsx(ft,{})]}:{children:[d.jsx(ze,{onClose:g},"header"),d.jsx(wle,{style:{width:"3rem",height:"3rem",alignSelf:"center"}}),d.jsx(Bu,{style:{marginTop:"0.5rem"},children:"Automatically secure your account"}),d.jsx(_f,{style:{marginTop:"1rem"},children:"When you log into a new device, youll only need to authenticate to access your account. Never get logged out if you forget your password."}),d.jsx(Du,{style:{minHeight:"2rem"}}),d.jsx(E2,{loading:l,disabled:m,onClick:()=>async function(){c(!0);try{let y=await e(),E=T5(t,o);if(!y||!r||!E)return;if(!(await r.setRecovery({accessToken:y,entropyId:o,entropyIdVerifier:a,existingRecoveryMethod:E.recoveryMethod,recoveryMethod:"privy"})).entropyId)throw Error("Unable to set recovery on wallet");let v=await n();if(!v)throw Error("Unable to set recovery on wallet");let b=T5(v,E.address);if(!b)throw Error("Unabled to set recovery on wallet");f(!!v),setTimeout(()=>{var $,P;(P=($=s.data)==null?void 0:$.setWalletPassword)==null||P.onSuccess(b),i()},zr)}catch(y){p(y)}finally{c(!1)}}(),children:u?"Success":"Confirm"}),d.jsx(ft,{})]})};async function ble({tx:t,accessToken:e,walletProxy:r,entropyId:n,entropyIdVerifier:i,transactingWalletAddress:s,transactingWalletIndex:o}){let a=Drt(t,s),l=Kw(t)?Ke.from(t.message.serialize()):t.serializeMessage(),{response:c}=await r.rpc({accessToken:e,entropyId:n,entropyIdVerifier:i,chainType:"solana",hdWalletIndex:o,request:{method:"signMessage",params:{message:l.toString("base64")}}}),u=c.data.signature;t.addSignature(a,Ke.from(u,"base64"))}async function vle({tx:t,connection:e,accessToken:r,walletProxy:n,entropyId:i,entropyIdVerifier:s,transactingWalletAddress:o,transactingWalletIndex:a,transactionOptions:l}){let c;try{await ble({tx:t,accessToken:r,walletProxy:n,entropyId:i,entropyIdVerifier:s,transactingWalletAddress:o,transactingWalletIndex:a});let u=t.serialize();c=await e.sendRawTransaction(u,l);let f=await e.confirmTransaction(c);if(f.value.err||f.value.err){let h=f.value.err||f.value.err;throw typeof h=="string"?Error(h):h}return{signature:c,receipt:await e.getParsedTransaction(c,{maxSupportedTransactionVersion:0})}}catch(u){throw u.txSignature=c,u}}function zdt({title:t,titleId:e,...r},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?C.createElement("title",{id:e},t):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const Hdt=C.forwardRef(zdt),qdt=t=>{var a,l,c,u,f,h,p,g;let{chain:e,transactionDetails:r,isTokenContractInfoLoading:n,symbol:i}=t,{action:s,functionName:o}=r;return d.jsx(FN,{children:d.jsxs(Eg,{children:[s!=="transaction"&&d.jsxs(Tt,{children:[d.jsx(It,{children:"Action"}),d.jsx(Mt,{children:o})]}),o==="mint"&&"args"in r&&r.args.filter(m=>m).map((m,w)=>{var y,E;return d.jsxs(Tt,{children:[d.jsx(It,{children:`Param ${w}`}),d.jsx(Mt,{children:typeof m=="string"&&hfe(m)?d.jsx(ii,{address:m,url:(E=(y=e==null?void 0:e.blockExplorers)==null?void 0:y.default)==null?void 0:E.url,showCopyIcon:!1}):m==null?void 0:m.toString()})]},w)}),o==="setApprovalForAll"&&r.operator&&d.jsxs(Tt,{children:[d.jsx(It,{children:"Operator"}),d.jsx(Mt,{children:d.jsx(ii,{address:r.operator,url:(l=(a=e==null?void 0:e.blockExplorers)==null?void 0:a.default)==null?void 0:l.url,showCopyIcon:!1})})]}),o==="setApprovalForAll"&&r.approved!==void 0&&d.jsxs(Tt,{children:[d.jsx(It,{children:"Set approval to"}),d.jsx(Mt,{children:r.approved?"true":"false"})]}),o==="transfer"||o==="transferFrom"||o==="safeTransferFrom"||o==="approve"?d.jsxs(d.Fragment,{children:["formattedAmount"in r&&r.formattedAmount&&d.jsxs(Tt,{children:[d.jsx(It,{children:"Amount"}),d.jsxs(Mt,{$isLoading:n,children:[r.formattedAmount," ",i]})]}),"tokenId"in r&&r.tokenId&&d.jsxs(Tt,{children:[d.jsx(It,{children:"Token ID"}),d.jsx(Mt,{children:r.tokenId.toString()})]})]}):null,o==="safeBatchTransferFrom"&&d.jsxs(d.Fragment,{children:["amounts"in r&&r.amounts&&d.jsxs(Tt,{children:[d.jsx(It,{children:"Amounts"}),d.jsx(Mt,{children:r.amounts.join(", ")})]}),"tokenIds"in r&&r.tokenIds&&d.jsxs(Tt,{children:[d.jsx(It,{children:"Token IDs"}),d.jsx(Mt,{children:r.tokenIds.join(", ")})]})]}),o==="approve"&&r.spender&&d.jsxs(Tt,{children:[d.jsx(It,{children:"Spender"}),d.jsx(Mt,{children:d.jsx(ii,{address:r.spender,url:(u=(c=e==null?void 0:e.blockExplorers)==null?void 0:c.default)==null?void 0:u.url,showCopyIcon:!1})})]}),(o==="transferFrom"||o==="safeTransferFrom"||o==="safeBatchTransferFrom")&&r.transferFrom&&d.jsxs(Tt,{children:[d.jsx(It,{children:"Transferring from"}),d.jsx(Mt,{children:d.jsx(ii,{address:r.transferFrom,url:(h=(f=e==null?void 0:e.blockExplorers)==null?void 0:f.default)==null?void 0:h.url,showCopyIcon:!1})})]}),(o==="transferFrom"||o==="safeTransferFrom"||o==="safeBatchTransferFrom")&&r.transferTo&&d.jsxs(Tt,{children:[d.jsx(It,{children:"Transferring to"}),d.jsx(Mt,{children:d.jsx(ii,{address:r.transferTo,url:(g=(p=e==null?void 0:e.blockExplorers)==null?void 0:p.default)==null?void 0:g.url,showCopyIcon:!1})})]})]})})},Vdt=t=>{let[e,r]=C.useState(!1),n=!0,i=!1;return(!t||t.isErc20Ish||t.action==="transaction")&&(n=!1),n&&(i=Object.entries(t||{}).some(([s,o])=>o&&!["action","isErc20Ish","isNFTIsh"].includes(s))),{showTransactionDetails:e,setShowTransactionDetails:r,hasMoreDetails:n&&i,isErc20Ish:t==null?void 0:t.isErc20Ish}},xle=({transactionIndex:t,maxIndex:e})=>typeof t!="number"||e===0?"":` (${t+1} / ${e+1})`,Gdt=({img:t,submitError:e,prepareError:r,onClose:n,action:i,title:s,subtitle:o,total:a,txValue:l,to:c,tokenAddress:u,network:f,missingFunds:h,fee:p,from:g,cta:m,disabled:w,chain:y,isSubmitting:E,isPreparing:v,isTokenPriceLoading:b,isTokenContractInfoLoading:$,isSponsored:P,symbol:O,balance:D,onClick:B,transactionDetails:H,transactionIndex:q,maxIndex:Y,onBack:R,chainName:_})=>{var N,M,U,S,F,Q;let{showTransactionDetails:x,setShowTransactionDetails:A,hasMoreDetails:T,isErc20Ish:I}=Vdt(H);return d.jsxs(d.Fragment,{children:[d.jsx(ze,{onClose:n,backFn:R}),t&&d.jsx(Cle,{children:t}),d.jsxs(Bu,{style:{marginTop:t?"1.5rem":0},children:[s,d.jsx(xle,{maxIndex:Y,transactionIndex:q})]}),d.jsx(_f,{children:o}),d.jsxs(Eg,{style:{marginTop:"2rem"},children:[I&&d.jsxs(d.Fragment,{children:[i==="approve"&&d.jsxs(Tt,{children:[d.jsx(It,{children:"Action"}),d.jsx(Mt,{children:H==null?void 0:H.action})]}),d.jsxs(Tt,{children:[d.jsx(It,{children:"Amount"}),d.jsxs(Mt,{$isLoading:I&&$,children:[H==null?void 0:H.formattedAmount," ",O]})]})]}),a&&d.jsxs(Tt,{children:[d.jsx(It,{children:"Total"}),d.jsx(Mt,{$isLoading:v||b,children:a})]}),H&&"spender"in H&&(H!=null&&H.spender)?d.jsxs(Tt,{children:[d.jsx(It,{children:"Spender"}),d.jsx(Mt,{children:d.jsx(ii,{address:H.spender,url:(M=(N=y==null?void 0:y.blockExplorers)==null?void 0:N.default)==null?void 0:M.url,showCopyIcon:!1})})]}):null,c&&d.jsxs(Tt,{children:[d.jsx(It,{children:"To"}),d.jsx(Mt,{children:d.jsx(ii,{address:c,url:(S=(U=y==null?void 0:y.blockExplorers)==null?void 0:U.default)==null?void 0:S.url,showCopyIcon:!1})})]}),u&&d.jsxs(Tt,{children:[d.jsx(It,{children:"Token address"}),d.jsx(Mt,{children:d.jsx(ii,{address:u,url:(Q=(F=y==null?void 0:y.blockExplorers)==null?void 0:F.default)==null?void 0:Q.url,showCopyIcon:!1})})]}),d.jsxs(Tt,{children:[d.jsx(It,{children:"Network"}),d.jsx(Mt,{children:f})]}),d.jsxs(Tt,{children:[d.jsx(It,{children:"Estimated fee"}),d.jsx(Mt,{$isLoading:v||b||P===void 0,children:P?"Sponsored":p})]}),T&&d.jsxs(d.Fragment,{children:[d.jsx(Tt,{className:"cursor-pointer",onClick:()=>A(!x),children:d.jsxs(Hrt,{className:"flex items-center gap-x-1",children:["Details"," ",d.jsx(vx,{style:{width:"0.75rem",marginLeft:"0.25rem",transform:x?"rotate(180deg)":void 0}})]})}),x&&H&&d.jsx(qdt,{action:i,chain:y,transactionDetails:H,isTokenContractInfoLoading:$,symbol:O})]})]}),d.jsx(Du,{}),e?d.jsx(Fu,{style:{marginTop:"2rem"},children:e.message}):r?d.jsx(Fu,{style:{marginTop:"2rem"},children:_le}):null,d.jsx(Ele,{$useSmallMargins:!(!r&&!e),title:Number(l)>0?void 0:P!==!1?"Your wallet":void 0,address:g,balance:D,isLoading:v||b,errMsg:v||r||e||!h?void 0:`Add funds on ${(y==null?void 0:y.name)??_} to complete transaction.`}),d.jsx(at,{style:{marginTop:"1rem"},loading:E,disabled:w||v,onClick:B,children:m}),d.jsx(ft,{})]})},Kdt=({img:t,title:e,subtitle:r,cta:n,network:i,blockExplorerUrl:s,transactionIndex:o,maxIndex:a,isMissingFunds:l,submitError:c,parseError:u,total:f,amount:h,fee:p,balance:g,from:m,to:w,tokenAddress:y,programAddress:E,transactingWalletAddress:v,disabled:b,isSubmitting:$,isPreparing:P,isTokenPriceLoading:O,onClick:D,onClose:B,onBack:H})=>{let q=P||O;return d.jsxs(d.Fragment,{children:[d.jsx(ze,{onClose:B,backFn:H}),t&&d.jsx(Cle,{children:t}),d.jsxs(Bu,{style:{marginTop:t?"1.5rem":0},children:[e,d.jsx(xle,{maxIndex:a,transactionIndex:o})]}),d.jsx(_f,{children:r}),d.jsxs(Eg,{style:{marginTop:"2rem"},children:[(f||q)&&d.jsxs(Tt,{children:[d.jsx(It,{children:"Total"}),d.jsx(Mt,{$isLoading:q,children:f})]}),m&&m!==v&&d.jsxs(Tt,{children:[d.jsx(It,{children:"From"}),d.jsx(Mt,{children:d.jsx(ii,{address:m,url:s,showCopyIcon:!1})})]}),w&&d.jsxs(Tt,{children:[d.jsx(It,{children:"To"}),d.jsx(Mt,{children:d.jsx(ii,{address:w,url:s,showCopyIcon:!1})})]}),y&&d.jsxs(Tt,{children:[d.jsx(It,{children:"Token address"}),d.jsx(Mt,{children:d.jsx(ii,{address:y,url:s,showCopyIcon:!1})})]}),E&&d.jsxs(Tt,{children:[d.jsx(It,{children:"Program address"}),d.jsx(Mt,{children:d.jsx(ii,{address:E,url:s,showCopyIcon:!1})})]}),i&&d.jsxs(Tt,{children:[d.jsx(It,{children:"Network"}),d.jsx(Mt,{children:i})]}),(h||q)&&d.jsxs(Tt,{children:[d.jsx(It,{children:"Amount"}),d.jsx(Mt,{children:d.jsx(Mt,{$isLoading:q,children:h})})]}),(p||q)&&d.jsxs(Tt,{children:[d.jsx(It,{children:"Estimated fee"}),d.jsx(Mt,{$isLoading:q,children:p})]})]}),d.jsx(Du,{}),c?d.jsx(Fu,{style:{marginTop:"2rem"},children:c.message}):u?d.jsx(Fu,{style:{marginTop:"2rem"},children:_le}):null,d.jsx(Ele,{$useSmallMargins:!(!u&&!c),title:"Your wallet",address:v,balance:g,isLoading:P||O,errMsg:P||u||c||!l?void 0:"Add funds on Solana to complete transaction."}),d.jsx(at,{style:{marginTop:"1rem"},loading:$,disabled:b||P,onClick:D,children:n}),d.jsx(ft,{})]})};let Ele=ne(G8).withConfig({displayName:"StyledWalletInfoCard",componentId:"sc-67aab208-0"})(["",""],t=>t.$useSmallMargins?"margin-top: 0.5rem;":"margin-top: 2rem;"),_le="There was an error preparing your transaction. Your transaction request will likely fail.",Cle=ne.div.withConfig({displayName:"ImageContainer",componentId:"sc-67aab208-1"})(["display:flex;width:100%;justify-content:center;max-height:40px;> img{object-fit:contain;border-radius:var(--privy-border-radius-sm);}"]),Ydt=new Set([Li.CALL_EXCEPTION,Li.NONCE_EXPIRED,Li.REPLACEMENT_UNDERPRICED,Li.TRANSACTION_REPLACED]);const Zdt=t=>{let e;return t.code&&t.code!==-32e3&&Ydt.has(t.code)&&(e=t.transactionHash),e},Jdt=t=>{var e,r,n,i;return t.code==="SERVER_ERROR"?((e=t.error)==null?void 0:e.message)??t.reason??t.message??"unknown error":((r=t.error)==null?void 0:r.code)==="SERVER_ERROR"?((i=(n=t.error)==null?void 0:n.error)==null?void 0:i.message)??t.reason??t.message??"unknown error":t.reason??t.message??"unknown error"};let Qdt=()=>d.jsxs(rft,{children:[d.jsx(ift,{}),d.jsx(nft,{})]});const Ale=({transactionError:t,chainId:e,onClose:r,onRetry:n,network:i,connection:s})=>{let{chains:o}=Ye(),[a,l]=C.useState(!1),{errorCode:c,transactionHash:u,errorMessage:f}=((p,g)=>{var y,E;if(g==="ethereum")return{errorCode:p.code?((y=p.code)==null?void 0:y.toString().charAt(0))+((E=p.code)==null?void 0:E.toString().slice(1).replace("_"," ").toLowerCase()):"Something went wrong.",transactionHash:Zdt(p),errorMessage:Jdt(p)};let m=p.txSignature,w=(p==null?void 0:p.transactionMessage)||"Something went wrong.";if(Array.isArray(p.logs)){let v=p.logs.find(b=>/insufficient (lamports|funds)/gi.test(b));v&&(w=v)}return{transactionHash:m,errorMessage:w}})(t,i),h=(({chains:p,chainId:g,network:m,connection:w,transactionHash:y})=>{var E,v;return m==="ethereum"?((v=(E=p.find(b=>b.id===g))==null?void 0:E.blockExplorers)==null?void 0:v.default.url)??"https://etherscan.io":ATe(y||"",g8((w==null?void 0:w.rpcEndpoint)||""))})({chains:o,chainId:e,network:i,connection:s,transactionHash:u});return d.jsxs(d.Fragment,{children:[d.jsx(ze,{onClose:r}),d.jsxs(Xdt,{children:[d.jsx(Qdt,{}),d.jsx(eft,{children:c}),d.jsx(tft,{children:"Please try again."}),d.jsxs(uz,{children:[d.jsx(cz,{children:"Error message"}),d.jsx(dz,{$clickable:!1,children:f})]}),u&&d.jsxs(uz,{children:[d.jsx(cz,{children:"Transaction hash"}),d.jsxs(oft,{children:["Copy this hash to view details about the transaction on a"," ",d.jsx("u",{children:d.jsx("a",{href:h,children:"block explorer"})}),"."]}),d.jsxs(dz,{$clickable:!0,onClick:async()=>{await navigator.clipboard.writeText(u),l(!0)},children:[u,d.jsx(cft,{clicked:a})]})]}),d.jsx(sft,{onClick:()=>n({resetNonce:!!u}),children:"Retry transaction"})]}),d.jsx(Bt,{})]})};let Xdt=ne.div.withConfig({displayName:"TransactionErrorScreenContainer",componentId:"sc-6f98d2f2-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;"]),eft=ne.span.withConfig({displayName:"ErrorCode",componentId:"sc-6f98d2f2-1"})(["color:var(--privy-color-foreground);text-align:center;font-size:1.125rem;font-weight:500;line-height:1.25rem;text-align:center;margin:10px;"]),tft=ne.span.withConfig({displayName:"Subtitle",componentId:"sc-6f98d2f2-2"})(["margin-top:4px;margin-bottom:10px;color:var(--privy-color-foreground-3);text-align:center;font-size:0.875rem;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;"]),rft=ne.div.withConfig({displayName:"CircleContainer",componentId:"sc-6f98d2f2-3"})(["position:relative;width:60px;height:60px;margin:10px;display:flex;justify-content:center;align-items:center;"]),nft=ne(b8).withConfig({displayName:"StyledExclamationCircleIcon",componentId:"sc-6f98d2f2-4"})(["position:absolute;width:35px;height:35px;color:var(--privy-color-error);"]),ift=ne.div.withConfig({displayName:"StyledRedCircle",componentId:"sc-6f98d2f2-5"})(["position:absolute;width:60px;height:60px;border-radius:50%;background-color:var(--privy-color-error);opacity:0.1;"]),sft=ne(at).withConfig({displayName:"RetryButton",componentId:"sc-6f98d2f2-6"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]),cz=ne.span.withConfig({displayName:"TextBoxTitle",componentId:"sc-6f98d2f2-7"})(["width:100%;text-align:left;font-size:0.825rem;color:var(--privy-color-foreground);padding:4px;"]),uz=ne.div.withConfig({displayName:"TextBoxContainer",componentId:"sc-6f98d2f2-8"})(["width:100%;margin:5px;display:flex;flex-direction:column;justify-content:center;align-items:center;"]),oft=ne.text.withConfig({displayName:"HelperText",componentId:"sc-6f98d2f2-9"})(["position:relative;width:100%;padding:5px;font-size:0.8rem;color:var(--privy-color-foreground-3);text-align:left;word-wrap:break-word;"]),dz=ne.span.withConfig({displayName:"TextBox",componentId:"sc-6f98d2f2-10"})(["position:relative;width:100%;background-color:var(--privy-color-background-2);padding:8px 12px;border-radius:10px;margin-top:5px;font-size:14px;color:var(--privy-color-foreground-3);text-align:left;word-wrap:break-word;",""],t=>t.$clickable&&`cursor: pointer;
  transition: background-color 0.3s;
  padding-right: 45px;

  &:hover {
    background-color: var(--privy-color-foreground-4);
  }`),aft=ne(Hdt).withConfig({displayName:"StyledClipboardIcon",componentId:"sc-6f98d2f2-11"})(["position:absolute;top:13px;right:13px;width:24px;height:24px;"]),lft=ne(mse).withConfig({displayName:"StyledClipboardCheckIcon",componentId:"sc-6f98d2f2-12"})(["position:absolute;top:13px;right:13px;width:24px;height:24px;"]),cft=({clicked:t})=>d.jsx(t?lft:aft,{});const uft=({instructions:t,fees:e,transactionInfo:r,solPrice:n,rpcEndpoint:i})=>{let s=t.reduce((f,{amount:h,token:p})=>h&&(p==null?void 0:p.symbol)==="SOL"?f+h:f,0n),[o,a]=C.useState(0),[l,c]=C.useState(!1),u=t[o];return C.useEffect(()=>{a(0)},[t]),d.jsxs(Eg,{children:[d.jsxs(Tt,{children:[d.jsx(It,{children:"Total"}),d.jsx(Mt,{children:d.jsx(D$,{quantities:[s,e],tokenPrice:n})})]}),r&&r.action&&d.jsxs(Tt,{children:[d.jsx(It,{children:"Action"}),d.jsx(Mt,{children:r.action})]}),d.jsxs(Tt,{children:[d.jsx(It,{children:"Fees"}),d.jsx(Mt,{children:d.jsx(D$,{quantities:[e||0n],tokenPrice:n})})]}),t.length>1?d.jsxs(d.Fragment,{children:[d.jsx(Tt,{children:d.jsxs(mft,{onClick:()=>c(f=>!f),children:[d.jsx("span",{children:"Details"}),d.jsx(vx,{height:"16px",width:"16px",strokeWidth:"2",style:{transition:"all 300ms",transform:l?"rotate(180deg)":void 0}})]})}),l&&d.jsx(Tt,{children:d.jsxs(dft,{children:[d.jsxs(fft,{children:[d.jsxs(hft,{children:[o+1," of ",t.length," instructions"]}),d.jsxs(gft,{children:[o>0&&d.jsx(Gee,{backFn:()=>a(f=>f-1)}),o<t.length-1&&d.jsx(_Ne,{nextFn:()=>a(f=>f+1)})]})]}),d.jsx(pft,{children:d.jsx(fz,{instruction:u,rpcEndpoint:i,solPrice:n})})]})})]}):d.jsx(fz,{instruction:u,rpcEndpoint:i,solPrice:n,hideAmount:!0})]})};function fz({instruction:t,rpcEndpoint:e,solPrice:r,hideAmount:n}){var i,s;return t?d.jsxs(Eg,{children:[!n&&!!t.amount&&d.jsxs(Tt,{children:[d.jsx(It,{children:"Amount"}),d.jsx(Mt,{children:d.jsx(D$,{quantities:[t.amount],tokenPrice:r,tokenSymbol:((i=t.token)==null?void 0:i.symbol)??"SOL",tokenDecimals:((s=t.token)==null?void 0:s.decimals)??9})})]}),t.to&&d.jsxs(Tt,{children:[d.jsx(It,{children:"To"}),d.jsx(Mt,{children:d.jsx($6,{walletAddress:t.to,rpcEndpoint:e,network:"solana"})})]}),t.from&&d.jsxs(Tt,{children:[d.jsx(It,{children:"From"}),d.jsx(Mt,{children:d.jsx($6,{walletAddress:t.from,rpcEndpoint:e,network:"solana"})})]})]}):null}let dft=ne.div.withConfig({displayName:"InstructionsBox",componentId:"sc-3551ef3c-0"})(["display:flex;flex-direction:column;width:100%;overflow:hidden;&&{border:1px solid;border-color:var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);}"]),fft=ne.header.withConfig({displayName:"InstructionsBoxHeader",componentId:"sc-3551ef3c-1"})(["display:flex;justify-content:space-between;align-items:center;padding:12px;background-color:var(--privy-color-background-2);"]),hft=ne.h4.withConfig({displayName:"HeaderTitle",componentId:"sc-3551ef3c-2"})(["font-size:14px;font-weight:500;line-height:19.6px;"]),pft=ne.div.withConfig({displayName:"InstructionsBoxContent",componentId:"sc-3551ef3c-3"})(["padding:12px;"]),gft=ne.div.withConfig({displayName:"NavigationButtonsConatiner",componentId:"sc-3551ef3c-4"})(["display:flex;gap:8px;align-items:center;"]),mft=ne(It).withConfig({displayName:"InteractiveLabel",componentId:"sc-3551ef3c-5"})(["cursor:pointer;display:inline-flex;gap:8px;align-items:center;"]);const yft=({instructions:t,fees:e,onClose:r,receiptHeader:n,receiptDescription:i,transactionInfo:s,solPrice:o,rpcEndpoint:a})=>d.jsxs(d.Fragment,{children:[d.jsx(ze,{onClose:r}),d.jsx(Ys,{style:{marginBottom:"16px"},children:d.jsxs("div",{children:[d.jsx(Vee,{color:"var(--privy-color-success-light)"}),d.jsx(hl,{height:38,width:38,strokeWidth:2,stroke:"var(--privy-color-success)"})]})}),d.jsx(Yr,{title:n??"Transaction completed successfully.",description:i??""}),d.jsx(uft,{solPrice:o,instructions:t,fees:e,transactionInfo:s,rpcEndpoint:a}),d.jsx(Du,{}),d.jsx(wft,{loading:!1,onClick:r,children:"Close"}),d.jsx(vr,{}),d.jsx(ft,{})]});let wft=ne(at).withConfig({displayName:"SubmitButton",componentId:"sc-d56ba196-0"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]);const bft=()=>{var k,W,V,ee,te,ce,K,G,pe,de,ye,Ne,je,Qe,xe,he,ht;let{data:t,onUserCloseViaDialogOrKeybindRef:e,setModalData:r,navigate:n}=qe(),{client:i,closePrivyModal:s,walletProxy:o}=Ye(),a=$n(),{user:l,getAccessToken:c}=zt(),[u,f]=C.useState((k=t==null?void 0:t.sendSolanaTransaction)==null?void 0:k.transactionRequest),[h,p]=C.useState(),[g,m]=C.useState(),[w,y]=C.useState(0),[E,v]=C.useState({value:0n,isLoading:!1}),[b,$]=C.useState(!1),[P,O]=C.useState(),[D,B]=C.useState(),H=(W=t==null?void 0:t.sendSolanaTransaction)==null?void 0:W.connection,q=(V=t==null?void 0:t.sendSolanaTransaction)==null?void 0:V.transactingWallet,Y=(h==null?void 0:h.instructions.length)??1,R=q!=null&&q.imported?zm(l):Is(l),_=g8((H==null?void 0:H.rpcEndpoint)||""),x=a.embeddedWallets.priceDisplay.primary==="fiat-currency",{solPrice:A,isSolPriceLoading:T}=Dse({enabled:x}),I=C.useMemo(()=>{let De,we;if(!h)return;let _e=h.spender;w===0&&(q==null?void 0:q.address)===_e&&(De=Zd(h.fee));let Me=Zd(E.value,3,!0),ke=h.instructions[w];if(!ke)return{fee:De,spender:_e,balance:Me};if(ke.type==="unknown")return{fee:De,spender:_e,program:ke.program,balance:Me};let Te=ke.fromAccount,Ue=ke.type==="sol-transfer"?ke.toAccount:ke.toAccount||ke.toAta,Be=ke.type==="spl-transfer"?ke.token.address:void 0;return De!=null&&ke.token.symbol==="SOL"&&(we=Zd(ke.value+h.fee)),{fee:De,spender:_e,from:Te,to:Ue,tokenAddress:Be,amount:`${Vy(ke.value,ke.token.decimals)} ${ke.token.symbol}`.trim(),total:we,balance:Me}},[h,w,q==null?void 0:q.address,E]),N=C.useMemo(()=>{let De,we;if(!h||!x||!A||T)return;function _e(...Te){return ry(Te.reduce((Ue,Be)=>Ue+Be,0n),A??0)}w===0&&(q==null?void 0:q.address)===h.spender&&(De=_e(h.fee));let Me=_e(E.value),ke=h.instructions[w];return ke&&ke.type!=="unknown"?(De!=null&&ke.token.symbol==="SOL"&&(we=_e(ke.value,h.fee)),{fee:De,amount:ke.token.symbol==="SOL"?_e(ke.value):`${Vy(ke.value,ke.token.decimals)} ${ke.token.symbol}`.trim(),total:we,balance:Me}):{fee:De,balance:Me}},[h,x,A,T,q==null?void 0:q.address,w,E]),M=C.useMemo(()=>{if(!h||E.isLoading||w>0)return!1;let De=h.instructions[w];if(!De)return!1;let we=0n;return(q==null?void 0:q.address)===h.spender&&(we+=h.fee),De.type!=="unknown"&&(q==null?void 0:q.address)===De.fromAccount&&De.token.symbol==="SOL"&&(we+=De.value),E.value<we},[h,E,w]);if(C.useEffect(()=>{(async function(){if(u&&H&&i)try{m(void 0);let De=await Brt({tx:u,connection:H,client:i});p(De),y(0)}catch(De){console.error("Failed to prepare transaction",De),m(De)}})()},[u,H,i]),C.useEffect(()=>{(async function(){if(!q||!H)return;v({value:E.value,isLoading:!0});let De=new vbe({name:"mainnet-beta",rpcUrl:H.rpcEndpoint});v({value:await De.getBalance(q.address).catch(()=>0n)??0n,isLoading:!1})})().catch(console.error)},[h,H]),!(u&&(t!=null&&t.sendSolanaTransaction)&&q&&H)){let De=Error("Invalid transaction request");return d.jsx(qw,{error:De,onClick:()=>{var we;(we=t==null?void 0:t.sendSolanaTransaction)==null||we.onFailure(De),s({shouldCallAuthOnSuccess:!1})}})}let U=()=>{var De,we;if(!b)return P?(De=t==null?void 0:t.sendSolanaTransaction)==null||De.onSuccess(P):((we=t==null?void 0:t.sendSolanaTransaction)==null||we.onFailure(D??g??Error("User exited the modal before submitting the transaction")),y(0)),s({shouldCallAuthOnSuccess:!1})};e.current=U;let S=(K=(ce=(te=(ee=t.sendTransaction)==null?void 0:ee.uiOptions)==null?void 0:te.transactionInfo)==null?void 0:ce.contractInfo)!=null&&K.imgUrl?d.jsx("img",{src:t.sendTransaction.uiOptions.transactionInfo.contractInfo.imgUrl,alt:t.sendTransaction.uiOptions.transactionInfo.contractInfo.imgAltText}):null,F=!!(t.funding&&t.funding.supportedOptions.length>0),Q=M&&F;return P?d.jsx(yft,{instructions:(h==null?void 0:h.instructions.map(De=>De.type==="unknown"?{}:De.type==="spl-transfer"?{from:De.fromAccount,to:De.toAccount||De.toAta,amount:De.value,token:De.token}:{from:De.fromAccount,to:De.toAccount,amount:De.value,token:De.token}))??[],fees:w===0?P.fees:0n,onClose:U,transactionInfo:(G=t.sendTransaction)==null?void 0:G.uiOptions.transactionInfo,solPrice:A,receiptHeader:(pe=t.sendTransaction)==null?void 0:pe.uiOptions.successHeader,receiptDescription:(de=t.sendTransaction)==null?void 0:de.uiOptions.successDescription,rpcEndpoint:H.rpcEndpoint}):D?d.jsx(Ale,{transactionError:D,connection:H,onClose:U,network:"solana",onRetry:async()=>{B(void 0);let{blockhash:De}=await H.getLatestBlockhash();Kw(u)?u.message.recentBlockhash=De:u.recentBlockhash=De,f(u)}}):d.jsx(Kdt,{img:S,title:((je=(Ne=(ye=t.sendTransaction)==null?void 0:ye.uiOptions)==null?void 0:Ne.transactionInfo)==null?void 0:je.title)||"Confirm transaction",subtitle:((xe=(Qe=t.sendTransaction)==null?void 0:Qe.uiOptions)==null?void 0:xe.description)||`${a.name} wants your permission to approve the following transaction.`,cta:Q?"Add funds":((ht=(he=t.sendTransaction)==null?void 0:he.uiOptions)==null?void 0:ht.buttonText)||"Approve",transactionIndex:w,maxIndex:Y-1,network:_=="mainnet-beta"?"Solana":_,blockExplorerUrl:"https://explorer.solana.com",total:x?N==null?void 0:N.total:I==null?void 0:I.total,amount:x?N==null?void 0:N.amount:I==null?void 0:I.amount,fee:x?N==null?void 0:N.fee:I==null?void 0:I.fee,balance:x?N==null?void 0:N.balance:I==null?void 0:I.balance,from:I==null?void 0:I.from,to:I==null?void 0:I.to,tokenAddress:I==null?void 0:I.tokenAddress,transactingWalletAddress:q.address,programAddress:I==null?void 0:I.program,disabled:M&&!F,isSubmitting:b,isPreparing:!h||E.isLoading,isTokenPriceLoading:x&&T,isMissingFunds:M,submitError:D??void 0,parseError:g,onClick:Q?async()=>{if(!q)return;if(!F)throw Error("Funding wallet is not enabled");let De=se.FUNDING_METHOD_SELECTION_SCREEN;r({...t,funding:{...t.funding,methodScreen:De}}),n(De)}:async()=>{var De;if(w<((h==null?void 0:h.instructions.length)??1)-1)y(w+1);else try{$(!0);let we=await c();if(b||!we||!q||!o||!l||!R)return;let{rootWallet:_e}=s3(l,q.address);if(!_e)throw Error("No root wallet for transacting wallet found");let{entropyId:Me,entropyIdVerifier:ke}=Qr(_e),{signature:Te,receipt:Ue}=await vle({tx:u,accessToken:we,connection:H,walletProxy:o,entropyId:Me,entropyIdVerifier:ke,transactingWalletAddress:q.address,transactingWalletIndex:q.walletIndex??0,transactionOptions:(De=t.sendSolanaTransaction)==null?void 0:De.transactionOptions});O(Bse(Te,Ue))}catch(we){console.warn({transaction:u,error:we}),B(we)}finally{$(!1)}},onClose:U,onBack:w>0&&Y>1?()=>y(w-1):void 0})};async function Sle({accessToken:t,entropyId:e,entropyIdVerifier:r,transactingWallet:n,walletProxy:i,transactionRequest:s,provider:o,requesterAppId:a}){(function(c){for(let u of["gasLimit","gasPrice","value","maxPriorityFeePerGas","maxFeePerGas"]){let f=c[u];if(f!==void 0&&!function(h){let p=typeof h=="number",g=typeof h=="bigint",m=typeof h=="string"&&/^-?0x[a-f0-9]+$/i.test(h);return p||g||m}(f))throw Error(`Transaction request property '${u}' must be a valid number, bigint, or hex string representing a quantity`)}if(typeof c.chainId!="number")throw Error("Transaction request property 'chainId' must be a number")})(s=Object.assign({chainId:m2},s));let l=(await i.rpc({entropyId:e,entropyIdVerifier:r,hdWalletIndex:n.walletIndex??0,chainType:"ethereum",accessToken:t,requesterAppId:a,request:{method:"eth_signTransaction",params:[s]}})).response.data;return await o.sendTransaction(l)}async function $le(t,e,r,n){let i=await n.getBalance(t),s=e.value||0,o=!i.sub(rs(s)).sub(r).isNegative();return{balance:i,hasSufficientFunds:o}}function Ile(t){return{to:t.to,from:t.from,contractAddress:t.contractAddress,transactionIndex:t.transactionIndex,root:t.root,logsBloom:t.logsBloom,blockHash:t.blockHash,transactionHash:t.transactionHash,logs:t.logs,blockNumber:t.blockNumber,confirmations:t.confirmations,byzantium:t.byzantium,type:t.type,status:t.status,gasUsed:t.gasUsed.toHexString(),cumulativeGasUsed:t.cumulativeGasUsed.toHexString(),effectiveGasPrice:t.effectiveGasPrice?t.effectiveGasPrice.toHexString():void 0}}let vft=(t,e)=>{if(t.gasUsed&&t.effectiveGasPrice)try{let r=Re.from(t.gasUsed),n=Re.from(t.effectiveGasPrice),i=r.mul(n);if(e){let s=Re.from(e);i=i.add(s)}return i.toString()}catch{return}};const xft=({txn:t,receipt:e,transactionInfo:r,onClose:n,tokenPrice:i,tokenSymbol:s,l1GasEstimate:o,receiptHeader:a,receiptDescription:l})=>d.jsxs(d.Fragment,{children:[d.jsx(ze,{onClose:n}),d.jsx(E8,{title:a??"Transaction complete!",description:l??"You're all set."}),d.jsx(gle,{tokenPrice:i,from:e.from,to:e.to,gas:vft(e,o),txn:t,transactionInfo:r,tokenSymbol:s}),d.jsx(Du,{}),d.jsx(Eft,{loading:!1,onClick:n,children:"All Done"}),d.jsx(vr,{}),d.jsx(ft,{})]});let Eft=ne(at).withConfig({displayName:"SubmitButton",componentId:"sc-12af0541-0"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]);const _ft=[{constant:!1,inputs:[{name:"_salt",type:"bytes32"},{name:"_initializer",type:"bytes"}],name:"deployAccount",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Cft=[{name:"from",type:"address"},{name:"param2",type:"address"},{name:"param3",type:"bytes"},{name:"param4",type:"tuple",components:[]},{type:"tuple",components:[{name:"param5",type:"address"},{name:"param6",type:"uint256"},{name:"param7",type:"uint256"},{name:"encodedInitData",type:"bytes"}]}],Aft=[{constant:!1,inputs:[{name:"spender",type:"address"},{name:"value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Sft=[{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"quantities",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"quantities",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"batchMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"batchMint",outputs:[],stateMutability:"payable",type:"function"}],$ft=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Ift=[{constant:!1,inputs:[{name:"_operator",type:"address"},{name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],kft=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Tft=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenIds",type:"uint256[]"},{name:"_amounts",type:"uint256[]"},{name:"_data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Nft=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"},{name:"_amount",type:"uint256"},{name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],kle=(t,e)=>{let r=Bc(Aft,t);if(r)return{action:"approve",functionName:"approve",isErc20Ish:!0,isNFTIsh:!1,spender:r.args[0],amount:r.args[1]};let n=Bc(j$,t);if(n)return{action:"transfer",functionName:"transfer",isErc20Ish:!0,isNFTIsh:!1,transferTo:n.args[0],amount:n.args[1]};if(!e)return{action:"transaction",functionName:"",isErc20Ish:!1,isNFTIsh:!1};let i=Bc(_ft,t);if(i&&typeof i.args[1]=="string"){let f=Pft(i.args[1]);if(f&&f[4].encodedInitData)return kle(f[4].encodedInitData,e)}let s=Bc(Ift,t);if(s)return{action:"approve",functionName:"setApprovalForAll",isNFTIsh:!0,isErc20Ish:!1,operator:s.args[0],approved:s.args[1]};let o=Bc(kft,t);if(o)return{action:"transfer",functionName:"transferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:o.args[0],transferTo:o.args[1],tokenId:o.args[2]};let a=Bc($ft,t);if(a)return{action:"transfer",functionName:"safeTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:a.args[0],transferTo:a.args[1],tokenId:a.args[2]};let l=Bc(Nft,t);if(l)return{action:"transfer",functionName:"safeTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:l.args[0],transferTo:l.args[1],tokenId:l.args[2],amount:l.args[3]};let c=Bc(Tft,t);if(c)return{action:"batch transfer",functionName:"safeBatchTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:c.args[0],transferTo:c.args[1],tokenIds:c.args[2],amounts:c.args[3]};let u=Bc(Sft,t);return u?{action:"mint",functionName:u.functionName,isNFTIsh:!0,isErc20Ish:!1,args:u.args}:{action:"transaction",isErc20Ish:!1,isNFTIsh:!1}};let Bc=(t,e)=>{try{let r=AZ({abi:t,data:e});return{functionName:r.functionName,args:r.args||[]}}catch{return null}},Pft=t=>{try{if(typeof t=="string")return tg(Cft,`0x${t.slice(10)}`)}catch{return null}};const Rft=(t,e,r)=>{let[n,i]=C.useState(null),{getAccessToken:s}=zt(),{walletProxy:o}=Ye();return C.useEffect(()=>{n&&i(null),(async()=>{if(!await s()||!o||!e)return null;let a=[],l=await lk(e.address,t,r).catch(p=>(a.push(p),t)),{totalGasEstimate:c,l1ExecutionFeeEstimate:u}=await ak(l,r).catch(p=>(a.push(p),{totalGasEstimate:null,l1ExecutionFeeEstimate:null})),{balance:f,hasSufficientFunds:h}=await $le(e.address,l,c??Re.from(0),r).catch(p=>(a.push(p),{balance:null,hasSufficientFunds:!1}));return{tx:l,totalGasEstimate:c,l1ExecutionFeeEstimate:u,balance:f,hasFunds:h,errors:a}})().then(i)},[t]),n};let hz=new Ka(new gh("There was an issue preparing your transaction",ni.E32603_DEFAULT_INTERNAL_ERROR.eipCode)),pz=(t,e)=>t!=null&&t.sendTransaction?"transactionRequest"in t.sendTransaction?t.sendTransaction.transactionRequest:t.sendTransaction.transactionRequests[e]:void 0;const Oft=()=>{var _e,Me,ke,Te,Ue,Be,Z,j,L,X,ae,fe,ge,Ie,Se,Ve,_t,Ge,jt,ci,er;let t,{data:e,onUserCloseViaDialogOrKeybindRef:r,setModalData:n,navigate:i}=qe(),{rpcConfig:s,chains:o,closePrivyModal:a,walletProxy:l}=Ye(),{getAccessToken:c,user:u}=zt(),f=$n(),[h,p]=C.useState(0),g=(q=e,q!=null&&q.sendTransaction?"transactionRequest"in q.sendTransaction?0:q.sendTransaction.transactionRequests.length-1:0),[m,w]=C.useState(pz(e,h)),[y,E]=C.useState(null),[v,b]=C.useState(),[$,P]=C.useState(!1),[O,D]=C.useState(null),[B,H]=C.useState(null);var q;if(!m||!(e!=null&&e.sendTransaction)||!(e!=null&&e.sendTransaction.transactingWallet))return d.jsx(qw,{error:Error("Invalid transaction request"),onClick:()=>{var yt;(yt=e==null?void 0:e.sendTransaction)==null||yt.onFailure(hz),a({shouldCallAuthOnSuccess:!1})}});let{entropyId:Y,entropyIdVerifier:R,transactingWallet:_}=e.sendTransaction,x=C.useMemo(()=>o.find(yt=>Number(yt.id)===Number(m.chainId)),[m.chainId]),A=(x==null?void 0:x.nativeCurrency.symbol)??"ETH",T=C.useMemo(()=>kle(m.data,!!f.embeddedWallets.extendedCalldataDecoding),[m.data]),{action:I,isErc20Ish:N,isNFTIsh:M}=T,{toAddress:U,tokenAddress:S}=C.useMemo(()=>({toAddress:T.isErc20Ish?T.transferTo:m.to,tokenAddress:T.isErc20Ish?m.to:void 0}),[T]);C.useEffect(()=>{m.to&&x&&N&&jae({address:m.to,chain:x,rpcConfig:f.rpcConfig,privyAppId:f.id}).then(E).catch(console.error)},[m.to,x]);let{tokenPrice:F,isTokenPriceLoading:Q}=xg(m.chainId),k=C.useMemo(()=>w1(Number(m.chainId),o,s,{appId:f.id}),[m.chainId,s]),W=Rft(m,_,k);C.useEffect(()=>{w(pz(e,h))},[h]),C.useEffect(()=>{var yt;(yt=e.sendTransaction)!=null&&yt.getIsSponsored?e.sendTransaction.getIsSponsored().then(b).catch(console.error):b(!1)},[e.sendTransaction.getIsSponsored]);let V=()=>{var yt,Ar,Nt;if(!$)return O?(yt=e==null?void 0:e.sendTransaction)==null||yt.onSuccess(O.response):B||W!=null&&W.errors[0]?(Ar=e==null?void 0:e.sendTransaction)==null||Ar.onFailure(B??(W==null?void 0:W.errors[0])??hz):(Nt=e==null?void 0:e.sendTransaction)==null||Nt.onFailure(new Ka(new gh("The user rejected the request",ni.E4001_USER_REJECTED_REQUEST.eipCode))),a({shouldCallAuthOnSuccess:!1})};r.current=V;let ee=!!(e.funding&&e.funding.supportedOptions.length>0),te=f.embeddedWallets.priceDisplay.primary==="fiat-currency",ce=rs((W==null?void 0:W.tx.value)??0).add(rs(((_e=W==null?void 0:W.totalGasEstimate)==null?void 0:_e.toBigInt())??0)).toHexString(),K=ca(ce,A),G=te&&F?vh(ce,F):void 0,pe=ca(((Me=W==null?void 0:W.totalGasEstimate)==null?void 0:Me.toString())??0,A),de=te&&F?vh(((ke=W==null?void 0:W.totalGasEstimate)==null?void 0:ke.toString())??0,F):void 0,ye=ca(((Te=W==null?void 0:W.balance)==null?void 0:Te.toString())??0,A,void 0,!0),Ne=te&&F?vh(((Ue=W==null?void 0:W.balance)==null?void 0:Ue.toString())??0,F):void 0,je=(j=(Z=(Be=e.sendTransaction)==null?void 0:Be.uiOptions)==null?void 0:Z.transactionInfo)==null?void 0:j.title;je||(je=I==="approve"?N?"Confirm address":"Confirm action":`Approve ${I}`);let Qe=((X=(L=e.sendTransaction)==null?void 0:L.uiOptions)==null?void 0:X.description)||`${f.name} wants your permission to approve the following transaction.`,xe=(Ie=(ge=(fe=(ae=e.sendTransaction)==null?void 0:ae.uiOptions)==null?void 0:fe.transactionInfo)==null?void 0:ge.contractInfo)!=null&&Ie.imgUrl?d.jsx("img",{src:e.sendTransaction.uiOptions.transactionInfo.contractInfo.imgUrl,alt:e.sendTransaction.uiOptions.transactionInfo.contractInfo.imgAltText}):null,he=!(!W||W.errors[0]||W.hasFunds||v!==!1),ht=he&&ee,De=ht?"Add funds":((Ve=(Se=e.sendTransaction)==null?void 0:Se.uiOptions)==null?void 0:Ve.buttonText)||(h<g?"Continue":"Approve");if(O!=null&&O.receipt)return d.jsx(xft,{txn:(W==null?void 0:W.tx)??m,onClose:V,receipt:O.receipt,transactionInfo:(_t=e.sendTransaction)==null?void 0:_t.uiOptions.transactionInfo,tokenPrice:F,tokenSymbol:A,l1GasEstimate:(Ge=W==null?void 0:W.l1ExecutionFeeEstimate)==null?void 0:Ge.toString(),receiptHeader:(jt=e.sendTransaction)==null?void 0:jt.uiOptions.successHeader,receiptDescription:(ci=e.sendTransaction)==null?void 0:ci.uiOptions.successDescription});if(B)return d.jsx(Ale,{transactionError:B,network:"ethereum",chainId:(W==null?void 0:W.tx.chainId)??m.chainId,onClose:V,onRetry:({resetNonce:yt})=>{H(null);let Ar={...(W==null?void 0:W.tx)??m};yt&&(Ar.nonce=void 0),w(Ar)}});let we=g!==0&&typeof h=="number"&&h!==0?()=>{p(h-1)}:void 0;return"amount"in T&&T.amount&&(T.isNFTIsh?t=T.amount.toString():y&&(t=Pae({amount:T.amount,decimals:y.decimals}))),d.jsx(Gdt,{transactionIndex:h,onBack:we,maxIndex:g,disabled:he&&!ee,isSubmitting:$,submitError:B,isPreparing:!W,isTokenPriceLoading:Q,isTokenContractInfoLoading:!M&&!y,prepareError:W==null?void 0:W.errors[0],symbol:y==null?void 0:y.symbol,chain:x,img:xe,title:je,subtitle:Qe,total:m.value?G??K:void 0,txValue:m.value,fee:de??pe,isSponsored:v,from:(_==null?void 0:_.address)??"",to:U,tokenAddress:S,network:((er=f.chains.find(yt=>yt.id===m.chainId))==null?void 0:er.name)??"",transactionDetails:{...T,formattedAmount:t},cta:De,missingFunds:he,action:I,balance:Ne??ye,onClose:V,onClick:ht?async()=>{var Ar;if(!_)return;if(!ee)throw Error("Funding wallet is not enabled");let yt=se.FUNDING_METHOD_SELECTION_SCREEN;n({...e,funding:{...e.funding,methodScreen:yt,chainType:"ethereum",amount:iw(BigInt((W==null?void 0:W.tx.value)??0)+BigInt(((Ar=W==null?void 0:W.totalGasEstimate)==null?void 0:Ar.toString())??0)),chain:x}}),i(yt)}:async()=>{var yt,Ar;if(h<g)p(h+1);else{P(!0);try{let Nt=await c();if($||!Nt||!_||!l||!u)return;let Yt=(yt=e==null?void 0:e.sendTransaction)!=null&&yt.onConfirm?await e.sendTransaction.onConfirm().then(qt=>k.getTransaction(qt)):await Sle({accessToken:Nt,transactingWallet:_,entropyId:Y,entropyIdVerifier:R,walletProxy:l,transactionRequest:(W==null?void 0:W.tx)??m,provider:k,requesterAppId:(Ar=e.sendTransaction)==null?void 0:Ar.requesterAppId}),$i=await Yt.wait();D({receipt:Ile($i),response:Yt})}catch(Nt){console.warn({transaction:(W==null?void 0:W.tx)??m,error:Nt}),H(Nt)}finally{P(!1)}}}})},jft=ne.img.withConfig({displayName:"StyledLogo",componentId:"sc-68c1b1ea-0"})(["&&{height:",";width:",";border-radius:16px;margin-bottom:12px;}"],t=>t.size==="sm"?"65px":"140px",t=>t.size==="sm"?"65px":"140px");let Mft=t=>{if(!sr(t))return t;try{return z1(t)}catch{return t}},Dft=({data:t})=>{let e=r=>typeof r=="object"&&r!==null?d.jsx(Bft,{children:Object.entries(r).map(([n,i])=>d.jsxs("li",{children:[d.jsxs("strong",{children:[n,":"]})," ",e(i)]},n))}):d.jsx("span",{children:String(r)});return d.jsx("div",{children:e(t)})},Lft=t=>{let{types:e,primaryType:r,...n}=t.typedData;return d.jsxs(d.Fragment,{children:[d.jsx(W$,{children:d.jsx(Dft,{data:n})}),d.jsx(X8,{text:(i=t.typedData,JSON.stringify(i,null,2)),itemName:"full payload to clipboard"})," "]});var i};const Fft=()=>{let{authenticated:t}=zt(),{initializeWalletProxy:e,closePrivyModal:r}=Ye(),{navigate:n,data:i,onUserCloseViaDialogOrKeybindRef:s}=qe(),[o,a]=C.useState(!0),[l,c]=C.useState(""),[u,f]=C.useState(),[h,p]=C.useState(null),[g,m]=C.useState(!1),w=h!==null;C.useEffect(()=>{t||n(se.LANDING)},[t]),C.useEffect(()=>{e(sT).then(B=>{a(!1),B||(c("An error has occurred, please try again."),f(new Ka(new gh(l,ni.E32603_DEFAULT_INTERNAL_ERROR.eipCode))))})},[]);let{method:y,data:E,confirmAndSign:v,onSuccess:b,onFailure:$,uiOptions:P}=i.signMessage,O={title:P.title||"Sign message",description:P.description||"Signing this message will not cost you any fees.",buttonText:P.buttonText||"Sign and continue"},D=B=>{B?b(B):$(u||new Ka(new gh("The user rejected the request.",ni.E4001_USER_REJECTED_REQUEST.eipCode))),r({shouldCallAuthOnSuccess:!1}),setTimeout(()=>{p(null),c(""),f(void 0)},200)};return s.current=()=>{D(h)},d.jsxs(d.Fragment,{children:[d.jsx(ze,{onClose:()=>D(h)}),d.jsx(wr,{}),P.iconUrl&&typeof P.iconUrl=="string"?d.jsx(zft,{children:d.jsx(jft,{size:"sm",src:P.iconUrl,alt:"app image"})}):null,d.jsx(Bu,{children:O.title}),d.jsx(_f,{children:O.description}),y==="personal_sign"&&d.jsx(W$,{children:Mft(E)}),y==="eth_signTypedData_v4"&&d.jsx(Lft,{typedData:E}),y==="solana_signMessage"&&d.jsx(W$,{children:E}),d.jsx(Hft,{}),d.jsx(Uft,{$fail:!0,children:l}),d.jsx(E2,{disabled:g||w||o,loading:g,onClick:async()=>{m(!0),c("");try{let B=await v();p(B),m(!1),setTimeout(()=>{D(B)},zr)}catch(B){console.error(B),c("An error has occurred, please try again."),f(new Ka(new gh(l,ni.E32603_DEFAULT_INTERNAL_ERROR.eipCode))),m(!1)}},children:g?"Signing...":w?d.jsxs(Wft,{children:[d.jsx(bse,{style:{height:"0.9rem",width:"0.9rem"},strokeWidth:2})," ",d.jsx("span",{children:"Success"})]}):O.buttonText}),d.jsx(vr,{}),d.jsx(ft,{})]})};let W$=ne.div.withConfig({displayName:"Message",componentId:"sc-8f49c712-0"})(["margin-top:1.5rem;background-color:var(--privy-color-background-2);border-radius:var(--privy-border-radius-md);padding:12px;text-align:left;max-height:310px;overflow:scroll;white-space:pre-wrap;width:100%;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}}"]),Bft=ne.ul.withConfig({displayName:"MessageList",componentId:"sc-8f49c712-1"})(["margin-left:12px !important;white-space:nowrap;&:first-child{margin-left:0 !important;}strong{font-weight:500 !important;}}"]),Uft=ne.div.withConfig({displayName:"InputHelp",componentId:"sc-8f49c712-2"})(["line-height:20px;height:20px;font-size:13px;color:",";display:flex;justify-content:flex-start;width:100%;margin-top:16px;margin-bottom:4px;"],t=>t.$fail?"var(--privy-color-error)":"var(--privy-color-foreground-3)"),Wft=ne.span.withConfig({displayName:"ContentWithIcon",componentId:"sc-8f49c712-3"})(["display:flex;align-items:center;gap:8px;"]),zft=ne.div.withConfig({displayName:"IconContainer",componentId:"sc-8f49c712-4"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;"]),Hft=ne.div.withConfig({displayName:"Grow",componentId:"sc-8f49c712-5"})(["flex-grow:1;"]);const qft=()=>{let{authenticated:t,logout:e,ready:r,user:n}=zt(),{app:i,setModalData:s,navigate:o,resetNavigation:a,data:l}=qe(),{initLoginWithTelegram:c,loginWithTelegram:u,updateWallets:f,setReadyToTrue:h,closePrivyModal:p,createAnalyticsEvent:g,getAuthMeta:m}=Ye(),[w,y]=C.useState(!1),[E,v]=C.useState(void 0),b=eo();async function $(){var D,B,H,q,Y,R,_,x,A,T,I,N,M,U;try{let S=await async function(){let F;if(b.enabled&&b.status==="error")throw new R4(b.error,null,ue.CAPTCHA_FAILURE);return b.enabled&&b.status!=="success"&&(b.execute(),F=await b.waitForResult()),F}();await u(S),y(!0),h(!0)}catch(S){if((S==null?void 0:S.privyErrorCode)===ue.ALLOWLIST_REJECTED)return v(void 0),a(),void o(se.ALLOWLIST_REJECTION_SCREEN);if((S==null?void 0:S.privyErrorCode)===ue.USER_LIMIT_REACHED)return console.error(new hw(S).toString()),v(void 0),a(),void o(se.USER_LIMIT_REACHED_SCREEN);if((S==null?void 0:S.privyErrorCode)===ue.USER_DOES_NOT_EXIST)return v(void 0),a(),void o(se.ACCOUNT_NOT_FOUND_SCREEN);if((S==null?void 0:S.privyErrorCode)===ue.ACCOUNT_TRANSFER_REQUIRED&&((B=(D=S.data)==null?void 0:D.data)!=null&&B.nonce))return v(void 0),a(),s({accountTransfer:{nonce:(q=(H=S.data)==null?void 0:H.data)==null?void 0:q.nonce,account:(R=(Y=S.data)==null?void 0:Y.data)==null?void 0:R.subject,telegramAuthResult:(_=m())==null?void 0:_.telegramAuthResult,telegramWebAppData:(x=m())==null?void 0:x.telegramWebAppData,displayName:(I=(T=(A=S.data)==null?void 0:A.data)==null?void 0:T.account)==null?void 0:I.displayName,linkMethod:"telegram",embeddedWalletAddress:(U=(M=(N=S.data)==null?void 0:N.data)==null?void 0:M.otherUser)==null?void 0:U.embeddedWalletAddress}}),void o(se.LINK_CONFLICT_SCREEN);let{retryable:F,detail:Q}=_M(S);v({retryable:F,detail:Q,message:"Authentication failed"})}}C.useEffect(()=>{$()},[]),C.useEffect(()=>{var B;if(!(r&&t&&w&&n))return;if(i!=null&&i.legal.requireUsersAcceptTerms&&!n.hasAcceptedTerms){let H=setTimeout(()=>{o(se.AFFIRMATIVE_CONSENT_SCREEN)},zr);return()=>clearTimeout(H)}if(Pu(n,(B=i==null?void 0:i.embeddedWallets)==null?void 0:B.createOnLogin)){let H=setTimeout(()=>{s({createWallet:{onSuccess:()=>{},onFailure:q=>{console.error(q),g({eventName:"embedded_wallet_creation_failure_logout",payload:{error:q,provider:"telegram",screen:"TelegramAuthScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),o(se.EMBEDDED_WALLET_ON_ACCOUNT_CREATE_SCREEN)},zr);return()=>clearTimeout(H)}f();let D=setTimeout(()=>p({shouldCallAuthOnSuccess:!0,isSuccess:!0}),zr);return()=>clearTimeout(D)},[r,t,w,n]);let P=w?"Successfully connected with Telegram":E?E.message:"Verifying connection to Telegram",O="";return O=w?"Youre good to go!":E?E.detail:"Just a few moments more",d.jsxs(d.Fragment,{children:[d.jsx(ze,{}),d.jsx(wr,{}),d.jsxs(Vft,{children:[d.jsx(Ys,{children:d.jsxs("div",{children:[d.jsx(sl,{success:w,fail:!!E}),d.jsx(tle,{style:{width:"38px",height:"38px"}})]})}),d.jsxs(Io,{children:[d.jsx("h3",{children:P}),d.jsx("p",{children:O})]}),E&&(E!=null&&E.retryable)?d.jsx(WT,{onClick:async()=>{var D,B;try{v(void 0),(D=l==null?void 0:l.telegramAuthModalData)!=null&&D.seamlessAuth||await c(void 0,(B=l==null?void 0:l.login)==null?void 0:B.disableSignup),await $()}catch(H){let{retryable:q,detail:Y}=_M(H);v({retryable:q,detail:Y,message:"Authentication failed"})}},disabled:!w&&!(E!=null&&E.retryable),children:"Retry"}):null]}),d.jsx(vr,{}),d.jsx(Bt,{})]})};let Vft=ne.div.withConfig({displayName:"ConnectContainer",componentId:"sc-7ee9073f-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:27px;margin-right:27px;gap:24px;"]);const Gft=C.forwardRef((t,e)=>{let[r,n]=C.useState(""),[i,s]=C.useState(""),[o,a]=C.useState(!1),{authenticated:l,user:c}=zt(),{initUpdateEmail:u}=Ye(),{navigate:f,setModalData:h,currentScreen:p}=qe(),{enabled:g,token:m}=eo(),w=$n(),y=FJ(r)&&(w.disablePlusEmails&&r.includes("+")?(i||s("Please enter a valid email address without a '+'."),!1):(i&&s(""),!0)),E=o||!y,v=()=>{!g||m||l?(async b=>{if(!(c!=null&&c.email))throw Error("User is required to have an email address to update it.");a(!0);try{await u(c.email.address,r,b),f(se.AWAITING_PASSWORDLESS_CODE)}catch($){h({errorModalData:{error:$,previousScreen:p||se.LANDING}})}a(!1)})(m):(h({captchaModalData:{callback:b=>{if(!(c!=null&&c.email))throw Error("User is required to have an email address to update it.");return u(c.email.address,r,b)},userIntentRequired:!1,onSuccessNavigateTo:se.AWAITING_PASSWORDLESS_CODE,onErrorNavigateTo:se.ERROR_SCREEN}}),f(se.CAPTCHA_SCREEN))};return d.jsxs(d.Fragment,{children:[d.jsxs(Kft,{children:[i&&d.jsx(Fu,{style:{marginTop:"0.25rem",textAlign:"left"},children:i}),d.jsxs(Yft,{$error:!!i,children:[d.jsx(dp,{}),d.jsx("input",{ref:e,id:"email-input",type:"email",placeholder:"your@email.com",onChange:b=>n(b.target.value),onKeyUp:b=>{b.key==="Enter"&&v()},value:r,autoComplete:"email"}),t.stacked?null:d.jsx(zT,{isSubmitting:o,onClick:v,disabled:E,children:"Submit"})]})]}),t.stacked?d.jsx(at,{loadingText:null,loading:o,disabled:E,onClick:v,children:"Submit"}):null]})});let Kft=Bae,Yft=Wct;const Zft=()=>d.jsxs(d.Fragment,{children:[d.jsx(ze,{},"header"),d.jsx(wr,{}),d.jsx(Yr,{title:"Update your email",description:"Add the email address you'd like to use going forward. We'll send you a confirmation code",icon:d.jsx(dp,{color:"var(--privy-color-accent)",strokeWidth:2,height:"48px",width:"48px"})}),d.jsx(fp,{children:d.jsx(Gft,{stacked:!0})}),d.jsx(vr,{}),d.jsx(ft,{})]}),Jft=()=>{let{currentScreen:t,data:e,navigate:r,setModalData:n}=qe(),{user:i}=zt(),{initUpdatePhone:s}=Ye();return d.jsxs(d.Fragment,{children:[d.jsx(ze,{},"header"),d.jsx(wr,{}),d.jsx(Yr,{title:"Update your phone number",description:"Add the phone number you'd like to use going forward. We'll send you a confirmation code",icon:d.jsx(ol,{color:"var(--privy-color-accent)",strokeWidth:2,height:"48px",width:"48px"})}),d.jsx(fp,{children:d.jsx(Cx,{stacked:!0,onSubmit:async function({qualifiedPhoneNumber:o}){var a,l,c;try{if(!((a=i==null?void 0:i.phone)!=null&&a.number))throw Error("User is required to have an phone number to update it.");await s((l=i==null?void 0:i.phone)==null?void 0:l.number,o),r(se.AWAITING_PASSWORDLESS_CODE)}catch(u){n({errorModalData:{error:u,previousScreen:((c=e==null?void 0:e.errorModalData)==null?void 0:c.previousScreen)||t||se.LINK_PHONE_SCREEN}}),r(se.ERROR_SCREEN)}},hideRecent:!0})}),d.jsx(vr,{}),d.jsx(ft,{})]})},Qft=({style:t,...e})=>d.jsx("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"38px",width:"38px",...t},...e,children:d.jsx("path",{d:"M20 13.6V20M20 26.4H20.016M36 20C36 28.8365 28.8366 36 20 36C11.1635 36 4.00001 28.8365 4.00001 20C4.00001 11.1634 11.1635 3.99999 20 3.99999C28.8366 3.99999 36 11.1634 36 20Z",stroke:"currentColor",strokeWidth:"3.2",strokeLinecap:"round",strokeLinejoin:"round"})}),Xft=()=>{let{navigate:t}=qe();return d.jsxs(d.Fragment,{children:[d.jsx(ze,{}),d.jsxs(eht,{children:[d.jsx(tht,{children:d.jsx(Qft,{})}),d.jsxs(rht,{children:[d.jsx("h3",{children:"Unable to sign in"}),d.jsx("p",{children:"This application has reached its user limit and cannot sign in new users."})]}),d.jsx(at,{onClick:()=>{t(se.LANDING)},children:"Go back"})]}),d.jsx(ft,{})]})};let eht=ne.div.withConfig({displayName:"ConnectContainer",componentId:"sc-fc448c87-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;padding-top:8px;padding-bottom:32px;"]),tht=ne.div.withConfig({displayName:"IconContainer",componentId:"sc-fc448c87-1"})(["display:flex;align-items:center;justify-content:center;height:72px;aspect-ratio:1;color:var(--privy-color-error);background-color:var(--privy-color-error-light);border-radius:50%;"]),rht=ne.div.withConfig({displayName:"GappedContainer",componentId:"sc-fc448c87-2"})(["display:flex;flex-direction:column;gap:8px;"]),nht=`
  *,
  ::before,
  ::after {
    box-sizing: border-box;
    border-width: 0;
    border-style: solid;
  }

  line-height: 1.15;
  -webkit-text-size-adjust: 100%;
  -moz-tab-size: 4;
  tab-size: 4;
  font-feature-settings: normal;

  margin: 0;
  font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';

  hr {
    height: 0;
    color: inherit;
    border-top-width: 1px;
  }

  abbr:where([title]) {
    text-decoration: underline dotted;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-size: inherit;
    font-weight: inherit;
    font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';
    display: inline;
  }

  a {
    color: inherit;
    text-decoration: inherit;
  }

  b,
  strong {
    font-weight: bolder;
  }

  code,
  kbd,
  samp,
  pre {
    font-family: ui-monospace, SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace;
    font-size: 1em;
  }

  small {
    font-size: 80%;
  }

  sub,
  sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
  }

  sub {
    bottom: -0.25em;
  }

  sup {
    top: -0.5em;
  }

  table {
    text-indent: 0;
    border-color: inherit;
    border-collapse: collapse;
  }

  button,
  input,
  optgroup,
  select,
  textarea {
    font-family: inherit;
    font-size: 100%;
    font-weight: inherit;
    line-height: inherit;
    color: inherit;
    margin: 0;
    padding: 0;
  }

  button,
  select {
    text-transform: none;
  }

  button,
  [type='button'],
  [type='reset'],
  [type='submit'] {
    -webkit-appearance: button;
    background-color: transparent;
    background-image: none;
  }

  ::-moz-focus-inner {
    border-style: none;
    padding: 0;
  }

  :-moz-focusring {
    outline: 1px dotted ButtonText;
  }

  :-moz-ui-invalid {
    box-shadow: none;
  }

  legend {
    padding: 0;
  }

  progress {
    vertical-align: baseline;
  }

  ::-webkit-inner-spin-button,
  ::-webkit-outer-spin-button {
    height: auto;
  }

  [type='search'] {
    -webkit-appearance: textfield;
    outline-offset: -2px;
  }

  ::-webkit-search-decoration {
    -webkit-appearance: none;
  }

  ::-webkit-file-upload-button {
    -webkit-appearance: button;
    font: inherit;
  }

  summary {
    display: list-item;
  }

  blockquote,
  dl,
  dd,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  hr,
  figure,
  p,
  pre {
    margin: 0;
  }

  fieldset {
    margin: 0;
    padding: 0;
  }

  legend {
    padding: 0;
  }

  ol,
  ul,
  menu {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  textarea {
    resize: vertical;
  }

  input::placeholder,
  textarea::placeholder {
    opacity: 1;
    color: #9ca3af;
  }

  button,
  [role='button'] {
    cursor: pointer;
  }

  :disabled {
    cursor: default;
  }

  img,
  svg,
  video,
  canvas,
  audio,
  iframe,
  embed,
  object {
    display: block;
  }

  img,
  video {
    max-width: 100%;
    height: auto;
  }

  [hidden] {
    display: none;
  }
`;const iht=mTe([":root{--privy-border-radius-sm:6px;--privy-border-radius-md:12px;--privy-border-radius-mdlg:16px;--privy-border-radius-lg:24px;--privy-border-radius-full:9999px;--privy-color-background:",";--privy-color-background-2:",";--privy-color-background-3:",";--privy-color-foreground:",";--privy-color-foreground-2:",";--privy-color-foreground-3:",";--privy-color-foreground-4:",";--privy-color-foreground-accent:",";--privy-color-accent:",";--privy-color-accent-light:",";--privy-color-accent-lightest:",";--privy-color-accent-dark:",";--privy-color-accent-darkest:",";--privy-color-success:",";--privy-color-success-dark:",";--privy-color-success-light:",";--privy-color-error:",";--privy-color-error-light:",";--privy-color-warn:",";--privy-color-warn-light:",";--privy-height-modal-full:620px;--privy-height-modal-compact:480px;};"],t=>t.theme.background,t=>t.theme.background2,t=>t.theme.background3,t=>t.theme.foreground,t=>t.theme.foreground2,t=>t.theme.foreground3,t=>t.theme.foreground4,t=>t.theme.foregroundAccent,t=>t.theme.accent,t=>t.theme.accentLight,t=>t.theme.accentLightest,t=>t.theme.accentDark,t=>t.theme.accentDarkest,t=>t.theme.success,t=>t.theme.successDark,t=>t.theme.successLight,t=>t.theme.error,t=>t.theme.errorLight,t=>t.theme.warn,t=>t.theme.warnLight),gz=ne.div.withConfig({displayName:"StylesWrapper",componentId:"sc-bc1e45b4-0"})([""," color:var(--privy-color-foreground-2);h3{font-size:16px;line-height:24px;font-weight:500;color:var(--privy-color-foreground-2);}h4{font-size:14px;line-height:20px;font-weight:500;color:var(--privy-color-foreground);}p{font-size:13px;line-height:20px;color:var(--privy-color-foreground-2);}button:focus,input:focus,optgroup:focus,select:focus,textarea:focus{outline:none;border-color:var(--privy-color-accent-light);box-shadow:0 0 0 1px var(--privy-color-accent-light);}.mobile-only{@media (min-width:441px){display:none;}}@keyframes fadein{0%{opacity:0;}100%{opacity:1;}}"],nht),sht=({children:t,open:e,onClick:r,...n})=>d.jsx(hae,{show:e,as:Je.Fragment,children:d.jsxs(_at,{onClose:r,...n,as:aht,children:[d.jsx(F2,{as:Je.Fragment,enterFrom:"entering",leaveTo:"leaving",children:d.jsx(oht,{id:"privy-dialog-backdrop","aria-hidden":"true"})}),d.jsx(lht,{children:d.jsx(F2,{as:Je.Fragment,enterFrom:"entering",leaveTo:"leaving",children:d.jsx(pae,{as:cht,children:t})})})]})});let oht=ne.div.withConfig({displayName:"Backdrop",componentId:"sc-28ab5e6b-0"})(["position:fixed;inset:0;transition:backdrop-filter 100ms ease;backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px);&.entering,&.leaving{backdrop-filter:unset;-webkit-backdrop-filter:unset;}"]),aht=ne.div.withConfig({displayName:"DialogWrapper",componentId:"sc-28ab5e6b-1"})(["position:relative;z-index:999999;"]),lht=ne.div.withConfig({displayName:"DialogContainer",componentId:"sc-28ab5e6b-2"})(["position:fixed;inset:0;display:flex;align-items:center;justify-content:center;width:100vw;min-height:100vh;"]);const cht=ne.div.withConfig({displayName:"Panel",componentId:"sc-28ab5e6b-3"})(["padding:0;background:transparent;border:none;width:100%;pointer-events:auto;outline:none;display:block;@media (max-width:440px){opacity:1;transform:translate3d(0,0,0);transition:transform 200ms ease-in;position:fixed;bottom:0;&.entering,&.leaving{opacity:0;transform:translate3d(0,100%,0);transition:transform 150ms ease-in 0ms,opacity 0ms ease 150ms;}}@media (min-width:441px){opacity:1;transition:opacity 100ms ease-in;&.entering,&.leaving{opacity:0;transition-delay:5ms;}margin:auto;width:360px;box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]),uht=ne.div.withConfig({displayName:"CenterItem",componentId:"sc-28ab5e6b-4"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;"]);let dht={[se.LANDING]:cut,[se.CONNECT_OR_CREATE]:lut,[se.AWAITING_PASSWORDLESS_CODE]:vPe,[se.AWAITING_CONNECTION]:kXe,[se.AWAITING_CONNECT_ONLY_CONNECTION]:PXe,[se.AWAITING_FARCASTER_CONNECTION]:Srt,[se.AWAITING_FARCASTER_SIGNER]:Irt,[se.SELECT_PASSKEY_SIGNUP_OR_LOGIN]:vdt,[se.AWAITING_PASSKEY_SYSTEM_DIALOGUE]:Edt,[se.PHANTOM_INTERSTITIAL_SCREEN]:Adt,[se.LOGIN_FAILED_SCREEN]:put,[se.AWAITING_OAUTH_SCREEN]:wdt,[se.CROSS_APP_AUTH_SCREEN]:jXe,[se.ALLOWLIST_REJECTION_SCREEN]:aPe,[se.ACCOUNT_NOT_FOUND_SCREEN]:ONe,[se.USER_LIMIT_REACHED_SCREEN]:Xft,[se.INSTALL_PHANTOM_SCREEN]:Mct,[se.LINK_EMAIL_SCREEN]:uut,[se.LINK_PHONE_SCREEN]:dut,[se.LINK_WALLET_SCREEN]:fut,[se.LINK_PASSKEY_SCREEN]:clt,[se.UPDATE_EMAIL_SCREEN]:Zft,[se.UPDATE_PHONE_SCREEN]:Jft,[se.CONNECT_ONLY_LANDING_SCREEN]:eRe,[se.CONNECT_ONLY_AUTHENTICATED_SCREEN]:XPe,[se.EMBEDDED_WALLET_ON_ACCOUNT_CREATE_SCREEN]:pet,[se.EMBEDDED_WALLET_CREATED_SCREEN]:oet,[se.EMBEDDED_WALLET_CONNECTING_SCREEN]:iet,[se.EMBEDDED_WALLET_PASSWORD_RECOVERY_SCREEN]:$dt,[se.EMBEDDED_WALLET_RECOVERY_SELECTION_SCREEN]:Bdt,[se.EMBEDDED_WALLET_SET_AUTOMATIC_RECOVERY_SCREEN]:Wdt,[se.EMBEDDED_WALLET_RECOVERY_OAUTH_SCREEN]:Rdt,[se.EMBEDDED_WALLET_KEY_EXPORT_SCREEN]:uet,[se.EMBEDDED_WALLET_SIGN_REQUEST_SCREEN]:Fft,[se.EMBEDDED_WALLET_SEND_TRANSACTION_SCREEN]:Oft,[se.EMBEDDED_WALLET_SEND_SOLANA_TRANSACTION_SCREEN]:bft,[se.EMBEDDED_WALLET_DELEGATED_ACTIONS_CONSENT_SCREEN]:WXe,[se.EMBEDDED_WALLET_DELEGATED_ACTIONS_REVOKE_SCREEN]:GXe,[se.FUNDING_METHOD_SELECTION_SCREEN]:mct,[se.MOONPAY_STATUS_SCREEN]:Ect,[se.COINBASE_ONRAMP_STATUS_SCREEN]:Rlt,[se.FUNDING_TRANSFER_FROM_WALLET_SCREEN]:kct,[se.FUNDING_EDIT_AMOUNT_SCREEN]:Flt,[se.FUNDING_AWAITING_TRANSFER_FROM_EXTERNAL_WALLET_SCREEN]:Tlt,[se.FUNDING_AWAITING_TRANSFER_FROM_EXTERNAL_SOLANA_WALLET_SCREEN]:$lt,[se.FUNDING_AWAITING_EVM_TO_SOL_BRIDGING_SCREEN]:Slt,[se.FUNDING_AWAITING_SOL_TO_EVM_BRIDGING_SCREEN]:Nlt,[se.FUNDING_MANUAL_TRANSFER_SCREEN]:wct,[se.EMBEDDED_WALLET_PASSWORD_UPDATE_SPLASH_SCREEN]:_tt,[se.EMBEDDED_WALLET_PASSWORD_UPDATE_SCREEN]:vtt,[se.EMBEDDED_WALLET_PASSWORD_CREATE_SCREEN]:Odt,[se.MFA_ENROLLMENT_FLOW_SCREEN]:zut,[se.CAPTCHA_SCREEN]:NPe,[se.ERROR_SCREEN]:Att,[se.IN_APP_BROWSER_LOGIN_NOT_POSSIBLE]:Tct,[se.AFFIRMATIVE_CONSENT_SCREEN]:iPe,[se.TELEGRAM_AUTH_SCREEN]:qft,[se.LINK_CONFLICT_SCREEN]:JNe},fht=[se.LANDING,se.AWAITING_CONNECTION],Tle=({isMfaVerifying:t,onMfaVerificationComplete:e})=>{let{ready:r,isModalOpen:n}=zt(),{headless:i}=$n(),{ready:s,currentScreen:o}=qe(),{status:a,execute:l,reset:c,enabled:u}=eo(),f=n&&o&&fht.includes(o)&&!i&&a==="ready";return C.useEffect(()=>{f&&l()},[f]),C.useEffect(()=>{!n&&u&&c()},[n,u]),r&&s||o===se.AWAITING_OAUTH_SCREEN||o===se.CROSS_APP_AUTH_SCREEN||o===se.TELEGRAM_AUTH_SCREEN?!o&&t?d.jsx(oz,{open:t,onClose:e}):o?d.jsxs(d.Fragment,{children:[d.jsx(Fh,{$if:!!t,children:d.jsx(dht[o],{})}),d.jsx(Fh,{$if:!t,children:d.jsx(oz,{open:t,onClose:e})})]}):null:d.jsxs(d.Fragment,{children:[d.jsx(ze,{}),d.jsx(wr,{}),d.jsx(uht,{children:d.jsx(ma,{})}),d.jsx(vr,{}),d.jsx(Bt,{})]})},hht=({isMfaVerifying:t,onMfaVerificationComplete:e})=>{let r=C.useRef(null);return d.jsx(ght,{style:{height:lNe(r)},id:"privy-modal-content",children:d.jsx("div",{ref:r,children:d.jsx(Tle,{isMfaVerifying:t,onMfaVerificationComplete:e})})})};const pht=({open:t})=>{let{app:e}=qe(),{gracefulClosePrivyModal:r}=(()=>{let{closePrivyModal:o}=Ye(),{onUserCloseViaDialogOrKeybindRef:a}=qe();return{gracefulClosePrivyModal:C.useCallback(()=>{if(!(a!=null&&a.current))return o({shouldCallAuthOnSuccess:!1});a.current()},[o])}})(),[n,i]=C.useState(!1);uNe({onMfaRequired:()=>{e!=null&&e.mfa.noPromptOnMfaRequired||i(!0)}});let s=t||n;return e.render.standalone?d.jsx(gz,{children:d.jsx(Nle,{id:"privy-modal-content",children:d.jsx(Tle,{isMfaVerifying:n,onMfaVerificationComplete:()=>i(!1)})})}):d.jsx(sht,{open:s,id:"privy-dialog","aria-label":"log in or sign up","aria-labelledby":"privy-dialog-title",onClick:()=>r(),children:d.jsx(gz,{children:d.jsx(hht,{isMfaVerifying:n,onMfaVerificationComplete:()=>i(!1)})})})};let Nle=ne.div.withConfig({displayName:"ContentWrapper",componentId:"sc-5c971bfb-0"})(["display:flex;flex-direction:column;text-align:center;font-size:14px;line-height:20px;width:100%;background:var(--privy-color-background);padding:0 16px;"]),ght=ne(Nle).withConfig({displayName:"BaseModal",componentId:"sc-5c971bfb-1"})(["transition:height 150ms ease-out;overflow:hidden;max-height:calc(100svh - 32px);border-radius:var(--privy-border-radius-lg) var(--privy-border-radius-lg) 0 0;box-shadow:0px 0px 36px rgba(55,65,81,0.15);@media (min-width:441px){box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]);function mht(t){let e=C.useRef(null),r=C.useRef();return C.useEffect(()=>{var n,i;(n=r.current)==null||n.remove(),r.current=function({botUsername:s,scriptHost:o}){let a=document.createElement("script"),{origin:l}=new URL(o);return a.async=!0,a.src=`${l}/js/telegram-login.js`,a.setAttribute("data-telegram-login",s),a.setAttribute("data-request-access","write"),a.setAttribute("data-lang","en"),a}(t),(i=e.current)==null||i.after(r.current)},[t]),d.jsx("div",{ref:e,hidden:!0})}const yht=["metamask","phantom","brave_wallet","rainbow","uniswap_wallet_extension","uniswap_extension","rabby_wallet","bybit_wallet","crypto.com_wallet_extension","crypto.com_onchain","coinbase_wallet","coinbase_smart_wallet","metamask","trust","safe","rainbow","uniswap","zerion","argent","spot","omni","cryptocom","blockchain","safepal","bitkeep","zengo","1inch","binance","exodus","mew_wallet","alphawallet","keyring_pro","mathwallet","unstoppable","obvious","ambire","internet_money_wallet","coin98","abc_wallet","arculus_wallet","haha","cling_wallet","broearn","copiosa","burrito_wallet","enjin_wallet","plasma_wallet","avacus","bee","pitaka","pltwallet","minerva","kryptogo","prema","slingshot","kriptonio","timeless","secux","bitizen","blocto","okx_wallet","safemoon","rabby_wallet","bybit_wallet","privy","unknown","phantom","solflare","glow"];function wht(t){return yht.includes(t)}function bht(t){return t.chainType==="solana"}function mz(t){return t.type==="solana"}let vht=class extends oee{get isInstalled(){return this.adapter.readyState==="Installed"}buildConnectedWallet(e,r){let n,i,s;if(e.readyState!=="Installed"||!e.publicKey)throw Error("Wallet is not connected.");return"signMessage"in e&&(n=async(...o)=>{if(!e.connected)throw Error("Wallet is not connected.");return await e.signMessage(o[0])}),"sendTransaction"in e&&(i=async(...o)=>await e.sendTransaction(o[0],o[1],o[2])),"signTransaction"in e&&(s=async o=>await e.signTransaction(o)),{type:"solana",address:e.publicKey.toBase58(),meta:r,imported:!1,connectedAt:Date.now(),walletClientType:this.walletClientType,connectorType:this.connectorType,isConnected:async()=>e.connected,disconnect:()=>{try{e.disconnect()}catch{console.error("Wallet does not support programmatic disconnect")}},getProvider:Bb(`${this.walletClientType||""} wallet does not support 'getProvider'`),signMessage:n??Bb(`${this.walletClientType||""} wallet does not support 'signMessage'`),sendTransaction:i??Bb(`${this.walletClientType||""} wallet does not support 'sendTransaction'`),signTransaction:s??Bb(`${this.walletClientType||""} wallet does not support 'signTransaction'`)}}async syncAccounts(){if(this.adapter.readyState==="Installed"&&this.adapter.publicKey){let e={name:this.walletBranding.name,icon:typeof this.walletBranding.icon=="string"?this.walletBranding.icon:void 0,id:this.walletBranding.id};this.wallets.find(r=>this.adapter.publicKey&&r.address===this.adapter.publicKey.toBase58())||(this.wallets=[this.buildConnectedWallet(this.adapter,e)],this.emit("walletsUpdated"))}else this.wallets.length>0&&(this.wallets=[],this.emit("walletsUpdated"))}get walletBranding(){return{id:this.adapter.name,name:this.adapter.name,icon:this.adapter.icon}}async initialize(){this.subscribeListeners(),await this.syncAccounts(),this.shouldAutoConnect&&await this.adapter.autoConnect().catch(console.error),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}async getConnectedWallet(){return this.wallets.sort((e,r)=>r.connectedAt-e.connectedAt)[0]||null}async isConnected(){return this.adapter.connected&&["Installed"].includes(this.adapter.readyState)}subscribeListeners(){this.adapter.addListener("disconnect",this.onDisconnect),this.adapter.addListener("connect",this.onConnect),this.adapter.addListener("error",this.onError),this.adapter.addListener("readyStateChange",this.onReadyStateChange)}unsubscribeListeners(){this.adapter.removeAllListeners()}constructor(e,r){super(wht(e.name.toLowerCase())?e.name.toLowerCase():"unknown"),this.chainType="solana",this.connectorType="solana_adapter",this.disconnect=()=>{this.adapter.disconnect().then(()=>this.onDisconnect()).catch(n=>console.error("Error disconnecting",n))},this.promptConnection=async()=>{try{await this.adapter.connect()}catch(n){throw up(n)}},this.onDisconnect=()=>{this.syncAccounts()},this.onConnect=n=>{this.syncAccounts()},this.onError=n=>{this.syncAccounts()},this.onReadyStateChange=n=>{n!=="Installed"&&(this.connected=!1),this.syncAccounts()},this.adapter=e,this.shouldAutoConnect=r,this.wallets=[]}},xht=class{enqueue(e,r){this.callbacks[e]=r}dequeue(e,r){let n=this.callbacks[r];if(!n)throw Error(`cannot dequeue ${e} event: no event found for id ${r}`);switch(delete this.callbacks[r],e){case"privy:iframe:ready":case"privy:wallets:create":case"privy:wallets:add":case"privy:wallets:import":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":case"privy:farcaster:init-signer":case"privy:farcaster:sign":case"privy:solana-wallet:create":case"privy:delegated-actions:consent":return n;default:throw Error(`invalid wallet event type ${e}`)}}constructor(){this.callbacks={}}};async function Ia(t,e,r,n,i,s=!1){var c,u,f;let o=s,a=async h=>{var p;if(o&&e&&e.length>0){h===(s?0:1)?i("configureMfa","onMfaRequired",e):(p=n.current)==null||p.reject(new on("missing_or_invalid_mfa","MFA verification failed, retry."));let g=await new Promise((m,w)=>{r.current={resolve:m,reject:w},setTimeout(()=>{var E;let y=new on("mfa_timeout","Timed out waiting for MFA code");(E=n.current)==null||E.reject(y),w(y)},3e5)});return await t(g)}return await t()},l=null;for(let h=0;h<4;h++)try{l=await a(h),(c=n.current)==null||c.resolve(void 0);break}catch(p){if(p.type!=="missing_or_invalid_mfa")throw(u=n.current)==null||u.resolve(void 0),p;o=!0}if(l===null){let h=new on("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw(f=n.current)==null||f.reject(h),h}return l}var yz;let Eht=(yz=0,()=>"id-"+yz++);function qn(t){return t.error!==void 0}let Tn=new xht,m_=new Map,_ht=(t,e)=>typeof e=="bigint"?e.toString():e,Cht=(t,e)=>`${t}${JSON.stringify(e,_ht)}`;function Vn(t,e,r,n){let i=r.contentWindow;if(!i)throw Error("iframe not initialized");let s=Cht(t,e);if(t==="privy:wallet:create"){let a=m_.get(s);if(a)return a}let o=new Promise((a,l)=>{let c=Eht();Tn.enqueue(c,{resolve:a,reject:l}),i.postMessage({id:c,event:t,data:e},n)}).finally(()=>{m_.delete(s)});return m_.set(s,o),o}function Aht(t){let e=C.useRef(null),r=C.useRef(t.mfaMethods),n=BT(),[i,s]=C.useState(!1);return C.useEffect(()=>{r.current=t.mfaMethods},[t.mfaMethods]),C.useEffect(()=>{if(!i)return;let o=e.current;if(!o)return;function a(u){var f;u&&u.origin===t.origin&&typeof(f=u.data).event=="string"&&/^privy:.+/.test(f.event)&&function(h){switch(h.event){case"privy:iframe:ready":let p=Tn.dequeue(h.event,h.id);return qn(h)?p.reject(new on(h.error.type,h.error.message)):p.resolve(h.data);case"privy:wallets:create":{let E=Tn.dequeue(h.event,h.id);return qn(h)?E.reject(new on(h.error.type,h.error.message)):E.resolve(h.data)}case"privy:wallets:add":{let E=Tn.dequeue(h.event,h.id);return qn(h)?E.reject(new on(h.error.type,h.error.message)):E.resolve(h.data)}case"privy:wallets:set-recovery":{let E=Tn.dequeue(h.event,h.id);return qn(h)?E.reject(new on(h.error.type,h.error.message)):E.resolve(h.data)}case"privy:wallets:connect":{let E=Tn.dequeue(h.event,h.id);return qn(h)?E.reject(new on(h.error.type,h.error.message)):E.resolve(h.data)}case"privy:wallets:recover":{let E=Tn.dequeue(h.event,h.id);return qn(h)?E.reject(new on(h.error.type,h.error.message)):E.resolve(h.data)}case"privy:wallets:rpc":{let E=Tn.dequeue(h.event,h.id);return qn(h)?E.reject(new on(h.error.type,h.error.message)):E.resolve(h.data)}case"privy:wallet:create":let g=Tn.dequeue(h.event,h.id);return qn(h)?g.reject(new on(h.error.type,h.error.message)):g.resolve(h.data);case"privy:wallets:import":let m=Tn.dequeue(h.event,h.id);return qn(h)?m.reject(new on(h.error.type,h.error.message)):m.resolve(h.data);case"privy:mfa:verify":let w=Tn.dequeue(h.event,h.id);return qn(h)?w.reject(new on(h.error.type,h.error.message)):w.resolve(h.data);case"privy:mfa:init-enrollment":{let E=Tn.dequeue(h.event,h.id);return qn(h)?E.reject(new on(h.error.type,h.error.message)):E.resolve(h.data)}case"privy:mfa:submit-enrollment":{let E=Tn.dequeue(h.event,h.id);return qn(h)?E.reject(new on(h.error.type,h.error.message)):E.resolve(h.data)}case"privy:mfa:unenroll":{let E=Tn.dequeue(h.event,h.id);return qn(h)?E.reject(new on(h.error.type,h.error.message)):E.resolve(h.data)}case"privy:mfa:clear":{let E=Tn.dequeue(h.event,h.id);return qn(h)?E.reject(new on(h.error.type,h.error.message)):E.resolve(h.data)}case"privy:solana-wallet:create":let y=Tn.dequeue(h.event,h.id);return qn(h)?y.reject(new on(h.error.type,h.error.message)):y.resolve(h.data);case"privy:farcaster:init-signer":{let E=Tn.dequeue(h.event,h.id);return qn(h)?E.reject(new on(h.error.type,h.error.message)):E.resolve(h.data)}case"privy:farcaster:sign":{let E=Tn.dequeue(h.event,h.id);return qn(h)?E.reject(new on(h.error.type,h.error.message)):E.resolve(h.data)}case"privy:delegated-actions:consent":{let E=Tn.dequeue(h.event,h.id);return qn(h)?E.reject(new on(h.error.type,h.error.message)):E.resolve(h.data)}default:console.warn("Unsupported wallet proxy method:",h)}}(u.data)}let l={createWallet:u=>Ia(f=>Vn("privy:wallets:create",{...u,...f},o,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,n),addWallet:u=>Ia(f=>Vn("privy:wallets:add",{...u,...f},o,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,n),setRecovery:u=>Ia(f=>Vn("privy:wallets:set-recovery",{...u,...f},o,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,n),connect:u=>Ia(f=>Vn("privy:wallets:connect",{...u,...f},o,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,n),recover:u=>Ia(f=>Vn("privy:wallets:recover",{...u,...f},o,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,n,!u.recoveryAccessToken&&!u.recoveryPassword&&!u.recoverySecretOverride),rpc:u=>Ia(f=>Vn("privy:wallets:rpc",{...u,...f},o,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,n),create:u=>Vn("privy:wallet:create",u,o,t.origin),importWallet:u=>Vn("privy:wallets:import",u,o,t.origin),createSolana:u=>Ia(f=>Vn("privy:solana-wallet:create",{...u,...f},o,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,n),createDelegatedAction:u=>Vn("privy:delegated-actions:consent",u,o,t.origin),verifyMfa:u=>Ia(f=>Vn("privy:mfa:verify",{...u,...f},o,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,n,!0),initEnrollMfa:u=>Ia(f=>Vn("privy:mfa:init-enrollment",{...u,...f},o,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,n),submitEnrollMfa:u=>Ia(f=>Vn("privy:mfa:submit-enrollment",{...u,...f},o,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,n),unenrollMfa:u=>Ia(f=>Vn("privy:mfa:unenroll",{...u,...f},o,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,n,!0),clearMfa:u=>Vn("privy:mfa:clear",u,o,t.origin),initFarcasterSigner:u=>Vn("privy:farcaster:init-signer",u,o,t.origin),signFarcasterMessage:u=>Vn("privy:farcaster:sign",u,o,t.origin)};window.addEventListener("message",a);let c=new AbortController;return IA(()=>Vn("privy:iframe:ready",{},o,t.origin),{abortSignal:c.signal}).then(()=>t.onLoad(l),(...u)=>{console.warn("Privy iframe failed to load: ",...u),t.onLoadFailed()}),()=>{window.removeEventListener("message",a),c.abort()}},[i]),d.jsx("iframe",{ref:e,width:"0",height:"0",style:{display:"none",height:"0px",width:"0px"},onLoad:()=>s(!0),src:UJ(t.origin,`/apps/${t.appId}/embedded-wallets`,{caid:t.clientAnalyticsId,client_id:t.appClientId})})}const Sht=({address:t,user:e})=>{let r=e.linkedAccounts.find(n=>n.type==="wallet"&&n.walletClientType==="privy"&&n.address===t);if(!r)throw new le("Address to delegate is not associated with current user.");return{address:r.address,chainType:r.chainType,walletIndex:r.walletIndex??0}},$ht=({address:t,user:e})=>{let r,n=e.linkedAccounts.find(i=>i.type==="wallet"&&i.walletClientType==="privy"&&i.address===t);if(!n)throw new le("Address to delegate is not associated with current user.");if(!(r=n.chainType==="ethereum"?n.imported?k5(e):ks(e):n))throw new le("Unable to determine root address for delegated address.");return{address:r.address,chainType:r.chainType,imported:r.imported}},Ple=t=>t.linkedAccounts.filter(e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.delegated),Iht=({address:t,chainType:e,user:r})=>!!Ple(r).find(n=>n.address===t&&n.chainType===e);function Rle(t){var n,i;let e=new RegExp(RegExp("^eip155:(?<chainId>\\d+)$","gm")),r=(i=(n=e.exec(t))==null?void 0:n.groups)==null?void 0:i.chainId;if(r)return parseInt(r);throw Error("Chain ID not compatible with CAIP-2 format.")}const Ole="popup-privy-oauth",jle="PRIVY_OAUTH_USE_BROADCAST_CHANNEL";function kht(t){return t.startsWith("privy:")}let Tht=class{async authenticate(){if(!this.api)throw new le("Auth flow has no API instance");try{return await this.api.post(NJ,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw Xt(e)}}async link(){if(!this.api)throw new le("Auth flow has no API instance");try{return await this.api.post(PJ,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw Xt(e)}}constructor({authorizationCode:e,stateCode:r,codeVerifier:n,provider:i}){this.meta={authorizationCode:e,stateCode:r,codeVerifier:n,provider:i}}};async function Mle({api:t,requesterAppId:e,providerAppId:r}){let n=(await t.get(`/api/v1/apps/${e}/cross-app/connections`)).connections.find(i=>i.provider_app_id===r);if(!n)throw new le("Invalid connected app");return{name:n.provider_app_name,logoUrl:n.provider_app_icon_url||void 0,apiUrl:n.provider_app_custom_api_url,readOnly:n.read_only}}async function Nht({api:t,appId:e}){let r=K8(),n=WN(),i=await zN(r);try{let{url:s}=await t.post(TJ,{provider:`privy:${e}`,redirect_to:window.location.href,code_challenge:i,state_code:n});return{url:s,stateCode:n,codeVerifier:r}}catch(s){throw Xt(s)}}async function Pht({appId:t,stateCode:e,codeVerifier:r,authorizationCode:n,action:i,client:s}){var o;if(!n||!e)throw new le("[Cross-App AuthFlow] Authorization and state codes code must be set prior to calling authenicate.");if(n==="undefined")throw new le("User denied confirmation during cross-app auth flow");try{let a=new Tht({authorizationCode:n,stateCode:e,codeVerifier:r,provider:`privy:${t}`});s.startAuthFlow(a);let l=i==="link"?await s.link():await s.authenticate(),c=(o=l.oAuthTokens)==null?void 0:o.accessToken;return console.debug(),c}catch(a){let l=Xt(a);throw l.privyErrorCode?new le(l.message||"Invalid code during cross-app auth flow.",void 0,l.privyErrorCode):l.message==="User denied confirmation during cross-app auth flow"?new le("Invalid code during cross-app auth flow.",void 0,ue.OAUTH_USER_DENIED):new le("Invalid code during cross-app auth flow.",void 0,ue.UNKNOWN_AUTH_ERROR)}}async function Rht({url:t,popup:e}){return e.location=t,new Promise((r,n)=>{let i,s=setTimeout(()=>{n(new le("Authorization request timed out after 2 minutes.")),o()},12e4);function o(){e==null||e.close(),window.removeEventListener("message",l)}let a=setInterval(()=>{e!=null&&e.closed&&!i&&(o(),clearInterval(a),clearTimeout(s),n(new le("User rejected request")))},300);function l(c){c.data&&(c.data.type==="PRIVY_OAUTH_RESPONSE"&&c.data.stateCode&&c.data.authorizationCode&&(clearTimeout(s),r(c.data),o()),c.data.type==="PRIVY_OAUTH_ERROR"&&(clearTimeout(s),n(new le(c.data.error)),o()),c.data.type===jle&&((i=new BroadcastChannel(Ole)).onmessage=l))}window.addEventListener("message",l)})}const y_=async({user:t,address:e,client:r,request:n,requesterAppId:i,reconnect:s})=>{r.createAnalyticsEvent({eventName:"cross_app_request_started",payload:{address:e,method:n.method}});let o=t==null?void 0:t.linkedAccounts.find(f=>f.type==="cross_app"&&(f.embeddedWallets.some(h=>h.address===e)||f.smartWallets.some(h=>h.address===e)));if(!t||!o)throw r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Cannot request a signature with this wallet address",address:e}}),new le("Cannot request a signature with this wallet address");let a=r.getProviderAccessToken(o.providerApp.id),l=await Mle({api:r.api,requesterAppId:i,providerAppId:o.providerApp.id});if(!a){if(l.readOnly)throw console.error("cannot transact against a read-only provider app"),new le("Cannot transact against a read-only provider app");await s({appId:o.providerApp.id,action:"link"})&&(a=r.getProviderAccessToken(o.providerApp.id))}if(!a)throw r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Transactions require a valid token",address:e}}),new le("Transactions require a valid token");let c=Ex();if(!c)throw r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Missing token",address:e}}),new le("Failed to initialize signature request");let u=new URL(`${l.apiUrl}/oauth/transact`);return u.searchParams.set("token",a||""),u.searchParams.set("request",Oht(n)),c.location=u.href,new Promise((f,h)=>{let p=setTimeout(()=>{w(),h(new le("Request timeout")),r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Request timeout",address:e}})},12e4),g=setInterval(()=>{c.closed&&(w(),h(new le("User rejected request")),r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"User rejected request",address:e}}))},300),m=y=>{var E,v,b;y.data&&(((E=y.data.token)==null?void 0:E.action)==="set"&&((v=y.data.token)==null?void 0:v.value)!==void 0?r.storeProviderAccessToken(o.providerApp.id,y.data.token.value):((b=y.data.token)==null?void 0:b.action)==="clear"&&r.storeProviderAccessToken(o.providerApp.id,null),y.data.type==="PRIVY_CROSS_APP_ACTION_RESPONSE"&&y.data.result&&(w(),f(y.data.result),r.createAnalyticsEvent({eventName:"cross_app_request_success",payload:{address:e,method:n.method}})),y.data.type==="PRIVY_CROSS_APP_ACTION_ERROR"&&y.data.error&&(w(),h(y.data.error),r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:y.data.error,address:e}})))};window.addEventListener("message",m);let w=()=>{c.close(),clearInterval(g),clearTimeout(p),window.removeEventListener("message",m)}})};let Oht=t=>JSON.stringify({content:{request:{request:z$(t,pc)}},timestamp:Date.now(),callbackUrl:window.origin});const z$=(t,e)=>typeof t=="bigint"?e(t):Array.isArray(t)?t.map(r=>z$(r,e)):t&&typeof t=="object"?Object.fromEntries(Object.entries(t).map(([r,n])=>[r,z$(n,e)])):t,EP=t=>t.filter(e=>e.method==="wallets"||(e.method==="exchange"?e.provider==="coinbase":e.method==="card"||e.method==="payment-request"?e.provider==="coinbase"||e.provider==="moonpay":(e.method,!1))),Dle={[Ec.id]:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",[tee.id]:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",[cp.id]:"0x0b2c639c533813f4aa9d7837caf62653d097ff85",[XX.id]:"0x5fd84259d66Cd46123540766Be93DFE6D43130D7",[Yu.id]:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",[eee.id]:"0x41e94eb019c0762f9bfcf9fb1e58725bfb0e7582",[Ku.id]:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",[JX.id]:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",[$T.id]:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",[ZX.id]:"0x5425890298aed601595a70ab815c96711a31bc65",[wf.id]:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",[YX.id]:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d"},jht=(t,e)=>t===Dle[e.id],wz=({address:t,appConfig:e,fundWalletConfig:r,methodScreen:n,chainIdOverride:i,comingFromSendTransactionScreen:s=!1})=>{var g;let o,a;if(!e.fundingConfig)throw Error("Wallet funding is not enabled");let l=EP(e.fundingConfig.options);if(l.length<1)throw Error("Wallet funding is not enabled");o=i||(u_(r)&&r.chain?r.chain.id:Rle(e.fundingConfig.defaultRecommendedCurrency.chain));let c=e.chains.find(m=>m.id===o);if(!c)throw new le(`Funding chain ${o} is not in PrivyProvider chains list`);let u=u_(r)&&r.amount?r.amount:e.fundingConfig.defaultRecommendedAmount,f=!1;function h(){if(!o)return;let m=Dle[o];l.find(w=>w.method==="wallets")&&!m&&console.warn("Attempting to fund with USDC on chain where USDC address is not known. Funding via external wallet will be disabled."),a=m,f=!0}u_(r)&&"asset"in r?r.asset==="USDC"?h():typeof r.asset!="string"&&"erc20"in r.asset&&(f=jht(a=r.asset.erc20,c)):e.fundingConfig.defaultRecommendedCurrency.asset==="USDC"&&h();let p=r==null?void 0:r.defaultFundingMethod;return{chainType:"ethereum",address:t,amount:u,chain:c,erc20Address:a,erc20ContractInfo:f?{symbol:"USDC",decimals:6}:void 0,isUSDC:f,methodScreen:n,supportedOptions:l,comingFromSendTransactionScreen:s,defaultFundingMethod:p,usingDefaultFundingMethod:!!p,preferredCardProvider:(g=r==null?void 0:r.card)==null?void 0:g.preferredProvider,crossChainBridgingEnabled:e.fundingConfig.crossChainBridgingEnabled??!1,cluster:{name:"mainnet-beta",rpcUrl:e.solanaClusters["mainnet-beta"]},...lct(r)?{moonpayConfigOverride:r.config}:{}}};function Mht({address:t,fundWalletConfig:e,appConfig:r,comingFromSendTransactionScreen:n,methodScreen:i}){var l,c,u;if(!r.fundingConfig)throw Error("Wallet funding is not enabled");let s=EP(r.fundingConfig.options);if(s.length<1)throw Error("Wallet funding is not enabled");let o=(e==null?void 0:e.amount)??r.fundingConfig.defaultRecommendedAmount,a=e==null?void 0:e.defaultFundingMethod;return{chainType:"solana",address:t,supportedOptions:s,amount:o,isUSDC:!1,methodScreen:i,comingFromSendTransactionScreen:n,cluster:{name:((l=e==null?void 0:e.cluster)==null?void 0:l.name)??"mainnet-beta",rpcUrl:r.solanaClusters[((c=e==null?void 0:e.cluster)==null?void 0:c.name)??"mainnet-beta"]},crossChainBridgingEnabled:r.fundingConfig.crossChainBridgingEnabled??!1,defaultFundingMethod:a,preferredCardProvider:(u=e==null?void 0:e.card)==null?void 0:u.preferredProvider,usingDefaultFundingMethod:!!a}}const bz=[se.FUNDING_METHOD_SELECTION_SCREEN,se.FUNDING_TRANSFER_FROM_WALLET_SCREEN,se.FUNDING_AWAITING_TRANSFER_FROM_EXTERNAL_WALLET_SCREEN,se.FUNDING_AWAITING_TRANSFER_FROM_EXTERNAL_SOLANA_WALLET_SCREEN,se.FUNDING_AWAITING_EVM_TO_SOL_BRIDGING_SCREEN,se.FUNDING_AWAITING_SOL_TO_EVM_BRIDGING_SCREEN,se.FUNDING_MANUAL_TRANSFER_SCREEN,se.MOONPAY_STATUS_SCREEN],Dht={[se.FUNDING_METHOD_SELECTION_SCREEN]:null,[se.FUNDING_TRANSFER_FROM_WALLET_SCREEN]:"external",[se.FUNDING_AWAITING_TRANSFER_FROM_EXTERNAL_WALLET_SCREEN]:"external",[se.FUNDING_AWAITING_TRANSFER_FROM_EXTERNAL_SOLANA_WALLET_SCREEN]:"external",[se.FUNDING_AWAITING_EVM_TO_SOL_BRIDGING_SCREEN]:"external",[se.FUNDING_AWAITING_SOL_TO_EVM_BRIDGING_SCREEN]:"external",[se.FUNDING_MANUAL_TRANSFER_SCREEN]:"manual",[se.MOONPAY_STATUS_SCREEN]:"moonpay"},vz=t=>!!t.fundingConfig&&EP(t.fundingConfig.options).length>=1;async function xz({url:t,popup:e,provider:r}){return e.location=t,new Promise((n,i)=>{function s(){e==null||e.close(),window.removeEventListener("message",o)}function o(a){a.data&&(a.data.type==="PRIVY_OAUTH_RESPONSE"&&a.data.stateCode&&a.data.authorizationCode&&(n(a.data),s()),a.origin==="https://cdn.apple-cloudkit.com"&&a.data.ckSession&&(n({type:"PRIVY_OAUTH_RESPONSE",ckWebAuthToken:a.data.ckSession}),s()),a.data.type==="PRIVY_OAUTH_ERROR"&&(i(a.data.error),s()))}window.addEventListener("message",o)})}const Lht=t=>({id:t.id,raw_id:t.rawId,response:{client_data_json:t.response.clientDataJSON,authenticator_data:t.response.authenticatorData,signature:t.response.signature,user_handle:t.response.userHandle},authenticator_attachment:t.authenticatorAttachment,client_extension_results:{app_id:t.clientExtensionResults.appid,cred_props:t.clientExtensionResults.credProps,hmac_create_secret:t.clientExtensionResults.hmacCreateSecret},type:t.type});function Fht(){return!!lt.get(S5)}function Bht(){return!!lt.get($5)}function Uht(){let t=new URLSearchParams(window.location.search),e=t.get("privy_oauth_code"),r=t.get("privy_oauth_state"),n=t.get("privy_oauth_provider");if(!e||!r||!n)return{inProgress:!1};let i=!1;try{i=!!window.opener.location.origin}catch{}return{inProgress:!0,authorizationCode:e,stateCode:r,provider:n,withPrivyUi:!Fht(),popupFlow:window.opener!==null&&i,disableSignup:Bht()}}class Yp{addCaptchaToken(e){this.meta.captchaToken=e}isActive(){return!!(this.meta.authorizationCode&&this.meta.stateCode&&this.meta.provider)}async authenticate(){if(!this.api)throw new le("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new le("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenticate.");if(this.meta.authorizationCode==="undefined")throw new le("User denied confirmation during OAuth flow");let e=ret();try{let r=await this.api.post(NJ,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});return lt.del(wm),lt.del(S5),lt.del($5),r}catch(r){let n=Xt(r);throw n.privyErrorCode?new le(n.message||"Invalid code during OAuth flow.",void 0,n.privyErrorCode):n.message==="User denied confirmation during OAuth flow"?new le("Invalid code during oauth flow.",void 0,ue.OAUTH_USER_DENIED):new le("Invalid code during OAuth flow.",void 0,ue.UNKNOWN_AUTH_ERROR)}}async link(){if(!this.api)throw new le("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new le("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling link.");if(this.meta.authorizationCode==="undefined")throw new le("User denied confirmation during OAuth flow");let e=lt.get(wm);if(!e)throw new le("Authentication error.");try{let r=await this.api.post(PJ,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e});return lt.del(wm),r}catch(r){throw Xt(r)}}async getAuthorizationUrl(){if(!this.api)throw new le("Auth flow has no API instance");if(!this.meta.provider)throw new le("Provider must be set when initializing OAuth authentication.");let e=K8();lt.put(wm,e);let r=WN();lt.put(A5,r);let n=await zN(e);this.meta.withPrivyUi||lt.put(S5,!0),this.meta.disableSignup&&lt.put($5,!0);let i=g2(this.meta.withPrivyUi);try{return await this.api.post(TJ,{provider:this.meta.provider,redirect_to:window.location.href,token:this.meta.captchaToken,code_challenge:n,state_code:r},{headers:{...i}})}catch(s){throw Xt(s)}}constructor(e){this.meta=e}}class Hp extends Error{constructor(e,r,n){super(e),this.code=r,this.data=n}}function w_(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var Wht=0;let Lle=class extends dg{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return{name:this.providerDetail.info.name,icon:this.providerDetail.info.icon,id:this.providerDetail.info.rdns}}disconnect(){console.warn(`Programmatic disconnect with ${this.providerDetail.info.name} is not yet supported.`)}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new Ur("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw up(e)}}constructor(e,r,n,i,s){super(s||"unknown",e,r,n),this.connectorType="injected",this.proxyProvider=new is(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.providerDetail=i;let o=i.provider;this.proxyProvider.setWalletProvider(o)}};var jf="__private_"+Wht+++"__walletBranding";let b_=class extends dg{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return w_(this,jf)[jf]??{name:"Browser Extension",icon:ZT,id:"extension"}}disconnect(){console.warn("Programmatic disconnect with browser wallets is not yet supported.")}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new Ur("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw up(e)}}constructor(e,r,n,i,s){super(s??"unknown",e,r,n),Object.defineProperty(this,jf,{writable:!0,value:void 0}),this.connectorType="injected",this.proxyProvider=new is(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.proxyProvider.setWalletProvider(i),s==="metamask"?w_(this,jf)[jf]={name:"MetaMask",icon:cte,id:"io.metamask"}:s==="phantom"&&(w_(this,jf)[jf]={name:"Phantom",icon:C8,id:"phantom"})}},zht=class extends Lle{disconnect(){console.warn("MetaMask does not support programmatic disconnect.")}async promptConnection(){try{bi||await this.proxyProvider.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new Ur("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw up(e)}}},Hht=class extends dg{get walletBranding(){return{name:"Wallet",id:""}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the EthereumNullConnector")}disconnect(){throw Error("disconnect called for an uninstalled wallet via the EthereumNullConnector")}promptConnection(e){throw Error(`promptConnection called for an uninstalled wallet via the EthereumNullConnector for ${e}`)}constructor(e,r){super(e,[],r,{}),this.connectorType="null",this.proxyProvider=new is(void 0,P4),this.connectorType=e}},qht=class extends Hht{get walletBranding(){return{name:"Phantom",icon:ute,id:"phantom"}}constructor(e){super("phantom",e)}},Vht=class extends vht{get walletBranding(){return{name:"Wallet",id:""}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the SolanaNullConnector")}constructor(...e){super(...e),this.proxyProvider=new is(void 0,P4),this.disconnect=async()=>{throw Error("disconnect called for an uninstalled wallet via the SolanaNullConnector")},this.promptConnection=async()=>{throw Error("promptConnection called for an uninstalled wallet via the SolanaNullConnector")}}},Ght=class extends Vht{get walletBranding(){return{name:"Phantom",icon:ute,id:"phantom"}}constructor(){super({name:"Phantom"},!1)}},Kht=[$J,kJ,IJ,RJ];class Yht{async get(e,r){try{return await this.baseFetch(e,r)}catch(n){throw Xt(n)}}async post(e,r,n){try{return await this.baseFetch(e,{method:"POST",...r?{body:r}:{},...n})}catch(i){throw Xt(i)}}async delete(e,r){try{return await this.baseFetch(e,{method:"DELETE",...r})}catch(n){throw Xt(n)}}constructor({appId:e,appClientId:r,client:n,defaults:i}){this.appId=e,this.appClientId=r,this.clientAnalyticsId=n.clientAnalyticsId,this.sdkVersion=K9e,this.client=n,this.defaults=i,this.fallbackApiUrl=n.fallbackApiUrl,this.baseFetch=SJ.create({baseURL:this.defaults.baseURL,timeout:this.defaults.timeout,retry:3,retryDelay:500,retryStatusCodes:[408,409,425,500,502,503,504],credentials:"include",onRequest:async({request:s,options:o})=>{let a=new Headers(o.headers);a.set("privy-app-id",this.appId),this.appClientId&&a.set("privy-client-id",this.appClientId),a.set("privy-ca-id",this.clientAnalyticsId||""),a.set("privy-client",`react-auth:${this.sdkVersion}`);let l=Kht.includes(s.toString());if(!a.has("authorization")){let c=await this.client.getAccessToken({disableAutoRefresh:l});c!==null&&a.set("authorization",`Bearer ${c}`)}o.headers=a,o.retryDelay&&(o.retryDelay=3*o.retryDelay)},onRequestError:({error:s})=>{if(s instanceof DOMException&&s.name==="AbortError")throw new kEe}})}}let Zht=/paymaster\.biconomy\.io\/api/i,Jht={mode:"SPONSORED",calculateGasLimits:!0,expiryDuration:300,sponsorshipInfo:{webhookData:{},smartAccountInfo:{name:"BICONOMY",version:"2.0.0"}}};const Qht=(t,e)=>t&&Zht.test(t)?Jht:e&&e.policy_id?{policyId:e.policy_id}:void 0,Xht=t=>{var e,r,n,i;return{rpId:t.rp_id,challenge:t.challenge,allowCredentials:((e=t.allow_credentials)==null?void 0:e.map(s=>({id:s.id,type:s.type,transports:s.transports})))||[],timeout:t.timeout,extensions:{appid:(r=t.extensions)==null?void 0:r.app_id,credProps:(n=t.extensions)==null?void 0:n.cred_props,hmacCreateSecret:(i=t.extensions)==null?void 0:i.hmac_create_secret},userVerification:t.user_verification}};function ept(t){return t instanceof p0?"email":t instanceof g0?"sms":t instanceof I5?"siwe":t instanceof YJ?"guest":t instanceof OJ?"custom_auth":t instanceof Yp?t.meta.provider:null}function v_(){return!(dge&&window.location.origin.startsWith("http://localhost"))}const Ez=t=>{let e;const r=new Set,n=(c,u)=>{const f=typeof c=="function"?c(e):c;if(!Object.is(f,e)){const h=e;e=u??(typeof f!="object"||f===null)?f:Object.assign({},e,f),r.forEach(p=>p(e,h))}},i=()=>e,a={setState:n,getState:i,getInitialState:()=>l,subscribe:c=>(r.add(c),()=>r.delete(c))},l=e=t(n,i,a);return a},tpt=t=>t?Ez(t):Ez,rpt=t=>t;function npt(t,e=rpt){const r=Je.useSyncExternalStore(t.subscribe,Je.useCallback(()=>e(t.getState()),[t,e]),Je.useCallback(()=>e(t.getInitialState()),[t,e]));return Je.useDebugValue(r),r}const _z=t=>{const e=tpt(t),r=n=>npt(e,n);return Object.assign(r,e),r},ipt=t=>t?_z(t):_z,Cz=ipt(()=>({identityToken:null}));var x_,Az=((x_={}).PRIVY="privy_access_token",x_.CUSTOMER="customer_access_token",x_);class spt{get token(){return this.privyAccessToken||this.customerAccessToken}getToken(e){return e==="privy_access_token"?this.privyAccessToken:this.customerAccessToken}get customerAccessToken(){return this._getToken(ym)}get privyAccessToken(){return this._getToken(r3)}_getToken(e){try{let r=lt.get(e);return typeof r=="string"?Gp.throwIfNotWellFormedJwt(r):null}catch(r){return console.error(r),this.destroyLocalState(),null}}get refreshToken(){try{let e=lt.get(YE);return typeof e=="string"?e:null}catch(e){return console.error(e),this.destroyLocalState(),null}}get forkedToken(){try{let e=lt.get(PA);return typeof e=="string"?e:null}catch(e){return console.error(e),this.destroyLocalState(),null}}getProviderAccessToken(e){try{let r=lt.get(Fb(e));if(typeof r!="string")return null;{let n=new Gp(r);return n.isExpired()?(lt.del(Fb(e)),null):n.value}}catch(r){return console.error(r),null}}get mightHaveServerCookies(){try{let e=rd.get(ZE);return e!==void 0&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e="privy_access_token"){let r=typeof this.getToken(e)=="string",n=typeof this.refreshToken=="string"&&this.refreshToken!==e7e;return this.mightHaveServerCookies||r&&n}hasRecoveryCredentials(){return typeof this.forkedToken=="string"}hasActiveAccessToken(e){let r=Gp.parse(this.getToken(e));return r!==null&&!r.isExpired(30)}authenticate(e){return this.authenticateOnce.execute(e)}link(e){return this.linkOnce.execute(e)}refresh(){return this.refreshOnce.execute()}forkSession(){return this.forkSessionOnce.execute()}destroy(){return this.destroyOnce.execute()}storeProviderAccessToken(e,r){typeof r=="string"?lt.put(Fb(e),r):lt.del(Fb(e))}async _authenticate(e){try{let r=await e.authenticate(),{user:n,is_new_user:i,oauth_tokens:s}=r;this.handleTokenResponse(r);let o=s?{provider:s.provider,accessToken:s.access_token,accessTokenExpiresInSeconds:s.access_token_expires_in_seconds,refreshToken:s.refresh_token,refreshTokenExpiresInSeconds:s.refresh_token_expires_in_seconds,scopes:s.scopes}:void 0;return this._trackAuthenticateEvents(e,i),{user:Mi(n),isNewUser:i,oAuthTokens:o}}catch(r){throw console.warn("Error authenticating session"),Pr(r)}}_trackAuthenticateEvents(e,r){let n=ept(e);n&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate",payload:{method:n,isNewUser:r}}),n==="siwe"&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate_siwe",payload:{connectorType:e.meta.connectorType,walletClientType:e.meta.walletClientType}})}async _link(e){try{let r=await e.link(),n=r.oauth_tokens,i=n?{provider:n.provider,accessToken:n.access_token,accessTokenExpiresInSeconds:n.access_token_expires_in_seconds,refreshToken:n.refresh_token,refreshTokenExpiresInSeconds:n.refresh_token_expires_in_seconds,scopes:n.scopes}:void 0;return{user:Mi(r),oAuthTokens:i}}catch(r){throw console.warn("Error linking account"),Pr(r)}}async _refresh(){if(!this.api)throw new le("Session has no API instance");if(!this.client)throw new le("Session has no PrivyClient instance");await this.client.getAccessToken({disableAutoRefresh:!0});let e=this.token,r=this.refreshToken,n=this.forkedToken;if(this.client.useServerCookies&&!this.mightHaveServerCookies&&this.token&&window.location.origin===this.client.apiUrl)return this.destroyLocalState(),null;try{let i;if(e&&r||this.mightHaveServerCookies){let s={};e&&(s.authorization=`Bearer ${e}`),i=await this.api.post($J,r?{refresh_token:r}:{},{headers:s}),n&&this.clearForkedToken()}else{if(!n)return null;i=await this.api.post(kJ,{refresh_token:n}),this.clearForkedToken()}return this.handleTokenResponse(i),Mi(i.user)}catch(i){if(i instanceof Qo&&i.privyErrorCode===ue.MISSING_OR_INVALID_TOKEN)return console.warn("Unable to refresh tokens - token is missing or no longer valid"),this.destroyLocalState(),null;throw Pr(i)}}handleTokenResponse(e){e.session_update_action&&e.session_update_action!=="set"?e.session_update_action==="clear"?this.destroyLocalState():e.session_update_action==="ignore"&&(e.token&&(this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token)),e.identity_token&&this.storeIdentityToken(e.identity_token)):this._storeAllTokens(e)}_storeAllTokens(e){this.storeRefreshToken(e.refresh_token),this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token),e.identity_token&&this.storeIdentityToken(e.identity_token)}async _destroy(){var e;try{await((e=this.api)==null?void 0:e.post(IJ,{refresh_token:this.refreshToken}))}catch{console.warn("Error destroying session")}this.destroyLocalState()}async _forkSession(){if(!this.api)throw new le("Session has no API instance");let e=this.refreshToken;try{let r=await this.api.post(NEe,{refresh_token:e});return this.storeRefreshToken(r.refresh_token),this.storeCustomerAccessToken(r.token),r.new_session_refresh_token}catch(r){throw Pr(r)}}destroyLocalState(){this.storeRefreshToken(null),this.storeCustomerAccessToken(null),this.storePrivyAccessToken(null),this.clearIdentityToken(),this.clearForkedToken()}storeCustomerAccessToken(e){var r,n,i,s,o,a;if(typeof e=="string"){let l=lt.get(ym);if(lt.put(ym,e),!((r=this.client)!=null&&r.useServerCookies)){let c=(n=Gp.parse(e))==null?void 0:n.expiration;rd.set(wM,e,{sameSite:"Strict",secure:v_(),expires:c?new Date(1e3*c):void 0})}l!==e&&((s=(i=this.client)==null?void 0:i.onStoreCustomerAccessToken)==null||s.call(i,e))}else lt.del(ym),rd.remove(wM),(a=(o=this.client)==null?void 0:o.onDeleteCustomerAccessToken)==null||a.call(o)}storeRefreshToken(e){var r;typeof e=="string"?(lt.put(YE,e),(r=this.client)!=null&&r.useServerCookies||rd.set(ZE,"t",{sameSite:"Strict",secure:v_(),expires:30})):(lt.del(YE),rd.remove(Y9e),rd.remove(ZE))}storePrivyAccessToken(e){typeof e=="string"?lt.put(r3,e):lt.del(r3)}storeIdentityToken(e){var n,i;if((n=this.client)!=null&&n.useServerCookies)return;lt.put(bM,e);let r=(i=Gp.parse(e))==null?void 0:i.expiration;Cz.setState({identityToken:e}),rd.set(vM,e,{sameSite:"Strict",secure:v_(),expires:r?new Date(1e3*r):void 0})}clearIdentityToken(){lt.del(bM),Cz.setState({identityToken:null}),rd.remove(vM)}clearForkedToken(){lt.del(PA)}constructor(){this.authenticateOnce=new Vi(async e=>this._authenticate(e)),this.linkOnce=new Vi(async e=>this._link(e)),this.refreshOnce=new Vi(this._refresh.bind(this)),this.destroyOnce=new Vi(this._destroy.bind(this)),this.forkSessionOnce=new Vi(this._forkSession.bind(this))}}class Sz extends zy{async handleSendTransaction(e){if(!e.params||!Array.isArray(e.params))throw new Hp(`Invalid params for ${e.method}`,4200);let r=e.params[0];if(!await ir()||!this.address)throw new Hp("Disconnected",4900);return(await hpt(r,void 0,void 0,this.address)).hash}handleSwitchEthereumChain(e){let r;if(!e.params||!Array.isArray(e.params))throw new Hp(`Invalid params for ${e.method}`,4200);if(typeof e.params[0]=="string")r=e.params[0];else{if(!("chainId"in e.params[0])||typeof e.params[0].chainId!="string")throw new Hp(`Invalid params for ${e.method}`,4200);r=e.params[0].chainId}this.chainId=Number(r),this.provider=w1(this.chainId,this.chains,this.rpcConfig,{appId:this.appId}),this.emit("chainChanged",r)}async handlePersonalSign(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for personal_sign");let r=e.params[0],n=e.params[1];return await dpt(r,void 0,n)}async handleSignedTypedData(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_signTypedData_v4");let r=e.params[0],n=typeof e.params[1]=="string"?JSON.parse(e.params[1]):e.params[1];return await fpt(kA(n),void 0,r)}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");delete e.params[0].gasPrice,delete e.params[0].maxFeePerGas,delete e.params[0].maxPriorityFeePerGas;let r={...e.params[0],chainId:C5(this.chainId)};try{return await this.provider.send("eth_estimateGas",[r])}catch(n){console.warn(`Gas estimation failed with error: ${n}. Retrying gas estimation by omitting the 'from' address`);try{return delete r.from,await this.provider.send("eth_estimateGas",[r])}catch(i){throw console.warn(`Gas estimation failed with error: ${i} when omitting the 'from' address`),n}}}async request(e){switch(console.debug("Embedded1193Provider.request() called with args",e),e.method){case"eth_accounts":case"eth_requestAccounts":return this.address?[this.address]:[];case"eth_chainId":return C5(this.chainId);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_sendTransaction":return this.handleSendTransaction(e);case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"personal_sign":return this.handlePersonalSign(e);case"eth_signTypedData_v4":return this.handleSignedTypedData(e)}if(!lke(e.method))return this.provider.send(e.method,e.params);{let r=await ir();if(await ppt(),!r||!this.address)throw new Hp("Disconnected",4900);try{return(await this.walletProxy.rpc({accessToken:r,entropyId:this.entropyId,entropyIdVerifier:this.entropyIdVerifier,chainType:"ethereum",hdWalletIndex:this.walletIndex,request:{method:e.method,params:e.params}})).response.data}catch(n){throw console.error(n),new Hp("Disconnected",4900)}}}constructor({walletProxy:e,address:r,entropyId:n,entropyIdVerifier:i,rpcConfig:s,chains:o,appId:a,chainId:l=1,walletIndex:c}){super(),this.walletProxy=e,this.address=r,this.entropyId=n,this.entropyIdVerifier=i,this.chainId=l,this.rpcConfig=s,this.chains=o,this.provider=w1(l,this.chains,s,{appId:a}),this.rpcTimeoutDuration=kT(s,"privy"),this.appId=a,this.walletIndex=c}}class opt extends zy{get wallets(){let e=new Set,r=this.walletConnectors.flatMap(i=>i.wallets).sort((i,s)=>i.connectedAt&&s.connectedAt?s.connectedAt-i.connectedAt:0).filter(i=>{let s=`${i.address}${i.walletClientType}${i.connectorType}`;return!e.has(s)&&(e.add(s),!0)}),n=r.findIndex(i=>i.address===(this.activeWallet?this.activeWallet:"unknown"));return n>=0&&r.unshift(r.splice(n,1)[0]),r}async initialize(){var r,n,i;if(this.initialized)return;lt.get(xM)&&(lt.getKeys().forEach(s=>{s.startsWith("walletconnect")&&lt.del(s)}),lt.del(xM));let e=L9e({store:this.store,walletList:this.walletList,externalWalletConfig:this.externalWalletConfig,walletChainType:this.walletChainType}).then(s=>{s.forEach(({type:o,eip6963InjectedProvider:a,legacyInjectedProvider:l})=>{this.createEthereumWalletConnector("injected",o,{eip6963InjectedProvider:a,legacyInjectedProvider:l})})});this.walletList.includes("coinbase_wallet")&&this.createEthereumWalletConnector("coinbase_wallet","coinbase_wallet"),!T4()&&this.walletList.includes("phantom")&&(["ethereum-only","ethereum-and-solana"].includes(this.walletChainType)&&this.createEthereumWalletConnector("phantom","phantom"),["ethereum-and-solana","solana-only"].includes(this.walletChainType)&&this.addWalletConnector(new Ght)),this.externalWalletConfig.walletConnect.enabled&&this.createEthereumWalletConnector("wallet_connect_v2","unknown"),(r=this.externalWalletConfig.solana.connectors)==null||r.get().forEach(this.addSolanaWalletConnector),(i=(n=this.externalWalletConfig.solana.connectors)==null?void 0:n._setOnConnectorsUpdated)==null||i.call(n,s=>{s==null||s.forEach(this.addSolanaWalletConnector)}),await e,this.initialized=!0}findWalletConnector(e,r){return e==="wallet_connect_v2"?this.walletConnectors.filter(qg).find(n=>n.connectorType===e)??null:this.walletConnectors.filter(qg).find(n=>n.connectorType===e&&n.walletClientType===r)??null}findSolanaWalletConnector(e,r){return this.walletConnectors.filter(bht).find(n=>n.connectorType===e&&n.walletClientType===r)??null}findEmbeddedWalletConnectors(){return this.walletConnectors.filter(e=>e.connectorType==="embedded")}onInitialized(e){e.wallets.forEach(r=>{let n=this.storedConnections.find(i=>i.address===r.address&&i.connectorType===r.connectorType&&i.walletClientType===r.walletClientType);n&&(r.connectedAt=n.connectedAt)}),this.saveConnectionHistory(),this.emit("walletsUpdated"),this.emit("connectorInitialized")}onWalletsUpdated(e){e.initialized&&(this.saveConnectionHistory(),this.emit("walletsUpdated"))}addEmbeddedWalletConnectors({walletProxy:e,rootWallet:r,embeddedWallets:n,defaultChain:i,appId:s}){for(let o of n){let a=this.findEmbeddedWalletConnectors().find(l=>l.walletIndex===o.walletIndex);if(a&&qg(a))a.proxyProvider.walletProxy=e;else{let{entropyId:l,entropyIdVerifier:c}=Qr(r),u=new rL({provider:new Sz({walletProxy:e,address:o.address,entropyId:l,entropyIdVerifier:c,rpcConfig:this.rpcConfig,chains:this.chains,appId:s,chainId:i.id,walletIndex:o.walletIndex}),chains:this.chains,defaultChain:i,rpcConfig:this.rpcConfig,imported:!1,walletIndex:o.walletIndex});this.addWalletConnector(u)}}}addImportedWalletConnector(e,r,n,i){let s=this.findWalletConnector("embedded_imported","privy");if(s&&qg(s))s.proxyProvider.walletProxy=e;else{let o=new rL({provider:new Sz({walletProxy:e,address:r,entropyId:r,entropyIdVerifier:"ethereum-address-verifier",walletIndex:0,rpcConfig:this.rpcConfig,chains:this.chains,appId:i,chainId:n.id}),chains:this.chains,walletIndex:0,defaultChain:n,rpcConfig:this.rpcConfig,imported:!0});this.addWalletConnector(o)}}removeEmbeddedWalletConnectors(){this.walletConnectors=this.walletConnectors.filter(e=>e.connectorType!=="embedded"),this.saveConnectionHistory(),this.storedConnections=E_(),this.emit("walletsUpdated")}removeImportedWalletConnector(){let e=this.findWalletConnector("embedded_imported","privy");if(e){let r=this.walletConnectors.indexOf(e);this.walletConnectors.splice(r,1),this.saveConnectionHistory(),this.storedConnections=E_(),this.emit("walletsUpdated")}}async createEthereumWalletConnector(e,r,n){let i=this.findWalletConnector(e,r);if(i&&qg(i))return i instanceof G0&&i.resetConnection(r),i;let s=e!=="injected"?e==="coinbase_wallet"?new oke(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig,this.privyAppName,this.privyAppLogo):e==="phantom"?new qht(this.defaultChain):new G0(this.walletConnectCloudProjectId,this.rpcConfig,this.chains,this.defaultChain,this.shouldEnforceDefaultChainOnConnect,this.privyAppId,this.privyAppName,r):r==="metamask"&&(n!=null&&n.eip6963InjectedProvider)?new zht(this.chains,this.defaultChain,this.rpcConfig,n==null?void 0:n.eip6963InjectedProvider,"metamask"):r==="metamask"&&(n!=null&&n.legacyInjectedProvider)?new b_(this.chains,this.defaultChain,this.rpcConfig,n==null?void 0:n.legacyInjectedProvider,"metamask"):r==="phantom"&&(n!=null&&n.legacyInjectedProvider)?new b_(this.chains,this.defaultChain,this.rpcConfig,n==null?void 0:n.legacyInjectedProvider,"phantom"):n!=null&&n.legacyInjectedProvider&&r==="unknown_browser_extension"?new b_(this.chains,this.defaultChain,this.rpcConfig,n==null?void 0:n.legacyInjectedProvider):n!=null&&n.eip6963InjectedProvider?new Lle(this.chains,this.defaultChain,this.rpcConfig,n==null?void 0:n.eip6963InjectedProvider,r):void 0;return s&&this.addWalletConnector(s),s||null}addWalletConnector(e){this.walletConnectors.push(e),e.on("initialized",()=>this.onInitialized(e)),e.on("walletsUpdated",()=>this.onWalletsUpdated(e)),e.initialize().catch(r=>{console.debug("Failed to initialize connector",r)})}saveConnectionHistory(){let e=this.wallets.map(r=>({address:r.address,connectorType:r.connectorType,walletClientType:r.walletClientType,connectedAt:r.connectedAt}));lt.put(KJ,e)}async activeWalletSign(e){let r=this.wallets,n=r.length>0?r[0]:null;return n&&Xc(n)?n.sign(e):null}setActiveWallet(e){this.activeWallet=Dt(e),this.emit("walletsUpdated")}constructor(e,r,n,i,s,o,a,l,c,u,f,h){super(),this.addSolanaWalletConnector=async p=>{this.findSolanaWalletConnector("solana_adapter",p.walletClientType)||this.addWalletConnector(p)},this.getEthereumProvider=()=>{let p=this.wallets[0],g=this.walletConnectors.find(m=>m.wallets.find(w=>w.address===(p==null?void 0:p.address)));return p&&g?g.proxyProvider:new is},this.privyAppId=e,this.walletConnectCloudProjectId=r,this.rpcConfig=n,this.chains=i,this.defaultChain=s,this.walletConnectors=[],this.initialized=!1,this.store=o,this.walletList=a,this.shouldEnforceDefaultChainOnConnect=l,this.externalWalletConfig=c,this.privyAppName=u,this.privyAppLogo=f,this.walletChainType=h||"ethereum-only",this.storedConnections=E_()}}const E_=()=>{let t=lt.get(KJ);return t&&Array.isArray(t)&&t.map(e=>(r=>r&&typeof r.address=="string"&&typeof r.connectorType=="string"&&typeof r.walletClientType=="string"&&typeof r.connectedAt=="number")(e)).every(Boolean)?t:[]};let __;var apt=0,C_="__private_"+apt+++"__getOrGenerateClientAnalyticsId";class lpt{initializeConnectorManager({walletConnectCloudProjectId:e,rpcConfig:r,chains:n,defaultChain:i,store:s,walletList:o,shouldEnforceDefaultChainOnConnect:a,externalWalletConfig:l,appName:c,walletChainType:u}){this.connectors||(this.connectors=new opt(this.appId,e,r,n,i,s,o,a,l,c,void 0,u))}generateApi(){let e=new Yht({appId:this.appId,appClientId:this.appClientId,client:this,defaults:{baseURL:this.apiUrl,timeout:this.timeout}});return this.session.api=e,e}updateApiUrl(e){this.apiUrl=e||this.fallbackApiUrl,this.api=this.generateApi(),e&&(this.useServerCookies=!0)}authenticate(){if(!this.authFlow)throw new le("No auth flow in progress.");return this.session.authenticate(this.authFlow)}async link(){if(!this.authFlow)throw new le("No auth flow in progress.");let{oAuthTokens:e}=await this.session.link(this.authFlow);return{user:await this.getAuthenticatedUser(),oAuthTokens:e}}storeProviderAccessToken(e,r){this.session.storeProviderAccessToken(e,r)}getProviderAccessToken(e){return this.session.getProviderAccessToken(e)}async logout(){await this.session.destroy(),this.authFlow=void 0}clearProviderAcccessTokens(e){e.linkedAccounts.filter(r=>r.type==="cross_app").forEach(r=>{this.storeProviderAccessToken(r.providerApp.id,null)})}startAuthFlow(e){return e.api=this.api,this.authFlow=e,this.authFlow}async initMfaSmsVerification(){try{await this.api.post(E9e,{action:"verify"})}catch(e){throw Xt(e)}}async initMfaPasskeyVerification(){try{let e=await this.api.post(_9e,{});return Xht(e.options)}catch(e){throw Xt(e)}}async getCrossAppProviderDetails(e){try{return this._cachedProviderAppDetails[e]||(this._cachedProviderAppDetails[e]=await this.api.get(`/api/v1/apps/${e}/cross-app/details`)),this._cachedProviderAppDetails[e]}catch(r){console.error("Error fetching cross app provider details",r)}}async acceptTerms(){try{let e=await this.api.post(C9e,{});return Mi(e)}catch(e){throw Pr(e)}}async unlinkEmail(e){try{let r=await this.api.post(JEe,{address:e});return await this.getAuthenticatedUser()??Mi(r)}catch(r){throw Pr(r)}}async unlinkPhone(e){try{let r=await this.api.post(r9e,{phoneNumber:e});return await this.getAuthenticatedUser()??Mi(r)}catch(r){throw Pr(r)}}async unlinkEthereumWallet(e){try{let r=await this.api.post(MEe,{address:e});return await this.getAuthenticatedUser()??Mi(r)}catch(r){throw Pr(r)}}async unlinkSolanaWallet(e){try{let r=await this.api.post(UEe,{address:e});return await this.getAuthenticatedUser()??Mi(r)}catch(r){throw Pr(r)}}async unlinkOAuth(e,r){try{let n=await this.api.post(o9e,{provider:e,subject:r});return await this.getAuthenticatedUser()??Mi(n)}catch(n){throw Pr(n)}}async unlinkFarcaster(e){try{let r=await this.api.post(VEe,{fid:e});return await this.getAuthenticatedUser()??Mi(r)}catch(r){throw Pr(r)}}async unlinkTelegram(e){try{let r=await this.api.post(v9e,{telegram_user_id:e});return await this.getAuthenticatedUser()??Mi(r)}catch(r){throw Pr(r)}}async unlinkPasskey(e){try{let r=await this.api.post(y9e,{credential_id:e});return await this.getAuthenticatedUser()??Mi(r)}catch(r){throw Pr(r)}}async revokeDelegatedWallet(){try{await this.api.post(T9e,{})}catch(e){throw Pr(e)}}async createAnalyticsEvent({eventName:e,payload:r,timestamp:n,options:i}){if(typeof window<"u")try{this.clientAnalyticsId||console.warn("No client analytics id set, refusing to send analytics event"),await this.api.post(RJ,{event_name:e,client_id:this.clientAnalyticsId,payload:{...r||{},clientTimestamp:n?n.toISOString():new Date().toISOString()}},{retry:-1,keepalive:(i==null?void 0:i.keepAlive)??!1})}catch{}}async signMoonpayOnRampUrl(e){try{return this.api.post($9e,e)}catch(r){throw Pr(r)}}async initCoinbaseOnRamp(e){try{return this.api.post(I9e,e)}catch(r){throw Pr(r)}}async getCoinbaseOnRampStatus({partnerUserId:e}){try{return this.api.get(`${k9e}?partnerUserId=${e}`)}catch(r){throw Pr(r)}}async getAuthenticatedUser(){return this.session.hasRefreshCredentials()||this.session.hasRecoveryCredentials()?this.session.refresh():null}async getAccessToken(e){return await this.getPrivyAccessToken(e)||await this.getCustomerAccessToken(e)}async getCustomerAccessToken(e){return await this._getToken(Az.CUSTOMER,e)}async getPrivyAccessToken(e){return await this._getToken(Az.PRIVY,e)}async _getToken(e,r){var n;return this.session.getToken(e)?this.session.hasActiveAccessToken(e)?this.session.hasRefreshCredentials(e)?((n=o7e.parse(this.session.getToken(e)))==null?void 0:n.appId)!==this.appId?(await this.logout(),null):this.session.getToken(e):(this.session.destroyLocalState(),null):!(r!=null&&r.disableAutoRefresh)&&this.session.hasRefreshCredentials(e)?(await this.session.refresh(),this.session.getToken(e)):null:null}async getSmartWalletsConfig(){try{let e={},r=this.session.token;r&&(e.authorization=`Bearer ${r}`);let n=await this.api.get(`/api/v1/apps/${this.appId}/smart_wallets`,{baseURL:this.fallbackApiUrl,headers:e});return n.enabled?{enabled:n.enabled,smartWalletType:n.smart_wallet_type,configuredNetworks:n.configured_networks.map(i=>({chainId:i.chain_id,bundlerUrl:i.bundler_url,paymasterUrl:i.paymaster_url,paymasterContext:Qht(i.paymaster_url,i.paymaster_context)}))}:{enabled:n.enabled}}catch(e){throw Pr(e)}}async getServerConfig(){var e;try{let r={},n=this.session.token;n&&(r.authorization=`Bearer ${n}`);let i=await this.api.get(`/api/v1/apps/${this.appId}`,{baseURL:this.fallbackApiUrl,headers:r}),s=i.telegram_auth_config?{botId:i.telegram_auth_config.bot_id,botName:i.telegram_auth_config.bot_name,linkEnabled:i.telegram_auth_config.link_enabled,seamlessAuthEnabled:i.telegram_auth_config.seamless_auth_enabled}:void 0,o=i.funding_config?{methods:i.funding_config.methods,options:i.funding_config.options,defaultRecommendedAmount:i.funding_config.default_recommended_amount,defaultRecommendedCurrency:i.funding_config.default_recommended_currency,promptFundingOnWalletCreation:i.funding_config.prompt_funding_on_wallet_creation,crossChainBridgingEnabled:i.funding_config.cross_chain_bridging_enabled}:void 0;return{id:i.id,name:i.name,verificationKey:i.verification_key,logoUrl:i.logo_url||void 0,accentColor:i.accent_color||void 0,showWalletLoginFirst:i.show_wallet_login_first,allowlistConfig:{errorTitle:i.allowlist_config.error_title,errorDetail:i.allowlist_config.error_detail,errorCtaText:i.allowlist_config.cta_text,errorCtaLink:i.allowlist_config.cta_link},walletAuth:i.wallet_auth,solanaWalletAuth:i.solana_wallet_auth,emailAuth:i.email_auth,smsAuth:i.sms_auth,googleOAuth:i.google_oauth,twitterOAuth:i.twitter_oauth,discordOAuth:i.discord_oauth,githubOAuth:i.github_oauth,spotifyOAuth:i.spotify_oauth,instagramOAuth:i.instagram_oauth,tiktokOAuth:i.tiktok_oauth,linkedinOAuth:i.linkedin_oauth,appleOAuth:i.apple_oauth,farcasterAuth:i.farcaster_auth,passkeyAuth:i.passkey_auth,passkeysForSignupEnabled:i.passkeys_for_signup_enabled,telegramAuth:i.telegram_auth,disablePlusEmails:i.disable_plus_emails,termsAndConditionsUrl:i.terms_and_conditions_url,embeddedWalletConfig:{createOnLogin:(e=i.embedded_wallet_config)==null?void 0:e.create_on_login,userOwnedRecoveryOptions:i.embedded_wallet_config.user_owned_recovery_options,requireUserOwnedRecoveryOnCreate:i.embedded_wallet_config.require_user_owned_recovery_on_create},privacyPolicyUrl:i.privacy_policy_url,requireUsersAcceptTerms:i.require_users_accept_terms,customApiUrl:i.custom_api_url,walletConnectCloudProjectId:i.wallet_connect_cloud_project_id,fiatOnRampEnabled:i.fiat_on_ramp_enabled,captchaEnabled:i.captcha_enabled,captchaSiteKey:i.captcha_site_key,createdAt:new Date(1e3*i.created_at),updatedAt:new Date(1e3*i.updated_at),mfaMethods:i.mfa_methods,enforceWalletUis:i.enforce_wallet_uis,legacyWalletUiConfig:i.legacy_wallet_ui_config,telegramAuthConfiguration:s,fundingConfig:o}}catch(r){throw Pr(r)}}async getUsdTokenPrice(e){try{return(await this.api.get(`/api/v1/token_price?chainId=${e.id}&tokenSymbol=${e.nativeCurrency.symbol}`)).usd}catch{return void console.error(`Unable to fetch token price for chain with id ${e.id}`)}}async getUsdPriceForSol(){try{return(await this.api.get("/api/v1/token_price?chainId=0&tokenSymbol=SOL")).usd}catch{return void console.error("Unable to fetch token price for SOL")}}async getSplTokenMetadata({mintAddress:e,cluster:r}){try{return await this.api.get(`/api/v1/spl_token_info?mint_address=${e}&cluster=${r}`)}catch{return void console.error(`Unable to fetch token metadata for ${r}:${e}`)}}async requestFarcasterSignerStatus(e){try{return await this.api.post("/api/v1/farcaster/signer/status",{ed25519_public_key:e})}catch(r){throw console.error("Unable to fetch Farcaster signer status"),r}}async forkSession(){return await this.session.forkSession()}async generateSiweNonce({address:e,captchaToken:r}){try{return(await this.api.post(PEe,{address:e,token:r})).nonce}catch(n){throw Pr(n)}}async authenticateWithSiweInternal({message:e,signature:r,chainId:n,walletClientType:i,connectorType:s,mode:o}){return await this.api.post(REe,{message:e,signature:r,chainId:n,walletClientType:i,connectorType:s,mode:o})}async linkWithSiweInternal({message:e,signature:r,chainId:n,walletClientType:i,connectorType:s}){return await this.api.post(OEe,{message:e,signature:r,chainId:n,walletClientType:i,connectorType:s})}async linkSmartWallet({message:e,signature:r,smartWalletType:n}){try{let i=await this.api.post(jEe,{message:e,signature:r,smart_wallet_type:n});return Mi(i)}catch(i){throw Pr(i)}}async linkWithSiwe({message:e,signature:r,chainId:n,walletClientType:i,connectorType:s}){try{let o=await this.linkWithSiweInternal({message:e,signature:r,chainId:n,walletClientType:i,connectorType:s});return Mi(o)}catch(o){throw Pr(o)}}async generateSiwsNonce({address:e,captchaToken:r}){try{return(await this.api.post(LEe,{address:e,token:r})).nonce}catch(n){throw Pr(n)}}async authenticateWithSiwsInternal({message:e,signature:r,walletClientType:n,connectorType:i,mode:s}){return await this.api.post(FEe,{message:e,signature:r,walletClientType:n,connectorType:i,mode:s})}async sendAccountTransferRequest({nonce:e,account:r,accountType:n,externalWalletMetadata:i,telegramAuthResult:s,telegramWebAppData:o,farcasterEmbeddedAddress:a,oAuthUserInfo:l}){try{let c,u;switch(n){case"email":c=XEe,u={nonce:e,email:r};break;case"sms":c=s9e,u={nonce:e,phoneNumber:r};break;case"siwe":if(c=DEe,!i)throw Error("Wallet parameters must be defined");u={nonce:e,address:r,...i};break;case"farcaster":c=GEe,u={nonce:e,farcaster_id:r,farcaster_embedded_address:a};break;case"telegram":c=x9e,u={nonce:e,telegram_auth_result:s,telegram_web_app_data:o};break;case"custom":case"guest":case"passkey":throw Error("Invalid transfer account type");default:c=a9e,u={nonce:e,userInfo:l}}let f=await this.api.post(c,u);return await this.getAuthenticatedUser()??Mi(f)}catch(c){throw Pr(c)}}async linkWithSiwsInternal({message:e,signature:r,walletClientType:n,connectorType:i}){return await this.api.post(BEe,{message:e,signature:r,walletClientType:n,connectorType:i})}async linkWithSiws({message:e,signature:r,walletClientType:n,connectorType:i}){try{let s=await this.linkWithSiwsInternal({message:e,signature:r,walletClientType:n,connectorType:i});return Mi(s)}catch(s){throw Pr(s)}}constructor({apiUrl:e=NA,appId:r,appClientId:n,timeout:i=G9e}){Object.defineProperty(this,C_,{value:cpt}),this._cachedProviderAppDetails={},this.apiUrl=e,this.fallbackApiUrl=this.apiUrl,this.useServerCookies=e!==NA&&e.startsWith("https://privy."),this.timeout=i,this.appId=r,this.appClientId=n,this.clientAnalyticsId=function(s,o){if(!Object.prototype.hasOwnProperty.call(s,o))throw TypeError("attempted to use private field on non-instance");return s}(this,C_)[C_](),__||(__=new spt),this.session=__,this.api=this.generateApi(),this.session.client=this}}function cpt(){if(typeof window>"u")return null;try{let e=lt.get(RA);if(typeof e=="string"&&e.length>0)return e}catch{}let t=DK();try{return lt.put(RA,t),t}catch{return t}}class upt{async handleSignMessage(e){if(!e.params||typeof e.params.message!="string")throw Error("Message must be provided as a string for Solana signMessage RPC");return await mpt({message:e.params.message,address:this.address})}async request(e){if(console.debug("EmbeddedSolanaProvider.request() called with args",e),!await ir())throw Error("User must be authenticated to use embedded Solana wallet");if(!await gpt())throw new le("Unable to connect to Solana embedded wallet");if(e.method==="signMessage")return await this.handleSignMessage(e);throw Error("Embedded Solana provider does not yet support this RPC method.")}constructor(e,r){this.walletProxy=e,this.address=r}}let du,Fle,Ble,Ule,Wle,zle,Hle;async function ir(){return du?du.getAccessToken():Promise.resolve(lt.get(r3)||lt.get(ym)||null)}const dpt=(t,e,r)=>Fle(t,e,r),fpt=(t,e,r)=>Ble(t,e,r),hpt=(t,e,r,n)=>Ule(t,e,r,n),ppt=()=>Wle(),gpt=()=>zle(),mpt=({message:t,address:e})=>Hle({message:t,address:e}),ypt=({config:t,...e})=>{var i,s;var r;if(typeof window<"u"&&0>["localhost","127.0.0.1"].indexOf(window.location.hostname)&&window.location.protocol!=="https:")throw new le("Embedded wallet is only available over HTTPS");if(typeof(r=e.appId)!="string"||r.length!==25)throw new le("Cannot initialize the Privy provider with an invalid Privy app ID");du||(du=new lpt({appId:e.appId,appClientId:e.clientId,apiUrl:e.apiUrl}));let n=Object.assign({},t);return e.createPrivyWalletOnLogin!==void 0&&((i=n.embeddedWallets)==null?void 0:i.createOnLogin)===void 0&&(n.embeddedWallets||(n.embeddedWallets={}),n.embeddedWallets.createOnLogin=e.createPrivyWalletOnLogin?"users-without-wallets":"off"),e.createPrivyWalletOnLogin!==void 0&&((s=t==null?void 0:t.embeddedWallets)!=null&&s.createOnLogin)&&console.warn("Both `createPrivyWalletOnLogin` and `config.embeddedWallets.createOnLogin` are set. `createPrivyWalletOnLogin` is deprecated and should be removed."),d.jsx(nNe,{client:du,clientConfig:n,legacyCreateEmbeddedWalletFlag:e.createPrivyWalletOnLogin,children:d.jsx(zrt,{children:d.jsx(wpt,{...e,client:du})})})};let wpt=t=>{var lr,cr,vs,ur,dr;let e=t.client,r=Yw(),[n,i]=C.useState(!1),[s,o]=C.useState(!1),[a,l]=C.useState(!1),[c,u]=C.useState(null),[f,h]=C.useState([]),[p,g]=C.useState([]),[m,w]=C.useState([]),y=C.useRef(f),[E,v]=C.useState(!1),[b,$]=C.useState(null),[P,O]=C.useState(!1),[D,B]=C.useState({status:"disconnected",connectedWallet:null,connectError:null,connector:null,connectRetry:ve}),[H,q]=C.useState({status:"initial"}),[Y,R]=C.useState({status:"initial"}),[_,x]=C.useState({status:"initial"}),[A,T]=C.useState({status:"initial"}),[I,N]=C.useState({status:"initial"}),[M,U]=C.useState(null),S=$n(),F=iNe(),[Q,k]=C.useState(!0),[W,V]=C.useState({}),[ee,te]=C.useState(null),[ce,K]=C.useState(null),[G,pe]=C.useState(!1),[de,ye]=C.useState(!1),[Ne,je]=C.useState((lr=S.customAuth)!=null&&lr.enabled?{status:"initial"}:{status:"not-enabled"}),Qe=C.useRef(null),xe=C.useRef(null),he=C.useRef(cNe),[ht,De]=C.useState(!1);e.onStoreCustomerAccessToken=z=>{z&&Ee(he,"accessToken","onAccessTokenGranted",z)},e.onDeleteCustomerAccessToken=()=>{u(null),l(!1),Ee(he,"accessToken","onAccessTokenRemoved")};let we=C.useRef(null),_e=C.useRef(null),Me=C.useRef(!1),ke=({showWalletUIs:z,typedData:J})=>Me.current?Me.current:z!==void 0?!z:S.embeddedWallets.showWalletUIs!==void 0?!S.embeddedWallets.showWalletUIs:J?S.embeddedWallets.noPromptOnSignature||(S.legacyWalletUiConfig??!1):!!S.embeddedWallets.noPromptOnSignature,Te=z=>{$(z),setTimeout(()=>{i(!0)},15),e.createAnalyticsEvent({eventName:"modal_open",payload:{initialScreen:z}})},Ue=z=>{S.embeddedWallets.createOnLogin!=="off"&&k(!0),Te(z)};C.useEffect(()=>{let z=[...i3(c),zm(c)].filter(J=>!!J);M&&w(z.map(J=>({type:"solana",imported:J.imported,address:J.address,connectedAt:Date.now(),walletClientType:"privy",connectorType:"embedded",walletIndex:J.walletIndex??void 0,meta:{name:"Privy Wallet",icon:void 0,id:"io.privy.solana.wallet"},linked:!0,fund(){throw new le("'fund' is deprecated for Solana wallets - use 'fundWallet' instead")},unlink:()=>{throw new le("Cannot unlink an embedded Solana wallet")},getProvider:async()=>new upt(M,J.address),async signMessage(ie){let re=await ir();if(!re||!M)throw new le("Must have valid access token and Privy wallet to send transaction",ue.MUST_BE_AUTHENTICATED);let oe=J.imported?zm(c):Is(c);if(!oe)throw new le("Attempting to sign a transaction without a root wallet");let{entropyId:be,entropyIdVerifier:Ae}=Qr(oe);if(!await nt.recoverPrimaryWallet().catch(()=>!1))throw new le("Wallet couldn't be connected",ue.UNKNOWN_CONNECT_WALLET_ERROR);if(!c)throw new le("Attempting to sign a transaction with no user initialized");let{response:Ce}=await M.rpc({accessToken:re,entropyId:be,entropyIdVerifier:Ae,chainType:"solana",hdWalletIndex:this.walletIndex??0,request:{method:"signMessage",params:{message:Ke.from(ie).toString("base64")}}});return Ke.from(Ce.data.signature,"base64")},async sendTransaction(ie,re,oe){let{signature:be}=await Yt({transaction:ie,connection:re,transactionOptions:oe,wallet:this});return be},async signTransaction(ie){let re=await ir();if(!re||!M)throw new le("Must have valid access token and Privy wallet to send transaction",ue.MUST_BE_AUTHENTICATED);if(!await nt.recoverPrimaryWallet().catch(()=>!1))throw new le("Wallet couldn't be connected",ue.UNKNOWN_CONNECT_WALLET_ERROR);let oe=J.imported?J:Is(c);if(!oe)throw new le("Attempting to sign a transaction without a root wallet");let{entropyId:be,entropyIdVerifier:Ae}=Qr(oe);return await ble({tx:ie,accessToken:re,walletProxy:M,entropyId:be,entropyIdVerifier:Ae,transactingWalletAddress:this.address,transactingWalletIndex:this.walletIndex??0}),ie},loginOrLink:async()=>{throw new le("Cannot login or link with an embedded Solana wallet")},disconnect:()=>{},isConnected:async()=>!0})))},[M,c]),C.useEffect(()=>{var re,oe,be;if(!c)return void((re=e.connectors)==null?void 0:re.removeEmbeddedWalletConnectors());let z=ks(c),J=n3(c),ie=k5(c);z&&J.length||((oe=e.connectors)==null||oe.removeEmbeddedWalletConnectors()),ie||((be=e.connectors)==null||be.removeImportedWalletConnector()),e.connectors?M?(z&&e.connectors.addEmbeddedWalletConnectors({walletProxy:M,rootWallet:z,embeddedWallets:J,defaultChain:S.defaultChain,appId:t.appId}),ie&&e.connectors.addImportedWalletConnector(M,ie.address,S.defaultChain,t.appId)):console.debug("Failed to add embedded wallet connector: Wallet proxy not initialized"):console.debug("Failed to add embedded wallet connector: Client connectors not initialized")},[M,c]),C.useEffect(()=>{M&&(ce==null||ce(M))},[M]);let Be=C.useRef();C.useEffect(()=>{(async()=>{var ie;if(!((ie=S.customAuth)!=null&&ie.enabled))return void je({status:"not-enabled"});k(!0);let{getCustomAccessToken:z,isLoading:J}=S.customAuth;if(s&&!J&&Ne.status!=="loading"){je({status:"loading"});try{let re=await z();if(re===Be.current)return void je({status:"done"});if(!re&&a)return Be.current=re,await Vt.logout(),je({status:"done"}),void Ee(he,"customAuth","onUnauthenticated");if(!re)return Be.current=re,void je({status:"done"});e.startAuthFlow(new OJ(re));let{user:oe,isNewUser:be}=await e.authenticate();if(!oe)return await Vt.logout(),je({status:"error",error:new le("Failed to sync with custom auth provider")}),void Ee(he,"customAuth","onUnauthenticated");be!==void 0&&Ee(he,"login","onComplete",oe,be,!1,"custom",null),Be.current=re,Ee(he,"customAuth","onAuthenticated",{user:oe}),je({status:"done"}),u(oe||null),v(be||!1),l(!0),ye(!0)}catch(re){if(console.warn(re),await Vt.logout(),Ee(he,"customAuth","onUnauthenticated"),re.message==="User already exists with provided custom JWT account.")return void je({status:"initial"});Ee(he,"login","onError",re.privyErrorCode||ue.UNKNOWN_AUTH_ERROR),je({status:"error",error:re})}}})()},[Ne.status==="initial",(cr=S.customAuth)==null?void 0:cr.enabled,(vs=S.customAuth)==null?void 0:vs.getCustomAccessToken,(ur=S.customAuth)==null?void 0:ur.isLoading,s,a]),C.useEffect(()=>{de&&M&&c&&Pu(c,S.embeddedWallets.createOnLogin)&&(ye(!1),jt(c,sT).catch(console.error))},[de&&M&&c]),C.useEffect(()=>{if(S.externalWallets.solana.connectors)return S.externalWallets.solana.connectors.onMount(),()=>{var z;return(z=S.externalWallets.solana.connectors)==null?void 0:z.onUnmount()}},[S.externalWallets.solana.connectors]),C.useEffect(()=>{!s&&F&&async function(){var Ae,Ce,Oe;let z,J=Z(),ie=j();(()=>{let Xe=new URLSearchParams(window.location.search).get("privy_token");if(!Xe)return;lt.put(PA,Xe);let wt=new URL(window.location.href);wt.searchParams.delete("privy_token"),window.history.pushState({},"",wt)})();let re=z0e();e.initializeConnectorManager({walletConnectCloudProjectId:S.walletConnectCloudProjectId,rpcConfig:S.rpcConfig,chains:S.chains,defaultChain:S.defaultChain,store:re,walletList:S.appearance.walletList,shouldEnforceDefaultChainOnConnect:S.shouldEnforceDefaultChainOnConnect,externalWalletConfig:S.externalWallets,appName:S.name??"Privy",walletChainType:S.appearance.walletChainType}),(Ae=e.connectors)==null||Ae.on("connectorInitialized",()=>{z&&clearTimeout(z);let Xe=e.connectors.walletConnectors.length,wt=e.connectors.walletConnectors.reduce((it,Pt)=>it+(Pt.initialized?1:0),0);wt===Xe?De(!0):z=setTimeout(()=>{console.debug({message:"Unable to initialize all expected connectors before timeout",initialized:wt,expected:Xe}),De(!0)},1500)}),(Ce=e.connectors)==null||Ce.initialize().then(()=>{ge()});let oe=await e.getAuthenticatedUser(),be=!!oe;S.legal.requireUsersAcceptTerms&&oe&&!oe.hasAcceptedTerms?(await e.logout(),nt.setReadyToTrue(!0),Ee(he,"logout","onSuccess")):((Oe=S.customAuth)!=null&&Oe.enabled||(l(!!oe),oe&&Ee(he,"login","onComplete",oe,!1,!0,null,null),u(oe)),J?_e.current=be?"link":"login":ie&&!be?(_e.current="login",V({telegramAuthModalData:{seamlessAuth:!0}}),Ue(se.TELEGRAM_AUTH_SCREEN)):nt.setReadyToTrue(!!oe))}()},[e,ee,s,F]),C.useEffect(()=>{if(s){if(!c||!c.linkedAccounts.find(z=>z.type==="wallet"&&z.walletClientType==="privy"))return void pe(!0);pe(!!f.find(z=>z.walletClientType==="privy"))}},[s,c,f]);let Z=()=>{let z=Uht();return z.inProgress&&z.popupFlow?window.opener.location.origin!==window.location.origin?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Origins between parent and child windows do not match."}):z.authorizationCode==="error"?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Something went wrong. Try again."}):void window.opener.postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:z.stateCode,authorizationCode:z.authorizationCode}):(z.inProgress&&kht(z.provider)&&!z.popupFlow&&(new BroadcastChannel(Ole).postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:z.stateCode,authorizationCode:z.authorizationCode}),window.close()),!!z.inProgress&&!!z.withPrivyUi&&(e.startAuthFlow(new Yp(z)),Ue(se.AWAITING_OAUTH_SCREEN),!0))},j=()=>{var ie;let z=s7e();if(!z||!S.loginMethods.telegram||!((ie=S.loginConfig.telegramAuthConfiguration)!=null&&ie.seamlessAuthEnabled))return;let J=new zg;return e.startAuthFlow(J),z.flowType==="login-url"&&(J.meta.telegramWebAppData=void 0,J.meta.telegramAuthResult=z.authData),z.flowType==="web-app"&&(J.meta.telegramAuthResult=void 0,J.meta.telegramWebAppData=z.authData),!0},L=async(z,J,ie,re)=>{var oe;X(await((oe=e.connectors)==null?void 0:oe.createEthereumWalletConnector(z,J))||null,J,ie,re)};async function X(z,J,ie,re){if(!z)return B({status:"disconnected",connectedWallet:null,connectError:new Ur("Unable to connect to wallet."),connector:null,connectRetry:ve}),re==null?void 0:re(null,ie);B({status:"disconnected",connectedWallet:null,connectError:null,connector:z,connectRetry:ve}),z instanceof G0&&J&&await z.resetConnection(J),B({connector:z,status:"connecting",connectedWallet:null,connectError:null,connectRetry:()=>X(z,J,ie,re)});try{let oe=await z.connect({showPrompt:!0});if((!oe||Xc(oe))&&S.shouldEnforceDefaultChainOnConnect&&!S.chains.find(be=>be.id===Number(oe==null?void 0:oe.chainId.replace("eip155:","")))&&((oe==null?void 0:oe.connectorType)!=="wallet_connect_v2"||(oe==null?void 0:oe.walletClientType)!=="metamask")){B(be=>({...be,connector:z,status:"switching_to_supported_chain",connectedWallet:null,connectError:null,connectRetry:ve}));try{await(oe==null?void 0:oe.switchChain(S.defaultChain.id)),oe&&(oe.chainId=t3(C5(S.defaultChain.id)))}catch{console.warn(`Unable to switch to default chain: ${S.defaultChain.id}`)}}return B(be=>({...be,status:"connected",connectedWallet:oe,connectError:null,connectRetry:ve})),oe&&Ee(he,"connectWallet","onSuccess",(z.chainType,oe)),re==null?void 0:re(oe,ie)}catch(oe){return oe instanceof Ks?(console.warn(oe.cause?oe.cause:oe.message),Ee(he,"connectWallet","onError",oe.privyErrorCode||ue.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(oe),Ee(he,"connectWallet","onError",ue.UNKNOWN_CONNECT_WALLET_ERROR)),B(be=>({...be,status:"disconnected",connectedWallet:null,connectError:oe})),re==null?void 0:re(null,ie)}}let ae=async(z,J,ie)=>{if(z===null||!Xc(z))return;let re=new I5(z,e,J,ie);e.startAuthFlow(re)},fe=async(z,J)=>{if(z===null||!mz(z))return;let ie=new MA(z,e,J);e.startAuthFlow(ie)},ge=()=>{let z=new URLSearchParams(window.location.search),J=z.get("privy_connector"),ie=z.get("privy_wallet_client");if(!J||!ie)return;if(ie!=="phantom"||T4()||Ue(se.LOGIN_FAILED_SCREEN),!e.connectors)throw new le("Connector not initialized");Te(se.AWAITING_CONNECTION);let re=new URL(window.location.href);re.searchParams.delete("privy_connector"),re.searchParams.delete("privy_wallet_client"),window.history.pushState({},"",re),L(J,ie,void 0,ae)};C.useEffect(()=>{s&&a&&c===null&&e.getAuthenticatedUser().then(u)},[s,a,c,e]);let Ie=z=>{if(!a)throw Ee(he,"linkAccount","onError",ue.MUST_BE_AUTHENTICATED,{linkMethod:z}),new le("User must be authenticated before linking an account.")},Se=()=>{Ie("siwe"),we.current="siwe",_e.current="link",Te(se.LINK_WALLET_SCREEN)},Ve=z=>{if(!a||!c)return!1;if(z.walletClientType==="privy")return!0;for(let J of c.linkedAccounts)if(J.type==="wallet"&&J.address===z.address&&J.walletClientType!=="privy")return!0;return!1},_t=async z=>{let J;if(!e.connectors)throw new le("Connector not initialized");J=z.type==="ethereum"?e.connectors.findWalletConnector(z.connectorType,z.walletClientType)||null:e.connectors.findSolanaWalletConnector(z.connectorType,z.walletClientType)||null,B(ie=>({...ie,connector:J,status:"connected",connectedWallet:z,connectError:null,connectRetry:ve})),S.captchaEnabled&&!a?(V({captchaModalData:{callback:ie=>Xc(z)?ae(z,ie):fe(z,ie),userIntentRequired:!1,onSuccessNavigateTo:se.AWAITING_CONNECTION,onErrorNavigateTo:se.ERROR_SCREEN}}),Ue(se.CAPTCHA_SCREEN)):(Xc(z)?await ae(z):await fe(z),Ue(se.AWAITING_CONNECTION))},Ge=()=>{h(z=>{var ie;let J=((ie=e.connectors)==null?void 0:ie.wallets.filter(Xc).map(re=>({...re,linked:Ve(re),loginOrLink:async()=>{if(!await re.isConnected())throw new le("Wallet is not connected");if(re.connectorType==="embedded"&&re.walletClientType==="privy")throw new le("Cannot link or login with embedded wallet");_t(re)},fund:async oe=>{await nt.fundWallet(re.address,oe)},unlink:async()=>{if(!a)throw new le("User is not authenticated.");if(re.connectorType==="embedded"&&re.walletClientType==="privy")throw new le("Cannot unlink an embedded wallet");u(await e.unlinkEthereumWallet(re.address))}})))||[];return YA(z,J)?z:J}),g(z=>{var ie;let J=(((ie=e.connectors)==null?void 0:ie.wallets)??[]).concat(m).filter(mz).map(re=>({...re,linked:Ve(re),loginOrLink:async()=>{if(!await re.isConnected())throw new le("Wallet is not connected");if(re.connectorType==="embedded"&&re.walletClientType==="privy")throw new le("Cannot link or login with embedded wallet");_t(re)},fund:async()=>{throw new le("'fund' is deprecated for Solana wallets - use 'fundWallet' instead")},unlink:async()=>{if(!a)throw new le("User is not authenticated.");if(re.connectorType==="embedded"&&re.walletClientType==="privy")throw new le("Cannot unlink an embedded wallet");u(await e.unlinkSolanaWallet(re.address))}}));return YA(z,J)?z:J})};C.useEffect(()=>{Ge()},[c==null?void 0:c.linkedAccounts,a,s,m]),C.useEffect(()=>{if(s){if(!e.connectors)throw new le("Connector not initialized");Ge(),e.connectors.on("walletsUpdated",Ge)}},[s]),C.useEffect(()=>{var z,J;[...((z=S.loginMethodsAndOrder)==null?void 0:z.primary)??[],...((J=S.loginMethodsAndOrder)==null?void 0:J.overflow)??[]].filter(ie=>ie.startsWith("privy:")).forEach(ie=>e.getCrossAppProviderDetails(ie.replace("privy:","")))},[!!e]),C.useEffect(()=>{let z;if(!f[0])return;let J=f[0],ie=y.current.find(re=>re.address===J.address);if(z=J.walletClientType==="privy"?c==null?void 0:c.linkedAccounts.find(re=>re.type==="wallet"&&re.address===J.address&&re.walletClientType==="privy"):c==null?void 0:c.linkedAccounts.find(re=>re.type==="wallet"&&re.address===J.address&&re.walletClientType!=="privy"),!ie&&z){let re=Object.assign({},c);re.wallet=z&&{address:z.address,chainType:z.chainType,chainId:z.chainId,walletClient:z.walletClient,walletClientType:z.walletClientType,connectorType:z.connectorType,imported:z.imported,delegated:z.delegated,walletIndex:z.walletIndex},u(re)}y.current=f},[f]);let jt=async(z,J,ie)=>{var Oe,Xe,wt;let re=ks(z),oe=Ul(z);if(ie&&"walletIndex"in ie)return er(z,J,ie.walletIndex,re,oe);let be=ie&&"createAdditional"in ie&&ie.createAdditional;if(re&&!be)throw Ee(he,"createWallet","onError",ue.EMBEDDED_WALLET_ALREADY_EXISTS),Error("User already has an embedded wallet.");let[Ae,Ce]=await Promise.all([nt.initializeWalletProxy(J),ir()]);if(!Ae&&((Oe=S.customAuth)!=null&&Oe.enabled))throw Ee(he,"createWallet","onError",ue.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");if(!Ae||!Ce||(Xe=S.embeddedWallets)!=null&&Xe.requireUserOwnedRecoveryOnCreate)return ci();if(!re)return await Ae.create({accessToken:Ce,solanaAddress:oe==null?void 0:oe.address}),Ar(0,"ethereum");{let it=(((wt=a7e(z))==null?void 0:wt.walletIndex)??0)+1,{entropyId:Pt,entropyIdVerifier:Lt}=Qr(Is(z));return await nt.recoverPrimaryWallet(),await Ae.addWallet({accessToken:Ce,entropyId:Pt,entropyIdVerifier:Lt,chainType:"ethereum",hdWalletIndex:it}),Ar(it,"ethereum")}},ci=async()=>new Promise((z,J)=>{k(!0),V({createWallet:{onSuccess:ie=>{Ee(he,"createWallet","onSuccess",ie),z(ie)},onFailure:ie=>{Ee(he,"createWallet","onError",ue.UNKNOWN_EMBEDDED_WALLET_ERROR),J(ie)},callAuthOnSuccessOnClose:!1}}),Te(se.EMBEDDED_WALLET_ON_ACCOUNT_CREATE_SCREEN)}),er=async(z,J,ie,re,oe)=>{var Ce,Oe;if(ie<0)throw Ee(he,"createWallet","onError",ue.EMBEDDED_WALLET_CREATE_ERROR),Error(`A negative walletIndex (${ie}) is invalid.`);let[be,Ae]=await Promise.all([nt.initializeWalletProxy(J),ir()]);if(!be&&((Ce=S.customAuth)!=null&&Ce.enabled))throw Ee(he,"createWallet","onError",ue.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");if(!be||!Ae||(Oe=S.embeddedWallets)!=null&&Oe.requireUserOwnedRecoveryOnCreate){if(ie==0)return ci();throw Ee(he,"createWallet","onError",ue.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Create wallet UI can only be displayed when walletIndex is 0.")}if(ie==0){if(re)return re;await be.create({accessToken:Ae,solanaAddress:oe==null?void 0:oe.address})}else{if(!re)throw Ee(he,"createWallet","onError",ue.EMBEDDED_WALLET_CREATE_ERROR),Error("A user must have a wallet at HD index 0 before creating a wallet at greater HD indices.");let Xe=n3(z).find(Pt=>Pt.walletIndex===ie);if(Xe)return Xe;let{entropyId:wt,entropyIdVerifier:it}=Qr(Is(z));await nt.recoverPrimaryWallet(),await be.addWallet({accessToken:Ae,entropyId:wt,entropyIdVerifier:it,chainType:"ethereum",hdWalletIndex:ie})}return Ar(ie,"ethereum")},yt=async({user:z,wp:J,accessToken:ie,walletIndex:re,ethereumWallet:oe})=>{let be=i3(z).find(Ae=>Ae.walletIndex===re);if(be)return be;if(re===0)await J.createSolana({accessToken:ie,ethereumAddress:oe==null?void 0:oe.address});else{let Ae=Is(z);if(!Ae)throw Ee(he,"createWallet","onError",ue.EMBEDDED_WALLET_CREATE_ERROR),Error("User must have a wallet at HD index 0 before creating a wallet at greater HD indices.");let{entropyId:Ce,entropyIdVerifier:Oe}=Qr(Ae);await nt.recoverPrimaryWallet(),await J.addWallet({accessToken:ie,entropyId:Ce,entropyIdVerifier:Oe,chainType:"solana",hdWalletIndex:re})}return Ar(re,"solana")},Ar=async(z,J)=>{let ie=await nt.refreshUser(),re=(J==="ethereum"?n3(ie):i3(ie)).find(oe=>oe.walletIndex===z);if(!re)throw Ee(he,"createWallet","onError",ue.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to create wallet");return Ee(he,"createWallet","onSuccess",re),re},Nt=(z,J,ie,re)=>new Promise(async(oe,be)=>{var dn;let{requesterAppId:Ae}=J||{};if(!a||!c)return Ee(he,"sendTransaction","onError",ue.MUST_BE_AUTHENTICATED),void be(Error("User must be authenticated before signing with a Privy wallet"));let Ce=re??((dn=ks(c))==null?void 0:dn.address);if(!Ce)throw new le("User must have an embedded wallet to send a transaction.");let{signingWallet:Oe,rootWallet:Xe}=Ub(c,Ce);if(!Xe||!Oe)return Ee(he,"sendTransaction","onError",ue.EMBEDDED_WALLET_NOT_FOUND),void be(Error("Must have a Privy wallet before signing"));k(!0);let wt=ar.wallets.find(Sr=>Sr.walletClientType==="privy"&&Dt(Sr.address)===Dt(Oe.address)),it=await(wt==null?void 0:wt.getEthereumProvider());if(!wt||!it)throw new le(`Cannot sendTransaction before embedded wallet ${Oe.address} is connected`);let Pt=z.chainId?Number(z.chainId):Rle(wt.chainId);(Sr=>{if(!S.chains.map(yn=>yn.id).includes(Sr))throw new Ur(`Chain ID ${Sr} is not supported. It must be added to the config.supportedChains property of the PrivyProvider.`,ue.UNSUPPORTED_CHAIN_ID)})(Pt);let Lt=Object.assign({},z,{chainId:Pt});if(ke({showWalletUIs:J==null?void 0:J.showWalletUIs}))(async()=>{let Sr=await ir();if(!Sr||!M)return Ee(he,"sendTransaction","onError",ue.EMBEDDED_WALLET_NOT_FOUND),void be(Error("Must have valid access token and Privy wallet to send transaction"));try{if(!await nt.recoverPrimaryWallet())return Ee(he,"sendTransaction","onError",ue.UNKNOWN_CONNECT_WALLET_ERROR),void be(Error("Unable to connect to wallet"));let yn=w1(Lt.chainId,S.chains,S.rpcConfig,{appId:t.appId}),Sc=await lk(Oe.address,Lt,yn);if(ke({showWalletUIs:J==null?void 0:J.showWalletUIs})){let{totalGasEstimate:qle}=await ak(Sc,yn),{hasSufficientFunds:Vle}=await $le(Oe.address,Sc,qle,yn);if(!Vle)throw new Ka(new gh("Wallet has insufficient funds for this transaction.",ni.E32603_DEFAULT_INTERNAL_ERROR.eipCode))}let{entropyId:Sf,entropyIdVerifier:Qu}=Qr(Xe),CP=await Sle({accessToken:Sr,entropyId:Sf,entropyIdVerifier:Qu,transactingWallet:Oe,walletProxy:M,transactionRequest:Sc,provider:yn,requesterAppId:Ae});Ee(he,"sendTransaction","onSuccess",CP),oe(CP)}catch(yn){Ee(he,"sendTransaction","onError",ue.TRANSACTION_FAILURE),be(yn)}})();else{let{entropyId:Sr,entropyIdVerifier:yn}=Qr(Xe),Sc={entropyId:Sr,entropyIdVerifier:yn,onCompleteNavigateTo:se.EMBEDDED_WALLET_SEND_TRANSACTION_SCREEN,onFailure:Qu=>{Ee(he,"sendTransaction","onError",ue.UNKNOWN_CONNECT_WALLET_ERROR),be(Qu)}},Sf=vz(S)?wz({address:Oe.address,appConfig:S,fundWalletConfig:ie,methodScreen:se.FUNDING_METHOD_SELECTION_SCREEN,chainIdOverride:Lt.chainId,comingFromSendTransactionScreen:!0}):void 0;V({connectWallet:Sc,sendTransaction:{transactionRequest:Lt,transactingWallet:Oe,entropyId:Sr,entropyIdVerifier:yn,onSuccess:Qu=>{Ee(he,"sendTransaction","onSuccess",Qu),oe(Qu)},onFailure:Qu=>{Ee(he,"sendTransaction","onError",ue.TRANSACTION_FAILURE),be(Qu)},uiOptions:J||{},fundWalletConfig:ie,requesterAppId:Ae},funding:Sf}),Te(se.EMBEDDED_WALLET_CONNECTING_SCREEN)}}),Yt=({transaction:z,connection:J,transactionOptions:ie,fundWalletConfig:re,uiOptions:oe,wallet:be})=>new Promise(async(Ae,Ce)=>{let{requesterAppId:Oe}=oe||{};if(!a||!c)return Ee(he,"sendSolanaTransaction","onError",ue.MUST_BE_AUTHENTICATED),void Ce(new le("User must be authenticated before signing with a Privy wallet",ue.MUST_BE_AUTHENTICATED));let Xe=be?c.linkedAccounts.find(it=>it.type==="wallet"&&it.address===be.address):Ul(c);if(!Xe)return Ee(he,"sendSolanaTransaction","onError",ue.EMBEDDED_WALLET_NOT_FOUND),void Ce(new le("Must have a Privy wallet before signing",ue.EMBEDDED_WALLET_NOT_FOUND));k(!0);let{rootWallet:wt}=s3(c,Xe.address);if(!await nt.recoverPrimaryWallet().catch(()=>!1)||!wt)throw Ee(he,"sendSolanaTransaction","onError",ue.EMBEDDED_WALLET_NOT_FOUND),new le(`Cannot sendSolanaTransaction before embedded wallet ${Xe.address} is connected`,ue.EMBEDDED_WALLET_NOT_FOUND);if(ke({showWalletUIs:oe==null?void 0:oe.showWalletUIs}))(async()=>{let it=await ir();if(!it||!M)return Ee(he,"sendSolanaTransaction","onError",ue.EMBEDDED_WALLET_NOT_FOUND),void Ce(new le("Must have valid access token and Privy wallet to send transaction",ue.EMBEDDED_WALLET_NOT_FOUND));try{if(!await nt.recoverPrimaryWallet())return Ee(he,"sendSolanaTransaction","onError",ue.UNKNOWN_CONNECT_WALLET_ERROR),void Ce(new le("Unable to connect to wallet",ue.UNKNOWN_CONNECT_WALLET_ERROR));if(ke({showWalletUIs:oe==null?void 0:oe.showWalletUIs})&&!await Frt(z,J))return Ee(he,"sendSolanaTransaction","onError",ue.INSUFFICIENT_BALANCE),void Ce(new le("Solana wallet has insufficient funds for this transaction.",ue.INSUFFICIENT_BALANCE));let{entropyId:Pt,entropyIdVerifier:Lt}=c7e(c),{signature:dn,receipt:Sr}=await vle({accessToken:it,tx:z,connection:J,walletProxy:M,transactionOptions:ie,entropyId:Pt,entropyIdVerifier:Lt,transactingWalletAddress:Xe.address,transactingWalletIndex:Xe.walletIndex??0}),yn=Bse(dn,Sr);Ee(he,"sendSolanaTransaction","onSuccess",yn),Ae(yn)}catch(Pt){Ee(he,"sendSolanaTransaction","onError",ue.TRANSACTION_FAILURE),Ce(Pt)}})();else{let{entropyId:it,entropyIdVerifier:Pt}=Qr(wt),Lt={entropyId:it,entropyIdVerifier:Pt,onCompleteNavigateTo:se.EMBEDDED_WALLET_SEND_SOLANA_TRANSACTION_SCREEN,onFailure:Sr=>{Ee(he,"sendSolanaTransaction","onError",ue.UNKNOWN_CONNECT_WALLET_ERROR),Ce(Sr)}},dn=vz(S)?Mht({address:Xe.address,appConfig:S,methodScreen:se.FUNDING_METHOD_SELECTION_SCREEN,fundWalletConfig:re,comingFromSendTransactionScreen:!0}):void 0;V({connectWallet:Lt,sendSolanaTransaction:{transactionRequest:z,connection:J,transactionOptions:ie,transactingWallet:Xe,onSuccess:Sr=>{Ee(he,"sendSolanaTransaction","onSuccess",Sr),Ae(Sr)},onFailure:Sr=>{Ee(he,"sendSolanaTransaction","onError",ue.TRANSACTION_FAILURE),Ce(Sr)},uiOptions:oe||{},requesterAppId:Oe},funding:dn}),Te(se.EMBEDDED_WALLET_CONNECTING_SCREEN)}});function $i(){return new Promise(async(z,J)=>{let ie=await ir();if(!ie||!M)throw Error("Must have valid access token to enroll in MFA");try{await M.verifyMfa({accessToken:ie}),z()}catch(re){J(re)}})}let qt=z=>z==null?void 0:z.linkedAccounts.filter(J=>J.latestVerifiedAt!==null&&!(J.type==="wallet"&&J.walletClientType==="privy")).sort((J,ie)=>ie.latestVerifiedAt.getTime()-J.latestVerifiedAt.getTime())[0],St=z=>{let J=(c==null?void 0:c.linkedAccounts.filter(oe=>oe.type===z).length)??0,{displayName:ie,loginMethod:re}=_x(z);if(z==="passkey"&&J>=5||z!=="passkey"&&J>=1)throw Ee(he,"linkAccount","onError",ue.CANNOT_LINK_MORE_OF_TYPE,{linkMethod:re}),new le(`User already has an account of type ${ie} linked.`)};async function bs({showAutomaticRecovery:z=!1,legacySetWalletPasswordFlow:J=!1}){$(null);let ie=J?"setWalletPassword":"setWalletRecovery";if(!a||!c)throw Ee(he,ie,"onError",ue.MUST_BE_AUTHENTICATED),Error("User must be authenticated before adding recovery method to Privy wallet");let re=Is(c);if(!re||!M)throw Ee(he,ie,"onError",ue.EMBEDDED_WALLET_NOT_FOUND),Error("Must have a Privy wallet to add a recovery method");try{await $i()}catch(oe){throw Ee(he,ie,"onError",ue.MISSING_MFA_CREDENTIALS),oe}return new Promise((oe,be)=>{k(!0);let Ae={onSuccess:it=>{Ee(he,ie,"onSuccess","user-passcode",it),oe(it)},onFailure:it=>{Ee(he,ie,"onError",ue.USER_EXITED_SET_PASSWORD_FLOW),be(it)},callAuthOnSuccessOnClose:!1},Ce=re.recoveryMethod==="user-passcode",Oe=sse({walletAction:"update",availableRecoveryMethods:S.embeddedWallets.userOwnedRecoveryOptions,legacySetWalletPasswordFlow:J,isResettingPassword:Ce,showAutomaticRecovery:z}),{entropyId:Xe,entropyIdVerifier:wt}=Qr(re);V({setWalletPassword:Ae,recoverWallet:{entropyId:Xe,entropyIdVerifier:wt,onFailure:be},createWallet:Ae,connectWallet:{onCompleteNavigateTo:Oe,shouldForceMFA:!1,entropyId:Xe,entropyIdVerifier:wt,onFailure:it=>{Ee(he,ie,"onError",ue.UNKNOWN_CONNECT_WALLET_ERROR),be(it)}},recoverySelection:{isInAccountCreateFlow:!1,isResettingPassword:Ce}}),Te(se.EMBEDDED_WALLET_CONNECTING_SCREEN)})}async function tr({appId:z,action:J}){let ie=await ir();if(J==="link"&&!ie)throw Ee(he,"linkAccount","onError",ue.MUST_BE_AUTHENTICATED,{linkMethod:`privy:${z}`}),new le("User must be authenticated before linking an account.");if(J==="login"&&ie)throw Ee(he,"login","onError",ue.UNKNOWN_AUTH_ERROR),new le("Attempted to log in, but user is already logged in. Use a `link` helper instead.");we.current=`privy:${z}`,_e.current=J;let re=Ex();return e.createAnalyticsEvent({eventName:"cross_app_auth_started",payload:{providerAppId:z}}),new Promise(async(oe,be)=>{let{name:Ae,logoUrl:Ce}=await Mle({api:e.api,providerAppId:z,requesterAppId:S.id});V({crossAppAuth:{appId:z,name:Ae,logoUrl:Ce,action:J,popup:re,onSuccess:oe,onError:be}}),Ue(se.CROSS_APP_AUTH_SCREEN)})}let Vt={ready:s,authenticated:a,user:c,walletConnectors:e.connectors||null,connectWallet:z=>{z&&"target"in z&&z&&(z=void 0),V({externalConnectWallet:{walletList:z!=null&&z.walletList&&(z==null?void 0:z.walletList.length)>0?z.walletList:void 0,suggestedAddress:z==null?void 0:z.suggestedAddress}}),Te(a?se.CONNECT_ONLY_AUTHENTICATED_SCREEN:se.CONNECT_ONLY_LANDING_SCREEN)},linkWallet:Se,startCrossAppAuthFlow:tr,linkEmail:()=>{Ie("email"),St("email"),we.current="email",_e.current="link",Te(se.LINK_EMAIL_SCREEN)},linkPhone:()=>{Ie("sms"),St("phone"),we.current="sms",_e.current="link",Te(se.LINK_PHONE_SCREEN)},linkGoogle:async()=>{Ie("google"),St("google_oauth"),_e.current="link",await nt.initLoginWithOAuth("google")},linkTwitter:async()=>{Ie("twitter"),St("twitter_oauth"),_e.current="link",await nt.initLoginWithOAuth("twitter")},linkDiscord:async()=>{Ie("discord"),St("discord_oauth"),_e.current="link",await nt.initLoginWithOAuth("discord")},linkGithub:async()=>{Ie("github"),St("github_oauth"),_e.current="link",await nt.initLoginWithOAuth("github")},linkSpotify:async()=>{Ie("spotify"),St("spotify_oauth"),_e.current="link",await nt.initLoginWithOAuth("spotify")},linkInstagram:async()=>{Ie("instagram"),St("instagram_oauth"),_e.current="link",await nt.initLoginWithOAuth("instagram")},linkTiktok:async()=>{Ie("tiktok"),St("tiktok_oauth"),_e.current="link",await nt.initLoginWithOAuth("tiktok")},linkLinkedIn:async()=>{Ie("linkedin"),St("linkedin_oauth"),_e.current="link",await nt.initLoginWithOAuth("linkedin")},linkApple:async()=>{Ie("apple"),St("apple_oauth"),_e.current="link",await nt.initLoginWithOAuth("apple")},linkPasskey:async()=>{Ie("passkey"),St("passkey"),await nt.initLinkWithPasskey(),Te(se.LINK_PASSKEY_SCREEN)},linkTelegram:async z=>{if(Ie("telegram"),St("telegram"),_e.current="link",we.current="telegram",z==null?void 0:z.launchParams)if(z.launchParams.initDataRaw){let J=new zg;e.startAuthFlow(J),J.meta.telegramAuthResult=void 0,J.meta.telegramWebAppData=JJ(z.launchParams.initDataRaw),V({telegramAuthModalData:{seamlessAuth:!0}}),Ue(se.TELEGRAM_AUTH_SCREEN)}else Ee(he,"linkAccount","onError",ue.INVALID_DATA,{linkMethod:"telegram"});else await nt.initLoginWithTelegram();Te(se.TELEGRAM_AUTH_SCREEN)},linkFarcaster:async()=>{Ie("farcaster"),St("farcaster"),await nt.initLoginWithFarcaster(),_e.current="link",we.current="farcaster",Te(se.AWAITING_FARCASTER_CONNECTION)},updateEmail:()=>{if(Ie("email"),!(c!=null&&c.email))throw new le("User does not have an email linked to their account.");_e.current="update",we.current="email",Te(se.UPDATE_EMAIL_SCREEN)},updatePhone:()=>{if(Ie("sms"),!(c!=null&&c.phone))throw new le("User does not have a phone number linked to their account.");_e.current="update",we.current="sms",Te(se.UPDATE_PHONE_SCREEN)},login:async z=>{z&&"target"in z&&z&&(z=void 0);let J="Attempted to log in, but user is already logged in. Use a `link` helper instead.";if(!s){let ie=await new Promise(re=>{te(oe=>re.bind(oe))});if(te(null),ie)return void console.warn(J)}!c||c.isGuest?(_e.current="login",V({login:z}),Ue(se.LANDING)):console.warn(J)},connectOrCreateWallet:async()=>{s||(await new Promise(z=>{te(()=>z)}),te(null)),a?console.warn("User must be unauthenticated to `connectOrCreateWallet`"):(_e.current="login",Ue(se.CONNECT_OR_CREATE))},logout:async()=>{if(_e.current=null,we.current=null,c&&e.clearProviderAcccessTokens(c),$(null),await e.logout(),c&&M)try{await M.clearMfa({userId:c.id})}catch{}u(null),l(!1),Ee(he,"logout","onSuccess"),i(!1),lt.del(RA),lt.del(GJ(S.id))},getAccessToken:()=>e.getCustomerAccessToken(),getEthereumProvider:()=>{var ie;if(!c||!c.wallet)return new is;let z=f.find(re=>c.wallet&&re.address===c.wallet.address),J=(ie=e.connectors)==null?void 0:ie.walletConnectors.find(re=>re.wallets.find(oe=>oe.address===(z==null?void 0:z.address)));return z&&J?J.proxyProvider:new is},getEthersProvider:()=>{var ie;if(!c||!c.wallet)return new s5(new D5(new is));let z=f.find(re=>c.wallet&&re.address===c.wallet.address),J=(ie=e.connectors)==null?void 0:ie.walletConnectors.find(re=>re.wallets.find(oe=>oe.address===(z==null?void 0:z.address)));return new s5(new D5(z&&J?J.proxyProvider:new is))},getWeb3jsProvider:()=>{var ie;if(!c||!c.wallet)return new ZA(new is);let z=f.find(re=>c.wallet&&re.address===c.wallet.address),J=(ie=e.connectors)==null?void 0:ie.walletConnectors.find(re=>re.wallets.find(oe=>oe.address===(z==null?void 0:z.address)));return new ZA(z&&J?J.proxyProvider:new is)},unlinkWallet:async z=>{let J;return u(J=z.startsWith("0x")?await e.unlinkEthereumWallet(z):await e.unlinkSolanaWallet(z)),J},unlinkEmail:async z=>{let J=await e.unlinkEmail(z);return u(J),J},unlinkPhone:async z=>{let J=await e.unlinkPhone(z);return u(J),J},unlinkGoogle:async z=>{let J=await e.unlinkOAuth("google",z);return u(J),J},unlinkTwitter:async z=>{let J=await e.unlinkOAuth("twitter",z);return u(J),J},unlinkDiscord:async z=>{let J=await e.unlinkOAuth("discord",z);return u(J),J},unlinkGithub:async z=>{let J=await e.unlinkOAuth("github",z);return u(J),J},unlinkSpotify:async z=>{let J=await e.unlinkOAuth("spotify",z);return u(J),J},unlinkInstagram:async z=>{let J=await e.unlinkOAuth("instagram",z);return u(J),J},unlinkTiktok:async z=>{let J=await e.unlinkOAuth("tiktok",z);return u(J),J},unlinkLinkedIn:async z=>{let J=await e.unlinkOAuth("linkedin",z);return u(J),J},unlinkApple:async z=>{let J=await e.unlinkOAuth("apple",z);return u(J),J},unlinkFarcaster:async z=>{let J=await e.unlinkFarcaster(z);return u(J),J},unlinkTelegram:async z=>{let J=await e.unlinkTelegram(z);return u(J),J},unlinkPasskey:async z=>{let J=await e.unlinkPasskey(z);return u(J),J},unlinkCrossAppAccount:async({subject:z})=>{var re;let J=(re=c==null?void 0:c.linkedAccounts.find(oe=>oe.type==="cross_app"&&oe.subject===z))==null?void 0:re.providerApp;if(!J)throw new le("Invalid subject");e.storeProviderAccessToken(J.id,null);let ie=await e.unlinkOAuth(`privy:${J.id}`,z);return u(ie),ie},setActiveWallet:async z=>{let J=f.find(re=>Dt(re.address)===Dt(z)),ie=c==null?void 0:c.linkedAccounts.find(re=>re.type==="wallet"&&Dt(re.address)===Dt(z));if(J&&await J.isConnected())if(J.linked){let re=Object.assign({},c);re.wallet=ie&&{address:ie.address,chainType:ie.chainType,chainId:ie.chainId,walletClient:ie.walletClient,walletClientType:ie.walletClientType,connectorType:ie.connectorType,imported:ie.imported,delegated:ie.delegated,walletIndex:ie.walletIndex},u(re)}else J.loginOrLink();else V({externalConnectWallet:{suggestedAddress:z}}),Se()},forkSession:()=>e.forkSession(),createWallet:async z=>{if(z&&"target"in z&&z&&(z=void 0),!a||!c)throw Ee(he,"createWallet","onError",ue.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");return jt(c,15e3,z)},setWalletRecovery:async z=>bs({legacySetWalletPasswordFlow:!1,showAutomaticRecovery:(z==null?void 0:z.showAutomaticRecovery)??!1}),setWalletPassword:async()=>bs({legacySetWalletPasswordFlow:!0,showAutomaticRecovery:!1}),signMessage:(z,J,ie)=>new Promise(async(re,oe)=>{var wt;let{requesterAppId:be}=J||{};if(!a||!c)return Ee(he,"signMessage","onError",ue.MUST_BE_AUTHENTICATED),void oe(Error("User must be authenticated before signing with a Privy wallet"));let Ae=ie??((wt=ks(c))==null?void 0:wt.address);if(!Ae)throw new le("User must have an embedded wallet to sign a message.");let{signingWallet:Ce,rootWallet:Oe}=Ub(c,Ae);if(!Ce||!Oe)return Ee(he,"signMessage","onError",ue.EMBEDDED_WALLET_NOT_FOUND),void oe(Error("Must have a Privy wallet before signing"));if(typeof z!="string"||z.length<1)return Ee(he,"signMessage","onError",ue.INVALID_MESSAGE),void oe(Error("Message must be a non-empty string"));k(!0);let Xe=async()=>{if(!a)throw Error("User must be authenticated before signing with a Privy wallet");let it=await ir();if(!M||!it||!await nt.recoverPrimaryWallet())throw Error("Unable to connect to wallet");e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_started",payload:{walletAddress:Ce.address,requesterAppId:be}});let{entropyId:Pt,entropyIdVerifier:Lt}=Qr(Oe),{response:dn}=await M.rpc({accessToken:it,entropyId:Pt,entropyIdVerifier:Lt,chainType:"ethereum",hdWalletIndex:Ce.walletIndex??0,requesterAppId:be,request:{method:"personal_sign",params:[z,Ce.address]}}),Sr=dn.data;return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_completed",payload:{walletAddress:Ce.address,requesterAppId:be}}),Sr};if(ke({showWalletUIs:J==null?void 0:J.showWalletUIs}))try{let it=await Xe();Ee(he,"signMessage","onSuccess",it),re(it)}catch(it){Ee(he,"signMessage","onError",ue.UNABLE_TO_SIGN),oe(it??new Ka("Unable to sign message"))}else{let{entropyId:it,entropyIdVerifier:Pt}=Qr(Oe);V({signMessage:{method:"personal_sign",data:z,confirmAndSign:Xe,onSuccess:Lt=>{Ee(he,"signMessage","onSuccess",Lt),re(Lt)},onFailure:Lt=>{Ee(he,"signMessage","onError",ue.UNABLE_TO_SIGN),oe(Lt)},uiOptions:J||{}},connectWallet:{entropyId:it,entropyIdVerifier:Pt,onCompleteNavigateTo:se.EMBEDDED_WALLET_SIGN_REQUEST_SCREEN,onFailure:Lt=>{Ee(he,"signMessage","onError",ue.UNKNOWN_CONNECT_WALLET_ERROR),oe(Lt)}}}),Te(se.EMBEDDED_WALLET_CONNECTING_SCREEN)}}),signTypedData:(z,J,ie)=>new Promise(async(re,oe)=>{var it;let{requesterAppId:be}=J||{};if(!a||!c)return Ee(he,"signTypedData","onError",ue.MUST_BE_AUTHENTICATED),void oe(Error("User must be authenticated before signing with a Privy wallet"));let Ae=ie??((it=ks(c))==null?void 0:it.address);if(!Ae)throw new le("User must have an embedded wallet to sign a message.");let{signingWallet:Ce,rootWallet:Oe}=Ub(c,Ae);if(!Oe||!Ce)return Ee(he,"signTypedData","onError",ue.EMBEDDED_WALLET_NOT_FOUND),void oe(Error("Must have a Privy wallet before signing"));k(!0);let Xe=kA(z),wt=async()=>{if(!a)throw Error("User must be authenticated before signing with a Privy wallet");let Pt=await ir();if(!M||!Pt||!await nt.recoverPrimaryWallet())throw Error("Unable to connect to wallet");e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_started",payload:{walletAddress:Ce.address,requesterAppId:be}});let{entropyId:Lt,entropyIdVerifier:dn}=Qr(Oe),{response:Sr}=await M.rpc({accessToken:Pt,entropyId:Lt,entropyIdVerifier:dn,chainType:"ethereum",hdWalletIndex:Ce.walletIndex??0,requesterAppId:be,request:{method:"eth_signTypedData_v4",params:[Ce.address,Xe]}}),yn=Sr.data;return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_completed",payload:{walletAddress:Ce.address,requesterAppId:be}}),yn};if(ke({showWalletUIs:J==null?void 0:J.showWalletUIs,typedData:!0}))try{let Pt=await wt();Ee(he,"signTypedData","onSuccess",Pt),re(Pt)}catch(Pt){Ee(he,"signTypedData","onError",ue.UNABLE_TO_SIGN),oe(Pt??new Ka("Unable to sign message"))}else{let{entropyId:Pt,entropyIdVerifier:Lt}=Qr(Oe);V({signMessage:{method:"eth_signTypedData_v4",data:Xe,confirmAndSign:wt,onSuccess:dn=>{Ee(he,"signTypedData","onSuccess",dn),re(dn)},onFailure:dn=>{Ee(he,"signTypedData","onError",ue.UNABLE_TO_SIGN),oe(dn)},uiOptions:J||{}},connectWallet:{entropyId:Pt,entropyIdVerifier:Lt,onCompleteNavigateTo:se.EMBEDDED_WALLET_SIGN_REQUEST_SCREEN,onFailure:dn=>{Ee(he,"signMessage","onError",ue.UNKNOWN_CONNECT_WALLET_ERROR),oe(dn)}}}),Te(se.EMBEDDED_WALLET_CONNECTING_SCREEN)}}),sendTransaction:async(z,J,ie,re)=>{let oe=await Nt(z,J,ie,re);return Ile(await oe.wait())},sendSolanaTransaction:async(z,J,ie,re,oe,be)=>{let Ae=be?p.find(({address:Ce})=>Ce===be):p.slice().sort((Ce,Oe)=>(Ce.walletIndex??0)-(Oe.walletIndex??0))[0];if(!Ae)throw Ee(he,"sendSolanaTransaction","onError",ue.EMBEDDED_WALLET_NOT_FOUND),new le("Embedded wallet not found",ue.EMBEDDED_WALLET_NOT_FOUND);return await Yt({transaction:z,connection:J,transactionOptions:re,uiOptions:ie,fundWalletConfig:oe,wallet:Ae})},exportWallet:z=>new Promise(async(J,ie)=>{var Xe;if(!a||!c)return void ie(Error("User must be authenticated before exporting their Privy wallet"));z&&"target"in z&&z&&(z=void 0);let re=(z==null?void 0:z.address)??((Xe=ks(c))==null?void 0:Xe.address);if(!re)return void ie(Error("User does not have an HD Ethereum wallet. To export an imported wallet, pass the `address` of the wallet to `exportWallet`."));let{signingWallet:oe,rootWallet:be}=Ub(c,re);if(!oe||!be)return void ie(Error("Must have a Privy wallet before exporting"));k(!0);let{entropyId:Ae,entropyIdVerifier:Ce}=Qr(be),Oe={entropyId:Ae,entropyIdVerifier:Ce,onCompleteNavigateTo:se.EMBEDDED_WALLET_KEY_EXPORT_SCREEN,onFailure:ie,shouldForceMFA:!0};V(W),await ir()&&M?M?(V({keyExport:{appId:t.appId,appClientId:t.clientId,origin:e.apiUrl,walletToExport:oe,primaryWallet:be,onSuccess:J,onFailure:ie},connectWallet:Oe}),Te(se.EMBEDDED_WALLET_CONNECTING_SCREEN)):ie(Error("Must have a Privy wallet before exporting")):ie(Error("Must have valid access token to enroll in MFA"))}),promptMfa:$i,async init(z){switch(z){case"sms":return void await e.initMfaSmsVerification();case"passkey":return await e.initMfaPasskeyVerification();case"totp":return;default:throw Error(`Unsupported MFA method: ${z}`)}},async submit(z,J){var ie,re,oe;switch(z){case"totp":case"sms":if(typeof J!="string")throw new le("Invalid MFA code");(ie=Qe.current)==null||ie.resolve({mfaMethod:z,mfaCode:J,relyingParty:window.origin}),await new Promise((Ce,Oe)=>{xe.current={resolve:Ce,reject:Oe}});break;case"passkey":if(typeof J=="string")throw new le("Invalid authenticator response");let be=await hu(()=>import("./index-Bjltdz_y.js"),[]),Ae=Lht(await be.startAuthentication(J));(re=Qe.current)==null||re.resolve({mfaMethod:z,mfaCode:Ae,relyingParty:window.origin}),await new Promise((Ce,Oe)=>{xe.current={resolve:Ce,reject:Oe}});break;default:throw(oe=Qe.current)==null||oe.reject(new le("Unsupported MFA method")),new le(`Unsupported MFA method: ${z}`)}},cancel(){var z;(z=Qe.current)==null||z.reject(new le("MFA canceled"))},async initEnrollmentWithSms(z){let J=await ir();if(!J||!M)throw Error("Must have valid access token to enroll in MFA");await M.initEnrollMfa({method:"sms",accessToken:J,phoneNumber:z.phoneNumber})},enrollInMfa:z=>new Promise((J,ie)=>{if(!z)return nt.closePrivyModal(),void J();S.mfa.noPromptOnMfaRequired&&console.warn("[Privy Warning] Triggering the 'showMfaEnrollmentModal' function when 'noPromptOnMfaRequired' is set to true is unexpected. If this is intentional, ensure that you are building custom UIs for MFA verification."),V({mfaEnrollmentFlow:{mfaMethods:S.mfa.methods,onSuccess:J,onFailure:ie}}),Te(se.MFA_ENROLLMENT_FLOW_SCREEN)}),async initEnrollmentWithTotp(){let z=await ir();if(!z||!M)throw Error("Must have valid access token to enroll in MFA");let J=await M.initEnrollMfa({method:"totp",accessToken:z});return{secret:J.secret,authUrl:J.authUrl}},async submitEnrollmentWithSms(z){let J=await ir();if(!J||!M)throw Error("Must have valid access token to enroll in MFA");await M.submitEnrollMfa({method:"sms",accessToken:J,phoneNumber:z.phoneNumber,code:z.mfaCode}),u(await e.getAuthenticatedUser())},async submitEnrollmentWithTotp(z){let J=await ir();if(!J||!M)throw Error("Must have valid access token to enroll in MFA");await M.submitEnrollMfa({method:"totp",accessToken:J,code:z.mfaCode}),u(await e.getAuthenticatedUser())},async initEnrollmentWithPasskey(){},async submitEnrollmentWithPasskey({credentialIds:z}){let J=await ir();if(!J||!M)throw Error("Must have valid access token to enroll in MFA");await M.submitEnrollMfa({method:"passkey",accessToken:J,credentialIds:z}),u(await e.getAuthenticatedUser())},async unenroll(z){let J=await ir();if(!J||!M)throw Error("Must have valid access token to remove MFA");z==="passkey"?await M.submitEnrollMfa({method:"passkey",accessToken:J,credentialIds:[]}):await M.unenrollMfa({method:z,accessToken:J}),u(await e.getAuthenticatedUser())},requestFarcasterSignerFromWarpcast:async()=>{var re;let z=await ir(),J=c==null?void 0:c.linkedAccounts.find(oe=>oe.type==="wallet"&&oe.walletClientType==="privy");if(!z)throw Error("Must have valid access token to connect with Farcaster");if(!M||!J)throw Error("Must have an embedded wallet to use Farcaster signers");if(!((re=c==null?void 0:c.farcaster)!=null&&re.fid))throw Error("Must have Farcaster account to use Farcaster signers");if(!await nt.recoverPrimaryWallet())throw Error("Unable to connect to wallet");let ie=await M.initFarcasterSigner({address:J.address,hdWalletIndex:null,accessToken:z,mfaCode:null,mfaMethod:null,relyingParty:window.origin});ie.status==="approved"&&u(await e.getAuthenticatedUser()||c||null),V({farcasterSigner:ie}),Te(se.AWAITING_FARCASTER_SIGNER)},getFarcasterSignerPublicKey:async()=>{var re,oe;let z,J=await ir(),ie=c==null?void 0:c.linkedAccounts.find(be=>be.type==="wallet"&&be.walletClientType==="privy");if(!J)throw Error("Must have valid access token to connect with Farcaster");if(!M||!ie)throw Error("Must have an embedded wallet to use Farcaster signers");if(!((re=c==null?void 0:c.farcaster)!=null&&re.fid))throw Error("Must have Farcaster account to use Farcaster signers");if(!await nt.recoverPrimaryWallet())throw Error("Unable to connect to wallet");if(!((oe=c.farcaster)!=null&&oe.signerPublicKey))throw Error("Must have a Farcaster signer public key to sign");return z=c.farcaster.signerPublicKey.slice(2),Uint8Array.from(z.match(/.{1,2}/g).map(be=>parseInt(be,16)))},signFarcasterMessage:async z=>{var be,Ae;let J=await ir(),ie=c==null?void 0:c.linkedAccounts.find(Ce=>Ce.type==="wallet"&&Ce.walletClientType==="privy");if(!J)throw Error("Must have valid access token to connect with Farcaster");if(!M||!ie)throw Error("Must have an embedded wallet to use Farcaster signers");if(!((be=c==null?void 0:c.farcaster)!=null&&be.fid))throw Error("Must have Farcaster account to use Farcaster signers");if(!await nt.recoverPrimaryWallet())throw Error("Unable to connect to wallet");if(!((Ae=c.farcaster)!=null&&Ae.signerPublicKey))throw Error("Must have a Farcaster signer public key to sign");let re=await hu(()=>import("./index-Bjltdz_y.js"),[]),oe=await M.signFarcasterMessage({address:ie.address,hdWalletIndex:null,accessToken:J,mfaCode:null,mfaMethod:null,payload:{hash:re.bufferToBase64URLString(z)},fid:BigInt(c.farcaster.fid),relyingParty:window.origin});return new Uint8Array(re.base64URLStringToBuffer(oe.signature))},createGuestAccount:async()=>{if(c&&!c.isGuest)throw Error("User cannot already be authenticated to create a guest account");return c!=null&&c.isGuest?c:nt.loginWithGuestAccountFlow()},signMessageWithCrossAppWallet(z,{address:J}){let ie=c==null?void 0:c.linkedAccounts.some(re=>re.type==="cross_app"&&re.smartWallets.some(oe=>oe.address===J));return y_({user:c,client:e,address:J,requesterAppId:S.id,request:{method:ie?"privy_signSmartWalletMessage":"personal_sign",params:[z,J]},reconnect:tr})},signTypedDataWithCrossAppWallet(z,{address:J}){let ie=c==null?void 0:c.linkedAccounts.some(oe=>oe.type==="cross_app"&&oe.smartWallets.some(be=>be.address===J)),re=kA(z);return y_({user:c,client:e,address:J,requesterAppId:S.id,request:{method:ie?"privy_signSmartWalletTypedData":"eth_signTypedData_v4",params:[J,re]},reconnect:tr})},sendTransactionWithCrossAppWallet(z,{address:J}){let ie=c==null?void 0:c.linkedAccounts.some(re=>re.type==="cross_app"&&re.smartWallets.some(oe=>oe.address===J));return y_({user:c,client:e,address:J,requesterAppId:S.id,request:{method:ie?"privy_sendSmartWalletTx":"eth_sendTransaction",params:[z]},reconnect:tr})},isModalOpen:n,mfaMethods:S.mfa.methods};Fle=Vt.signMessage,Ble=Vt.signTypedData,Ule=async(...z)=>{let J=await Nt(...z);return S.embeddedWallets.waitForTransactionConfirmation&&await J.wait(),J};let nt={setAuthenticated:l,setUser:u,isNewUserThisSession:E,pendingTransaction:null,walletConnectionStatus:D,connectors:((dr=e.connectors)==null?void 0:dr.walletConnectors)??[],solanaWallets:p,rpcConfig:S.rpcConfig,chains:S.chains,appId:t.appId,showFiatPrices:S.embeddedWallets.priceDisplay.primary!=="native-token",clientAnalyticsId:e.clientAnalyticsId,customAuthStatus:Ne,noPromptOnSignature:Me,emailOtpState:Y,setEmailOtpState:R,smsOtpState:_,setSmsOtpState:x,oAuthState:I,setOAuthState:N,siweState:A,setSiweState:T,isHeadlessOAuthLoading:P,nativeTokenSymbolForChainId:z=>{var J;return(J=S.chains.find(ie=>ie.id===Number(z)))==null?void 0:J.nativeCurrency.symbol},initializeWalletProxy:async z=>{if(M)return M;let J=new Promise(oe=>{K(()=>be=>oe(be))}),ie=new Promise(oe=>setTimeout(()=>oe(null),z)),re=await Promise.race([J,ie]);return K(null),re},getAuthFlow:()=>e.authFlow,getAuthMeta:()=>{var z;return(z=e.authFlow)==null?void 0:z.meta},client:e,closePrivyModal:async(z={shouldCallAuthOnSuccess:!0,isSuccess:!1})=>{var be;let J,ie=s&&a&&c;ie&&we.current&&(J=qt(c)),_e.current==="login"?z.shouldCallAuthOnSuccess&&ie&&we.current?(Ee(he,"login","onComplete",c,E,!1,we.current,J??null),(be=t.onSuccess)==null||be.call(t,c,E)):Ee(he,"login","onError",ue.USER_EXITED_AUTH_FLOW):_e.current==="link"&&J?z.isSuccess&&ie&&we.current?Ee(he,"linkAccount","onSuccess",c,we.current,J):we.current&&Ee(he,"linkAccount","onError",ue.USER_EXITED_LINK_FLOW,{linkMethod:we.current}):_e.current==="update"&&J&&(z.isSuccess&&ie&&we.current?Ee(he,"update","onSuccess",c,we.current,J):we.current&&Ee(he,"update","onError",ue.USER_EXITED_UPDATE_FLOW,{linkMethod:we.current}));let re=b&&bz.includes(b),oe=b===se.ERROR_SCREEN&&W.errorModalData&&bz.includes(W.errorModalData.previousScreen);if((re||oe)&&W.funding){let Ae,Ce=Dht[b]??null;if(W.funding.chainType==="solana"){let Oe=r(Zw);if(!Oe)return void console.warn("Unable to load solana plugin, skipping balance");try{Ae=BigInt(await Oe.getBalance({address:W.funding.address,cluster:W.funding.cluster}))}catch{console.error("Unable to pull wallet balance")}Ee(he,"fundSolanaWallet","onUserExited",{address:W.funding.address,cluster:W.funding.cluster,fundingMethod:Ce,balance:Ae})}else{let Oe=w1(W.funding.chain.id,S.chains,S.rpcConfig,{appId:t.appId});try{Ae=(await Oe.getBalance(W.funding.address)).toBigInt()}catch{console.error("Unable to pull wallet balance")}Ee(he,"fundWallet","onUserExited",{address:W.funding.address,chain:W.funding.chain,fundingMethod:Ce,balance:Ae})}}V({...W,externalConnectWallet:{suggestedAddress:void 0}}),_e.current=null,we.current=null,v(!1),i(!1),setTimeout(()=>{e.authFlow=void 0},200),e.createAnalyticsEvent({eventName:"modal_closed"})},solanaSignMessage:({message:z,address:J})=>new Promise(async(ie,re)=>{var Oe;if(!a||!c)return Ee(he,"signMessage","onError",ue.MUST_BE_AUTHENTICATED),void re(Error("User must be authenticated before signing with a Privy wallet"));let oe=J??((Oe=Ul(c))==null?void 0:Oe.address);if(!oe)throw new le("User must have an embedded wallet to sign a message.");let{signingWallet:be,rootWallet:Ae}=s3(c,oe);if(!be||!Ae)return Ee(he,"signMessage","onError",ue.EMBEDDED_WALLET_NOT_FOUND),void re(Error("Must have a Privy wallet before signing"));if(typeof z!="string"||z.length<1)return Ee(he,"signMessage","onError",ue.INVALID_MESSAGE),void re(Error("Message must be a non-empty string"));k(!0);let Ce=async()=>{if(!a)throw Error("User must be authenticated before signing with a Privy wallet");let Xe=await e.getAccessToken();if(!Xe)throw Error("User must be authenticated to use their embedded wallet.");let wt=nt.walletProxy??await nt.initializeWalletProxy(15e3);if(!wt)throw Error("Failed to initialize embedded wallet proxy.");if(!await nt.recoverPrimaryWallet())throw Error("Unable to connect to wallet");if(!Ae)throw Error("No root wallet for signing wallet found");let{entropyId:it,entropyIdVerifier:Pt}=Qr(Ae),{response:Lt}=await wt.rpc({accessToken:Xe,entropyId:it,entropyIdVerifier:Pt,chainType:"solana",hdWalletIndex:be.walletIndex??0,request:{method:"signMessage",params:{message:z}}});return Lt.data.signature};if(ke({showWalletUIs:void 0}))try{let Xe=await Ce();ie({signature:Xe})}catch(Xe){re(Xe)}else{let{entropyId:Xe,entropyIdVerifier:wt}=Qr(Ae);V({signMessage:{method:"solana_signMessage",data:z,confirmAndSign:Ce,onSuccess:it=>{ie({signature:it})},onFailure:it=>{re(it)},uiOptions:{}},connectWallet:{entropyId:Xe,entropyIdVerifier:wt,onCompleteNavigateTo:se.EMBEDDED_WALLET_SIGN_REQUEST_SCREEN,onFailure:it=>{Ee(he,"signMessage","onError",ue.UNKNOWN_CONNECT_WALLET_ERROR),re(it)}}}),Ue(se.EMBEDDED_WALLET_CONNECTING_SCREEN)}}),openPrivyModal:Te,connectWallet:X,initLoginWithWallet:async(z,J,ie)=>{Xc(z)?(we.current="siwe",ae(z,J,ie)):(we.current="siws",fe(z,J))},loginWithWallet:async()=>{let z,J,ie;if(!s)throw new If;if(e.authFlow instanceof I5?z="siwe":e.authFlow instanceof MA&&(z="siws"),!z)throw new le("Must initialize SIWE/SIWS flow first.");if(await e.getAccessToken()!==null)try{({user:J}=await e.link()),we.current=z}catch(re){throw Ee(he,"linkAccount","onError",re.privyErrorCode||ue.FAILED_TO_LINK_ACCOUNT,{linkMethod:z}),re}else try{({user:J,isNewUser:ie}=await e.authenticate()),we.current=z}catch(re){throw Ee(he,"login","onError",re.privyErrorCode||ue.GENERIC_CONNECT_WALLET_ERROR),re}u(J||c||null),v(ie||!1),l(!0)},delegateWallet:async({address:z,chainType:J})=>new Promise(async(ie,re)=>{let oe=await ir();if(!a||!c||!oe)throw new le("User must be authenticated and have an embedded wallet to delegate actions.");if(J!=="solana"&&J!=="ethereum")throw new le("Only Solana and Ethereum embedded wallets are supported for delegation and revocation.");let be=nt.walletProxy??await nt.initializeWalletProxy(15e3);if(!be)throw new le("Wallet proxy not initialized.");if(Iht({address:z,chainType:J,user:c}))return ie();let Ae=Sht({address:z,user:c}),Ce=$ht({address:z,user:c});await nt.recoverPrimaryWallet(),V({delegatedActions:{consent:{address:z,onDelegate:async()=>{await be.createDelegatedAction({accessToken:oe,rootWallet:Ce,delegatedWallets:[Ae]}),await nt.refreshUser()},onSuccess:async()=>{ie()},onError:async Oe=>{re(Oe)}}}}),Te(se.EMBEDDED_WALLET_DELEGATED_ACTIONS_CONSENT_SCREEN)}),revokeDelegatedWallets:async()=>new Promise(async(z,J)=>{if(!a||!c)throw new le("User must be authenticated and have an embedded wallet to revoke a delegated wallet.");if(Ple(c).length===0)throw new le("User has no delegated wallets to revoke.");V({delegatedActions:{revoke:{onRevoke:async()=>{await e.revokeDelegatedWallet(),await nt.refreshUser()},onSuccess:async()=>{z()},onError:async ie=>{J(ie)}}}}),Te(se.EMBEDDED_WALLET_DELEGATED_ACTIONS_REVOKE_SCREEN)}),initLoginWithFarcaster:async(z,J)=>{let ie=new yM(z,J);e.startAuthFlow(ie);try{we.current="farcaster",await ie.initializeFarcasterConnect()}catch(re){throw _e.current==="login"?Ee(he,"login","onError",re.privyErrorCode||ue.UNKNOWN_AUTH_ERROR):_e.current==="link"&&Ee(he,"linkAccount","onError",re.privyErrorCode||ue.UNKNOWN_AUTH_ERROR,{linkMethod:"farcaster"}),re}},loginWithFarcaster:async()=>{let z,J;if(!s)throw new If;if(!(e.authFlow instanceof yM))throw new le("Must initialize Farcaster flow first.");if(await e.getAccessToken()!==null)try{({user:z}=await e.link()),we.current="farcaster"}catch(ie){throw Ee(he,"linkAccount","onError",ie.privyErrorCode||ue.FAILED_TO_LINK_ACCOUNT,{linkMethod:"farcaster"}),ie}else try{({user:z,isNewUser:J}=await e.authenticate()),we.current="farcaster"}catch(ie){throw Ee(he,"login","onError",ie.privyErrorCode||ue.UNKNOWN_AUTH_ERROR),ie}u(z||null),v(J||!1),l(!0)},async loginWithGuestAccountFlow(){let z=new YJ(this.appId);e.startAuthFlow(z);try{_e.current="login",we.current="guest";let{user:J,isNewUser:ie}=await e.authenticate();if(ie=ie||!1,!J)throw new le("Unable to authenticate guest account");if(Pu(J,S.embeddedWallets.createOnLogin))try{await jt(J,15e3),J=await nt.refreshUser()}catch{u(J),console.warn("Unable to create embedded wallet for guest account")}else u(J);return v(ie),l(!0),Ee(he,"login","onComplete",J,ie,!1,"guest",null),J}catch(J){throw Ee(he,"login","onError",J.privyErrorCode||ue.UNKNOWN_AUTH_ERROR),J}},async crossAppAuthFlow({appId:z,popup:J,action:ie}){let re=`privy:${z}`;we.current=re;let{url:oe,stateCode:be,codeVerifier:Ae}=await Nht({api:e.api,appId:z});if(!oe)throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:"Unable to open cross-app auth popup",appId:z}}),new le("No authorization URL returned for cross-app auth.");try{let Ce=await Rht({url:oe,popup:J,provider:re}),Oe=Ce.stateCode,Xe=Ce.authorizationCode;if(Oe!==be)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:re,storedStateCode:be??"",returnedStateCode:Oe??""}}),new le("Unexpected auth flow. This may be a phishing attempt.",void 0,ue.OAUTH_UNEXPECTED);let wt=await Pht({appId:z,codeVerifier:Ae,stateCode:Oe,authorizationCode:Xe,action:ie,client:e});wt&&e.storeProviderAccessToken(z,wt);let it=await nt.refreshUser();if(!it)throw new le("Unable to update user");return e.createAnalyticsEvent({eventName:"cross_app_auth_completed",payload:{providerAppId:z}}),it}catch(Ce){throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:Ce.toString(),provider:re}}),Ce}},async initLoginWithOAuth(z,J,ie){if(we.current=z,!$A()||z==="google"&&uS(window.navigator.userAgent))return void Ue(se.IN_APP_BROWSER_LOGIN_NOT_POSSIBLE);z==="twitter"&&window.opener&&window.opener.postMessage({type:jle},"*"),lt.del(S5),lt.del($5);let re=new Yp({provider:z,disableSignup:!!ie,withPrivyUi:!0});J&&re.addCaptchaToken(J),e.startAuthFlow(re);let oe=await e.authFlow.getAuthorizationUrl();oe&&oe.url&&(z==="twitter"&&cge&&(oe.url=oe.url.replace("x.com","twitter.com")),window.location.assign(oe.url))},async initLoginWithTelegram(z,J){if(!s)throw new If;we.current="telegram";let ie=new zg(z,J);e.startAuthFlow(ie),ie.meta.telegramWebAppData=void 0,ie.meta.telegramAuthResult=await new Promise((re,oe)=>S.loginConfig.telegramAuthConfiguration?window.Telegram?void window.Telegram.Login.auth({bot_id:S.loginConfig.telegramAuthConfiguration.botId,request_access:!0},be=>be?re(be):oe(new le("Telegram auth failed or was canceled by the client"))):oe(new le("Telegram was not initialized")):oe(new le("Telegram Auth configuration is not loaded")))},async loginWithTelegram(z){var re;let J,ie;if(!(e.authFlow instanceof zg))throw new le("Must initialize Telegram flow before calling loginWithTelegram");if((re=e.authFlow.meta).captchaToken||(re.captchaToken=z),_e.current==="login")try{let oe=await e.authenticate();J=oe.user,ie=oe.isNewUser,we.current="telegram"}catch(oe){throw Ee(he,"login","onError",oe.privyErrorCode||ue.UNKNOWN_AUTH_ERROR),oe}else{if(_e.current!=="link")throw new le("Unknown auth intent");try{J=(await e.link()).user,we.current="telegram"}catch(oe){throw Ee(he,"linkAccount","onError",oe.privyErrorCode||ue.FAILED_TO_LINK_ACCOUNT,{linkMethod:"telegram"}),oe}}u(J),v(ie||!1),l(!0)},async recoveryOAuthFlow(z,J,ie){var Ae,Ce;let re,oe;function be(Oe){if(!Oe)throw e.createAnalyticsEvent({eventName:"recovery_oauth_error",payload:{error:"Unable to open recovery OAuth popup",provider:z}}),new le("Recovery OAuth failed")}switch(z){case"google-drive":{let Oe,Xe,{url:wt,codeVerifier:it,stateCode:Pt}=await JU({api:du.api,provider:z});be(wt);try{let Lt=await xz({url:wt,popup:ie,provider:z});if(Oe=Lt.stateCode,Xe=Lt.authorizationCode,Oe!==Pt)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:z,storedStateCode:Pt??"",returnedStateCode:Oe??""}}),new le("Unexpected auth flow. This may be a phishing attempt.",void 0,ue.OAUTH_UNEXPECTED)}catch(Lt){throw e.createAnalyticsEvent({eventName:"recovery_oauth_error",payload:{error:Lt.toString(),provider:z}}),new le("Recovery OAuth failed")}[re,oe]=await Promise.all([ir(),net({api:du.api,provider:z,codeVerifier:it,stateCode:Oe,authorizationCode:Xe})]);break}case"icloud":{let{url:Oe}=await JU({api:du.api,provider:z});be(Oe);let{ckWebAuthToken:Xe}=await xz({url:Oe,popup:ie,provider:z});oe=Xe,re=await ir()}}if(!M)throw new le("Cannot connect to wallet proxy");if(!re)throw new le("Unable to authorize user");switch(J){case"recover":{let Oe=(Ae=W.recoverWallet)==null?void 0:Ae.entropyId,Xe=(Ce=W.recoverWallet)==null?void 0:Ce.entropyIdVerifier;if(!Oe||!Xe)throw new le("Recovery OAuth failed");e.createAnalyticsEvent({eventName:"embedded_wallet_recovery_started",payload:{walletAddress:Oe,recoveryMethod:z}}),await M.recover({accessToken:re,entropyId:Oe,entropyIdVerifier:Xe,recoveryAccessToken:oe}),e.createAnalyticsEvent({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:Oe,recoveryMethod:z}});break}case"create-wallet":{e.createAnalyticsEvent({eventName:"embedded_wallet_creation_started"}),await M.create({accessToken:re,recoveryAccessToken:oe,recoveryMethod:z});let Oe=ks(await nt.refreshUser());if(!Oe)throw Ee(he,"createWallet","onError",ue.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to create wallet");e.createAnalyticsEvent({eventName:"embedded_wallet_creation_completed",payload:{walletAddress:Oe.address}}),Ee(he,"createWallet","onSuccess",Oe);break}case"set-recovery":{let Oe=Is(c);if(!Oe)throw Ee(he,"setWalletRecovery","onError",ue.EMBEDDED_WALLET_NOT_FOUND),Error("Embedded wallet not found");e.createAnalyticsEvent({eventName:"embedded_wallet_set_recovery_started",payload:{walletAddress:Oe.address,existingRecoveryMethod:Oe.recoveryMethod,targetRecoveryMethod:z}});let{entropyId:Xe,entropyIdVerifier:wt}=Qr(Oe);await M.setRecovery({accessToken:re,entropyId:Xe,entropyIdVerifier:wt,recoveryMethod:z,recoveryAccessToken:oe});let it=Is(await nt.refreshUser());if(!it)throw Ee(he,"createWallet","onError",ue.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to set recovery on wallet");e.createAnalyticsEvent({eventName:"embedded_wallet_set_recovery_completed",payload:{walletAddress:Oe.address,existingRecoveryMethod:Oe.recoveryMethod,targetRecoveryMethod:z}}),Ee(he,"setWalletRecovery","onSuccess",z,it);break}default:throw new le("Unsupported recovery action")}},async loginWithOAuth(z){let J,ie,re;if(!(e.authFlow instanceof Yp))throw new le("Must initialize OAuth flow before calling loginWithOAuth");let oe=lt.get(A5),be=e.authFlow.meta.stateCode;if(oe!==be)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:z,storedStateCode:oe??"",returnedStateCode:be??""}}),new le("Unexpected auth flow. This may be a phishing attempt.",void 0,ue.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{let Ae=await e.link();J=Ae.user,re=Ae.oAuthTokens,we.current=z}catch(Ae){throw Ee(he,"linkAccount","onError",Ae.privyErrorCode||ue.FAILED_TO_LINK_ACCOUNT,{linkMethod:z}),Ae}else try{let Ae=await e.authenticate();J=Ae.user,ie=Ae.isNewUser,re=Ae.oAuthTokens,we.current=z}catch(Ae){throw _e.current==="login"?Ee(he,"login","onError",Ae.privyErrorCode||ue.UNKNOWN_AUTH_ERROR):_e.current==="link"&&Ee(he,"linkAccount","onError",Ae.privyErrorCode||ue.FAILED_TO_LINK_ACCOUNT,{linkMethod:z}),Ae}return u(J),v(ie||!1),l(!0),re&&J&&Ee(he,"oAuthAuthorization","onOAuthTokenGrant",re,{user:J}),re},passkeyAuthState:H,setPasskeyAuthState:q,async initSignupWithPasskey({captchaToken:z,withPrivyUi:J}){let ie=new kp({captchaToken:z,setPasskeyAuthState:q});e.startAuthFlow(ie),_e.current="login";try{we.current="passkey",q({status:"generating-challenge"}),await ie.initRegisterFlow(J),q({status:"awaiting-passkey"})}catch(re){throw q({status:"error",error:re}),Ee(he,"login","onError",re.privyErrorCode||ue.UNKNOWN_AUTH_ERROR),re}},async signupWithPasskey(){let z,J;if(!s)throw new If;if(!(e.authFlow instanceof kp))throw new le("Must initialize Passkey flow first.");if(we.current!=="passkey"){let oe=new le("Must init login with Passkey flow first.");throw q({status:"error",error:oe}),oe}let ie=await ir();try{we.current="passkey",q({status:"awaiting-passkey"}),{user:z,isNewUser:J}=await e.authenticate()}catch(oe){throw q({status:"error",error:oe}),Ee(he,"login","onError",oe.privyErrorCode||ue.UNKNOWN_AUTH_ERROR),oe}u(z),v(J||!1),l(!0),q({status:"done"});let re=(z==null?void 0:z.linkedAccounts.find(({type:oe})=>oe==="passkey"))||null;return{user:z,isNewUser:J||!1,wasAlreadyAuthenticated:!!ie,loginAccount:re}},async initLoginWithPasskey({captchaToken:z,withPrivyUi:J}){let ie=new kp({captchaToken:z,setPasskeyAuthState:q});e.startAuthFlow(ie),_e.current="login";try{we.current="passkey",q({status:"generating-challenge"}),await ie.initAuthenticationFlow(J),q({status:"awaiting-passkey"})}catch(re){throw q({status:"error",error:re}),Ee(he,"login","onError",re.privyErrorCode||ue.UNKNOWN_AUTH_ERROR),re}},async loginWithPasskey(){let z,J;if(!s)throw new If;if(!(e.authFlow instanceof kp))throw new le("Must initialize Passkey flow first.");if(we.current!=="passkey"){let oe=new le("Must init login with Passkey flow first.");throw q({status:"error",error:oe}),oe}let ie=await ir();try{we.current="passkey",q({status:"awaiting-passkey"}),{user:z,isNewUser:J}=await e.authenticate()}catch(oe){throw q({status:"error",error:oe}),Ee(he,"login","onError",oe.privyErrorCode||ue.UNKNOWN_AUTH_ERROR),oe}u(z),v(J||!1),l(!0),q({status:"done"});let re=(z==null?void 0:z.linkedAccounts.find(({type:oe})=>oe==="passkey"))||null;return{user:z,isNewUser:J||!1,wasAlreadyAuthenticated:!!ie,loginAccount:re}},async initLinkWithPasskey(z){let J=new kp({captchaToken:z});e.startAuthFlow(J),_e.current="link",we.current="passkey",q({status:"generating-challenge"});try{await J.initLinkFlow(),q({status:"awaiting-passkey"})}catch(ie){throw Ee(he,"linkAccount","onError",ie.privyErrorCode||ue.UNKNOWN_AUTH_ERROR,{linkMethod:"passkey"}),q({status:"error",error:ie}),ie}},async linkWithPasskey(){let z;if(!s)throw new If;if(!(e.authFlow instanceof kp))throw new le("Must initialize Passkey flow first.");if(we.current!=="passkey")throw new le("Must init login with Passkey flow first.");try{we.current="passkey",{user:z}=await e.link()}catch(J){throw Ee(he,"linkAccount","onError",J.privyErrorCode||ue.FAILED_TO_LINK_ACCOUNT,{linkMethod:"passkey"}),J}return u(z||c||null),q({status:"done"}),z},async initLoginWithHeadlessOAuth(z,J,ie){if(!$A()||z==="google"&&uS(window.navigator.userAgent))throw Error("It looks like you're using an in-app browser.  To log in, please try again using an external browser.");let re=new Yp({provider:z,withPrivyUi:!1,disableSignup:ie??!1});J&&re.addCaptchaToken(J),N({status:"loading"});let oe=await e.startAuthFlow(re).getAuthorizationUrl();oe!=null&&oe.url&&window.location.assign(oe.url)},async loginWithHeadlessOAuth(z){let J,ie,re;O(!0),N({status:"loading"}),e.startAuthFlow(new Yp(z));let oe=lt.get(A5),be=z.stateCode;if(oe!==be)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:z.provider,storedStateCode:oe??"",returnedStateCode:be??""}}),O(!1),new le("Unexpected auth flow. This may be a phishing attempt.",void 0,ue.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{({user:J,oAuthTokens:re}=await e.link()),we.current=z.provider;let Ae=qt(J);J&&Ae&&Ee(he,"linkAccount","onSuccess",J,we.current,Ae)}catch(Ae){throw O(!1),Ee(he,"linkAccount","onError",Ae.privyErrorCode||ue.FAILED_TO_LINK_ACCOUNT,{linkMethod:z.provider}),Ae}else try{({user:J,isNewUser:ie,oAuthTokens:re}=await e.authenticate()),we.current=z.provider;let Ae=qt(J);J&&Ae&&ie!==void 0&&Ee(he,"login","onComplete",J,ie,!1,we.current,Ae)}catch(Ae){throw O(!1),N({status:"error",error:Ae}),Ee(he,"login","onError",Ae.privyErrorCode||ue.UNKNOWN_AUTH_ERROR),Ae}return u(J),v(ie||!1),l(!0),O(!1),N({status:"done"}),re&&J&&Ee(he,"oAuthAuthorization","onOAuthTokenGrant",re,{user:J}),J??void 0},initLoginWithEmail:async({email:z,captchaToken:J,disableSignup:ie,withPrivyUi:re})=>{let oe=new p0({email:z,captchaToken:J,disableSignup:ie});e.startAuthFlow(oe);try{we.current="email",R({status:"sending-code"}),await oe.sendCodeEmail({withPrivyUi:re}),R({status:"awaiting-code-input"})}catch(be){throw R({status:"error",error:be}),_e.current==="login"?Ee(he,"login","onError",be.privyErrorCode||ue.UNKNOWN_AUTH_ERROR):_e.current==="link"&&Ee(he,"linkAccount","onError",be.privyErrorCode||ue.FAILED_TO_LINK_ACCOUNT,{linkMethod:"email"}),be}},initUpdateEmail:async(z,J,ie)=>{let re=new N9e(z,J,ie);e.startAuthFlow(re);try{await re.sendCodeEmail({withPrivyUi:!0})}catch(oe){Ee(he,"update","onError",oe.privyErrorCode||ue.UNKNOWN_AUTH_ERROR,{linkMethod:we.current})}},initUpdatePhone:async(z,J,ie)=>{let re=new n7e(z,J,ie);e.startAuthFlow(re);try{await re.sendSmsCode({withPrivyUi:!0})}catch(oe){Ee(he,"update","onError",oe.privyErrorCode||ue.UNKNOWN_AUTH_ERROR,{linkMethod:we.current})}},initLoginWithSms:async({phoneNumber:z,captchaToken:J,disableSignup:ie,withPrivyUi:re})=>{x({status:"sending-code"});let oe=new g0({phoneNumber:z,captchaToken:J,disableSignup:ie});e.startAuthFlow(oe);try{we.current="sms",await oe.sendSmsCode({withPrivyUi:re}),x({status:"awaiting-code-input"})}catch(be){throw x({status:"error",error:be}),_e.current==="login"?Ee(he,"login","onError",be.privyErrorCode||ue.UNKNOWN_AUTH_ERROR):_e.current==="link"&&Ee(he,"linkAccount","onError",be.privyErrorCode||ue.FAILED_TO_LINK_ACCOUNT,{linkMethod:"sms"}),be}},resendEmailCode:async()=>{var z;await((z=e.authFlow)==null?void 0:z.sendCodeEmail({withPrivyUi:!0}))},resendSmsCode:async()=>{var z;await((z=e.authFlow)==null?void 0:z.sendSmsCode({withPrivyUi:!0}))},loginWithCode:async z=>{let J,ie;function re(Ce){e.authFlow instanceof p0?R(Ce):e.authFlow instanceof g0&&x(Ce)}if(re({status:"submitting-code"}),!s){let Ce=new If;throw re({status:"error",error:Ce}),Ce}if(e.authFlow instanceof p0)e.authFlow.meta.emailCode=z.trim();else{if(!(e.authFlow instanceof g0)){let Ce=new le("Must initialize a passwordless code flow first");throw re({status:"error",error:Ce}),Ce}e.authFlow.meta.smsCode=z.trim()}let oe=await ir();if(_e.current==="link")try{({user:J}=await e.link())}catch(Ce){throw re({status:"error",error:Ce}),Ee(he,"linkAccount","onError",Ce.privyErrorCode||ue.FAILED_TO_LINK_ACCOUNT,{linkMethod:we.current}),Ce}else if(_e.current==="update")try{({user:J}=await e.link())}catch(Ce){throw re({status:"error",error:Ce}),Ee(he,"update","onError",Ce.privyErrorCode||ue.FAILED_TO_UPDATE_ACCOUNT,{linkMethod:we.current}),Ce}else try{({user:J,isNewUser:ie}=await e.authenticate())}catch(Ce){throw re({status:"error",error:Ce}),Ee(he,"login","onError",Ce.privyErrorCode||ue.UNKNOWN_AUTH_ERROR),Ce}let be=J||c;u(be||null),v(ie||!1),l(!0),re({status:"done"});let Ae=null;return e.authFlow instanceof p0?Ae=(be==null?void 0:be.linkedAccounts.find(({type:Ce})=>Ce==="email"))||null:e.authFlow instanceof g0&&(Ae=(be==null?void 0:be.linkedAccounts.find(({type:Ce})=>Ce==="phone"))||null),{user:be,isNewUser:ie||!1,wasAlreadyAuthenticated:!!oe,linkedAccount:Ae}},generateSiweMessage:async({address:z,chainId:J,captchaToken:ie})=>{_e.current="link",we.current="siwe",T({status:"generating-message"});let re=await e.generateSiweNonce({address:z,captchaToken:ie});return T({status:"awaiting-signature"}),jA({address:z,chainId:J.replace("eip155:",""),nonce:re})},generateSiweMessageForSmartWallet:async({address:z,chainId:J})=>{let ie=await e.generateSiweNonce({address:z});return jA({address:z,chainId:J.replace("eip155:",""),nonce:ie})},linkSmartWallet:async({message:z,signature:J,smartWalletType:ie})=>{let re;re=await e.linkSmartWallet({message:z,signature:J,smartWalletType:ie}),u((re=await nt.refreshUser()??re)||c||null)},linkWithSiwe:async({message:z,signature:J,chainId:ie,walletClientType:re,connectorType:oe})=>{let be;Ie("siwe");let Ae=null;try{T({status:"submitting-signature"}),be=await e.linkWithSiwe({message:z,signature:J,chainId:ie,walletClientType:re,connectorType:oe}),be=await nt.refreshUser()??be,T({status:"done"}),(Ae=qt(be)||null)&&Ee(he,"linkAccount","onSuccess",be,"siwe",Ae)}catch(Oe){throw Ee(he,"linkAccount","onError",Oe.privyErrorCode||ue.FAILED_TO_LINK_ACCOUNT,{linkMethod:"siwe"}),_e.current=null,we.current=null,T({status:"error",error:Oe}),Oe}let Ce=be||c;return u(Ce||null),_e.current=null,we.current=null,{user:Ce,linkedAccount:Ae}},refreshUser:async()=>{let z=await e.getAuthenticatedUser();return l(!!z),u(z),z},walletProxy:M,createAnalyticsEvent:({eventName:z,payload:J,timestamp:ie})=>e.createAnalyticsEvent({eventName:z,payload:J,timestamp:ie}),acceptTerms:async()=>{let z=await e.acceptTerms();return u(z),z},getUsdTokenPrice:z=>e.getUsdTokenPrice(z),getUsdPriceForSol:()=>e.getUsdPriceForSol(),getSplTokenMetadata:z=>e.getSplTokenMetadata(z),recoverPrimaryWallet:async z=>new Promise(async(J,ie)=>{let re=Is((z==null?void 0:z.user)??c)||k5((z==null?void 0:z.user)??c)||zm((z==null?void 0:z.user)??c),oe=await ir();if(!oe||!M||!re)return void ie(Error("Must have valid access token and Privy wallet to recover wallet"));k(!0);let{entropyId:be,entropyIdVerifier:Ae}=Qr(re);try{await M.connect({accessToken:oe,entropyId:be,entropyIdVerifier:Ae}),J(!0)}catch(Ce){h6(Ce)&&re.recoveryMethod==="privy"?(e.createAnalyticsEvent({eventName:"embedded_wallet_pinless_recovery_started",payload:{walletAddress:re.address}}),(await M.recover({entropyId:be,entropyIdVerifier:Ae,accessToken:oe})).entropyId||ie(Error("Unable to recover wallet")),e.createAnalyticsEvent({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:re.address}}),J(!0)):h6(Ce)&&re.recoveryMethod!=="privy"?(V({recoverWallet:{entropyId:be,entropyIdVerifier:Ae,onFailure:ie,onSuccess:()=>J(!0)},recoveryOAuthStatus:{provider:re.recoveryMethod,action:"recover"}}),Te(ose(re.recoveryMethod))):ie(Ce)}}),createEmbeddedSolanaWallet:async z=>{if(z&&"target"in z&&(z=void 0),!a||!c)throw Ee(he,"createWallet","onError",ue.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");return(async(J,ie,re)=>{var it;let oe=ks(J),be=Ul(J),Ae=re&&"createAdditional"in re&&re.createAdditional,Ce=re&&"walletIndex"in re?re.walletIndex:void 0,Oe=(((it=l7e(J))==null?void 0:it.walletIndex)??-1)+1;if(be&&!Ae&&typeof Ce!="number")throw Ee(he,"createWallet","onError",ue.EMBEDDED_WALLET_ALREADY_EXISTS),Error("User already has an embedded wallet.");if(typeof Ce=="number"&&Ce<0)throw Ee(he,"createWallet","onError",ue.EMBEDDED_WALLET_CREATE_ERROR),Error(`A negative walletIndex (${Ce}) is invalid.`);let[Xe,wt]=await Promise.all([nt.initializeWalletProxy(ie),ir()]);if(!Xe||!wt)throw Ee(he,"createWallet","onError",ue.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");return await yt({user:J,wp:Xe,accessToken:wt,walletIndex:Ce??Oe,ethereumWallet:oe})})(c,15e3,z)},exportSolanaWallet:z=>new Promise(async(J,ie)=>{var Oe;if(!a||!c)return void ie(Error("User must be authenticated before exporting their Privy wallet"));let re=(z==null?void 0:z.address)??((Oe=Ul(c))==null?void 0:Oe.address);if(!re)return void ie(Error("User does not have an HD Solana wallet."));let{signingWallet:oe,rootWallet:be}=s3(c,re);if(!oe||!be)return void ie(Error("Must have a Privy wallet before exporting"));if(k(!0),!await ir()||!M)return void ie(Error("Must have valid access token to enroll in MFA"));if(!M)return void ie(Error("Must have a Privy wallet before exporting"));let{entropyId:Ae,entropyIdVerifier:Ce}=Qr(be);V({connectWallet:{entropyId:Ae,entropyIdVerifier:Ce,onCompleteNavigateTo:se.EMBEDDED_WALLET_KEY_EXPORT_SCREEN,onFailure:ie,shouldForceMFA:!0},keyExport:{appId:t.appId,appClientId:t.clientId,origin:e.apiUrl,walletToExport:oe,primaryWallet:be,onSuccess:J,onFailure:ie}}),Te(se.EMBEDDED_WALLET_CONNECTING_SCREEN)}),setReadyToTrue:z=>{o(!0),ee==null||ee(z)},updateWallets:()=>Ge(),fundWallet:async(z,J)=>{let ie=se.FUNDING_METHOD_SELECTION_SCREEN;V({funding:wz({address:z,appConfig:S,fundWalletConfig:J,methodScreen:ie})}),Te(ie)},openModal:Te,requestFarcasterSignerStatus:async z=>{var oe;let J=await ir(),ie=c==null?void 0:c.linkedAccounts.find(be=>be.type==="wallet"&&be.walletClientType==="privy");if(!J)throw Error("Must have valid access token to connect with Farcaster");if(!M||!ie)throw Error("Must have an embedded wallet to use Farcaster signers");if(!((oe=c==null?void 0:c.farcaster)!=null&&oe.fid))throw Error("Must have Farcaster account to use Farcaster signers");let re=await e.requestFarcasterSignerStatus(z);return re.status==="approved"&&u(await e.getAuthenticatedUser()||c||null),re},connectCoinbaseSmartWallet:async()=>{var J,ie;S.externalWallets.coinbaseWallet.connectionOptions="smartWalletOnly";let z=((J=e.connectors)==null?void 0:J.findWalletConnector("coinbase_wallet","coinbase_smart_wallet"))||((ie=e.connectors)==null?void 0:ie.findWalletConnector("coinbase_wallet","coinbase_wallet"));if(z)return z.updateConnectionPreference("smartWalletOnly"),X(z);await L("coinbase_wallet","coinbase_smart_wallet")},initiateAccountTransfer:async({nonce:z,account:J,accountType:ie,externalWalletMetadata:re,telegramAuthResult:oe,telegramWebAppData:be,farcasterEmbeddedAddress:Ae,oAuthUserInfo:Ce})=>{let Oe=await e.sendAccountTransferRequest({nonce:z,account:J,accountType:ie,externalWalletMetadata:re,telegramAuthResult:oe,telegramWebAppData:be,farcasterEmbeddedAddress:Ae,oAuthUserInfo:Ce});return u(Oe),Oe}};Wle=nt.recoverPrimaryWallet,zle=nt.recoverPrimaryWallet,Hle=nt.solanaSignMessage;let ar=C.useMemo(()=>({wallets:f,ready:G&&ht}),[f,G,ht]),mr=e.authFlow instanceof zg,no=!S.headless&&S.captchaEnabled&&!a&&(s||mr);return d.jsx(hg.Provider,{value:Vt,children:d.jsx(zee.Provider,{value:he,children:d.jsx(Lse.Provider,{value:ar,children:d.jsx(i7e,{...S,children:d.jsxs(Uee.Provider,{value:nt,children:[d.jsx(VPe,{children:d.jsxs(aNe,{data:W,setModalData:V,setInitialScreen:$,initialScreen:b,authenticated:a,open:n,children:[t.children,no&&d.jsx(mke,{delayedExecution:!1}),d.jsx(iht,{theme:{...S.appearance.palette||{}}}),!S.render.standalone&&d.jsx(pht,{open:n})]})}),Q&&F?d.jsx(Aht,{appId:t.appId,appClientId:t.clientId,clientAnalyticsId:e.clientAnalyticsId,origin:e.apiUrl,mfaMethods:c==null?void 0:c.mfaMethods,mfaPromise:Qe,mfaSubmitPromise:xe,onLoad:U,onLoadFailed:()=>null}):null,S.loginConfig.telegramAuthConfiguration&&d.jsx(Fh,{$if:!0,children:d.jsx(mht,{scriptHost:t.apiUrl||NA,botUsername:S.loginConfig.telegramAuthConfiguration.botName})})]})})})})})};const bpt=async({emitPrivyEvent:t,getAccessToken:e,initializeWalletProxy:r,refreshUser:n,user:i},{privateKey:s,chainType:o})=>{if(!i)throw t("linkAccount","onError",ue.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new le("User must be authenticated before linking an account.");let[a,l]=await Promise.all([e(),r(15e3)]);if(!l||!a)throw t("linkAccount","onError",ue.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new le("User must be authenticated before linking an account.");await l.importWallet({privateKey:s,accessToken:a,chainType:o});let c=await n(),u=o==="solana"?zm(c):k5(c);if(!u)throw t("createWallet","onError",ue.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to import wallet");return t("createWallet","onSuccess",u),u},vpt=()=>{let{getAccessToken:t,user:e}=zt(),{refreshUser:r,initializeWalletProxy:n}=Ye(),i=BT();return{importWallet:C.useCallback(({privateKey:s})=>bpt({getAccessToken:t,user:e,initializeWalletProxy:n,refreshUser:r,emitPrivyEvent:i},{privateKey:s,chainType:"ethereum"}),[e,t,r,n,i])}},_P=()=>{let{importWallet:t}=vpt();return{...C.useContext(hg),importWallet:t}},$z=new Date("2026-01-12T00:00:00"),Iz=new Date("2026-01-17T00:00:00Z"),kz=new Date("2026-01-19T16:00:00Z"),Tz=new Date("2026-01-23T00:00:00Z");function xpt(){const[t,e]=C.useState("coming_soon"),[r,n]=C.useState({days:0,hours:0,minutes:0,seconds:0});return C.useEffect(()=>{const i=()=>{const o=new Date;let a,l;o<$z?(l="coming_soon",a=$z):o<Iz?(l="registration",a=Iz):o<kz?(l="registration_closed",a=kz):o<Tz?(l="building",a=Tz):(l="judging",a=o),e(l);const c=a.getTime()-o.getTime();c>0?n({days:Math.floor(c/864e5),hours:Math.floor(c/36e5%24),minutes:Math.floor(c/1e3/60%60),seconds:Math.floor(c/1e3%60)}):n({days:0,hours:0,minutes:0,seconds:0})};i();const s=setInterval(i,1e3);return()=>clearInterval(s)},[]),{phase:t,timeLeft:r}}const Ept={coming_soon:{badge:"Coming Soon",badgeColor:"bg-ethos-blue/10 border-ethos-blue/30 text-ethos-blue",dotColor:"bg-ethos-blue",label:"until registration opens"},registration:{badge:"Registration Open",badgeColor:"bg-ethos-green/10 border-ethos-green/30 text-ethos-green",dotColor:"bg-ethos-green",label:"until registration closes"},registration_closed:{badge:"Registration Closed",badgeColor:"bg-orange-500/10 border-orange-500/30 text-orange-400",dotColor:"bg-orange-400",label:"until building starts"},building:{badge:" Building in Progress",badgeColor:"bg-amber-500/10 border-amber-500/30 text-amber-400",dotColor:"bg-amber-400",label:"until submissions close"},judging:{badge:"Judging in Progress",badgeColor:"bg-purple-500/10 border-purple-500/30 text-purple-400",dotColor:"bg-purple-400",label:"Winners announced soon"}};function _pt(){const{phase:t,timeLeft:e}=xpt(),r=Ept[t];return d.jsx("section",{className:"relative flex items-center justify-center px-4 py-8",children:d.jsx("div",{className:"relative z-10 max-w-4xl mx-auto text-center",children:d.jsxs("div",{className:"glass-card px-8 py-12 md:px-16 md:py-16 animate-fade-in-up",children:[d.jsxs("div",{className:"flex flex-col items-center mb-6",children:[d.jsx("img",{src:"/assets/ethos-wordmark.svg",alt:"Ethos",className:"h-16 md:h-24 mb-4"}),d.jsx("h1",{className:"text-5xl md:text-7xl font-semibold text-white",children:"Vibeathon"})]}),d.jsxs("div",{className:"mb-8",children:[d.jsxs("div",{className:`inline-flex items-center gap-2 px-5 py-2.5 rounded-full border mb-4 ${r.badgeColor}`,children:[d.jsx("span",{className:`w-2.5 h-2.5 rounded-full animate-pulse ${r.dotColor}`}),d.jsx("span",{className:"text-base font-semibold tracking-wide",children:r.badge})]}),t!=="judging"?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex justify-center gap-3 md:gap-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl md:text-3xl font-bold text-white",children:e.days}),d.jsx("div",{className:"text-xs text-white/40 uppercase tracking-wide",children:"Days"})]}),d.jsx("div",{className:"text-white/20 text-2xl md:text-3xl font-light",children:":"}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl md:text-3xl font-bold text-white",children:e.hours}),d.jsx("div",{className:"text-xs text-white/40 uppercase tracking-wide",children:"Hours"})]}),d.jsx("div",{className:"text-white/20 text-2xl md:text-3xl font-light",children:":"}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl md:text-3xl font-bold text-white",children:e.minutes}),d.jsx("div",{className:"text-xs text-white/40 uppercase tracking-wide",children:"Mins"})]}),d.jsx("div",{className:"text-white/20 text-2xl md:text-3xl font-light",children:":"}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl md:text-3xl font-bold text-white",children:e.seconds}),d.jsx("div",{className:"text-xs text-white/40 uppercase tracking-wide",children:"Secs"})]})]}),d.jsx("p",{className:"text-white/40 text-sm mt-2",children:r.label})]}):d.jsx("p",{className:"text-white/40 text-sm",children:r.label})]}),d.jsxs("p",{className:"text-xl md:text-2xl text-white/60 mb-8 max-w-2xl mx-auto leading-relaxed",children:["Build reputation-powered products with"," ",d.jsx("span",{className:"text-ethos-green font-semibold",children:"Ethos"}),"."]}),d.jsxs("div",{className:"flex flex-wrap justify-center gap-6 mb-4 text-white",children:[d.jsxs("a",{href:"#prizes",className:"flex items-center gap-2 hover:text-white/80 transition-colors",children:[d.jsx("span",{className:"text-lg",children:""}),d.jsx("span",{children:"$40,000 in cash + credits"})]}),d.jsxs("a",{href:"#credits",className:"flex items-center gap-2 hover:text-white/80 transition-colors",children:[d.jsx("img",{src:"/assets/claude-logo.svg",alt:"",className:"w-5 h-5"}),d.jsx("span",{children:"Claude Pro Credits"})]}),d.jsxs("a",{href:"#prizes",className:"flex items-center gap-1.5 hover:text-white/80 transition-colors",children:[d.jsx("img",{src:"/assets/ethos-logo-green.svg",alt:"Ethos",className:"h-4"}),d.jsx("span",{children:"10m XP"})]})]}),d.jsxs("a",{href:"https://www.base.org/",target:"_blank",rel:"noopener noreferrer",className:"flex justify-center items-center gap-2 mb-10 text-white/40 text-sm hover:text-white/60 transition-colors",children:[d.jsxs("span",{className:"translate-y-[1px]",children:["Co-sponsored by"," ",d.jsx("span",{className:"text-ethos-green font-semibold text-base",children:"Ethos"})," ","and"]}),d.jsx("img",{src:"/assets/base-logo-white.svg",alt:"Base",className:"h-[14px]"})]}),d.jsx("a",{href:"#register",className:"glass-button inline-flex items-center gap-2",children:"Check Eligibility & Register"}),d.jsxs("p",{className:"mt-4 text-white/40 text-sm",children:["Questions?"," ",d.jsx("a",{href:"#faq",className:"text-ethos-green hover:underline",children:"Check out the FAQ"})]})]})})})}function Cpt(){const t=[{number:1,emphasis:"Reputation",suffix:" is a primitive in crypto that Ethos unlocks"},{number:2,text:"We've built an extensive",emphasis:"API",suffix:" to bring measurable reputation to any product"},{number:3,emphasis:"Vibe coding",suffix:" makes building with it dead simple"},{number:4,text:"Now, we're hosting a vibe coding hackathon to bring",emphasis:"Ethos",suffix:" everywhere"}];return d.jsx("section",{className:"py-8 px-4",children:d.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[d.jsxs("h2",{className:"text-3xl md:text-4xl font-light text-white leading-relaxed mb-6",children:[d.jsx("span",{className:"font-bold text-ethos-green",children:"Ethos"})," ","makes reputation composable.",d.jsx("br",{}),d.jsx("span",{className:"font-bold text-ethos-green",children:"Vibe coding"})," ","makes it easy."]}),d.jsx("p",{className:"text-xl text-white/50 mb-10",children:"Together, they let anyone build reputation-native products."}),d.jsx("div",{className:"glass-card p-8 text-left space-y-4 mb-10",children:t.map(e=>d.jsxs("div",{className:"flex items-center gap-4 text-white/80",children:[d.jsx("span",{className:"w-8 h-8 rounded-full bg-ethos-blue/20 flex items-center justify-center text-ethos-green text-sm font-medium flex-shrink-0",children:e.number}),d.jsxs("span",{children:[e.text&&`${e.text} `,d.jsx("strong",{className:"text-white",children:e.emphasis}),e.suffix]})]},e.number))}),d.jsxs("p",{className:"text-2xl md:text-3xl font-bold text-white",children:["Build reputation-backed products in"," ",d.jsx("span",{className:"text-ethos-green",children:"72 hours"}),",",d.jsx("br",{}),d.jsx("span",{className:"text-white/60 font-normal",children:"without heavy lifting."})]})]})})}const Nz=[{date:"Jan 12-16",title:"Announcement & Registration",details:[d.jsxs(d.Fragment,{children:[d.jsx("a",{href:"#register",className:"text-ethos-green hover:underline",children:"Verify Ethos account"})," ","on website and submit form"]}),d.jsxs(d.Fragment,{children:["Join Ethos"," ",d.jsx("a",{href:"https://discord.com/invite/trust-ethos",target:"_blank",rel:"noopener noreferrer",className:"text-[#5865F2] hover:underline",children:"discord"})," ","&"," ",d.jsx("a",{href:"https://discord.com/channels/1230729763170287647/1460137477594419364",target:"_blank",rel:"noopener noreferrer",className:"text-[#5865F2] hover:underline",children:"#vibeathon"})," ","channel"]})],status:"upcoming"},{date:"Jan 19-22",title:"Build Window",details:["Begins Monday 10:00am CST","Claude credits activated at start","Build your reputation-powered product or integrate Ethos into an existing one"],status:"upcoming"},{date:"Jan 22",title:"Submission Deadline",details:["Record a 2-3 min demo (ideally Loom), due Thurs Jan 22, 6pm CST","Show: product idea, Ethos integration, target vertical","Demonstrate how reputation affects the user journey"],status:"upcoming"},{date:"Jan 23",title:"Livestream Judging",details:["Projects reviewed live","Winners announced on stream"],status:"upcoming"}];function Apt(){return d.jsx("section",{className:"py-8 px-4",children:d.jsx("div",{className:"max-w-3xl mx-auto",children:d.jsxs("div",{className:"glass-card p-8",children:[d.jsxs("div",{className:"text-center mb-10",children:[d.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Timeline"}),d.jsx("p",{className:"text-white/50",children:"Key dates for the Vibeathon"})]}),d.jsx("div",{className:"relative",children:d.jsx("div",{className:"space-y-0",children:Nz.map((t,e)=>d.jsxs("div",{className:"flex gap-4 sm:gap-6",children:[d.jsxs("div",{className:"flex-shrink-0 w-[90px] sm:w-[105px] flex flex-col items-center",children:[d.jsx("div",{className:"bg-ethos-green/10 border border-ethos-green/20 rounded-lg px-3 py-2 text-center w-full",children:d.jsx("span",{className:"text-ethos-green font-semibold text-sm",children:t.date})}),e<Nz.length-1&&d.jsx("div",{className:"w-px flex-1 min-h-[60px] bg-ethos-green/30"})]}),d.jsxs("div",{className:"flex-1 pb-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:t.title}),d.jsx("ul",{className:"space-y-1 list-disc list-inside marker:text-white/30",children:t.details.map((r,n)=>d.jsx("li",{className:"text-white/50 text-sm",children:r},n))})]})]},e))})}),d.jsx("a",{href:"https://discord.com/invite/trust-ethos",target:"_blank",rel:"noopener noreferrer",className:"mt-10 p-4 rounded-xl bg-[#5865F2]/10 border border-[#5865F2]/20 text-center block hover:bg-[#5865F2]/20 transition-colors",children:d.jsxs("p",{className:"text-white/70 text-sm flex items-center justify-center gap-2",children:[d.jsx("img",{src:"/assets/discord-logo.svg",alt:"Discord",className:"w-5 h-5"}),d.jsxs("span",{children:[d.jsx("span",{className:"text-[#5865F2] font-medium",children:"Discord"})," ","is where all coordination and updates will take place"]})]})})]})})})}const Spt=[{icon:d.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),title:"Net New Product",description:"Build something entirely new using the Ethos reputation layer.",prizes:[{place:"1st",reward:"$2,500 + 1yr Claude Pro + $600 in credits + 3.5m XP",highlight:!0},{place:"2nd",reward:"1yr Claude Pro + $600 in credits + 1.5m XP",highlight:!1}]},{icon:d.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),title:"Reputation-Driven Improvement",description:"Enhance an existing product with Ethos credibility score integration.",prizes:[{place:"1st",reward:"$2,500 + 1yr Claude Pro + $600 in credits + 3.5m XP",highlight:!0},{place:"2nd",reward:"1yr Claude Pro + $600 in credits + 1.5m XP",highlight:!1}]}],$pt={description:"Build something new or improve an existing product on Base."};function Ipt(){return d.jsx("section",{className:"py-8 px-4",children:d.jsxs("div",{className:"max-w-6xl mx-auto",children:[d.jsxs("div",{id:"prizes",className:"text-center mb-10 scroll-mt-8",children:[d.jsxs("div",{className:"inline-flex flex-col items-center px-8 py-4 rounded-2xl bg-ethos-green/10 border border-ethos-green/20 mb-6",children:[d.jsx("span",{className:"text-ethos-green font-bold text-5xl",children:"$40,000"}),d.jsx("div",{className:"text-ethos-green font-bold text-2xl mt-1",children:"+ 10m Ethos XP"}),d.jsx("span",{className:"text-white/60 text-lg mt-1",children:"Total Prize Pool"})]}),d.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Prize Tracks"}),d.jsxs("p",{className:"text-xl text-white/50 max-w-2xl mx-auto",children:["Two tracks, two chances to win.",d.jsx("br",{}),"Build something new or improve what exists.",d.jsx("br",{}),"Eligible for bonus reward if you build on Base."]})]}),d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:Spt.map(t=>d.jsxs("div",{className:"glass-card p-8 group",children:[d.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[d.jsx("div",{className:"flex-shrink-0 w-14 h-14 rounded-2xl bg-gradient-to-br from-ethos-blue/20 to-ethos-blue/20 flex items-center justify-center text-ethos-green group-hover:scale-110 transition-transform",children:t.icon}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:t.title}),d.jsx("p",{className:"text-white/50",children:t.description})]})]}),d.jsx("div",{className:"space-y-3",children:t.prizes.map(e=>d.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl ${e.highlight?"bg-gradient-to-r from-ethos-blue/20 to-ethos-blue/20 border border-ethos-blue/30":"bg-white/5 border border-white/10"}`,children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:`text-2xl ${e.highlight?"":"opacity-60"}`,children:e.place==="1st"?"":""}),d.jsxs("span",{className:`font-semibold ${e.highlight?"text-white":"text-white/70"}`,children:[e.place," Place"]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:`font-bold ${e.highlight?"text-ethos-green":"text-white/60"}`,children:e.place==="1st"?"$2,500 cash + 3.5m XP":"1.5m XP"}),d.jsx("div",{className:"text-sm text-white/50",children:"PLUS: 1yr Claude Pro + $600 in credits"})]})]},e.place))})]},t.title))}),d.jsx("div",{className:"glass-card p-8 border-[#0052FF]/30 bg-gradient-to-r from-[#0052FF]/5 to-transparent",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex flex-col items-start justify-center",children:[d.jsx("img",{src:"/assets/base-logo-white.svg",alt:"Base",className:"h-14"}),d.jsx("span",{className:"text-xs text-white/60 mt-1",children:"Sponsor"})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:"text-3xl font-bold text-white",children:"$30,000 in Paymaster Credits"}),d.jsx("div",{className:"text-white/70",children:"2 winners"}),d.jsx("p",{className:"text-white/50 text-sm mt-1",children:$pt.description})]})]})})]})})}const Tv=[{icon:"",title:"Social Trading & Alpha",description:"Reputation-weighted trading signals and alpha discovery"},{icon:"",title:"Launches & Access Control",description:"Airdrops, allowlists, and gated access based on credibility"},{icon:"",title:"Discovery & Curation",description:"Trust-based content and project curation"},{icon:"",title:"Credit & Lending",description:"Under-collateralized lending using on-chain reputation"},{icon:"",title:"Agent Reputation",description:"Credibility systems for AI agents and autonomous actors"}];function kpt(){return d.jsx("section",{className:"py-8 px-4",children:d.jsxs("div",{className:"max-w-6xl mx-auto",children:[d.jsxs("div",{className:"mb-10",children:[d.jsxs("div",{className:"text-center mb-10",children:[d.jsx("h3",{className:"text-3xl font-bold text-white mb-4",children:"Suggested Verticals"}),d.jsxs("p",{className:"text-white/50 max-w-xl mx-auto",children:["Looking for inspiration?",d.jsx("br",{}),"Here are some areas where reputation can make a real impact."]})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:Tv.slice(0,4).map(t=>d.jsxs("div",{className:"glass-card p-5 text-center group hover:border-ethos-blue/30 transition-colors",children:[d.jsx("span",{className:"text-3xl mb-3 block group-hover:scale-110 transition-transform",children:t.icon}),d.jsx("h4",{className:"font-semibold text-white mb-2 text-sm",children:t.title}),d.jsx("p",{className:"text-white/40 text-xs leading-relaxed",children:t.description})]},t.title))}),d.jsx("div",{className:"flex justify-center mt-4",children:d.jsxs("div",{className:"glass-card p-5 text-center group hover:border-ethos-blue/30 transition-colors w-full sm:w-1/2 lg:w-1/5",children:[d.jsx("span",{className:"text-3xl mb-3 block group-hover:scale-110 transition-transform",children:Tv[4].icon}),d.jsx("h4",{className:"font-semibold text-white mb-2 text-sm",children:Tv[4].title}),d.jsx("p",{className:"text-white/40 text-xs leading-relaxed",children:Tv[4].description})]})})]}),d.jsx("div",{id:"credits",className:"max-w-3xl mx-auto scroll-mt-8",children:d.jsxs("div",{className:"glass-card p-8 text-center border-ethos-blue/30 bg-gradient-to-br from-ethos-blue/10 to-ethos-blue/10",children:[d.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[d.jsx("span",{className:"text-4xl",children:""}),d.jsx("h3",{className:"text-2xl font-bold text-white",children:"All Eligible Participants Receive"})]}),d.jsx("div",{className:"text-5xl font-bold text-ethos-green mb-4",children:"$75"}),d.jsx("p",{className:"text-xl text-white/80 mb-2",children:"in Claude Pro Credits"}),d.jsx("p",{className:"text-white/50 text-sm mb-4",children:"Register with your email to claim your credits and start building!"}),d.jsx("div",{className:"mt-4 p-3 rounded-lg bg-amber-500/10 border border-amber-500/30",children:d.jsxs("p",{className:"text-amber-400 text-xs flex items-center justify-center gap-2",children:[d.jsx("span",{children:""}),d.jsx("span",{children:"Credits must be used toward the Vibeathon. Misuse will result in a Slash on Ethos."})]})})]})})]})})}const Tpt=[{name:"David Tso",handle:"davidtsocy",title:"Ecosystem, Base",avatar:"/assets/judges/davidtsocy.jpg",link:"https://x.com/davidtsocy"},{name:"zac.eth",handle:"zacxbt",title:"Founder, CoinQuarium",avatar:"/assets/judges/zacxbt.jpg",link:"https://x.com/zacxbt"},{name:"Marco De Rossi",handle:"marco_derossi",title:"AI Lead, MetaMask",avatar:"/assets/judges/marco_derossi.jpg",link:"https://x.com/marco_derossi"},{name:"Frank",handle:"frankdegods",title:"Vibecoder",avatar:"/assets/judges/frankdegods.jpg",link:"https://x.com/frankdegods"},{name:"Serpin Taxt",handle:"serpinxbt",title:"Founder, Ethos",avatar:"/assets/judges/serpinxbt.jpg",link:"https://x.com/serpinxbt"}];function Npt(){return d.jsx("section",{className:"py-8 px-4",children:d.jsx("div",{className:"max-w-4xl mx-auto",children:d.jsxs("div",{className:"glass-card p-8 text-center",children:[d.jsx("h2",{className:"text-3xl font-bold text-white mb-3",children:"Judges"}),d.jsx("p",{className:"text-white/50 mb-8",children:"Projects will be reviewed live on stream"}),d.jsxs("div",{className:"flex flex-wrap justify-center gap-8",children:[Tpt.map(t=>d.jsxs("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center group",children:[d.jsx("img",{src:t.avatar,alt:t.name,className:"w-20 h-20 rounded-full border-2 border-white/20 group-hover:border-ethos-green transition-colors"}),d.jsx("span",{className:"mt-2 text-white font-medium group-hover:text-ethos-green transition-colors",children:t.name}),t.title&&d.jsx("span",{className:"text-white/40 text-xs",children:t.title}),d.jsxs("span",{className:"text-white/50 text-sm",children:["@",t.handle]})]},t.handle)),[].map(t=>d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("div",{className:"w-20 h-20 rounded-full border-2 border-white/10 bg-white/5 flex items-center justify-center",children:d.jsx("span",{className:"text-2xl text-white/30",children:"?"})}),d.jsx("span",{className:"mt-2 text-white/50 font-medium",children:"TBA"})]},`tbd-${t}`))]})]})})})}function Ppt(){var n,i,s;const{user:t}=_P(),e=(n=t==null?void 0:t.linkedAccounts)==null?void 0:n.find(({type:o})=>o==="cross_app");return(s=(i=e==null?void 0:e.embeddedWallets)==null?void 0:i[0])==null?void 0:s.address}function Rpt(t){const[e,r]=C.useState({ethosUser:null,loading:!!t,error:null});return C.useEffect(()=>{if(!t){r({ethosUser:null,loading:!1,error:null});return}let n=!1;return r(i=>({...i,loading:!0})),fetch(`https://api.ethos.network/api/v2/internal/users/embedded-wallet/${t}`,{headers:{"Content-Type":"application/json","X-Ethos-Client":"ethos-vibeathon"}}).then(i=>{if(!i.ok)throw new Error("Failed to fetch Ethos user");return i.json()}).then(i=>{if(console.log("Ethos API raw response:",i),!n){const s=i==null?void 0:i.user;console.log("Parsed Ethos user:",s),r({ethosUser:s,loading:!1,error:null})}}).catch(i=>{console.error("Error fetching Ethos user:",i),n||r({ethosUser:null,loading:!1,error:i.message})}),()=>{n=!0}},[t]),e}function Opt({user:t}){const[e,r]=C.useState(""),[n,i]=C.useState(!1),[s,o]=C.useState(!1),[a,l]=C.useState(null),c=async u=>{if(u.preventDefault(),!e.trim()){l("Please enter your email address");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)){l("Please enter a valid email address");return}i(!0),l(null);try{const p=await(await fetch("/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e}),credentials:"include"})).json();if(!p.ok){l(p.error||"Registration failed");return}o(!0)}catch{l("Network error. Please try again.")}finally{i(!1)}};return s?d.jsxs("div",{className:"glass-card p-8 text-center",children:[d.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full bg-gradient-to-br from-green-400/20 to-ethos-blue/20 flex items-center justify-center",children:d.jsx("svg",{className:"w-10 h-10 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),d.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"You're registered!"}),d.jsxs("p",{className:"text-white/50 mb-4",children:["Welcome to the Ethos Vibeathon! We'll send updates to"," ",d.jsx("span",{className:"text-ethos-green",children:e})]}),d.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/5 border border-white/10",children:[d.jsx("span",{className:"text-white/70",children:"Score:"}),d.jsx("span",{className:"font-bold text-ethos-green",children:t.score})]})]}):d.jsxs("div",{className:"glass-card p-8",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-ethos-blue/10 border border-ethos-blue/20 mb-4",children:[d.jsx("svg",{className:"w-5 h-5 text-ethos-green",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("span",{className:"text-ethos-green font-medium",children:"Qualified to Register"})]}),d.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Complete Registration"}),d.jsx("p",{className:"text-white/50",children:"Enter your email to secure your spot"})]}),d.jsxs("form",{onSubmit:c,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"email",className:"block text-sm text-white/70 mb-2",children:["Email Address"," ",d.jsx("span",{className:"text-white/40",children:"(preferred to use one without an existing Claude account, feel free to use a burner)"})]}),d.jsx("input",{type:"email",id:"email",value:e,onChange:u=>{r(u.target.value),l(null)},placeholder:"you@example.com",className:"glass-input w-full px-4 py-3 text-lg",required:!0}),d.jsx("p",{className:"text-white/40 text-xs mt-1",children:"For $75 Claude credits and Vibeathon updates"})]}),d.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10",children:[d.jsx("p",{className:"text-sm text-white/50 mb-3",children:"Connected Ethos Profile"}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[t.avatarUrl?d.jsx("img",{src:t.avatarUrl,alt:t.displayName||"Profile",className:"w-10 h-10 rounded-full object-cover border-2 border-ethos-blue/50"}):d.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-ethos-blue to-ethos-blue flex items-center justify-center",children:d.jsx("img",{src:"/assets/ethos-logo-white.svg",alt:"Ethos",className:"w-5 h-5"})}),d.jsx("div",{children:t.username?d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"font-semibold text-white",children:t.username}),t.username&&d.jsxs("p",{className:"text-sm text-ethos-green",children:["@",t.username]})]}):d.jsx("p",{className:"font-semibold text-white",children:"Ethos Account"})})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-ethos-green font-bold text-lg",children:t.score}),d.jsx("p",{className:"text-white/40 text-xs",children:"Score"})]})]})]}),a&&d.jsx("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20",children:d.jsx("p",{className:"text-red-400 text-sm",children:a})}),d.jsx("button",{type:"submit",disabled:n,className:"glass-button w-full",children:n?d.jsxs("span",{className:"flex items-center justify-center gap-2",children:[d.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-white border-t-transparent animate-spin"}),"Registering..."]}):d.jsxs("span",{className:"flex items-center justify-center gap-2",children:[d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Register for Vibeathon"]})}),d.jsx("div",{className:"p-3 rounded-lg bg-amber-500/10 border border-amber-500/30",children:d.jsxs("p",{className:"text-center text-amber-400 text-xs flex items-center justify-center gap-2",children:[d.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),d.jsx("span",{children:"By registering, you agree to use Claude credits specifically for the Vibeathon. Participants found using credits for anything else will be subject to a Slash on Ethos."})]})})]})]})}function jpt({user:t}){const[e,r]=C.useState(!1),[n,i]=C.useState(!0);if(C.useEffect(()=>{t&&(async()=>{try{const l=await(await fetch("/api/registration-status",{credentials:"include"})).json();l.ok&&l.registered&&r(!0)}catch{}finally{i(!1)}})()},[t]),!t)return d.jsxs("div",{className:"glass-card p-8 text-center",children:[d.jsx("div",{className:"w-12 h-12 mx-auto rounded-full border-2 border-ethos-blue border-t-transparent animate-spin mb-4"}),d.jsx("p",{className:"text-white/60",children:"Loading your Ethos score..."})]});const s=t.score>=1400;return d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"glass-card p-8 text-center overflow-hidden",children:d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:`absolute inset-0 ${s?"bg-gradient-to-r from-ethos-blue/10 via-transparent to-ethos-blue/10":"bg-white/5"} blur-3xl`}),d.jsx("div",{className:"relative score-display",children:t.score}),d.jsx("p",{className:"text-white/50 text-lg mt-2 mb-6",children:"Credibility score"}),d.jsx("div",{className:"inline-block",children:s?d.jsx("span",{className:"badge-qualified",children:" Qualified"}):d.jsx("span",{className:"badge-not-qualified",children:"Score below 1400"})})]})}),s&&!e&&!n&&d.jsx(Opt,{user:t}),s&&e&&d.jsxs("div",{className:"glass-card p-8 text-center",children:[d.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full bg-gradient-to-br from-green-400/20 to-ethos-blue/20 flex items-center justify-center",children:d.jsx("svg",{className:"w-10 h-10 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),d.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"You're Already Registered!"}),d.jsx("p",{className:"text-white/50 mb-6",children:"You've already secured your spot for the Ethos Vibeathon."}),d.jsxs("a",{href:"https://discord.com/invite/trust-ethos",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-5 py-3 rounded-xl bg-[#5865F2]/20 border border-[#5865F2]/30 hover:bg-[#5865F2]/30 transition-colors",children:[d.jsx("img",{src:"/assets/discord-logo.svg",alt:"Discord",className:"w-5 h-5"}),d.jsxs("span",{className:"text-white font-medium",children:["Join"," ",d.jsx("a",{href:"https://discord.com/channels/1230729763170287647/1460137477594419364",target:"_blank",rel:"noopener noreferrer",className:"text-[#5865F2] hover:underline",children:"#vibeathon"})," ","on Discord"]})]})]}),s&&n&&d.jsxs("div",{className:"glass-card p-8 text-center",children:[d.jsx("div",{className:"w-12 h-12 mx-auto rounded-full border-2 border-ethos-blue border-t-transparent animate-spin mb-4"}),d.jsx("p",{className:"text-white/60",children:"Checking registration status..."})]}),!s&&d.jsx("div",{className:"glass-card p-6 text-center",children:d.jsx("p",{className:"text-white/60",children:"Your score is below the 1400 threshold required to register."})})]})}const Mpt=new Date("2026-01-17T00:00:00Z");function Dpt(){const{login:t,logout:e,authenticated:r}=_P(),[n,i]=C.useState(!1),[s,o]=C.useState(!1),a=Ppt(),{ethosUser:l,loading:c}=Rpt(a);C.useEffect(()=>{const f=()=>{o(new Date>=Mpt)};f();const h=setInterval(f,1e3);return()=>clearInterval(h)},[]);const u=()=>{i(!0);try{t()}catch(f){console.error("Login failed:",f)}finally{i(!1)}};return r&&a?d.jsx("section",{className:"py-8 px-4",children:d.jsxs("div",{className:"max-w-lg mx-auto space-y-6",children:[d.jsx("div",{className:"glass-card p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[l!=null&&l.avatarUrl?d.jsx("img",{src:l.avatarUrl,alt:l.displayName||"Profile",className:"w-12 h-12 rounded-full object-cover border-2 border-ethos-blue/50"}):d.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-ethos-blue to-ethos-blue flex items-center justify-center",children:d.jsx("img",{src:"/assets/ethos-logo-white.svg",alt:"Ethos",className:"w-6 h-6"})}),d.jsx("div",{children:c?d.jsx("p",{className:"text-white/50 text-sm",children:"Loading Ethos profile..."}):l!=null&&l.displayName?d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"font-semibold text-white",children:l.displayName}),l.username&&d.jsxs("p",{className:"text-sm text-ethos-green",children:["@",l.username]})]}):d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"font-semibold text-white",children:"Ethos Account Connected"}),d.jsx("p",{className:"text-sm text-white/50",children:"Ready to check score"})]})})]}),d.jsx("button",{type:"button",onClick:e,className:"glass-button-secondary text-sm px-4 py-2",children:"Disconnect"})]})}),d.jsx(jpt,{user:l})]})}):r&&!a?d.jsx("section",{className:"py-8 px-4",children:d.jsx("div",{className:"max-w-lg mx-auto",children:d.jsxs("div",{className:"glass-card p-8 text-center",children:[d.jsx("div",{className:"w-12 h-12 mx-auto rounded-full border-2 border-ethos-blue border-t-transparent animate-spin mb-4"}),d.jsx("p",{className:"text-white/60",children:"Loading wallet..."})]})})}):s?d.jsx("section",{id:"register",className:"py-8 px-4",children:d.jsx("div",{className:"max-w-lg mx-auto",children:d.jsxs("div",{className:"glass-card p-8 text-center",children:[d.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-2xl bg-gradient-to-br from-orange-500/20 to-orange-500/10 flex items-center justify-center border border-orange-500/30",children:d.jsx("span",{className:"text-4xl",children:""})}),d.jsx("h3",{className:"text-4xl font-bold text-white mb-4",children:"Registration Closed"}),d.jsx("p",{className:"text-white/50 mb-6",children:"Registration for the Vibeathon has ended. Building starts Monday, Jan 19 at 10am CST."}),d.jsxs("a",{href:"https://discord.com/invite/trust-ethos",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-5 py-3 rounded-xl bg-[#5865F2]/20 border border-[#5865F2]/30 hover:bg-[#5865F2]/30 transition-colors",children:[d.jsx("img",{src:"/assets/discord-logo.svg",alt:"Discord",className:"w-5 h-5"}),d.jsx("span",{className:"text-white font-medium",children:"Follow along on Discord"})]})]})})}):d.jsxs("section",{id:"register",className:"py-8 px-4",children:[d.jsx("div",{className:"max-w-lg mx-auto",children:d.jsxs("div",{className:"glass-card p-8 text-center",children:[d.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-2xl bg-gradient-to-br from-ethos-blue/20 to-ethos-blue/20 flex items-center justify-center border border-white/10",children:d.jsx("img",{src:"/assets/ethos-logo-green.svg",alt:"Ethos",className:"w-10 h-10"})}),d.jsx("h3",{className:"text-5xl font-bold text-white mb-4",children:"Register"}),d.jsx("p",{className:"text-white/50 mb-6",children:"Connect your Ethos wallet to check your credibility score"}),d.jsx("button",{type:"button",onClick:u,disabled:n,className:"glass-button w-full",children:n?d.jsxs("span",{className:"flex items-center justify-center gap-2",children:[d.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-white border-t-transparent animate-spin"}),"Connecting..."]}):d.jsxs("span",{className:"flex items-center justify-center gap-2",children:[d.jsx("img",{src:"/assets/ethos-logo-white.svg",alt:"",className:"w-5 h-5"}),"Connect with Ethos"]})}),d.jsxs("p",{className:"mt-4 text-white/30 text-xs",children:["Powered by"," ",d.jsx("a",{href:"https://ethos.network",target:"_blank",rel:"noopener noreferrer",className:"text-ethos-green hover:underline",children:"Ethos Network"})," ","via Privy"]})]})}),d.jsxs("p",{className:"mt-6 text-white/40 text-sm text-center",children:["Questions?"," ",d.jsx("a",{href:"#faq",className:"text-ethos-green hover:underline",children:"Check out the FAQ"})]})]})}function Lpt(){return d.jsx("section",{className:"py-8 px-4",children:d.jsx("div",{className:"max-w-6xl mx-auto",children:d.jsx("div",{className:"max-w-4xl mx-auto",children:d.jsxs("div",{className:"glass-card p-8 text-center",children:[d.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"Supporting Materials"}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[d.jsxs("a",{href:"https://ethos.network",target:"_blank",rel:"noopener noreferrer",className:"p-4 rounded-xl bg-white/5 border border-white/10 hover:border-ethos-green/30 hover:bg-white/10 transition-all group",children:[d.jsx("div",{className:"mb-2 flex justify-center",children:d.jsx("img",{src:"/assets/ethos-logo-green.svg",alt:"Ethos",className:"w-8 h-8"})}),d.jsx("div",{className:"font-semibold text-white group-hover:text-ethos-green transition-colors",children:"Ethos"}),d.jsx("div",{className:"text-white/40 text-sm",children:"What is Ethos?"})]}),d.jsxs("a",{href:"https://developers.ethos.network/api-documentation/vibe-coding-quickstart",target:"_blank",rel:"noopener noreferrer",className:"p-4 rounded-xl bg-white/5 border border-white/10 hover:border-ethos-green/30 hover:bg-white/10 transition-all group",children:[d.jsx("div",{className:"text-2xl mb-2",children:""}),d.jsx("div",{className:"font-semibold text-white group-hover:text-ethos-green transition-colors",children:"Quickstart"}),d.jsx("div",{className:"text-white/40 text-sm",children:"Vibe Coding Guide"})]}),d.jsxs("a",{href:"https://developers.ethos.network",target:"_blank",rel:"noopener noreferrer",className:"p-4 rounded-xl bg-white/5 border border-white/10 hover:border-ethos-green/30 hover:bg-white/10 transition-all group",children:[d.jsx("div",{className:"text-2xl mb-2",children:""}),d.jsx("div",{className:"font-semibold text-white group-hover:text-ethos-green transition-colors",children:"API Docs"}),d.jsx("div",{className:"text-white/40 text-sm",children:"Developer docs"})]}),d.jsxs("a",{href:"https://claude.ai",target:"_blank",rel:"noopener noreferrer",className:"p-4 rounded-xl bg-white/5 border border-white/10 hover:border-ethos-green/30 hover:bg-white/10 transition-all group",children:[d.jsx("div",{className:"mb-2 flex justify-center",children:d.jsx("img",{src:"/assets/claude-logo.svg",alt:"Claude",className:"w-8 h-8"})}),d.jsx("div",{className:"font-semibold text-white group-hover:text-ethos-green transition-colors",children:"Claude"}),d.jsx("div",{className:"text-white/40 text-sm",children:"Build with AI"})]}),d.jsxs("a",{href:"https://discord.com/invite/trust-ethos",target:"_blank",rel:"noopener noreferrer",className:"p-4 rounded-xl bg-white/5 border border-white/10 hover:border-[#5865F2]/50 hover:bg-white/10 transition-all group",children:[d.jsx("div",{className:"mb-2 flex justify-center",children:d.jsx("img",{src:"/assets/discord-logo.svg",alt:"Discord",className:"w-8 h-8"})}),d.jsx("div",{className:"font-semibold text-white group-hover:text-[#5865F2] transition-colors",children:"Discord"}),d.jsx("div",{className:"text-white/40 text-sm",children:"#vibeathon"})]})]})]})})})})}const Fpt=[{question:"Do I need to use Claude?",answer:"No. You can use any model or write code manually. However, we will only sponsor credits for Claude."},{question:"Do I need a score over 1400 to participate?",answer:"Yes. You need a credibility score of 1400 or higher to register for the Vibeathon."},{question:"Can I use something I already built?",answer:"No. Submissions must be built during the Vibeathon window. This is a reputation-based competition, and participants are expected to follow the rules in good faith."},{question:"Do I need to create a Claude account before the Vibeathon to receive credits?",answer:"You can create your Claude account either before the Vibeathon or during it. Once you register and are approved, sponsored credits will automatically be applied to the Claude account associated with your registration."},{question:"Can I work in a team?",answer:"No, this vibeathon is focused on solo entries. Think of Claude as your teammate!"}];function Bpt(){const[t,e]=C.useState(null),r=n=>{e(t===n?null:n)};return d.jsx("section",{id:"faq",className:"py-8 px-4",children:d.jsxs("div",{className:"max-w-3xl mx-auto",children:[d.jsx("h2",{className:"text-3xl font-bold text-white mb-8 text-center",children:"FAQ"}),d.jsx("div",{className:"space-y-3",children:Fpt.map((n,i)=>d.jsxs("div",{className:"glass-card overflow-hidden",children:[d.jsxs("button",{onClick:()=>r(i),className:"w-full p-5 text-left flex items-center justify-between gap-4 hover:bg-white/5 transition-colors",children:[d.jsx("span",{className:"font-semibold text-white",children:n.question}),d.jsx("span",{className:`text-white/50 transition-transform ${t===i?"rotate-180":""}`,children:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),t===i&&d.jsx("div",{className:"px-5 pb-5 text-white/60",children:n.answer})]},i))})]})})}function Upt(){return d.jsx("footer",{className:"relative py-8 px-4 border-t border-white/5",children:d.jsx("div",{className:"max-w-6xl mx-auto",children:d.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-ethos-bg-secondary flex items-center justify-center border border-ethos-border",children:d.jsx("img",{src:"/assets/ethos-logo-white.svg",alt:"Ethos",className:"w-5 h-5 opacity-80"})}),d.jsxs("div",{children:[d.jsx("span",{className:"font-bold text-white",children:"Ethos Vibeathon 2026"}),d.jsx("p",{className:"text-xs text-white/40",children:"Powered by Ethos Network"})]})]}),d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsxs("div",{className:"flex items-center gap-8",children:[d.jsx("a",{href:"https://ethos.network",target:"_blank",rel:"noopener noreferrer",className:"text-white/50 hover:text-white transition-colors",children:"Ethos Network"}),d.jsx("a",{href:"https://x.com/ethos_network",target:"_blank",rel:"noopener noreferrer",className:"text-white/50 hover:text-white transition-colors",children:"X"}),d.jsx("a",{href:"https://discord.com/invite/trust-ethos",target:"_blank",rel:"noopener noreferrer",className:"text-white/50 hover:text-white transition-colors",children:"Discord"}),d.jsx("a",{href:"https://developers.ethos.network",target:"_blank",rel:"noopener noreferrer",className:"text-white/50 hover:text-white transition-colors",children:"API Docs"})]}),d.jsx("p",{className:"text-white/20 text-sm",children:"user is scrolling so fast nobody will see this was vibecoded by the bd guy"})]}),d.jsxs("p",{className:"text-white/30 text-sm",children:[" ",new Date().getFullYear()," All rights reserved."]})]})})})}function Wpt(){const{ready:t}=_P();return t?d.jsxs("div",{className:"gradient-bg min-h-screen text-white overflow-x-hidden relative",children:[d.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden","aria-hidden":"true",children:[d.jsx("div",{className:"mesh-orb mesh-orb-1"}),d.jsx("div",{className:"mesh-orb mesh-orb-2"}),d.jsx("div",{className:"mesh-orb mesh-orb-3"})]}),d.jsxs("div",{className:"relative z-10",children:[d.jsx(_pt,{}),d.jsx(Cpt,{}),d.jsx(Apt,{}),d.jsx(Ipt,{}),d.jsx(Dpt,{}),d.jsx(kpt,{}),d.jsx(Npt,{}),d.jsx(Lpt,{}),d.jsx(Bpt,{}),d.jsx(Upt,{})]})]}):d.jsx("div",{className:"gradient-bg min-h-screen text-white flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-12 h-12 mx-auto rounded-full border-2 border-ethos-blue border-t-transparent animate-spin"}),d.jsx("p",{className:"mt-4 text-white/50",children:"Loading..."})]})})}const zpt="cm5l76en107pt1lpl2ve2ocfy";Hq(document.getElementById("root")).render(d.jsx(C.StrictMode,{children:d.jsx(ypt,{appId:"cmk2xr5mk002pl80cuuc346jg",config:{appearance:{theme:"dark",accentColor:"#00C275"},loginMethodsAndOrder:{primary:[`privy:${zpt}`]}},children:d.jsx(Wpt,{})})}));export{Od as $,jw as A,Ke as B,eBe as C,dMe as D,d0 as E,rMe as F,Aje as G,fBe as H,gp as I,hje as J,Sje as K,ys as L,$qe as M,Ba as N,mp as O,ON as P,uGe as Q,RN as R,H8 as S,Xy as T,j0 as U,N2 as V,cT as W,$F as X,Sre as Y,nFe as Z,hu as _,qh as a,nY as a$,z8 as a0,kl as a1,Jo as a2,Il as a3,Nie as a4,Lh as a5,pc as a6,Qtt as a7,Gbe as a8,Mbe as a9,o6e as aA,a6e as aB,n5e as aC,l4e as aD,$Y as aE,R3e as aF,cve as aG,xj as aH,eY as aI,ew as aJ,uve as aK,dve as aL,fve as aM,hve as aN,Ej as aO,tY as aP,_j as aQ,pve as aR,gve as aS,c1 as aT,rY as aU,mve as aV,wve as aW,p5 as aX,dk as aY,vve as aZ,bve as a_,Fbe as aa,Hbe as ab,zbe as ac,Wbe as ad,Bbe as ae,Kbe as af,Z1 as ag,Vbe as ah,JK as ai,bj as aj,vj as ak,Ube as al,qbe as am,Dbe as an,_6e as ao,CZ as ap,Dh as aq,wJ as ar,tT as as,Oxe as at,vJ as au,Jj as av,v5 as aw,J8e as ax,ml as ay,dZ as az,rie as b,t2 as b$,xve as b0,ef as b1,$e as b2,DY as b3,E6e as b4,dA as b5,l6e as b6,c6e as b7,fZ as b8,NY as b9,rA as bA,m5 as bB,aA as bC,ow as bD,Wm as bE,bk as bF,Mj as bG,y1 as bH,u2 as bI,c2 as bJ,i2 as bK,a2 as bL,Ph as bM,tf as bN,Zy as bO,Ky as bP,e2 as bQ,g1 as bR,Yy as bS,Qf as bT,Gy as bU,n2 as bV,jo as bW,Jy as bX,Qy as bY,Xs as bZ,s2 as b_,PY as ba,XC as bb,U3e as bc,W3e as bd,p4 as be,sY as bf,iY as bg,oY as bh,Cve as bi,Ave as bj,Sve as bk,Wg as bl,N6e as bm,Wk as bn,Q3e as bo,MY as bp,xk as bq,i5e as br,Eve as bs,g5 as bt,eA as bu,iA as bv,sA as bw,oA as bx,nA as by,tA as bz,bJ as c,gc as c$,l2 as c0,H3e as c1,o2 as c2,m1 as c3,r2 as c4,O3e as c5,j3e as c6,D3e as c7,L3e as c8,IY as c9,WY as cA,y5e as cB,m5e as cC,x5e as cD,v5e as cE,Lk as cF,ng as cG,pa as cH,a3e as cI,eg as cJ,el as cK,J1 as cL,_ve as cM,qd as cN,cn as cO,p1 as cP,vY as cQ,ZC as cR,Vd as cS,E3e as cT,_3e as cU,pu as cV,C3e as cW,So as cX,$ve as cY,tl as cZ,Nve as c_,kY as ca,F3e as cb,jxe as cc,u4e as cd,d4e as ce,f4e as cf,M8e as cg,tg as ch,P3e as ci,y5 as cj,AZ as ck,ip as cl,rp as cm,x4 as cn,Xj as co,nw as cp,Qs as cq,C6e as cr,np as cs,Tk as ct,y3e as cu,tw as cv,f4 as cw,ha as cx,lw as cy,UY as cz,mm as d,Pve as d0,dh as d1,Q1 as d2,aY as d3,Fn as d4,ct as d5,u1 as d6,K3e as d7,I6e as d8,pA as d9,Dn as dA,Vu as dB,E5e as dC,jZ as dD,h4e as dE,OZ as dF,iw as dG,Hs as dH,cJ as dI,D8e as dJ,wk as dK,S4 as dL,A6e as dM,E4 as dN,Rh as da,FY as db,Tu as dc,Ek as dd,LY as de,yZ as df,gf as dg,e5e as dh,vi as di,g5e as dj,yY as dk,d4 as dl,s3e as dm,rw as dn,b6e as dp,x5 as dq,s4e as dr,RZ as ds,m4e as dt,MZ as du,g4e as dv,RY as dw,G3e as dx,ixe as dy,c4e as dz,y0t as e,Vy as f,wc as g,zqe as h,Wqe as i,Uqe as j,qqe as k,LB as l,bt as m,yte as n,sa as o,mt as p,We as q,zh as r,Hh as s,qs as t,JT as u,cRe as v,fA as w,mte as x,Ym as y,$S as z};
